var pas={$libimports:{}},rtl={version:20301,quiet:!1,debug_load_units:!1,debug_rtti:!1,$res:{},debug:function(){!rtl.quiet&&console&&console.log&&console.log(arguments)},error:function(t){throw rtl.debug("Error: ",t),t},warn:function(t){rtl.debug("Warn: ",t)},checkVersion:function(t){if(rtl.version!=t)throw"expected rtl version "+t+", but found "+rtl.version},hiInt:Math.pow(2,53),hasString:function(t){return rtl.isString(t)&&t.length>0},isArray:function(t){return Array.isArray(t)},isFunction:function(t){return"function"==typeof t},isModule:function(t){return rtl.isObject(t)&&rtl.hasString(t.$name)&&pas[t.$name]===t},isImplementation:function(t){return rtl.isObject(t)&&rtl.isModule(t.$module)&&t.$module.$impl===t},isNumber:function(t){return"number"==typeof t},isObject:function(t){return"object"==typeof t&&null!=t},isString:function(t){return"string"==typeof t},getNumber:function(t){return"number"==typeof t?t:NaN},getChar:function(t){return"string"==typeof t&&1===t.length?t:""},getObject:function(t){return"object"==typeof t||"function"==typeof t?t:null},isTRecord:function(t){return rtl.isObject(t)&&t.hasOwnProperty("$new")&&"function"==typeof t.$new},isPasClass:function(t){return rtl.isObject(t)&&t.hasOwnProperty("$classname")&&rtl.isObject(t.$module)},isPasClassInstance:function(t){return rtl.isObject(t)&&rtl.isPasClass(t.$class)},hexStr:function(t,e){return("000000000000000"+t.toString(16).toUpperCase()).slice(-e)},m_loading:0,m_loading_intf:1,m_intf_loaded:2,m_loading_impl:3,m_initializing:4,m_initialized:5,module:function(t,e,i,s){rtl.debug_load_units&&rtl.debug('rtl.module name="'+t+'" intfuses='+e+" impluses="+s),rtl.hasString(t)||rtl.error('invalid module name "'+t+'"'),rtl.isArray(e)||rtl.error('invalid interface useslist of "'+t+'"'),rtl.isFunction(i)||rtl.error('invalid interface code of "'+t+'"'),null==s||rtl.isArray(s)||rtl.error('invalid implementation useslist of "'+t+'"'),pas[t]&&rtl.error('module "'+t+'" is already registered');var o=Object.create(rtl.tSectionRTTI),n=o.$module=pas[t]={$name:t,$intfuseslist:e,$impluseslist:s,$state:rtl.m_loading,$intfcode:i,$implcode:null,$impl:null,$rtti:o};s&&(n.$impl={$module:n,$rtti:o})},exitcode:0,run:function(t){try{rtl.hasString(t)||(t="program"),rtl.debug_load_units&&rtl.debug('rtl.run module="'+t+'"'),rtl.initRTTI();var e=pas[t];if(e||rtl.error('rtl.run module "'+t+'" missing'),rtl.loadintf(e),rtl.loadimpl(e),"program"==t||"library"==t){rtl.debug_load_units&&rtl.debug("running $main");var i=pas[t].$main();rtl.isNumber(i)&&(rtl.exitcode=i)}}catch(t){if(!rtl.showUncaughtExceptions)throw t;rtl.handleUncaughtException(t)||(rtl.showException(t),rtl.exitcode=216)}return rtl.exitcode},showException:function(t){var e=rtl.hasString(t.$classname)?t.$classname:"";e+=(e?": ":"")+(t.hasOwnProperty("fMessage")?t.fMessage:t),alert("Uncaught Exception : "+e)},handleUncaughtException:function(t){if(!rtl.onUncaughtException)return!1;try{return rtl.onUncaughtException(t),!0}catch(t){return!1}},loadintf:function(t){t.$state>rtl.m_loading_intf||(rtl.debug_load_units&&rtl.debug('loadintf: "'+t.$name+'"'),t.$state===rtl.m_loading_intf&&rtl.error('unit cycle detected "'+t.$name+'"'),t.$state=rtl.m_loading_intf,rtl.loaduseslist(t,t.$intfuseslist,rtl.loadintf),rtl.debug_load_units&&rtl.debug('loadintf: run intf of "'+t.$name+'"'),t.$intfcode(t.$intfuseslist),t.$state=rtl.m_intf_loaded)},loaduseslist:function(t,e,i){if(null!=e)for(var s=e.length,o=0;o<s;o++){var n=e[o];rtl.debug_load_units&&rtl.debug('loaduseslist of "'+t.$name+'" uses="'+n+'"'),null==pas[n]&&rtl.error('module "'+t.$name+'" misses "'+n+'"'),i(pas[n])}},loadimpl:function(t){t.$state>=rtl.m_loading_impl||(t.$state<rtl.m_intf_loaded&&rtl.error('loadimpl: interface not loaded of "'+t.$name+'"'),rtl.debug_load_units&&rtl.debug('loadimpl: load uses of "'+t.$name+'"'),t.$state=rtl.m_loading_impl,rtl.loaduseslist(t,t.$impluseslist,rtl.loadintf),rtl.loaduseslist(t,t.$intfuseslist,rtl.loadimpl),rtl.loaduseslist(t,t.$impluseslist,rtl.loadimpl),rtl.debug_load_units&&rtl.debug('loadimpl: run impl of "'+t.$name+'"'),rtl.isFunction(t.$implcode)&&t.$implcode(t.$impluseslist),rtl.debug_load_units&&rtl.debug('loadimpl: run init of "'+t.$name+'"'),t.$state=rtl.m_initializing,rtl.isFunction(t.$init)&&t.$init(),t.$state=rtl.m_initialized)},createCallback:function(t,e){var i;if("string"==typeof e){if(t.hasOwnProperty("$events")||(t.$events={}),i=t.$events[e])return i;t.$events[e]=i=function(){return t[e].apply(t,arguments)}}else i=function(){return e.apply(t,arguments)};return i.scope=t,i.fn=e,i},createSafeCallback:function(t,e){var i;if("string"==typeof e){if(t.hasOwnProperty("$events")||(t.$events={}),i=t.$events[e])return i;t.$events[e]=i=function(){try{return t[e].apply(t,arguments)}catch(t){if(!rtl.handleUncaughtException(t))throw t}}}else i=function(){try{return e.apply(t,arguments)}catch(t){if(!rtl.handleUncaughtException(t))throw t}};return i.scope=t,i.fn=e,i},eqCallback:function(t,e){return t===e||null!=t&&null!=e&&t.fn&&t.scope===e.scope&&t.fn===e.fn},initStruct:function(t,e,i){return e.$module&&e.$module.$impl===e&&(e=e.$module),t.$parent=e,rtl.isModule(e)?(t.$module=e,t.$name=i):(t.$module=e.$module,t.$name=e.$name+"."+i),e},initClass:function(t,e,i,s,o){e[i]=t,t.$class=t,t.$classname=o||i,e=rtl.initStruct(t,e,i),t.$fullname=e.$name+"."+i,rtl.debug_rtti&&rtl.debug("initClass "+t.$fullname);var n=t.$module.$rtti.$Class(t.$classname,{class:t});t.$rtti=n,rtl.isObject(t.$ancestor)&&(n.ancestor=t.$ancestor.$rtti),n.ancestor||(n.ancestor=null),s.call(t)},createClass:function(t,e,i,s,o){var n=null;null!=i?(n=Object.create(i)).$ancestor=i:((n={$ancestor:null}).$create=function(t,e){null==e&&(e=[]);var i=Object.create(this);i.$init();try{"string"==typeof t?i[t].apply(i,e):t.apply(i,e),i.AfterConstruction()}catch(t){throw i.Destroy&&i.Destroy(),i.$final(),t}return i},n.$destroy=function(t){this.BeforeDestruction(),this[t]&&this[t](),this.$final()}),rtl.initClass(n,t,e,s,o)},createClassExt:function(t,e,i,s,o,n){var a=rtl.isFunction(i),r=null;if(a?((r=Object.create(i.prototype)).$ancestorfunc=i,r.$ancestor=null):i.$func?(a=!0,(r=Object.create(i)).$ancestor=i):(r=Object.create(i)).$ancestor=null,r.$create=function(t,e){null==e&&(e=[]);var i=null;(i=s.length>0?this[s](t,e):a?new this.$func(e):Object.create(r)).$init&&i.$init();try{"string"==typeof t?this[t].apply(i,e):t.apply(i,e),i.AfterConstruction&&i.AfterConstruction()}catch(t){throw i.Destroy&&i.Destroy(),i.$final&&i.$final(),t}return i},r.$destroy=function(t){this.BeforeDestruction&&this.BeforeDestruction(),this[t]&&this[t](),this.$final&&this.$final()},rtl.initClass(r,t,e,o,n),a){function l(){}l.prototype=r,r.$func=l}},createHelper:function(t,e,i,s,o){var n=null;null!=i?(n=Object.create(i)).$ancestor=i:n={$ancestor:null},t[e]=n,n.$class=n,n.$classname=o||e,t=rtl.initStruct(n,t,e),n.$fullname=t.$name+"."+e;var a=n.$module.$rtti.$Helper(n.$classname,{helper:n});n.$rtti=a,rtl.isObject(i)&&(a.ancestor=i.$rtti),a.ancestor||(a.ancestor=null),s.call(n)},tObjectDestroy:"Destroy",free:function(t,e){if(null==t[e])return null;t[e].$destroy(rtl.tObjectDestroy),t[e]=null},freeLoc:function(t){return null==t||t.$destroy(rtl.tObjectDestroy),null},hideProp:function(t,e,i){Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0}),arguments.length>2&&(t[e]=i)},recNewT:function(t,e,i,s){var o={};t&&(t[e]=o);var n=rtl.hideProp;return s&&(rtl.initStruct(o,t,e),o.$record=o,n(o,"$record"),n(o,"$name"),n(o,"$parent"),n(o,"$module"),n(o,"$initSpec")),i.call(o),o.$new||(o.$new=function(){return Object.create(o)}),o.$clone=function(t){return o.$new().$assign(t)},n(o,"$new"),n(o,"$clone"),n(o,"$eq"),n(o,"$assign"),o},is:function(t,e){return e.isPrototypeOf(t)||t===e},isExt:function(t,e,i){return null!=t&&(("object"==typeof e||"function"==typeof e)&&(t===e?1!==i&&(2!==i||rtl.isPasClass(t)):e.isPrototypeOf&&e.isPrototypeOf(t)?1===i?rtl.isPasClassInstance(t):2!==i||rtl.isPasClass(t):"function"==typeof e&&t instanceof e))},Exception:null,EInvalidCast:null,EAbstractError:null,ERangeError:null,EIntOverflow:null,EPropWriteOnly:null,raiseE:function(t){var e=rtl[t];if(null==e){var i=pas.SysUtils;i||(i=pas.sysutils),i&&((e=i[t])||(e=i[t.toLowerCase()]),e||(e=i.Exception),e||(e=i.exception))}if(e){if(e.Create)throw e.$create("Create");if(e.create)throw e.$create("create")}if("EInvalidCast"===t)throw"invalid type cast";if("EAbstractError"===t)throw"Abstract method called";if("ERangeError"===t)throw"range error";throw t},as:function(t,e){if(null===t||rtl.is(t,e))return t;rtl.raiseE("EInvalidCast")},asExt:function(t,e,i){if(null===t||rtl.isExt(t,e,i))return t;rtl.raiseE("EInvalidCast")},createInterface:function(t,e,i,s,o,n){var a=o?Object.create(o):{};if(t[e]=a,a.$module=t,a.$name=e,a.$fullname=t.$name+"."+e,a.$guid=i,a.$guidr=null,a.$names=s||[],rtl.isFunction(n)){rtl.debug_rtti&&rtl.debug("createInterface "+a.$fullname);var r=a.$module.$rtti.$Interface(e,{interface:a,module:t});a.$rtti=r,o&&(r.ancestor=o.$rtti),r.ancestor||(r.ancestor=null),n.call(a)}return a},strToGUIDR:function(t,e){var i=0;function s(e){var s=t.substr(i,e);return i+=e,parseInt(s,16)}i+=1,e.D1=s(8),i+=1,e.D2=s(4),i+=1,e.D3=s(4),i+=1,e.D4||(e.D4=[]),e.D4[0]=s(2),e.D4[1]=s(2),i+=1;for(var o=2;o<8;o++)e.D4[o]=s(2);return e},guidrToStr:function(t){if(t.$intf)return t.$intf.$guid;for(var e=rtl.hexStr,i="{"+e(t.D1,8)+"-"+e(t.D2,4)+"-"+e(t.D3,4)+"-"+e(t.D4[0],2)+e(t.D4[1],2)+"-",s=2;s<8;s++)i+=e(t.D4[s],2);return i+="}"},createTGUID:function(t){var e=pas.System?pas.System.TGuid:pas.system.tguid;return rtl.strToGUIDR(t,e.$new())},getIntfGUIDR:function(t){if(!t)return null;if(!t.$guidr){var e=rtl.createTGUID(t.$guid);t.hasOwnProperty("$guid")||(t=Object.getPrototypeOf(t)),e.$intf=t,t.$guidr=e}return t.$guidr},addIntf:function(t,e,i){function s(t){return"function"==typeof t?function(){return t.apply(this.$o,arguments)}:function(){rtl.raiseE("EAbstractError")}}i||(i={});var o=e,n=Object.create(o);t.hasOwnProperty("$intfmaps")||(t.$intfmaps={}),t.$intfmaps[e.$guid]=n;do{var a=o.$names;if(!a)break;for(var r=0;r<a.length;r++){var l=a[r],h=i[l];h||(h=l),n[l]=s(t[h])}o=Object.getPrototypeOf(o)}while(null!=o)},getIntfG:function(t,e,i){if(!t)return null;var s=t.$intfmaps;if(!s)return null;var o=s[e];if(!o)return null;if("function"==typeof o)return o.call(t);var n=null;if(t.$interfaces&&(n=t.$interfaces[e]),n||((n=Object.create(o)).$o=t,t.$interfaces||(t.$interfaces={}),t.$interfaces[e]=n),"object"==typeof i){var a=null;return 0===n.QueryInterface(rtl.getIntfGUIDR(i),{get:function(){return a},set:function(t){a=t}})?a:null}return 2===i&&"com"===n.$kind&&n._AddRef(),n},getIntfT:function(t,e){return rtl.getIntfG(t,e.$guid)},queryIntfT:function(t,e){return rtl.getIntfG(t,e.$guid,e)},queryIntfIsT:function(t,e){var i=rtl.getIntfG(t,e.$guid);return!!i&&("com"===i.$kind&&i._Release(),!0)},asIntfT:function(t,e){var i=rtl.getIntfG(t,e.$guid);if(null!==i)return i;rtl.raiseEInvalidCast()},intfIsIntfT:function(t,e){return null!==t&&rtl.queryIntfIsT(t.$o,e)},intfAsIntfT:function(t,e){if(!t)return null;var i=rtl.getIntfG(t.$o,e.$guid);if(i)return i;rtl.raiseEInvalidCast()},intfIsClass:function(t,e){return null!=t&&rtl.is(t.$o,e)},intfAsClass:function(t,e){return null==t?null:rtl.as(t.$o,e)},intfToClass:function(t,e){return null!==t&&rtl.is(t.$o,e)?t.$o:null},intfRefs:{ref:function(t,e){var i=this[t];return i&&(delete this[t],i._Release()),e&&(this[t]=e),e},free:function(){for(var t in this)if(this.hasOwnProperty(t)){var e=this[t];e&&e._Release()}}},createIntfRefs:function(){return Object.create(rtl.intfRefs)},setIntfP:function(t,e,i,s){var o=t[e];o!==i&&(null!==o&&(t[e]=null,o._Release()),null!==i&&(s||i._AddRef(),t[e]=i))},setIntfL:function(t,e,i){return t!==e?(null!==e&&(i||e._AddRef()),null!==t&&t._Release()):i&&null!==t&&t._Release(),e},_AddRef:function(t){return t&&t._AddRef(),t},_Release:function(t){return t&&t._Release(),t},_ReleaseArray:function(t,e){if(!t)return null;for(var i=0;i<t.length;i++)e<=1?t[i]&&t[i]._Release():rtl._ReleaseArray(t[i],e-1);return null},trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)},checkMethodCall:function(t,e){rtl.isObject(t)&&rtl.is(t,e)||rtl.raiseE("EInvalidCast")},oc:function(t){if(Math.floor(t)===t&&t>=-9007199254740991&&t<=9007199254740991)return t;rtl.raiseE("EIntOverflow")},rc:function(t,e,i){if(Math.floor(t)===t&&t>=e&&t<=i)return t;rtl.raiseE("ERangeError")},rcc:function(t,e,i){if("string"==typeof t&&1===t.length){var s=t.charCodeAt(0);if(s>=e&&s<=i)return t}rtl.raiseE("ERangeError")},rcSetCharAt:function(t,e,i){return("string"!=typeof t||e<0||e>=t.length)&&rtl.raiseE("ERangeError"),rtl.setCharAt(t,e,i)},rcCharAt:function(t,e){return("string"!=typeof t||e<0||e>=t.length)&&rtl.raiseE("ERangeError"),t.charAt(e)},rcArrR:function(t,e){if(Array.isArray(t)&&"number"==typeof e&&e>=0&&e<t.length){if(arguments.length>2){t=t[e];for(var i=2;i<arguments.length;i++)t=rtl.rcArrR(t,arguments[i]);return t}return t[e]}rtl.raiseE("ERangeError")},rcArrW:function(t,e,i){for(var s=3;s<arguments.length;s++)t=rtl.rcArrR(t,e),e=arguments[s-1],i=arguments[s];if(Array.isArray(t)&&"number"==typeof e&&e>=0&&e<t.length)return t[e]=i;rtl.raiseE("ERangeError")},length:function(t){return null==t?0:t.length},arrayRef:function(t){return null!=t&&rtl.hideProp(t,"$pas2jsrefcnt",1),t},arraySetLength:function(t,e,i){for(var s=[],o=9999,n=2;n<arguments.length;n++){var a=arguments[n];"s"===a?o=n-2:s.push({dim:a+0,a:null,i:0,src:null})}for(var r=s.length-1,l=0,h=0,F=null,p=null,C=t,u=0,d=0;;)if(l>0&&(C=(F=s[l-1]).src&&F.src.length>F.i?F.src[F.i]:null),C?C.$pas2jsrefcnt>0||l>=o?(p=[],d=u=C.length):(u=0,d=(p=C).length):(p=[],u=0,d=0),h=s[l].dim,p.length=h,!(l>0&&(F.a[F.i]=p,F.i++,0===h&&F.i<F.a.length))){if(h>0){if(l<r){(F=s[l]).a=p,F.i=0,F.src=C,l++;continue}if(u>h&&(u=h),rtl.isArray(e)){for(n=0;n<u;n++)p[n]=C[n];for(n=d;n<h;n++)p[n]=[]}else if(rtl.isObject(e))if(rtl.isTRecord(e)){for(n=0;n<u;n++)p[n]=e.$clone(C[n]);for(n=d;n<h;n++)p[n]=e.$new()}else{for(n=0;n<u;n++)p[n]=rtl.refSet(C[n]);for(n=d;n<h;n++)p[n]={}}else{for(n=0;n<u;n++)p[n]=C[n];for(n=d;n<h;n++)p[n]=e}}for(;l>0&&s[l-1].i>=s[l-1].dim;)l--;if(0===l)return 0===r?p:s[0].a}},arrayEq:function(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0},arrayClone:function(t,e,i,s,o,n){if("refSet"===t)for(;i<s;i++)o[n++]=rtl.refSet(e[i]);else if("slice"===t)for(;i<s;i++)o[n++]=e[i].slice(0);else if("function"==typeof t)for(;i<s;i++)o[n++]=t(e[i]);else if(rtl.isTRecord(t))for(;i<s;i++)o[n++]=t.$clone(e[i]);else for(;i<s;i++)o[n++]=e[i]},arrayConcat:function(t){for(var e=[],i=0,s=1;s<arguments.length;s++){null!==(o=arguments[s])&&(i+=o.length)}e.length=i,i=0;for(s=1;s<arguments.length;s++){var o;null!==(o=arguments[s])&&(rtl.arrayClone(t,o,0,o.length,e,i),i+=o.length)}return e},arrayConcatN:function(){for(var t=null,e=0;e<arguments.length;e++){var i=arguments[e];if(null!==i)if(null===t)t=rtl.arrayRef(i);else if(t.$pas2jsrefcnt)t=t.concat(i);else for(e=0;e<i.length;e++)t.push(i[e])}return t},arrayPush:function(t,e){return null===e?e=[]:e.$pas2jsrefcnt&&(e=rtl.arrayCopy(t,e,0,e.length)),rtl.arrayClone(t,arguments,2,arguments.length,e,e.length),e},arrayPushN:function(t){null===t?t=[]:t.$pas2jsrefcnt&&(t=t.concat());for(var e=1;e<arguments.length;e++)t.push(arguments[e]);return t},arrayCopy:function(t,e,i,s){if(null===e)return[];i<0&&(i=0),void 0===s&&(s=e.length);var o=i+s;if(o>e.length&&(o=e.length),i>=o)return[];if(0===t)return e.slice(i,o);var n=[];return n.length=o-i,rtl.arrayClone(t,e,i,o,n,0),n},arrayInsert:function(t,e,i){return e?(e.splice(i,0,t),e):[t]},setCharAt:function(t,e,i){return t.substr(0,e)+i+t.substr(e+1)},getResStr:function(t,e){var i=t.$resourcestrings[e];return i.current?i.current:i.org},createSet:function(){for(var t={},e=0;e<arguments.length;e++)if(null!=arguments[e])t[arguments[e]]=!0;else for(var i=arguments[e+=1],s=arguments[e+=1],o=i;o<=s;o++)t[o]=!0;return t},cloneSet:function(t){var e={};for(var i in t)e[i]=!0;return e},refSet:function(t){return rtl.hideProp(t,"$shared",!0),t},includeSet:function(t,e){return t.$shared&&(t=rtl.cloneSet(t)),t[e]=!0,t},excludeSet:function(t,e){return t.$shared&&(t=rtl.cloneSet(t)),delete t[e],t},diffSet:function(t,e){var i={};for(var s in t)e[s]||(i[s]=!0);return i},unionSet:function(t,e){var i={};for(var s in t)i[s]=!0;for(var s in e)i[s]=!0;return i},intersectSet:function(t,e){var i={};for(var s in t)e[s]&&(i[s]=!0);return i},symDiffSet:function(t,e){var i={};for(var s in t)e[s]||(i[s]=!0);for(var s in e)t[s]||(i[s]=!0);return i},eqSet:function(t,e){for(var i in t)if(!e[i])return!1;for(var i in e)if(!t[i])return!1;return!0},neSet:function(t,e){return!rtl.eqSet(t,e)},leSet:function(t,e){for(var i in t)if(!e[i])return!1;return!0},geSet:function(t,e){for(var i in e)if(!t[i])return!1;return!0},strSetLength:function(t,e){var i=t.length;if(i>e)return t.substring(0,e);if(t.repeat)return t+" ".repeat(e-i);for(;i<e;)t+=" ",i++;return t},spaceLeft:function(t,e){var i=t.length;if(i>=e)return t;if(t.repeat)return" ".repeat(e-i)+t;for(;i<e;)t=" "+t,i++;return t},floatToStr:function(t,e,i){if(arguments.length>2)return rtl.spaceLeft(t.toFixed(i),e);var s="",o=Math.abs(t);o>1&&o<1e10||o>1e-10&&o<1?s="00":(o>1&&o<1e100||o<1e-10)&&(s="0"),arguments.length<2?e=24:e<9&&(e=9);i=e-8;var n=(t>0?" ":"")+t.toExponential(i);return n=n.replace(/e(.)/,"E$1"+s),rtl.spaceLeft(n,e)},valEnum:function(t,e,i){for(var s in t=t.toLowerCase(),e)if("string"==typeof s&&s.toLowerCase()===t)return i(0),e[s];return i(1),0},lw:function(t){return t<0?t+4294967296:t},and:function(t,e){var i=2147483648;return(t/i&e/i)*i+(2147483647&t&e)},or:function(t,e){var i=2147483648;return(t/i|e/i)*i+(2147483647&t|2147483647&e)},xor:function(t,e){var i=2147483648;return(t/i^e/i)*i+(2147483647&t^2147483647&e)},shr:function(t,e){return t<0&&(t+=rtl.hiInt),t<2147483648?t>>e:e<=0?t:e>54?0:Math.floor(t/Math.pow(2,e))},shl:function(t,e){if(t<0&&(t+=rtl.hiInt),e<=0)return t;if(e>54)return 0;var i=t*Math.pow(2,e);return i<=rtl.hiInt?i:i%rtl.hiInt},initRTTI:function(){function t(t,e,i){i||(i=rtl.tTypeInfo),rtl.debug_rtti&&rtl.debug('initRTTI.newBaseTI "'+t+'" '+e+' ("'+i.name+'")');var s=Object.create(i);return s.name=t,s.kind=e,rtl[t]=s,s}function e(e,i,s,o){var n=t(e,1,rtl.tTypeInfoInteger);return n.minvalue=i,n.maxvalue=s,n.ordtype=o,n}function i(t,e){var i=Object.create(rtl.tTypeMember);i.name=t,i.kind=e,rtl[t]=i}rtl.debug_rtti&&rtl.debug("initRTTI"),rtl.tTypeInfo={name:"tTypeInfo",kind:0,$module:null,attr:null},t("tTypeInfoInteger",1),e("shortint",-128,127,0),e("byte",0,255,1),e("smallint",-32768,32767,2),e("word",0,65535,3),e("longint",-2147483648,2147483647,4),e("longword",0,4294967295,5),e("nativeint",-4503599627370496,0xfffffffffffff,6),e("nativeuint",0,0xfffffffffffff,7),t("char",2),t("string",3),t("tTypeInfoEnum",4,rtl.tTypeInfoInteger),t("tTypeInfoSet",5),t("double",6),t("boolean",7),t("tTypeInfoProcVar",8),t("tTypeInfoMethodVar",9,rtl.tTypeInfoProcVar),t("tTypeInfoArray",10),t("tTypeInfoDynArray",11),t("tTypeInfoPointer",15),t("pointer",15,rtl.tTypeInfoPointer).reftype=null,t("jsvalue",16),t("tTypeInfoRefToProcVar",17,rtl.tTypeInfoProcVar),rtl.tTypeMember={attr:null},i("tTypeMemberField",1),i("tTypeMemberMethod",2),i("tTypeMemberProperty",3),rtl.tTypeMembers={};var s=t("tTypeInfoStruct",0);s.$addMember=function(t,e,i){if(rtl.debug_rtti){if(!rtl.hasString(t)||"$"===t.charAt())throw'invalid member "'+t+'", this="'+this.name+'"';if(!rtl.is(e,rtl.tTypeMember))throw'invalid ancestor "'+e+":"+e.name+'", "'+this.name+"."+t+'"';if(null!=i&&"object"!=typeof i)throw'invalid options "'+i+'", "'+this.name+"."+t+'"'}var s=Object.create(e);if(s.name=t,this.members[t]=s,this.names.push(t),rtl.isObject(i))for(var o in i)i.hasOwnProperty(o)&&(s[o]=i[o]);return s},s.addField=function(t,e,i){var s=this.$addMember(t,rtl.tTypeMemberField,i);if(rtl.debug_rtti&&!rtl.is(e,rtl.tTypeInfo))throw'invalid type "'+e+'", "'+this.name+"."+t+'"';return s.typeinfo=e,this.fields.push(t),s},s.addFields=function(){for(var t=0;t<arguments.length;){var e=arguments[t++],i=arguments[t++];t<arguments.length&&"object"==typeof arguments[t]?this.addField(e,i,arguments[t++]):this.addField(e,i)}},s.addMethod=function(t,e,i,s,o,n){var a=this.$addMember(t,rtl.tTypeMemberMethod,n);return a.methodkind=e,a.procsig=rtl.newTIProcSig(i,s,o),this.methods.push(t),a},s.addProperty=function(t,e,i,s,o,n){var a=this.$addMember(t,rtl.tTypeMemberProperty,n);return a.flags=e,a.typeinfo=i,a.getter=s,a.setter=o,a.params=rtl.isArray(a.params)?rtl.newTIParams(a.params):null,this.properties.push(t),rtl.isString(a.stored)||(a.stored=""),a},s.getField=function(t){return this.members[this.fields[t]]},s.getMethod=function(t){return this.members[this.methods[t]]},s.getProperty=function(t){return this.members[this.properties[t]]},t("tTypeInfoRecord",12,rtl.tTypeInfoStruct),t("tTypeInfoClass",13,rtl.tTypeInfoStruct),t("tTypeInfoClassRef",14),t("tTypeInfoInterface",18,rtl.tTypeInfoStruct),t("tTypeInfoHelper",19,rtl.tTypeInfoStruct),t("tTypeInfoExtClass",20,rtl.tTypeInfoClass)},tSectionRTTI:{$module:null,$inherited:function(t,e,i){rtl.debug_rtti&&rtl.debug('tSectionRTTI.newTI "'+(this.$module?this.$module.$name:"(no module)")+'"."'+t+'" ('+e.name+") "+(i?"init":"forward"));var s=this[t];if(s){if(!s.$forward)throw'duplicate type "'+t+'"';if(!e.isPrototypeOf(s))throw'typeinfo ancestor mismatch "'+t+'" ancestor="'+e.name+'" t.name="'+s.name+'"'}else(s=Object.create(e)).name=t,s.$module=this.$module,this[t]=s;if(i)for(var o in delete s.$forward,i)i.hasOwnProperty(o)&&(s[o]=i[o]);else s.$forward=!0;return s},$Scope:function(t,e,i){var s=this.$inherited(t,e,i);return s.members={},s.names=[],s.fields=[],s.methods=[],s.properties=[],s},$TI:function(t,e,i){var s=this.$inherited(t,rtl.tTypeInfo,i);return s.kind=e,s},$Int:function(t,e){return this.$inherited(t,rtl.tTypeInfoInteger,e)},$Enum:function(t,e){return this.$inherited(t,rtl.tTypeInfoEnum,e)},$Set:function(t,e){return this.$inherited(t,rtl.tTypeInfoSet,e)},$StaticArray:function(t,e){return this.$inherited(t,rtl.tTypeInfoArray,e)},$DynArray:function(t,e){return this.$inherited(t,rtl.tTypeInfoDynArray,e)},$ProcVar:function(t,e){return this.$inherited(t,rtl.tTypeInfoProcVar,e)},$RefToProcVar:function(t,e){return this.$inherited(t,rtl.tTypeInfoRefToProcVar,e)},$MethodVar:function(t,e){return this.$inherited(t,rtl.tTypeInfoMethodVar,e)},$Record:function(t,e){return this.$Scope(t,rtl.tTypeInfoRecord,e)},$Class:function(t,e){return this.$Scope(t,rtl.tTypeInfoClass,e)},$ClassRef:function(t,e){return this.$inherited(t,rtl.tTypeInfoClassRef,e)},$Pointer:function(t,e){return this.$inherited(t,rtl.tTypeInfoPointer,e)},$Interface:function(t,e){return this.$Scope(t,rtl.tTypeInfoInterface,e)},$Helper:function(t,e){return this.$Scope(t,rtl.tTypeInfoHelper,e)},$ExtClass:function(t,e){return this.$Scope(t,rtl.tTypeInfoExtClass,e)}},newTIParam:function(t){return{name:t[0],typeinfo:t[1],flags:rtl.isNumber(t[2])?t[2]:0}},newTIParams:function(t){var e=[];if(rtl.isArray(t))for(var i=0;i<t.length;i++)e.push(rtl.newTIParam(t[i]));return e},newTIProcSig:function(t,e,i){return{params:rtl.newTIParams(t),resulttype:e||null,flags:i||0}},addResource:function(t){rtl.$res[t.name]=t},getResource:function(t){var e=rtl.$res[t];return void 0!==e?e:null},getResourceList:function(){return Object.keys(rtl.$res)}};rtl.module("System",[],(function(){"use strict";var t=this,e=t.$impl;this.LineEnding="\n",this.sLineBreak=this.LineEnding,this.MaxLongint=2147483647,this.Maxint=2147483647,this.$rtti.$inherited("TDateTime",rtl.double,{}),this.$rtti.$inherited("TTime",this.$rtti.TDateTime,{}),this.$rtti.$inherited("TDate",this.$rtti.TDateTime,{}),this.TTextLineBreakStyle={0:"tlbsLF",tlbsLF:0,1:"tlbsCRLF",tlbsCRLF:1,2:"tlbsCR",tlbsCR:2},rtl.recNewT(this,"TGuid",(function(){this.D1=0,this.D2=0,this.D3=0,this.$new=function(){var t=Object.create(this);return t.D4=rtl.arraySetLength(null,0,8),t},this.$eq=function(t){return this.D1===t.D1&&this.D2===t.D2&&this.D3===t.D3&&rtl.arrayEq(this.D4,t.D4)},this.$assign=function(t){return this.D1=t.D1,this.D2=t.D2,this.D3=t.D3,this.D4=t.D4.slice(0),this}})),rtl.recNewT(this,"TMethod",(function(){this.Code=null,this.Data=null,this.$eq=function(t){return this.Code===t.Code&&this.Data===t.Data},this.$assign=function(t){return this.Code=t.Code,this.Data=t.Data,this}})),rtl.createClass(this,"TObject",null,(function(){this.$init=function(){},this.$final=function(){},this.Create=function(){return this},this.Destroy=function(){},this.Free=function(){this.$destroy("Destroy")},this.ClassType=function(){return this},this.MethodAddress=function(t){var e=null;if(e=null,""===t)return e;var i,s=0,o=this.$rtti,n="";for(i=t.toLowerCase();""===n&&null!=o;){for(s=0;""===n&&s<o.methods.length;)o.getMethod(s).name.toLowerCase()===i&&(n=o.getMethod(s).name),s+=1;""===n&&(o=o.ancestor)}return""!==n&&(e=this[n]),e},this.FieldAddress=function(t){if(null,""===t)return null;for(var e=this.$class,i=null,s=t.toLowerCase(),o=null;null!==e;){for(var n=0,a=(i=e.$rtti).fields.length-1;n<=a;n++)if((o=i.getField(n)).name.toLowerCase()===s)return o;e=e.$ancestor?e.$ancestor:null}return null},this.ClassInfo=function(){return this.$rtti},this.AfterConstruction=function(){},this.BeforeDestruction=function(){},this.GetInterface=function(t,e){var i=t.$intf;return i&&(i=rtl.getIntfG(this,i.$guid,2))?(e.set(i),!0):this.GetInterfaceByStr(rtl.guidrToStr(t),e)},this.GetInterfaceByStr=function(e,i){if(!1,t.IObjectInstance.$str||(t.IObjectInstance.$str=rtl.guidrToStr(t.IObjectInstance)),e==t.IObjectInstance.$str)return i.set(this),!0;var s=rtl.getIntfG(this,e,2);return i.set(s),null!==s}})),rtl.createClass(this,"TCustomAttribute",this.TObject,(function(){})),this.S_OK=0,this.E_NOINTERFACE=-2147467262,rtl.createInterface(this,"IUnknown","{00000000-0000-0000-C000-000000000046}",["QueryInterface","_AddRef","_Release"],null,(function(){this.$kind="com"})),this.IObjectInstance=this.TGuid.$clone({D1:3642530548,D2:15507,D3:16911,D4:[163,3,191,91,168,43,253,35]}),this.TTypeKind={0:"tkUnknown",tkUnknown:0,1:"tkInteger",tkInteger:1,2:"tkChar",tkChar:2,3:"tkString",tkString:3,4:"tkEnumeration",tkEnumeration:4,5:"tkSet",tkSet:5,6:"tkDouble",tkDouble:6,7:"tkBool",tkBool:7,8:"tkProcVar",tkProcVar:8,9:"tkMethod",tkMethod:9,10:"tkArray",tkArray:10,11:"tkDynArray",tkDynArray:11,12:"tkRecord",tkRecord:12,13:"tkClass",tkClass:13,14:"tkClassRef",tkClassRef:14,15:"tkPointer",tkPointer:15,16:"tkJSValue",tkJSValue:16,17:"tkRefToProcVar",tkRefToProcVar:17,18:"tkInterface",tkInterface:18,19:"tkHelper",tkHelper:19,20:"tkExtClass",tkExtClass:20},this.$rtti.$Enum("TTypeKind",{minvalue:0,maxvalue:20,ordtype:1,enumtype:this.TTypeKind}),this.vtInteger=0,this.vtExtended=3,this.vtWideChar=9,this.vtCurrency=12,this.vtUnicodeString=18,this.vtNativeInt=19,rtl.recNewT(this,"TVarRec",(function(){this.VType=0,this.VJSValue=void 0,this.$eq=function(t){return this.VType===t.VType&&this.VJSValue===t.VJSValue&&this.VJSValue===t.VJSValue&&this.VJSValue===t.VJSValue&&this.VJSValue===t.VJSValue&&this.VJSValue===t.VJSValue&&this.VJSValue===t.VJSValue&&this.VJSValue===t.VJSValue},this.$assign=function(t){return this.VType=t.VType,this.VJSValue=t.VJSValue,this.VJSValue=t.VJSValue,this.VJSValue=t.VJSValue,this.VJSValue=t.VJSValue,this.VJSValue=t.VJSValue,this.VJSValue=t.VJSValue,this.VJSValue=t.VJSValue,this}})),this.VarRecs=function(){var e=[],i=0,s=null;for(e=[];i<arguments.length;)(s=t.TVarRec.$new()).VType=rtl.trunc(arguments[i]),i+=1,s.VJSValue=arguments[i],i+=1,e.push(t.TVarRec.$clone(s));return e},this.Frac=function(t){return t%1},this.Odd=function(t){return!0&t},this.Random=function(t){return Math.floor(Math.random()*t)},this.Sqr$1=function(t){return t*t},this.Trunc=function(e){return Math.trunc||(Math.trunc=function(t){return t=+t,isFinite(t)?t-t%1||(t<0?-0:0===t?t:0):t}),t.Trunc=Math.trunc,Math.trunc(e)},this.DefaultTextLineBreakStyle=0,this.Int=function(e){return t.Trunc(e)},this.Copy=function(t,e,i){return e<1&&(e=1),i>0?t.substring(e-1,e+i-1):""},this.Copy$1=function(t,e){return e<1&&(e=1),t.substr(e-1)},this.Delete=function(e,i,s){var o;i<1||i>e.get().length||s<=0||(o=e.get(),e.set(t.Copy(o,1,i-1)+t.Copy$1(o,i+s)))},this.Pos=function(t,e){return e.indexOf(t)+1},this.Pos$1=function(t,e,i){return e.indexOf(t,i-1)+1},this.Insert=function(e,i,s){var o;""!==e&&(o=i.get(),s<1?i.set(e+o):s>o.length?i.set(o+e):i.set(t.Copy(o,1,s-1)+e+t.Copy(o,s,o.length)))},this.upcase=function(t){return t.toUpperCase()},this.val=function(t,i,s){i.set(e.valint(t,-9007199254740991,9007199254740991,s))},this.val$5=function(t,i,s){i.set(e.valint(t,0,65535,s))},this.val$6=function(t,i,s){i.set(e.valint(t,-2147483648,2147483647,s))},this.val$8=function(t,e,i){var s;""!==t?(s=Number(t),isNaN(s)?i.set(1):(i.set(0),e.set(s))):i.set(1)},this.StringOfChar=function(t,e){var i="";if(e>0&&t.repeat)return t.repeat(e);i="";for(var s=1,o=e;s<=o;s++)s,i+=t;return i},this.Writeln=function(){var t=0,i=0,s="";if(i=arguments.length-1,null!=e.WriteCallBack)for(var o=0,n=i;o<=n;o++)t=o,e.WriteCallBack(arguments[t],t===i);else{s=e.WriteBuf;for(var a=0,r=i;a<=r;a++)s=s+""+arguments[t=a];console.log(s),e.WriteBuf=""}},this.Assigned=function(t){return null!=t&&null!=t&&(!rtl.isArray(t)||t.length>0)},t.$implcode=function(){e.WriteBuf="",e.WriteCallBack=null,e.valint=function(e,i,s,o){var n=0,a=0;if(""===e)return o.set(1),n;if(a=Number(e),isNaN(a)){var r=t.Copy(e,1,1);if("$"===r)a=Number("0x"+t.Copy$1(e,2));else if("&"===r)a=Number("0o"+t.Copy$1(e,2));else{if("%"!==r)return o.set(1),n;a=Number("0b"+t.Copy$1(e,2))}}return isNaN(a)||a!==t.Int(a)?o.set(1):a<i||a>s?o.set(2):(n=t.Trunc(a),o.set(0)),n}},t.$init=function(){rtl.exitcode=0}}),[]),rtl.module("RTLConsts",["System"],(function(){"use strict";this.$resourcestrings={SArgumentMissing:{org:'Missing argument in format "%s"'},SInvalidFormat:{org:'Invalid format specifier : "%s"'},SInvalidArgIndex:{org:'Invalid argument index in format: "%s"'},SListCapacityError:{org:"List capacity (%s) exceeded."},SListCountError:{org:"List count (%s) out of bounds."},SListIndexError:{org:"List index (%s) out of bounds"},SSortedListError:{org:"Operation not allowed on sorted list"},SDuplicateString:{org:"String list does not allow duplicates"},SErrFindNeedsSortedList:{org:"Cannot use find on unsorted list"},SInvalidName:{org:'Invalid component name: "%s"'},SDuplicateName:{org:'Duplicate component name: "%s"'},SErrInvalidDate:{org:'Invalid date: "%s"'},SErrInvalidTimeFormat:{org:'Invalid time format: "%s"'},SInvalidDateFormat:{org:'Invalid date format: "%s"'},SCantReadPropertyS:{org:'Cannot read property "%s"'},SCantWritePropertyS:{org:'Cannot write property "%s"'},SErrPropertyNotFound:{org:'Unknown property: "%s"'},SIndexedPropertyNeedsParams:{org:'Indexed property "%s" needs parameters'},SErrInvalidInteger:{org:'Invalid integer value: "%s"'},SErrInvalidFloat:{org:'Invalid floating-point value: "%s"'}}})),rtl.module("Types",["System"],(function(){"use strict";var t=this;this.TDirection={0:"FromBeginning",FromBeginning:0,1:"FromEnd",FromEnd:1},this.TDuplicates={0:"dupIgnore",dupIgnore:0,1:"dupAccept",dupAccept:1,2:"dupError",dupError:2},rtl.recNewT(this,"TPoint",(function(){this.x=0,this.y=0,this.$eq=function(t){return this.x===t.x&&this.y===t.y},this.$assign=function(t){return this.x=t.x,this.y=t.y,this};var e=t.$rtti.$Record("TPoint",{});e.addField("x",rtl.longint),e.addField("y",rtl.longint)})),rtl.recNewT(this,"TRect",(function(){this.Left=0,this.Top=0,this.Right=0,this.Bottom=0,this.$eq=function(t){return this.Left===t.Left&&this.Top===t.Top&&this.Right===t.Right&&this.Bottom===t.Bottom},this.$assign=function(t){return this.Left=t.Left,this.Top=t.Top,this.Right=t.Right,this.Bottom=t.Bottom,this};var e=t.$rtti.$Record("TRect",{});e.addField("Left",rtl.longint),e.addField("Top",rtl.longint),e.addField("Right",rtl.longint),e.addField("Bottom",rtl.longint)})),this.Rect=function(e,i,s,o){var n=t.TRect.$new();return n.Left=e,n.Top=i,n.Right=s,n.Bottom=o,n},this.Point=function(e,i){var s=t.TPoint.$new();return s.x=e,s.y=i,s}})),rtl.module("JS",["System","Types"],(function(){"use strict";rtl.createClass(this,"AsyncAttribute",pas.System.TCustomAttribute,(function(){}))})),rtl.module("SysUtils",["System","RTLConsts","JS"],(function(){"use strict";var t=this,e=t.$impl;this.FreeAndNil=function(t){var e=null;null!==(e=t.get())&&(t.set(null),e.$destroy("Destroy"))},this.FloatRecDigits=19,rtl.recNewT(this,"TFloatRec",(function(){this.Exponent=0,this.Negative=!1,this.$new=function(){var t=Object.create(this);return t.Digits=rtl.arraySetLength(null,"",19),t},this.$eq=function(t){return this.Exponent===t.Exponent&&this.Negative===t.Negative&&rtl.arrayEq(this.Digits,t.Digits)},this.$assign=function(t){return this.Exponent=t.Exponent,this.Negative=t.Negative,this.Digits=t.Digits.slice(0),this}})),rtl.recNewT(this,"TFormatSettings",(function(){this.CurrencyDecimals=0,this.CurrencyFormat=0,this.CurrencyString="",this.DateSeparator="",this.DecimalSeparator="",this.LongDateFormat="",this.LongTimeFormat="",this.NegCurrFormat=0,this.ShortDateFormat="",this.ShortTimeFormat="",this.ThousandSeparator="",this.TimeAMString="",this.TimePMString="",this.TimeSeparator="",this.TwoDigitYearCenturyWindow=0,this.InitLocaleHandler=null,this.$new=function(){var t=Object.create(this);return t.DateTimeToStrFormat=rtl.arraySetLength(null,"",2),t.LongDayNames=rtl.arraySetLength(null,"",7),t.LongMonthNames=rtl.arraySetLength(null,"",12),t.ShortDayNames=rtl.arraySetLength(null,"",7),t.ShortMonthNames=rtl.arraySetLength(null,"",12),t},this.$eq=function(t){return this.CurrencyDecimals===t.CurrencyDecimals&&this.CurrencyFormat===t.CurrencyFormat&&this.CurrencyString===t.CurrencyString&&this.DateSeparator===t.DateSeparator&&rtl.arrayEq(this.DateTimeToStrFormat,t.DateTimeToStrFormat)&&this.DecimalSeparator===t.DecimalSeparator&&this.LongDateFormat===t.LongDateFormat&&rtl.arrayEq(this.LongDayNames,t.LongDayNames)&&rtl.arrayEq(this.LongMonthNames,t.LongMonthNames)&&this.LongTimeFormat===t.LongTimeFormat&&this.NegCurrFormat===t.NegCurrFormat&&this.ShortDateFormat===t.ShortDateFormat&&rtl.arrayEq(this.ShortDayNames,t.ShortDayNames)&&rtl.arrayEq(this.ShortMonthNames,t.ShortMonthNames)&&this.ShortTimeFormat===t.ShortTimeFormat&&this.ThousandSeparator===t.ThousandSeparator&&this.TimeAMString===t.TimeAMString&&this.TimePMString===t.TimePMString&&this.TimeSeparator===t.TimeSeparator&&this.TwoDigitYearCenturyWindow===t.TwoDigitYearCenturyWindow},this.$assign=function(t){return this.CurrencyDecimals=t.CurrencyDecimals,this.CurrencyFormat=t.CurrencyFormat,this.CurrencyString=t.CurrencyString,this.DateSeparator=t.DateSeparator,this.DateTimeToStrFormat=t.DateTimeToStrFormat.slice(0),this.DecimalSeparator=t.DecimalSeparator,this.LongDateFormat=t.LongDateFormat,this.LongDayNames=t.LongDayNames.slice(0),this.LongMonthNames=t.LongMonthNames.slice(0),this.LongTimeFormat=t.LongTimeFormat,this.NegCurrFormat=t.NegCurrFormat,this.ShortDateFormat=t.ShortDateFormat,this.ShortDayNames=t.ShortDayNames.slice(0),this.ShortMonthNames=t.ShortMonthNames.slice(0),this.ShortTimeFormat=t.ShortTimeFormat,this.ThousandSeparator=t.ThousandSeparator,this.TimeAMString=t.TimeAMString,this.TimePMString=t.TimePMString,this.TimeSeparator=t.TimeSeparator,this.TwoDigitYearCenturyWindow=t.TwoDigitYearCenturyWindow,this},this.GetJSLocale=function(){return Intl.DateTimeFormat().resolvedOptions().locale},this.GetLocaleDecimalSeparator=function(t){var e=1.1;return e=e.toLocaleString(t).substring(1,2)},this.GetLocaleLongDayName=function(t,e){var i=new Date(2017,0,1);return i.setDate(i.getDate()+t-1),i.toLocaleDateString(e,{weekday:"long"})},this.GetLocaleLongMonthName=function(t,e){return new Date(2017,t-1,1).toLocaleDateString(e,{month:"long"})},this.GetLocaleLongTimeFormat=function(e){var i="";return i="hh:nn:ss","EN-US"===t.UpperCase(e)&&(i="hh:nn:ss AMPM"),i};this.GetLocaleShortDateFormat=function(e){var i;t.TStringHelper.Empty,e=t.TStringHelper.ToLower.call({get:function(){return e},set:function(t){e=t}}),(i=t.TStringHelper.IndexOf.call({get:function(){return e},set:function(t){e=t}},"-"))>=0?e=t.TStringHelper.Substring$1.call({get:function(){return e},set:function(t){e=t}},0,i)+t.TStringHelper.ToUpper.call({a:t.TStringHelper.Substring.call({get:function(){return e},set:function(t){e=t}},i),get:function(){return this.a},set:function(t){this.a=t}}):2===t.TStringHelper.GetLength.call({get:function(){return e},set:function(t){e=t}})&&(e=e+"-"+t.TStringHelper.ToUpper.call({get:function(){return e},set:function(t){e=t}}));return{"ar-SA":"dd/MM/yy","bg-BG":"dd.M.yyyy","ca-ES":"dd/MM/yyyy","zh-TW":"yyyy/M/d","cs-CZ":"d.M.yyyy","da-DK":"dd-MM-yyyy","de-DE":"dd.MM.yyyy","el-GR":"d/M/yyyy","en-US":"M/d/yyyy","fi-FI":"d.M.yyyy","fr-FR":"dd/MM/yyyy","he-IL":"dd/MM/yyyy","hu-HU":"yyyy. MM. dd.","is-IS":"d.M.yyyy","it-IT":"dd/MM/yyyy","ja-JP":"yyyy/MM/dd","ko-KR":"yyyy-MM-dd","nl-NL":"d-M-yyyy","nb-NO":"dd.MM.yyyy","pl-PL":"yyyy-MM-dd","pt-BR":"d/M/yyyy","ro-RO":"dd.MM.yyyy","ru-RU":"dd.MM.yyyy","hr-HR":"d.M.yyyy","sk-SK":"d. M. yyyy","sq-AL":"yyyy-MM-dd","sv-SE":"yyyy-MM-dd","th-TH":"d/M/yyyy","tr-TR":"dd.MM.yyyy","ur-PK":"dd/MM/yyyy","id-ID":"dd/MM/yyyy","uk-UA":"dd.MM.yyyy","be-BY":"dd.MM.yyyy","sl-SI":"d.M.yyyy","et-EE":"d.MM.yyyy","lv-LV":"yyyy.MM.dd.","lt-LT":"yyyy.MM.dd","fa-IR":"MM/dd/yyyy","vi-VN":"dd/MM/yyyy","hy-AM":"dd.MM.yyyy","az-Latn-AZ":"dd.MM.yyyy","eu-ES":"yyyy/MM/dd","mk-MK":"dd.MM.yyyy","af-ZA":"yyyy/MM/dd","ka-GE":"dd.MM.yyyy","fo-FO":"dd-MM-yyyy","hi-IN":"dd-MM-yyyy","ms-MY":"dd/MM/yyyy","kk-KZ":"dd.MM.yyyy","ky-KG":"dd.MM.yy","sw-KE":"M/d/yyyy","uz-Latn-UZ":"dd/MM yyyy","tt-RU":"dd.MM.yyyy","pa-IN":"dd-MM-yy","gu-IN":"dd-MM-yy","ta-IN":"dd-MM-yyyy","te-IN":"dd-MM-yy","kn-IN":"dd-MM-yy","mr-IN":"dd-MM-yyyy","sa-IN":"dd-MM-yyyy","mn-MN":"yy.MM.dd","gl-ES":"dd/MM/yy","kok-IN":"dd-MM-yyyy","syr-SY":"dd/MM/yyyy","dv-MV":"dd/MM/yy","ar-IQ":"dd/MM/yyyy","zh-CN":"yyyy/M/d","de-CH":"dd.MM.yyyy","en-GB":"dd/MM/yyyy","es-MX":"dd/MM/yyyy","fr-BE":"d/MM/yyyy","it-CH":"dd.MM.yyyy","nl-BE":"d/MM/yyyy","nn-NO":"dd.MM.yyyy","pt-PT":"dd-MM-yyyy","sr-Latn-CS":"d.M.yyyy","sv-FI":"d.M.yyyy","az-Cyrl-AZ":"dd.MM.yyyy","ms-BN":"dd/MM/yyyy","uz-Cyrl-UZ":"dd.MM.yyyy","ar-EG":"dd/MM/yyyy","zh-HK":"d/M/yyyy","de-AT":"dd.MM.yyyy","en-AU":"d/MM/yyyy","es-ES":"dd/MM/yyyy","fr-CA":"yyyy-MM-dd","sr-Cyrl-CS":"d.M.yyyy","ar-LY":"dd/MM/yyyy","zh-SG":"d/M/yyyy","de-LU":"dd.MM.yyyy","en-CA":"dd/MM/yyyy","es-GT":"dd/MM/yyyy","fr-CH":"dd.MM.yyyy","ar-DZ":"dd-MM-yyyy","zh-MO":"d/M/yyyy","de-LI":"dd.MM.yyyy","en-NZ":"d/MM/yyyy","es-CR":"dd/MM/yyyy","fr-LU":"dd/MM/yyyy","ar-MA":"dd-MM-yyyy","en-IE":"dd/MM/yyyy","es-PA":"MM/dd/yyyy","fr-MC":"dd/MM/yyyy","ar-TN":"dd-MM-yyyy","en-ZA":"yyyy/MM/dd","es-DO":"dd/MM/yyyy","ar-OM":"dd/MM/yyyy","en-JM":"dd/MM/yyyy","es-VE":"dd/MM/yyyy","ar-YE":"dd/MM/yyyy","en-029":"MM/dd/yyyy","es-CO":"dd/MM/yyyy","ar-SY":"dd/MM/yyyy","en-BZ":"dd/MM/yyyy","es-PE":"dd/MM/yyyy","ar-JO":"dd/MM/yyyy","en-TT":"dd/MM/yyyy","es-AR":"dd/MM/yyyy","ar-LB":"dd/MM/yyyy","en-ZW":"M/d/yyyy","es-EC":"dd/MM/yyyy","ar-KW":"dd/MM/yyyy","en-PH":"M/d/yyyy","es-CL":"dd-MM-yyyy","ar-AE":"dd/MM/yyyy","es-UY":"dd/MM/yyyy","ar-BH":"dd/MM/yyyy","es-PY":"dd/MM/yyyy","ar-QA":"dd/MM/yyyy","es-BO":"dd/MM/yyyy","es-SV":"dd/MM/yyyy","es-HN":"dd/MM/yyyy","es-NI":"dd/MM/yyyy","es-PR":"dd/MM/yyyy","am-ET":"d/M/yyyy","tzm-Latn-DZ":"dd-MM-yyyy","iu-Latn-CA":"d/MM/yyyy","sma-NO":"dd.MM.yyyy","mn-Mong-CN":"yyyy/M/d","gd-GB":"dd/MM/yyyy","en-MY":"d/M/yyyy","prs-AF":"dd/MM/yy","bn-BD":"dd-MM-yy","wo-SN":"dd/MM/yyyy","rw-RW":"M/d/yyyy","qut-GT":"dd/MM/yyyy","sah-RU":"MM.dd.yyyy","gsw-FR":"dd/MM/yyyy","co-FR":"dd/MM/yyyy","oc-FR":"dd/MM/yyyy","mi-NZ":"dd/MM/yyyy","ga-IE":"dd/MM/yyyy","se-SE":"yyyy-MM-dd","br-FR":"dd/MM/yyyy","smn-FI":"d.M.yyyy","moh-CA":"M/d/yyyy","arn-CL":"dd-MM-yyyy","ii-CN":"yyyy/M/d","dsb-DE":"d. M. yyyy","ig-NG":"d/M/yyyy","kl-GL":"dd-MM-yyyy","lb-LU":"dd/MM/yyyy","ba-RU":"dd.MM.yy","nso-ZA":"yyyy/MM/dd","quz-BO":"dd/MM/yyyy","yo-NG":"d/M/yyyy","ha-Latn-NG":"d/M/yyyy","fil-PH":"M/d/yyyy","ps-AF":"dd/MM/yy","fy-NL":"d-M-yyyy","ne-NP":"M/d/yyyy","se-NO":"dd.MM.yyyy","iu-Cans-CA":"d/M/yyyy","sr-Latn-RS":"d.M.yyyy","si-LK":"yyyy-MM-dd","sr-Cyrl-RS":"d.M.yyyy","lo-LA":"dd/MM/yyyy","km-KH":"yyyy-MM-dd","cy-GB":"dd/MM/yyyy","bo-CN":"yyyy/M/d","sms-FI":"d.M.yyyy","as-IN":"dd-MM-yyyy","ml-IN":"dd-MM-yy","en-IN":"dd-MM-yyyy","or-IN":"dd-MM-yy","bn-IN":"dd-MM-yy","tk-TM":"dd.MM.yy","bs-Latn-BA":"d.M.yyyy","mt-MT":"dd/MM/yyyy","sr-Cyrl-ME":"d.M.yyyy","se-FI":"d.M.yyyy","zu-ZA":"yyyy/MM/dd","xh-ZA":"yyyy/MM/dd","tn-ZA":"yyyy/MM/dd","hsb-DE":"d. M. yyyy","bs-Cyrl-BA":"d.M.yyyy","tg-Cyrl-TJ":"dd.MM.yy","sr-Latn-BA":"d.M.yyyy","smj-NO":"dd.MM.yyyy","rm-CH":"dd/MM/yyyy","smj-SE":"yyyy-MM-dd","quz-EC":"dd/MM/yyyy","quz-PE":"dd/MM/yyyy","hr-BA":"d.M.yyyy.","sr-Latn-ME":"d.M.yyyy","sma-SE":"yyyy-MM-dd","en-SG":"d/M/yyyy","ug-CN":"yyyy-M-d","sr-Cyrl-BA":"d.M.yyyy","es-US":"M/d/yyyy"}[e]||"dd/MM/yyyy"},this.GetLocaleShortDayName=function(t,e){var i=new Date(2017,0,1);i.setDate(i.getDate()+t-1);var s="";return s=""==e?navigator.language:e,i.toLocaleDateString(s,{weekday:"short"})},this.GetLocaleShortMonthName=function(t,e){var i=new Date(2017,t-1,1),s="";return s=""==e?navigator.language:e,i.toLocaleDateString(s,{month:"short"})},this.GetLocaleShortTimeFormat=function(e){var i="";return i="hh:nn","EN-US"===t.UpperCase(e)&&(i="h:nn AMPM"),i},this.Create=function(){var e=t.TFormatSettings.$new();return e.$assign(t.TFormatSettings.Create$1(t.TFormatSettings.GetJSLocale())),e};var i=["/",".","-"],s=[":",".","-"],o=[",","."],n=[".",","];this.Create$1=function(e){var a=t.TFormatSettings.$new(),r="",l=0,h="";h=t.UpperCase(e),1===pas.System.Pos("DE",h)?(a.LongDayNames[0]="Sonntag",a.LongDayNames[1]="Montag",a.LongDayNames[2]="Dienstag",a.LongDayNames[3]="Mittwoch",a.LongDayNames[4]="Donnerstag",a.LongDayNames[5]="Freitag",a.LongDayNames[6]="Samstag",a.ShortDayNames[0]="Son",a.ShortDayNames[1]="Mon",a.ShortDayNames[2]="Die",a.ShortDayNames[3]="Mit",a.ShortDayNames[4]="Don",a.ShortDayNames[5]="Fre",a.ShortDayNames[6]="Sam",a.ShortMonthNames[0]="Jan",a.ShortMonthNames[1]="Feb",a.ShortMonthNames[2]="Mär",a.ShortMonthNames[3]="Apr",a.ShortMonthNames[4]="Mai",a.ShortMonthNames[5]="Jun",a.ShortMonthNames[6]="Jul",a.ShortMonthNames[7]="Aug",a.ShortMonthNames[8]="Sep",a.ShortMonthNames[9]="Okt",a.ShortMonthNames[10]="Nov",a.ShortMonthNames[11]="Dez",a.LongMonthNames[0]="Januar",a.LongMonthNames[1]="Februar",a.LongMonthNames[2]="März",a.LongMonthNames[3]="April",a.LongMonthNames[4]="Mai",a.LongMonthNames[5]="Juni",a.LongMonthNames[6]="Juli",a.LongMonthNames[7]="August",a.LongMonthNames[8]="September",a.LongMonthNames[9]="Oktober",a.LongMonthNames[10]="November",a.LongMonthNames[11]="Dezember"):1===pas.System.Pos("FR",t.UpperCase(e))?(a.LongDayNames[0]="Dimanche",a.LongDayNames[1]="Lundi",a.LongDayNames[2]="Mardi",a.LongDayNames[3]="Mecredi",a.LongDayNames[4]="Jeudi",a.LongDayNames[5]="Vendredi",a.LongDayNames[6]="Samedi",a.ShortDayNames[0]="Dim",a.ShortDayNames[1]="Lun",a.ShortDayNames[2]="Mar",a.ShortDayNames[3]="Mer",a.ShortDayNames[4]="Jeu",a.ShortDayNames[5]="Ven",a.ShortDayNames[6]="Sam",a.ShortMonthNames[0]="Jan",a.ShortMonthNames[1]="Fév",a.ShortMonthNames[2]="Mar",a.ShortMonthNames[3]="Avr",a.ShortMonthNames[4]="Mai",a.ShortMonthNames[5]="Jun",a.ShortMonthNames[6]="Jul",a.ShortMonthNames[7]="Aoû",a.ShortMonthNames[8]="Sep",a.ShortMonthNames[9]="Oct",a.ShortMonthNames[10]="Nov",a.ShortMonthNames[11]="Déc",a.LongMonthNames[0]="Janvier",a.LongMonthNames[1]="Février",a.LongMonthNames[2]="Mars",a.LongMonthNames[3]="Avril",a.LongMonthNames[4]="Mai",a.LongMonthNames[5]="Juin",a.LongMonthNames[6]="Juillet",a.LongMonthNames[7]="Août",a.LongMonthNames[8]="Septembre",a.LongMonthNames[9]="Octobre",a.LongMonthNames[10]="Novembre",a.LongMonthNames[11]="Décembre"):1===pas.System.Pos("ES",t.UpperCase(e))?(a.LongDayNames[0]="Domingo",a.LongDayNames[1]="Lunes",a.LongDayNames[2]="Martes",a.LongDayNames[3]="Miércoles",a.LongDayNames[4]="Jueves",a.LongDayNames[5]="Viernes",a.LongDayNames[6]="Sábado",a.ShortDayNames[0]="Dom",a.ShortDayNames[1]="Lun",a.ShortDayNames[2]="Mar",a.ShortDayNames[3]="Mié",a.ShortDayNames[4]="Jue",a.ShortDayNames[5]="Vie",a.ShortDayNames[6]="Sáb",a.ShortMonthNames[0]="Ene",a.ShortMonthNames[1]="Feb",a.ShortMonthNames[2]="Mar",a.ShortMonthNames[3]="Abr",a.ShortMonthNames[4]="May",a.ShortMonthNames[5]="Jun",a.ShortMonthNames[6]="Jul",a.ShortMonthNames[7]="Ago",a.ShortMonthNames[8]="Sep",a.ShortMonthNames[9]="Oct",a.ShortMonthNames[10]="Nov",a.ShortMonthNames[11]="Dic",a.LongMonthNames[0]="January",a.LongMonthNames[1]="Febrero",a.LongMonthNames[2]="Marzi",a.LongMonthNames[3]="Abril",a.LongMonthNames[4]="Mayo",a.LongMonthNames[5]="Junio",a.LongMonthNames[6]="Julio",a.LongMonthNames[7]="Agusto",a.LongMonthNames[8]="Septiembre",a.LongMonthNames[9]="Octubre",a.LongMonthNames[10]="Noviembre",a.LongMonthNames[11]="Diciembre"):(a.LongDayNames[0]="Sunday",a.LongDayNames[1]="Monday",a.LongDayNames[2]="Tuesday",a.LongDayNames[3]="Wednesday",a.LongDayNames[4]="Thursday",a.LongDayNames[5]="Friday",a.LongDayNames[6]="Saturday",a.ShortDayNames[0]="Sun",a.ShortDayNames[1]="Mon",a.ShortDayNames[2]="Tue",a.ShortDayNames[3]="Wed",a.ShortDayNames[4]="Thu",a.ShortDayNames[5]="Fri",a.ShortDayNames[6]="Sat",a.ShortMonthNames[0]="Jan",a.ShortMonthNames[1]="Feb",a.ShortMonthNames[2]="Mar",a.ShortMonthNames[3]="Apr",a.ShortMonthNames[4]="May",a.ShortMonthNames[5]="Jun",a.ShortMonthNames[6]="Jul",a.ShortMonthNames[7]="Aug",a.ShortMonthNames[8]="Sep",a.ShortMonthNames[9]="Oct",a.ShortMonthNames[10]="Nov",a.ShortMonthNames[11]="Dec",a.LongMonthNames[0]="January",a.LongMonthNames[1]="February",a.LongMonthNames[2]="March",a.LongMonthNames[3]="April",a.LongMonthNames[4]="May",a.LongMonthNames[5]="June",a.LongMonthNames[6]="July",a.LongMonthNames[7]="August",a.LongMonthNames[8]="September",a.LongMonthNames[9]="October",a.LongMonthNames[10]="November",a.LongMonthNames[11]="December"),a.DateTimeToStrFormat[0]="c",a.DateTimeToStrFormat[1]="f",a.DateSeparator="-",a.TimeSeparator=":",a.ShortDateFormat="yyyy-mm-dd",a.LongDateFormat="ddd, yyyy-mm-dd",a.DecimalSeparator=".",a.ThousandSeparator=",",a.TimeAMString="AM",a.TimePMString="PM",a.TwoDigitYearCenturyWindow=50,a.ShortTimeFormat=t.TFormatSettings.GetLocaleShortTimeFormat(e),a.LongTimeFormat=t.TFormatSettings.GetLocaleLongTimeFormat(e),a.ShortDateFormat=t.TFormatSettings.GetLocaleShortDateFormat(e);for(var F=0,p=rtl.length(i)-1;F<=p;F++)l=F,t.TStringHelper.IndexOf.call({p:a,get:function(){return this.p.ShortDateFormat},set:function(t){this.p.ShortDateFormat=t}},i[l])>=0&&(a.DateSeparator=i[l]);var C=new Date("Jan 1, 1980 06:07:08 GMT+00:00");h="";h=""==e?navigator.language:e,r=C.toLocaleTimeString(h);for(var u=0,d=rtl.length(s)-1;u<=d;u++)l=u,t.TStringHelper.IndexOf.call({get:function(){return r},set:function(t){r=t}},s[l])>=0&&(a.TimeSeparator=s[l]);for(l=1;l<=7;l++)a.ShortDayNames[l-1]=t.TFormatSettings.GetLocaleShortDayName(l,e);for(l=1;l<=7;l++)a.LongDayNames[l-1]=t.TFormatSettings.GetLocaleLongDayName(l,e);for(l=1;l<=12;l++)a.ShortMonthNames[l-1]=t.TFormatSettings.GetLocaleShortMonthName(l,e);for(l=1;l<=12;l++)a.LongMonthNames[l-1]=t.TFormatSettings.GetLocaleLongMonthName(l,e);a.DecimalSeparator=t.TFormatSettings.GetLocaleDecimalSeparator(e);for(var c=0,S=rtl.length(o)-1;c<=S;c++)if(l=c,a.DecimalSeparator===o[l]){a.ThousandSeparator=n[l];break}return null!=t.TFormatSettings.InitLocaleHandler&&t.TFormatSettings.InitLocaleHandler(t.UpperCase(e),t.TFormatSettings.$clone(a)),a},this.Invariant=function(){var i=t.TFormatSettings.$new();return e.FInvariantCreated||(e.FInvariant.$assign(t.TFormatSettings.Create$1("EN-US")),e.FInvariant.CurrencyString="¤",e.FInvariant.CurrencyFormat=0,e.FInvariant.CurrencyDecimals=2,e.FInvariant.DateSeparator="/",e.FInvariant.TimeSeparator=":",e.FInvariant.ShortDateFormat="MM/dd/yyyy",e.FInvariant.LongDateFormat="dddd, dd MMMMM yyyy HH:mm:ss",e.FInvariant.TimeAMString="AM",e.FInvariant.TimePMString="PM",e.FInvariant.ShortTimeFormat="HH:mm",e.FInvariant.LongTimeFormat="HH:mm:ss",e.FInvariant.ShortMonthNames=e.DefaultShortMonthNames.slice(0),e.FInvariant.LongMonthNames=e.DefaultLongMonthNames.slice(0),e.FInvariant.ShortDayNames=e.DefaultShortDayNames.slice(0),e.FInvariant.LongDayNames=e.DefaultLongDayNames.slice(0),e.FInvariant.ThousandSeparator=",",e.FInvariant.DecimalSeparator=".",e.FInvariant.TwoDigitYearCenturyWindow=50,e.FInvariant.NegCurrFormat=0,e.FInvariantCreated=!0),i.$assign(e.FInvariant),i}}),!0),rtl.createClass(this,"Exception",pas.System.TObject,(function(){this.LogMessageOnCreate=!1,this.$init=function(){pas.System.TObject.$init.call(this),this.FMessage="",this.FJSError=null,this.FStack=void 0},this.$final=function(){this.FJSError=void 0,pas.System.TObject.$final.call(this)},this.Create$1=function(t){return this.FMessage=t,this.FJSError=new Error(t),this.FStack=this.FJSError.stack,this.LogMessageOnCreate&&pas.System.Writeln("Created exception ",this.$classname," with message: ",t),this},this.CreateFmt=function(e,i){return this.Create$1(t.Format(e,i)),this}})),rtl.createClass(this,"EExternal",this.Exception,(function(){})),rtl.createClass(this,"EConvertError",this.Exception,(function(){})),rtl.createClass(this,"EIntError",this.EExternal,(function(){})),rtl.createClass(this,"ERangeError",this.EIntError,(function(){})),this.Trim=function(t){return t.replace(/^[\s\uFEFF\xA0\x00-\x1f]+/,"").replace(/[\s\uFEFF\xA0\x00-\x1f]+$/,"")},this.TrimLeft=function(t){return t.replace(/^[\s\uFEFF\xA0\x00-\x1f]+/,"")},this.UpperCase=function(t){return t.toUpperCase()},this.LowerCase=function(t){return t.toLowerCase()},this.CompareStr=function(t,e){var i,s=t.length,o=e.length;return s<=o?t<(i=e.substr(0,s))?-1:t>i?1:s<o?-1:0:(i=t.substr(0,o))<e?-1:1},this.CompareText=function(t,e){var i=t.toLowerCase(),s=e.toLowerCase();return i>s?1:i<s?-1:0},this.Format=function(e,i){return t.Format$1(e,i,t.FormatSettings)},this.Format$1=function(i,s,o){var n="",a=0,r=0,l=0,h=0,F=0,p="",C="",u=0,d=0,c=0,S=!1,T=0;function m(){var t=0;function o(){var o=0,n=0;if(-1===t){for(r=a;a<=F&&i.charAt(a-1)<="9"&&i.charAt(a-1)>="0";)a+=1;if(a>F&&e.DoFormatError(1,i),"*"===i.charAt(a-1)){255===u?n=l:(n=u,u+=1),(a>r||n>rtl.length(s)-1)&&e.DoFormatError(1,i),l=n+1;var h=s[n].VType;0===h||19===h?t=s[n].VJSValue:e.DoFormatError(1,i),a+=1}else r<a?(pas.System.val(pas.System.Copy(i,r,a-r),{get:function(){return t},set:function(e){t=e}},{get:function(){return o},set:function(t){o=t}}),o>0&&e.DoFormatError(1,i)):t=-1}}return u=255,d=-1,c=-1,t=-1,a+=1,"%"===i.charAt(a-1)?"%":(":"!==i.charAt(a-1)?o():t=0,":"===i.charAt(a-1)&&(-1===t&&e.DoFormatError(2,i),u=t,t=-1,a+=1),"-"===i.charAt(a-1)?(S=!0,a+=1):S=!1,o(),-1!==t&&(d=t,t=-1),"."===i.charAt(a-1)&&(a+=1,o(),-1===t&&(t=0),c=t),pas.System.upcase(i.charAt(a-1)))}function g(t,o){var n=!1;return n=!1,l=(h=255===u?l:u)+1,h>rtl.length(s)-1||s[h].VType!==t?(o&&e.DoFormatError(3,i),l-=1,n):n=!0}for(n="",F=i.length,a=1,r=1,l=0;a<=F;){for(;a<=F&&"%"!==i.charAt(a-1);)a+=1;if(a>r&&(n+=pas.System.Copy(i,r,a-r)),a<F){var M=m();if("D"===M)(g(0,!1)||g(19,!0))&&(C=t.IntToStr(s[h].VJSValue)),d=Math.abs(d),u=c-C.length,"-"!==C.charAt(0)?C=pas.System.StringOfChar("0",u)+C:pas.System.Insert(pas.System.StringOfChar("0",u+1),{get:function(){return C},set:function(t){C=t}},2);else if("U"===M)g(0,!1)?C=t.IntToStr(s[h].VJSValue>>>0):g(19,!0)&&(C=t.IntToStr(s[h].VJSValue)),d=Math.abs(d),u=c-C.length,C=pas.System.StringOfChar("0",u)+C;else if("E"===M)g(12,!1)?C=t.FloatToStrF$1(s[h].VJSValue/1e4,2,3,c,o):g(3,!0)&&(C=t.FloatToStrF$1(s[h].VJSValue,2,3,c,o));else if("F"===M)g(12,!1)?C=t.FloatToStrF$1(s[h].VJSValue/1e4,0,9999,c,o):(g(0,!1)||g(3,!0))&&(C=t.FloatToStrF$1(s[h].VJSValue,0,9999,c,o));else if("G"===M)g(12,!1)?C=t.FloatToStrF$1(s[h].VJSValue/1e4,1,c,3,o):g(3,!0)&&(C=t.FloatToStrF$1(s[h].VJSValue,1,c,3,o));else if("N"===M)g(12,!1)?C=t.FloatToStrF$1(s[h].VJSValue/1e4,3,9999,c,o):g(3,!0)&&(C=t.FloatToStrF$1(s[h].VJSValue,3,9999,c,o));else if("M"===M)g(12,!1)?C=t.FloatToStrF$1(s[h].VJSValue/1e4,4,9999,c,o):g(3,!0)&&(C=t.FloatToStrF$1(s[h].VJSValue,4,9999,c,o));else if("S"===M)(g(18,!1)||g(9,!0))&&(p=s[h].VJSValue),u=p.length,-1!==c&&u>c&&(u=c),C=pas.System.Copy(p,1,u);else if("P"===M)g(0,!1)?C=t.IntToHex(s[h].VJSValue,8):g(0,!0)&&(C=t.IntToHex(s[h].VJSValue,16));else if("X"===M)if(g(0,!1)?(T=s[h].VJSValue,u=16):g(19,!0)&&(T=s[h].VJSValue,u=31),c>u)C=t.IntToHex(T,u);else{for(u=1;rtl.shl(1,4*u)<=T&&u<16;)u+=1;u>c&&(c=u),C=t.IntToHex(T,c)}else"%"===M&&(C="%");-1!==d&&C.length<d&&(S?C+=pas.System.StringOfChar(" ",d-C.length):C=pas.System.StringOfChar(" ",d-C.length)+C),n+=C}r=a+=1}return n};var i=rtl.createSet(null,65,90,null,97,122,95),s=rtl.unionSet(i,rtl.createSet(null,48,57));this.IsValidIdent=function(t,e,o){var n,a=!1,r=!1,l=0;if((n=t.length)<1)return!1;for(r=!0,a=!1,l=1;l<=n;){if(r){if(!(t.charCodeAt(l-1)in i))return a;r=!1}else if(e&&"."===t.charAt(l-1)){if(o){if(l>=n)return a;r=!0}}else if(!(t.charCodeAt(l-1)in s))return a;l+=1}return a=!0},this.TStringReplaceFlag={0:"rfReplaceAll",rfReplaceAll:0,1:"rfIgnoreCase",rfIgnoreCase:1},this.StringReplace=function(t,i,s,o){var n,a="";return a="",0 in o&&(a="g"),1 in o&&(a+="i"),n=i.replace(new RegExp(e.RESpecials,"g"),"\\$1"),t.replace(new RegExp(n,a),s)},this.QuoteString=function(e,i){return i+t.StringReplace(e,i,i+i,rtl.createSet(0))+i},this.IntToStr=function(t){return""+t},this.TryStrToInt=function(e,i){return t.TryStrToInt$1(e,i,t.FormatSettings)},this.TryStrToInt$1=function(e,i,s){var o=!1,n=0;return(o=(o=t.TryStrToInt$3(e,{get:function(){return n},set:function(t){n=t}},s))&&-2147483648<=n&&n<=2147483647)&&i.set(n),o},this.TryStrToInt$2=function(i,s){return e.IntTryStrToInt(i,s,t.FormatSettings.DecimalSeparator)},this.TryStrToInt$3=function(t,i,s){return e.IntTryStrToInt(t,i,s.DecimalSeparator)},this.StrToInt=function(e){var i=0;if(!t.TryStrToInt$2(e,{get:function(){return i},set:function(t){i=t}}))throw t.EConvertError.$create("CreateFmt",[rtl.getResStr(pas.RTLConsts,"SErrInvalidInteger"),pas.System.VarRecs(18,e)]);return i},this.StrToInt64=function(e){var i=0;if(!t.TryStrToInt$2(e,{get:function(){return i},set:function(t){i=t}}))throw t.EConvertError.$create("CreateFmt",[rtl.getResStr(pas.RTLConsts,"SErrInvalidInteger"),pas.System.VarRecs(18,e)]);return i},this.IntToHex=function(e,i){var s="";for(s="",e<0&&e<0&&(e=4294967295+e+1),s=e.toString(16),s=t.UpperCase(s);s.length<i;)s="0"+s;return s},this.TFloatFormat={0:"ffFixed",ffFixed:0,1:"ffGeneral",ffGeneral:1,2:"ffExponent",ffExponent:2,3:"ffNumber",ffNumber:3,4:"ffCurrency",ffCurrency:4};this.FloatToDecimal=function(e,i,s){var o=t.TFloatRec.$new(),n="",a="",r=0,l=0,h=0,F=0,p=0,C=!1,u=!1;for(o.Negative=!1,o.Exponent=0,p=0;p<=19;p++)o.Digits[p]="0";if(0===e)return o;for(h=1,F=(n=rtl.floatToStr(e,24)).length;" "===n.charAt(h-1);)h+=1;if(o.Negative="-"===n.charAt(h-1),(o.Negative||"+"===n.charAt(h-1))&&(h+=1),F>=h+2){if("Inf"===(a=pas.System.Copy(n,h,3)))return o.Digits[0]="\0",o.Exponent=32767,o;if("Nan"===a)return o.Digits[0]="\0",o.Exponent=-32768,o}for(r=0,o.Exponent=0,u=!0,C=!1;F>=h&&"E"!==n.charAt(h-1);)"."===n.charAt(h-1)?u=!1:(u?(o.Exponent+=1,o.Digits[r]=n.charAt(h-1),"0"!==n.charAt(h-1)&&(C=!0)):o.Digits[r]=n.charAt(h-1),r+=1),h+=1;for((h+=1)<=F&&(pas.System.val$6(pas.System.Copy(n,h,F-h+1),{get:function(){return p},set:function(t){p=t}},{get:function(){return l},set:function(t){l=t}}),o.Exponent+=p),h=r,F=19;h<F;)o.Digits[h]="0",h+=1;if((h=s+o.Exponent<i?s+o.Exponent:i)>=F&&(h=F-1),0===h)o.Digits[0]>="5"?(o.Digits[0]="1",o.Digits[1]="\0",o.Exponent+=1):o.Digits[0]="\0";else if(h>0)if(o.Digits[h]>="5"){do{o.Digits[h]="\0",h-=1,o.Digits[h]="123456789:".charAt(t.StrToInt(o.Digits[h])+1-1)}while(!(0===h||o.Digits[h]<":"));":"===o.Digits[0]&&(o.Digits[0]="1",o.Exponent+=1)}else for(o.Digits[h]="0";h>-1&&"0"===o.Digits[h];)o.Digits[h]="\0",h-=1;else o.Digits[0]="\0";return"\0"!==o.Digits[0]||C||(o.Exponent=0,o.Negative=!1),o},this.FloatToStr=function(e){return t.FloatToStr$1(e,t.FormatSettings)},this.FloatToStr$1=function(e,i){return t.FloatToStrF$1(e,1,15,0,i)},this.FloatToStrF$1=function(t,i,s,o,n){var a,r,l="";r=n.DecimalSeparator,a=n.ThousandSeparator;var h=i;return 1===h?l=e.FormatGeneralFloat(t,s,r):2===h?l=e.FormatExponentFloat(t,s,o,r):0===h?l=e.FormatFixedFloat(t,o,r):3===h?l=e.FormatNumberFloat(t,o,r,a):4===h&&(l=e.FormatNumberCurrency(1e4*t,o,n)),4!==i&&l.length>1&&"-"===l.charAt(0)&&e.RemoveLeadingNegativeSign({get:function(){return l},set:function(t){l=t}},r,a),l},this.TryStrToFloat=function(e,i){return t.TryStrToFloat$2(e,i)},this.TryStrToFloat$2=function(e,i){return t.TryStrToFloat$3(e,i,t.FormatSettings)};this.TryStrToFloat$3=function(e,i,s){var o,n,a=!1,r=0,l=0,h="",F=0;for(a=!1,h=e,""!==s.ThousandSeparator&&(h=t.StringReplace(h,s.ThousandSeparator,"",rtl.createSet(0))),"."!==s.DecimalSeparator&&(h=t.StringReplace(h,s.DecimalSeparator,".",{})),F=0,r=1,l=1,n=h.length;r<=n;){var p=h.charAt(r-1);if("+"===p||"-"===p){if(1===F)return a;if(0===F){if(r>l)return a}else if(2===F&&r>l+1)return a}else if(p>="0"&&p<="9");else if("."===p){if(0!==F)return a;F=1,l=r}else{if("E"!==p&&"e"!==p)return a;if(2===F)return a;F=2,l=r}r+=1}return o=parseFloat(h),(a=!isNaN(o))&&i.set(rtl.getNumber(o)),a},this.StrToFloat$1=function(e,i){var s=0;if(!t.TryStrToFloat$3(e,{get:function(){return s},set:function(t){s=t}},i))throw t.EConvertError.$create("CreateFmt",[rtl.getResStr(pas.RTLConsts,"SErrInvalidFloat"),pas.System.VarRecs(18,e)]);return s},this.FormatFloat=function(e,i){return t.FormatFloat$1(e,i,t.TFormatSettings.$clone(t.FormatSettings))};this.FormatFloat$1=function(e,i,s){var o="",n=0,a=t.TFloatRec.$new(),r="",l=0,h=!1,F=!1,p=0,C=0,u=0,d=0,c=0,S=0,T=0,m=0,g=0;function M(t){o+=t}function f(t){o+=t}function b(t){"\0"!==t&&(-1===(g-=1)?(f(s.DecimalSeparator),M(t)):(M(t),h&&g%3==0&&g>1&&f(s.ThousandSeparator)))}function y(){var t="";return t="\0",T<=S?(t=a.Digits[T],T+=1):g<=u?g-=1:t="0",t}function B(){if(0===m)b(y());else if(m<0)m+=1,g<=C?b("0"):g-=1;else{for(;m>0;)b(y()),m-=1;b(y())}}function E(e,i){var s="";return s=t.IntToStr(i),s=pas.System.StringOfChar("0",c-s.length)+s,i<0?s="-"+s:i>0&&"+"===e&&(s=e+s),s}var L=0,D=0,N="",A="",G=[],P=!1;for(G=rtl.arraySetLength(G,0,4),o="",r="",l=0,h=!1,F=!1,p=0,C=2147483647,u=0,d=0,c=0,S=-1,D=(n=i)>0?1:n<0?2:3,G[0]=0,((L=function(i){var s,o=0,n=0,a="",r="",l=!1;for(o=1,i.get()[1]=-1,i.get()[2]=-1,i.get()[3]=-1,l=!1,r="\0",n=1,s=e.length;n<=s;){var h=a=e.charAt(n-1);if(";"===h){if(!l){if(o>3)throw t.Exception.$create("Create$1",["Invalid float format"]);i.get()[o]=n,o+=1}}else'"'!==h&&"'"!==h||(l?l=a!==r:(l=!0,r=a));n+=1}return-1===i.get()[o]&&(i.get()[o]=s+1),o}({get:function(){return G},set:function(t){G=t}}))<D||G[D]-G[D-1]==0)&&(D=1),l=G[D]-G[D-1]-1,r=pas.System.Copy(e,G[D-1]+1,l),r=rtl.strSetLength(r,l),function(){var t,e=0,i="",o="",n=!1;for(t=r.length,e=1,n=!1,i="\0";e<=t;){if((o=r.charAt(e-1)).charCodeAt()in rtl.createSet(34,39))n?n=o!==i:(n=!0,i=o);else if(!n){var a=o;if("."===a)0===p&&(p=d+1);else if(","===a)h="\0"!==s.ThousandSeparator;else if("e"===a||"E"===a){if((e+=1)<t){if(o=r.charAt(e-1),F=o.charCodeAt()in rtl.createSet(45,43))for(;e<t&&"0"===r.charAt(e+1-1);)c+=1,e+=1;c>4&&(c=4)}}else"#"===a?d+=1:"0"===a&&(d<C&&(C=d+1),u=(d+=1)+1)}e+=1}0===p&&(p=d+1),(u=p-u)>0&&(u=0),(C=p-C)<0&&(C=0)}(),function(){var e=0,s=0;for(F?(s=d,e=9999):(s=18,e=d-p+1),a.$assign(t.FloatToDecimal(i,s,e)),g=p-1,F?m=0:(m=a.Exponent-(p-1))>=0&&(g=a.Exponent),S=-1;S<18&&"\0"!==a.Digits[S+1];)S+=1}(),(0===l||a.Exponent>=18&&!F||2047===a.Exponent||2048===a.Exponent)&&(r=n.toPrecision(15),o=r),L=1,T=0,A=" ",P=!1,a.Negative&&1===D&&M("-");L<=l;){if((N=r.charAt(L-1)).charCodeAt()in rtl.createSet(34,39))P?P=N!==A:(P=!0,A=N);else if(P)M(N);else{var R=N;if("0"===R||"#"===R)B();else if("."===R||","===R);else if("e"===R||"E"===R){if(M(N),(L+=1)<=r.length&&(N=r.charAt(L-1)).charCodeAt()in rtl.createSet(43,45))for(f(E(N,a.Exponent-p+1));L<l&&"0"===r.charAt(L+1-1);)L+=1}else M(N)}L+=1}return o},rtl.recNewT(this,"TTimeStamp",(function(){this.Time=0,this.Date=0,this.$eq=function(t){return this.Time===t.Time&&this.Date===t.Date},this.$assign=function(t){return this.Time=t.Time,this.Date=t.Date,this}})),this.TimeSeparator="",this.DateSeparator="",this.ShortDateFormat="",this.LongDateFormat="",this.ShortTimeFormat="",this.LongTimeFormat="",this.DecimalSeparator="",this.ThousandSeparator="",this.TimeAMString="",this.TimePMString="",this.HoursPerDay=24,this.MinsPerHour=60,this.SecsPerMin=60,this.MSecsPerSec=1e3,this.MinsPerDay=1440,this.SecsPerDay=86400,this.MSecsPerDay=864e5,this.MaxDateTime=2958465.99999999,this.DateDelta=693594,this.MonthDays$a$clone=function(t){var e=[];e.length=2;for(var i=0;i<2;i++)e[i]=t[i].slice(0);return e},this.MonthDays=[[31,28,31,30,31,30,31,31,30,31,30,31],[31,29,31,30,31,30,31,31,30,31,30,31]],this.ShortMonthNames=rtl.arraySetLength(null,"",12),this.LongMonthNames=rtl.arraySetLength(null,"",12),this.ShortDayNames=rtl.arraySetLength(null,"",7),this.LongDayNames=rtl.arraySetLength(null,"",7),this.FormatSettings=this.TFormatSettings.$new(),this.TwoDigitYearCenturyWindow=50,this.JSDateToDateTime=function(e){return t.EncodeDate(e.getFullYear(),e.getMonth()+1,e.getDate())+t.EncodeTime(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},this.DateTimeToTimeStamp=function(e){var i=t.TTimeStamp.$new(),s=0;return(s=864e5*e)<0?s-=.5:s+=.5,i.Time=pas.System.Trunc(Math.abs(pas.System.Trunc(s))%864e5),i.Date=693594+rtl.trunc(pas.System.Trunc(s)/864e5),i},this.TryEncodeDate=function(e,i,s,o){var n,a=0,r=0;return(n=e>0&&e<1e4&&i>=1&&i<=12&&s>0&&s<=t.MonthDays[+t.IsLeapYear(e)][i-1])&&(i>2?i-=3:(i+=9,e-=1),r=e-100*(a=rtl.trunc(e/100)),o.set((146097*a>>>2)+(1461*r>>>2)+rtl.trunc((153*i+2)/5)+s),o.set(o.get()-693900)),n},this.TryEncodeTime=function(t,e,i,s,o){var n;return(n=t<24&&e<60&&i<60&&s<1e3)&&o.set((36e5*t+6e4*e+1e3*i+s)/864e5),n},this.EncodeDate=function(e,i,s){var o=0;if(!t.TryEncodeDate(e,i,s,{get:function(){return o},set:function(t){o=t}}))throw t.EConvertError.$create("CreateFmt",["%s-%s-%s is not a valid date specification",pas.System.VarRecs(18,t.IntToStr(e),18,t.IntToStr(i),18,t.IntToStr(s))]);return o},this.EncodeTime=function(e,i,s,o){var n=0;if(!t.TryEncodeTime(e,i,s,o,{get:function(){return n},set:function(t){n=t}}))throw t.EConvertError.$create("CreateFmt",["%s:%s:%s.%s is not a valid time specification",pas.System.VarRecs(18,t.IntToStr(e),18,t.IntToStr(i),18,t.IntToStr(s),18,t.IntToStr(o))]);return n},this.DecodeDate=function(e,i,s,o){var n=0,a=0,r=0,l=0;e<=-693594?(i.set(0),s.set(0),o.set(0)):(e>0?e+=1/1728e5:e-=1/1728e5,e>t.MaxDateTime&&(e=t.MaxDateTime),l=rtl.shl(pas.System.Trunc(e)+693900,2)-1,l-=146097*(n=rtl.trunc(l/146097)),a=rtl.lw(l>>>2),l=rtl.trunc((rtl.lw(a<<2)+3)/1461),a=rtl.lw(rtl.lw(a<<2)+7-1461*l>>>2),r=rtl.trunc((5*a-3)/153),a=rtl.trunc((5*a+2-153*r)/5),n=100*n+l,r<10?r+=3:(r-=9,n+=1),i.set(n),s.set(r),o.set(a))},this.DecodeTime=function(e,i,s,o,n){var a=0;a=t.DateTimeToTimeStamp(e).Time,i.set(rtl.trunc(a/36e5)),a%=36e5,s.set(rtl.trunc(a/6e4)),a%=6e4,o.set(rtl.trunc(a/1e3)),a%=1e3,n.set(a)},this.DecodeDateFully=function(e,i,s,o,n){return t.DecodeDate(e,i,s,o),n.set(t.DayOfWeek(e)),t.IsLeapYear(i.get())},this.ComposeDateTime=function(t,e){return t<0?pas.System.Trunc(t)-Math.abs(pas.System.Frac(e)):pas.System.Trunc(t)+Math.abs(pas.System.Frac(e))},this.Date=function(){return pas.System.Trunc(t.Now())},this.Now=function(){return t.JSDateToDateTime(new Date)},this.DayOfWeek=function(t){var e=0;return(e=1+(pas.System.Trunc(t)-1)%7)<=0&&(e+=7),e},this.IsLeapYear=function(t){return t%4==0&&(t%100!=0||t%400==0)},this.DateToStr=function(e){return t.DateToStr$1(e,t.FormatSettings)},this.DateToStr$1=function(e,i){return t.FormatDateTime$1("ddddd",e,i)},this.StrToDate=function(e){return t.StrToDate$3(e,t.FormatSettings)},this.StrToDate$2=function(i,s,o){var n,a="";if(n=e.IntStrToDate({get:function(){return a},set:function(t){a=t}},i,s,o),""!==a)throw t.EConvertError.$create("Create$1",[a]);return n},this.StrToDate$3=function(e,i){return t.StrToDate$2(e,i.ShortDateFormat,i.DateSeparator)},this.TryStrToDate=function(e,i){return t.TryStrToDate$1(e,i,t.FormatSettings)},this.TryStrToDate$1=function(e,i,s){return t.TryStrToDate$3(e,i,s.ShortDateFormat,s.DateSeparator)},this.TryStrToDate$3=function(t,i,s,o){var n=!1,a="";return(n=0!==t.length)&&(i.set(e.IntStrToDate({get:function(){return a},set:function(t){a=t}},t,s,o)),n=""===a),n},this.StrToTime=function(e){return t.StrToTime$2(e,t.FormatSettings)},this.StrToTime$2=function(i,s){var o,n="";if(o=e.IntStrToTime({get:function(){return n},set:function(t){n=t}},i,i.length,s),""!==n)throw t.EConvertError.$create("Create$1",[n]);return o},this.StrToDateTime=function(e){return t.StrToDateTime$1(e,t.FormatSettings)},this.StrToDateTime$1=function(i,s){var o=0,n="",a="",r=e.SplitDateTimeStr(i,{get:function(){return a},set:function(t){a=t}},{get:function(){return n},set:function(t){n=t}},s);return 0===r?o=t.StrToDate(""):1===r?o=a.length>0?t.StrToDate$2(a,s.ShortDateFormat,s.DateSeparator):t.StrToTime(n):2===r&&(o=t.ComposeDateTime(t.StrToDate$2(a,s.ShortDateFormat,s.DateSeparator),t.StrToTime(n))),o},this.FormatDateTime=function(e,i){return t.FormatDateTime$1(e,i,t.FormatSettings)},this.FormatDateTime$1=function(e,i,s){var o="";function n(t,e,i){o+=pas.System.Copy(t,e,i)}function a(t){o+=t}function r(e,i){var s="";for(s=t.IntToStr(e);s.length<i;)s="0"+s;a(s)}var l=0,h=0,F=0,p=0,C=0,u=0,d=0,c=0;function S(e,i,o){var T,m="",g="",M=0,f=!1,b=0,y=0,B=0;if(!(i>1)){for(B=1,T=e.length,f=!1,!1,y=1;y<=T;){var E=m=e.charAt(y-1);if("'"===E||'"'===E)for(y+=1;y<T&&e.charAt(y-1)!==m;)y+=1;else if(!("A"!==E&&"a"!==E||0!==t.CompareText(pas.System.Copy(e,y,3),"A/P")&&0!==t.CompareText(pas.System.Copy(e,y,4),"AMPM")&&0!==t.CompareText(pas.System.Copy(e,y,5),"AM/PM"))){f=!0;break}y+=1}for(m="ÿ",g=" ","H";B<=T;){M=1,y=B+1;var L=m=t.UpperCase(e.charAt(B-1)).charAt(0);if("'"===L||'"'===L){for(;y<T&&e.charAt(y-1)!==m;)y+=1;n(e,B+1,(M=(y+=1)-B)-2)}else if("A"===L)if(0===t.CompareText(pas.System.Copy(e,B,4),"AMPM"))M=4,a(C<12?s.TimeAMString:s.TimePMString);else if(0===t.CompareText(pas.System.Copy(e,B,5),"AM/PM"))M=5,n(e,C<12?B:B+3,2);else{if(0!==t.CompareText(pas.System.Copy(e,B,3),"A/P"))throw t.EConvertError.$create("Create$1",["Illegal character in format string"]);M=3,n(e,C<12?B:B+2,1)}else if("/"===L)a(s.DateSeparator);else if(":"===L)a(s.TimeSeparator);else if(" "===L||"C"===L||"D"===L||"H"===L||"M"===L||"N"===L||"S"===L||"T"===L||"Y"===L||"Z"===L||"F"===L){for(;y<=T&&t.UpperCase(e.charAt(y-1))===m;)y+=1;M=y-B;var D=m;if(" "===D)n(e,B,M);else if("Y"===D)M>2?r(l,4):r(l%100,2);else if("M"===D)if("H"===g||o)r(u,1===M?0:2);else{var N=M;1===N?r(h,0):2===N?r(h,2):a(3===N?s.ShortMonthNames[h-1]:s.LongMonthNames[h-1])}else if("D"===D){var A=M;1===A?r(F,0):2===A?r(F,2):3===A?a(s.ShortDayNames[p-1]):4===A?a(s.LongDayNames[p-1]):S(5===A?s.ShortDateFormat:s.LongDateFormat,i+1,!1)}else"H"===D?f?(0===(b=C%12)&&(b=12),r(b,1===M?0:2)):r(C,1===M?0:2):"N"===D?r(u,1===M?0:2):"S"===D?r(d,1===M?0:2):"Z"===D?r(c,1===M?0:3):"T"===D?S(1===M?s.ShortTimeFormat:s.LongTimeFormat,i+1,!0):"C"===D?(S(s.ShortDateFormat,i+1,!1),0===C&&0===u&&0===d||(a(" "),S(s.LongTimeFormat,i+1,!0))):"F"===D&&(S(s.ShortDateFormat,i+1,!1),a(" "),S(s.LongTimeFormat,i+1,!0));g,g=m}else a(m);B+=M}}}return t.DecodeDateFully(i,{get:function(){return l},set:function(t){l=t}},{get:function(){return h},set:function(t){h=t}},{get:function(){return F},set:function(t){F=t}},{get:function(){return p},set:function(t){p=t}}),t.DecodeTime(i,{get:function(){return C},set:function(t){C=t}},{get:function(){return u},set:function(t){u=t}},{get:function(){return d},set:function(t){d=t}},{get:function(){return c},set:function(t){c=t}}),S(""!==e?e:"C",0,!1),o},this.CurrencyFormat=0,this.NegCurrFormat=0,this.CurrencyDecimals=0,this.CurrencyString="",this.Supports$1=function(t,e,i){return null!==t&&0===t.QueryInterface(e,i)},this.Supports$3=function(t,e,i){return null!==t&&t.GetInterfaceByStr(e,i)},rtl.createHelper(this,"TStringHelper",null,(function(){this.Empty="",this.GetLength=function(){return this.get().length},this.LowerCase=function(e){return t.LowerCase(e)},this.UpperCase=function(e){return t.UpperCase(e)},this.IndexOf=function(e){return t.TStringHelper.IndexOf$4.call(this,e,0,t.TStringHelper.GetLength.call(this))},this.IndexOf$4=function(t,e,i){var s,o=0;return s=pas.System.Copy(this.get(),e+1,i),-1!==(o=pas.System.Pos(t,s)-1)&&(o+=e),o},this.Substring=function(e){return t.TStringHelper.Substring$1.call(this,e,t.TStringHelper.GetLength.call(this)-e)},this.Substring$1=function(t,e){return pas.System.Copy(this.get(),t+1,e)},this.ToLower=function(){return t.TStringHelper.LowerCase(this.get())},this.ToUpper=function(){return t.TStringHelper.UpperCase(this.get())}})),rtl.createHelper(this,"TIntegerHelper",null,(function(){this.ToString$1=function(){return t.IntToStr(this.get())}})),t.$implcode=function(){e.DefaultShortMonthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e.DefaultLongMonthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],e.DefaultShortDayNames=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],e.DefaultLongDayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],e.FInvariant=t.TFormatSettings.$new(),e.FInvariantCreated=!1,e.feInvalidFormat=1,e.feMissingArgument=2,e.feInvalidArgIndex=3,e.DoFormatError=function(e,i){var s=e;if(1===s)throw t.EConvertError.$create("CreateFmt",[rtl.getResStr(pas.RTLConsts,"SInvalidFormat"),pas.System.VarRecs(18,i)]);if(2===s)throw t.EConvertError.$create("CreateFmt",[rtl.getResStr(pas.RTLConsts,"SArgumentMissing"),pas.System.VarRecs(18,i)]);if(3===s)throw t.EConvertError.$create("CreateFmt",[rtl.getResStr(pas.RTLConsts,"SInvalidArgIndex"),pas.System.VarRecs(18,i)])},e.maxdigits=15,e.ReplaceDecimalSep=function(t,e){var i;return(i=pas.System.Pos(".",t))>0?pas.System.Copy(t,1,i-1)+e+pas.System.Copy(t,i+1,t.length-i):t},e.FormatGeneralFloat=function(i,s,o){var n="",a=0,r=0,l=0,h=0;if((-1===s||s>15)&&(s=15),n=rtl.floatToStr(i,s+7),n=t.TrimLeft(n),0===(a=pas.System.Pos(".",n)))return n;if(0===(r=pas.System.Pos("E",n)))return n=e.ReplaceDecimalSep(n,o);for(l=r+2,h=0;l<=n.length;)h=10*h+n.charCodeAt(l-1)-48,l+=1;if("-"===n.charAt(r+1-1)&&(h=-h),a+h<r&&h>-6){if(n=rtl.strSetLength(n,r-1),h>=0){for(var F=0,p=h-1;F<=p;F++)l=F,n=rtl.setCharAt(n,a-1,n.charAt(a+1-1)),a+=1;for(n=rtl.setCharAt(n,a-1,"."),a=1,"-"===n.charAt(a-1)&&(a+=1);"0"===n.charAt(a-1)&&a<n.length&&pas.System.Copy(n,a+1,o.length)!==o;)pas.System.Delete({get:function(){return n},set:function(t){n=t}},a,1)}else pas.System.Insert(pas.System.Copy("00000",1,-h),{get:function(){return n},set:function(t){n=t}},a-1),n=rtl.setCharAt(n,a-h-1,n.charAt(a-h-1-1)),n=rtl.setCharAt(n,a-1,"."),-1!==h&&(n=rtl.setCharAt(n,a-h-1-1,"0"));for(l=n.length;l>0&&"0"===n.charAt(l-1);)l-=1;"."===n.charAt(l-1)&&(l-=1),n=0===l||1===l&&"-"===n.charAt(0)?"0":rtl.strSetLength(n,l)}else{for(;"0"===n.charAt(r-1-1);)pas.System.Delete({get:function(){return n},set:function(t){n=t}},r-1,1),r-=1;for(n.charAt(r-1-1)===o&&(pas.System.Delete({get:function(){return n},set:function(t){n=t}},r-1,1),r-=1),"+"===n.charAt(r+1-1)?pas.System.Delete({get:function(){return n},set:function(t){n=t}},r+1,1):r+=1;"0"===n.charAt(r+1-1);)pas.System.Delete({get:function(){return n},set:function(t){n=t}},r+1,1)}return n=e.ReplaceDecimalSep(n,o)},e.FormatExponentFloat=function(i,s,o,n){var a="",r=0;for(n=t.FormatSettings.DecimalSeparator,(-1===s||s>15)&&(s=15),a=rtl.floatToStr(i,s+7);" "===a.charAt(0);)pas.System.Delete({get:function(){return a},set:function(t){a=t}},1,1);if(0===(r=pas.System.Pos("E",a)))return a=e.ReplaceDecimalSep(a,n);if(r+=2,o>4&&(o=4),(o=a.length-r-o+1)<0)pas.System.Insert(pas.System.Copy("0000",1,-o),{get:function(){return a},set:function(t){a=t}},r);else for(;o>0&&"0"===a.charAt(r-1);){if(pas.System.Delete({get:function(){return a},set:function(t){a=t}},r,1),r>a.length){pas.System.Delete({get:function(){return a},set:function(t){a=t}},r-2,2);break}o-=1}return a=e.ReplaceDecimalSep(a,n)},e.FormatFixedFloat=function(t,i,s){var o="";return-1===i?i=2:i>18&&(i=18),""!==(o=rtl.floatToStr(t,0,i))&&" "===o.charAt(0)&&pas.System.Delete({get:function(){return o},set:function(t){o=t}},1,1),o=e.ReplaceDecimalSep(o,s)},e.FormatNumberFloat=function(t,i,s,o){var n="",a=0;if(-1===i?i=2:i>15&&(i=15),""!==(n=rtl.floatToStr(t,0,i))&&" "===n.charAt(0)&&pas.System.Delete({get:function(){return n},set:function(t){n=t}},1,1),(a=pas.System.Pos(".",n))<=0&&(a=n.length+1),n=e.ReplaceDecimalSep(n,s),a-=3,""!==o&&"\0"!==o)for(;a>1;)"-"!==n.charAt(a-1-1)&&pas.System.Insert(o,{get:function(){return n},set:function(t){n=t}},a),a-=3;return n},e.RemoveLeadingNegativeSign=function(t,e,i){var s,o=!1,n=0;o=!1,s=i;for(var a=2,r=t.get().length;a<=r&&(n=a,o=t.get().charCodeAt(n-1)in rtl.createSet(48,e.charCodeAt(),69,43)||t.get().charAt(n-1)===s);a++);return o&&"-"===t.get().charAt(0)&&pas.System.Delete(t,1,1),o},e.FormatNumberCurrency=function(t,i,s){var o,n,a,r,l="",h=0;if(a=s.DecimalSeparator,r=s.ThousandSeparator,n=s.CurrencyString,-1===i?i=s.CurrencyDecimals:i>18&&(i=18),(o="-"===(l=rtl.floatToStr(t/1e4,0,i)).charAt(0))&&pas.System.Delete({get:function(){return l},set:function(t){l=t}},1,1),h=pas.System.Pos(".",l),""!==r)for(0!==h?l=e.ReplaceDecimalSep(l,a):h=l.length+1,h-=3;h>1;)pas.System.Insert(r,{get:function(){return l},set:function(t){l=t}},h),h-=3;if(o&&e.RemoveLeadingNegativeSign({get:function(){return l},set:function(t){l=t}},a,r),o){var F=s.NegCurrFormat;0===F?l="("+n+l+")":1===F?l="-"+n+l:2===F?l=n+"-"+l:3===F?l=n+l+"-":4===F?l="("+l+n+")":5===F?l="-"+l+n:6===F?l=l+"-"+n:7===F?l=l+n+"-":8===F?l="-"+l+" "+n:9===F?l="-"+n+" "+l:10===F?l=l+" "+n+"-":11===F?l=n+" "+l+"-":12===F?l=n+" -"+l:13===F?l=l+"- "+n:14===F?l="("+n+" "+l+")":15===F&&(l="("+l+" "+n+")")}else{var p=s.CurrencyFormat;0===p?l=n+l:1===p?l+=n:2===p?l=n+" "+l:3===p&&(l=l+" "+n)}return l},e.RESpecials="([\\$\\+\\[\\]\\(\\)\\\\\\.\\*\\^\\?\\|])";e.IntStrToDate=function(e,i,s,o){var n=0;function a(i){e.set(t.Format(rtl.getResStr(pas.RTLConsts,"SInvalidDateFormat"),pas.System.VarRecs(18,i)))}var r="",l=0,h=0,F=0,p=0,C=0,u=0,d=0,c=0,S=0,T=0,m=0,g=0,M=0,f=0,b="",y=[],B=!1;for(y=rtl.arraySetLength(y,0,4),n=0,S=i.length,e.set("");S>0&&pas.System.Pos(i.charAt(S-1)," \b\t\n\f\r")>0;)S-=1;if(0===S)return a(i),n;for(B=!1,"\0"===o&&(o="\0"!==t.FormatSettings.DateSeparator?t.FormatSettings.DateSeparator:"-"),r=t.UpperCase(s),M=0,g=0,m=0,f=0,c=0;c<r.length&&f<3;){c+=1;var E=r.charAt(c-1);"Y"===E?0===M&&(M=f+=1):"M"===E?0===g&&(g=f+=1):"D"===E&&0===m&&(m=f+=1)}for(c=1;c<=3;c++)y[c]=0;b="",d=0;for(var L=1,D=S;L<=D;L++)if(c=L,pas.System.Pos(i.charAt(c-1),"0123456789")>0&&(b+=i.charAt(c-1))," "===o||" "!==i.charAt(c-1))if(i.charAt(c-1)===o||c===S&&pas.System.Pos(i.charAt(c-1),"0123456789")>0){if((d+=1)>3)return a(i),n;if(d===M&&b.length>2&&(B=!0),pas.System.val$6(b,{a:d,p:y,get:function(){return this.p[this.a]},set:function(t){this.p[this.a]=t}},{get:function(){return T},set:function(t){T=t}}),0!==T)return a(i),n;b=""}else if(0===pas.System.Pos(i.charAt(c-1),"0123456789"))return a(i),n;return f<3&&d>f?(a(i),n):(t.DecodeDate(t.Date(),{get:function(){return p},set:function(t){p=t}},{get:function(){return u},set:function(t){u=t}},{get:function(){return C},set:function(t){C=t}}),3===d?(F=y[M],h=y[g],l=y[m]):(F=p,d<2?(l=y[1],h=u):m<g?(l=y[1],h=y[2]):(l=y[2],h=y[1])),F>=0&&F<100&&!B&&(p-=t.TwoDigitYearCenturyWindow,F+=100*rtl.trunc(p/100),t.TwoDigitYearCenturyWindow>0&&F<p&&(F+=100)),t.TryEncodeDate(F,h,l,{get:function(){return n},set:function(t){n=t}})||e.set(rtl.getResStr(pas.RTLConsts,"SErrInvalidDate")),n)};e.IntStrToTime=function(e,i,s,o){var n=0,a=0,r=[];return r=rtl.arraySetLength(r,0,4),a=0,function(e,n){var a=!1,r=0,l=0,h=0,F=0,p=0,C=0,u=0,d=!1,c=!1,S="",T="",m=0,g="";for(a=!1,n.set(0),c=!1,p=0,m=0;m<=3;m++)e.get()[m]=0;for(r=1;r<s&&" "===i.charAt(r-1);)r+=1;if(l=r,r>s-1||i.charAt(r-1)===o.TimeSeparator||i.charAt(r-1)===o.DecimalSeparator)return a;for(d=pas.System.Pos(i.charAt(r-1),"0123456789")>0;r<=s;){if(T=i.charAt(r-1),pas.System.Pos(T,"0123456789")>0){if(!d||p>3)return a;for(l=r,C="0"!==T?l:-1;r<s&&pas.System.Pos(i.charAt(r+1-1),"0123456789")>0;)-1===C&&"0"!==i.charAt(r-1)&&(C=r),r+=1;if(-1===C&&(C=r),!((h=1+r-C)<=2||h<=3&&3===p))return a;pas.System.val$6(pas.System.Copy(i,C,h),{get:function(){return u},set:function(t){u=t}},{get:function(){return F},set:function(t){F=t}}),e.get()[p]=u,p+=1,d=!1}else if(" "===T);else if(T===o.TimeSeparator){if(d||p>2)return a;d=!0,c=!1}else if(T===o.DecimalSeparator){if(d||c||3!==p)return a;d=!0,c=!0}else{if(0!==n.get()||d)return a;for(l=r,g=o.DecimalSeparator+" ","\0"!==o.TimeSeparator&&(g+=o.TimeSeparator);r<s&&0===pas.System.Pos(i.charAt(r+1-1),g)&&0===pas.System.Pos(i.charAt(r+1-1),"0123456789");)r+=1;if(h=1+r-l,S=pas.System.Copy(i,l,h),0===t.CompareText(S,o.TimeAMString))n.set(1);else if(0===t.CompareText(S,o.TimePMString))n.set(2);else if(0===t.CompareText(S,"AM"))n.set(1);else{if(0!==t.CompareText(S,"PM"))return a;n.set(2)}0===p?d=!0:(p=4,d=!1)}r+=1}return 0===p||0!==n.get()&&(e.get()[0]>12||0===e.get()[0])||d?a:a=!0}({get:function(){return r},set:function(t){r=t}},{get:function(){return a},set:function(t){a=t}})?(2===a&&12!==r[0]?r[0]+=12:1===a&&12===r[0]&&(r[0]=0),t.TryEncodeTime(r[0],r[1],r[2],r[3],{get:function(){return n},set:function(t){n=t}})||e.set(t.Format(rtl.getResStr(pas.RTLConsts,"SErrInvalidTimeFormat"),pas.System.VarRecs(18,i))),n):(e.set(t.Format(rtl.getResStr(pas.RTLConsts,"SErrInvalidTimeFormat"),pas.System.VarRecs(18,i))),n)};e.SplitDateTimeStr=function(e,i,s,o){var n=0,a=0,r=0;if(n=0,i.set(""),s.set(""),0===(e=t.Trim(e)).length)return n;if(" "===o.DateSeparator&&" "===o.TimeSeparator&&pas.System.Pos(" ",e)>0)return i.set(e),1;if(a=1," "!==o.DateSeparator)for(;a<e.length&&!(pas.System.Pos(e.charAt(a+1-1),"\t\n\r ")>0);)a+=1;else if(0!==(a=pas.System.Pos(o.TimeSeparator,e)))do{a-=1}while(!(0===a||pas.System.Pos(e.charAt(a-1),"\t\n\r ")>0));return 0===a&&(a=e.length),i.set(pas.System.Copy(e,1,a)),s.set(t.Trim(pas.System.Copy(e,a+1,100))),0!==s.get().length?n=2:(n=1,(o.DateSeparator!==o.TimeSeparator&&pas.System.Pos(o.TimeSeparator,i.get())>0||o.DateSeparator===o.TimeSeparator&&!t.TryStrToDate(i.get(),{get:function(){return r},set:function(t){r=t}}))&&(s.set(i.get()),i.set(""))),n},e.IntTryStrToInt=function(e,i,s){var o,n,a=10,r="";if(r=e,0!==pas.System.Pos(s,r)||0!==pas.System.Pos(".",r))return!1;var l=pas.System.Copy(r,1,1);return"$"===l?a=16:"&"===l?a=8:"%"===l&&(a=2),(16===a||0===pas.System.Pos("e",t.LowerCase(r)))&&(10!==a&&pas.System.Delete({get:function(){return r},set:function(t){r=t}},1,1),n=parseInt(r,a),(o=!isNaN(n))&&i.set(rtl.trunc(n)),o)},e.InitGlobalFormatSettings=function(){t.FormatSettings.$assign(t.TFormatSettings.Create()),t.TimeSeparator=t.FormatSettings.TimeSeparator,t.DateSeparator=t.FormatSettings.DateSeparator,t.ShortDateFormat=t.FormatSettings.ShortDateFormat,t.LongDateFormat=t.FormatSettings.LongDateFormat,t.ShortTimeFormat=t.FormatSettings.ShortTimeFormat,t.LongTimeFormat=t.FormatSettings.LongTimeFormat,t.DecimalSeparator=t.FormatSettings.DecimalSeparator,t.ThousandSeparator=t.FormatSettings.ThousandSeparator,t.TimeAMString=t.FormatSettings.TimeAMString,t.TimePMString=t.FormatSettings.TimePMString,t.CurrencyFormat=t.FormatSettings.CurrencyFormat,t.NegCurrFormat=t.FormatSettings.NegCurrFormat,t.CurrencyDecimals=t.FormatSettings.CurrencyDecimals,t.CurrencyString=t.FormatSettings.CurrencyString}},t.$init=function(){e.InitGlobalFormatSettings(),t.ShortMonthNames=e.DefaultShortMonthNames.slice(0),t.LongMonthNames=e.DefaultLongMonthNames.slice(0),t.ShortDayNames=e.DefaultShortDayNames.slice(0),t.LongDayNames=e.DefaultLongDayNames.slice(0)}}),[]),rtl.module("TypInfo",["System","SysUtils","Types","RTLConsts","JS"],(function(){"use strict";var t=this,e=t.$impl;this.pfGetFunction=1,this.pfSetProcedure=2,this.pfHasIndex=16,rtl.createClass(this,"EPropertyError",pas.SysUtils.Exception,(function(){})),this.GetPropInfo=function(t,e){var i=null,s=null,o=0,n=null;for(n=t;null!==n;){if(s=n.members[e],rtl.isExt(s,rtl.tTypeMemberProperty))return s;if(!rtl.isExt(n,rtl.tTypeInfoClass))break;n=n.ancestor}i=null;do{for(var a=0,r=t.properties.length-1;a<=r;a++)if(o=a,0===pas.SysUtils.CompareText(e,t.properties[o]))return s=t.members[t.properties[o]],rtl.isExt(s,rtl.tTypeMemberProperty)&&(i=s),i;if(!rtl.isExt(t,rtl.tTypeInfoClass))break;t=t.ancestor}while(null!==t);return i},this.GetPropInfo$1=function(e,i,s){var o=null;return o=t.GetPropInfo(e,i),rtl.neSet(s,{})&&null!==o&&!(o.typeinfo.kind in s)&&(o=null),o},this.GetPropInfo$2=function(e,i){return t.GetPropInfo$1(e.$rtti,i,{})},this.FindPropInfo=function(e,i){var s;if(null===(s=t.GetPropInfo(e.$rtti,i)))throw t.EPropertyError.$create("CreateFmt",[rtl.getResStr(pas.RTLConsts,"SErrPropertyNotFound"),pas.System.VarRecs(18,i)]);return s},this.GetJSValueProp$1=function(i,s){var o=void 0,n=e.GetPropGetterKind(s);if(0===n)throw t.EPropertyError.$create("CreateFmt",[rtl.getResStr(pas.RTLConsts,"SCantReadPropertyS"),pas.System.VarRecs(18,s.name)]);if(1===n)o=i[s.getter];else if(2===n)o=(16&s.flags)>0?i[s.getter](s.index):i[s.getter]();else if(3===n)throw t.EPropertyError.$create("CreateFmt",[rtl.getResStr(pas.RTLConsts,"SIndexedPropertyNeedsParams"),pas.System.VarRecs(18,s.name)]);return o},this.GetJSValueProp$3=function(e,i){return t.GetJSValueProp$1(e,i)},this.SetJSValueProp$1=function(i,s,o){var n=e.GetPropSetterKind(s);if(0===n)throw t.EPropertyError.$create("CreateFmt",[rtl.getResStr(pas.RTLConsts,"SCantWritePropertyS"),pas.System.VarRecs(18,s.name)]);if(1===n)i[s.setter]=o;else if(2===n)(16&s.flags)>0?i[s.setter](s.index,o):i[s.setter](o);else if(3===n)throw t.EPropertyError.$create("CreateFmt",[rtl.getResStr(pas.RTLConsts,"SIndexedPropertyNeedsParams"),pas.System.VarRecs(18,s.name)])},this.SetJSValueProp$3=function(e,i,s){t.SetJSValueProp$1(e,i,s)},this.GetOrdProp$1=function(e,i){var s=0,o="",n=0,a=void 0;if(5===i.typeinfo.kind)for(o in s=0,t.GetJSValueProp$3(e,i))(n=parseInt(o,10))<32&&(s+=1<<n);else 2===i.typeinfo.kind?(a=t.GetJSValueProp$3(e,i),s=rtl.isNumber(a)?rtl.trunc(a):""===(o=""+a)?0:o.charCodeAt(0)):s=rtl.trunc(t.GetJSValueProp$3(e,i));return s},this.SetMethodProp=function(e,i,s){var o,n=null;n=null===(o=s.Code)?null:rtl.isFunction(o)?o.scope===s.Data&&(rtl.isFunction(o.fn)||rtl.isString(o.fn))?o:rtl.isString(o.fn)?rtl.createCallback(s.Data,""+o.fn):rtl.createCallback(s.Data,o):rtl.createCallback(s.Data,o),t.SetJSValueProp$3(e,i,n)},this.SetMethodProp$1=function(e,i,s){t.SetMethodProp(e,t.FindPropInfo(e,i),s)},t.$implcode=function(){e.TGetterKind={0:"gkNone",gkNone:0,1:"gkField",gkField:1,2:"gkFunction",gkFunction:2,3:"gkFunctionWithParams",gkFunctionWithParams:3},e.GetPropGetterKind=function(t){return""===t.getter?0:(1&t.flags)>0?rtl.length(t.params)>0?3:2:1},e.TSetterKind={0:"skNone",skNone:0,1:"skField",skField:1,2:"skProcedure",skProcedure:2,3:"skProcedureWithParams",skProcedureWithParams:3},e.GetPropSetterKind=function(t){return""===t.setter?0:(2&t.flags)>0?rtl.length(t.params)>0?3:2:1}}}),[]),rtl.module("Web",["System","Types","JS"],(function(){"use strict";rtl.createClassExt(this,"TJSFocusEvent",Event,"",(function(){this.$init=function(){},this.$final=function(){}})),this.$rtti.$ExtClass("TJSXMLHttpRequest",{ancestor:this.$rtti.TJSXMLHttpRequestEventTarget,jsclass:"XMLHttpRequest"}),rtl.createClass(this,"TJSKeyNames",pas.System.TObject,(function(){this.Alt="Alt",this.CapsLock="CapsLock",this.Control="Control",this.Shift="Shift",this.Enter="Enter",this.Tab="Tab",this.ArrowDown="ArrowDown",this.ArrowLeft="ArrowLeft",this.ArrowRight="ArrowRight",this.ArrowUp="ArrowUp",this._End="End",this.Home="Home",this.PageDown="PageDown",this.PageUp="PageUp",this.BackSpace="Backspace",this.Delete="Delete",this.Insert="Insert",this.Escape="Escape",this.Pause="Pause",this.F1="F1",this.F2="F2",this.F3="F3",this.F4="F4",this.F5="F5",this.F6="F6",this.F7="F7",this.F8="F8",this.F9="F9",this.F10="F10",this.F11="F11",this.F12="F12",this.F13="F13",this.F14="F14",this.F15="F15",this.F16="F16",this.F17="F17",this.F18="F18",this.F19="F19",this.F20="F20"}))})),rtl.module("Classes",["System","RTLConsts","Types","SysUtils","JS","TypInfo"],(function(){"use strict";var t=this,e=t.$impl;this.$rtti.$MethodVar("TNotifyEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject]]),methodkind:0}),rtl.createClass(this,"EListError",pas.SysUtils.Exception,(function(){})),rtl.createClass(this,"EStringListError",this.EListError,(function(){})),rtl.createClass(this,"EComponentError",pas.SysUtils.Exception,(function(){})),this.TAlignment={0:"taLeftJustify",taLeftJustify:0,1:"taRightJustify",taRightJustify:1,2:"taCenter",taCenter:2},this.$rtti.$Enum("TAlignment",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TAlignment}),rtl.createClass(this,"TFPList",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FList=[],this.FCount=0,this.FCapacity=0},this.$final=function(){this.FList=void 0,pas.System.TObject.$final.call(this)},this.Get=function(t){return(t<0||t>=this.FCount)&&this.RaiseIndexError(t),this.FList[t]},this.Put=function(t,e){(t<0||t>=this.FCount)&&this.RaiseIndexError(t),this.FList[t]=e},this.SetCapacity=function(t){t<this.FCount&&this.$class.Error(rtl.getResStr(pas.RTLConsts,"SListCapacityError"),""+t),t!==this.FCapacity&&(this.FList=rtl.arraySetLength(this.FList,void 0,t),this.FCapacity=t)},this.SetCount=function(t){t<0&&this.$class.Error(rtl.getResStr(pas.RTLConsts,"SListCountError"),""+t),t>this.FCount&&t>this.FCapacity&&this.SetCapacity(t),this.FCount=t},this.RaiseIndexError=function(t){this.$class.Error(rtl.getResStr(pas.RTLConsts,"SListIndexError"),""+t)},this.Destroy=function(){this.Clear(),pas.System.TObject.Destroy.call(this)},this.Add=function(t){var e;return this.FCount===this.FCapacity&&this.Expand(),this.FList[this.FCount]=t,e=this.FCount,this.FCount+=1,e},this.Clear=function(){rtl.length(this.FList)>0&&(this.SetCount(0),this.SetCapacity(0))},this.Delete=function(t){(t<0||t>=this.FCount)&&this.$class.Error(rtl.getResStr(pas.RTLConsts,"SListIndexError"),""+t),this.FCount=this.FCount-1,this.FList.splice(t,1),this.FCapacity-=1},this.Error=function(e,i){throw t.EListError.$create("CreateFmt",[e,pas.System.VarRecs(18,i)])},this.Expand=function(){var t=0;return this.FCount<this.FCapacity||(t=4,this.FCapacity>3&&(t+=4),this.FCapacity>8&&(t+=8),this.FCapacity>127&&(t+=this.FCapacity>>>2),this.SetCapacity(this.FCapacity+t),this),this},this.IndexOf=function(t){var e,i=0;for(i=0,e=this.FCount;i<e&&this.FList[i]!=t;)i+=1;return i>=e&&(i=-1),i},this.IndexOfItem=function(t,e){var i=0;if(0===e)i=this.IndexOf(t);else for(i=this.FCount-1;i>=0&&this.FList[i]!=t;)i-=1;return i},this.Insert=function(t,e){(t<0||t>this.FCount)&&this.$class.Error(rtl.getResStr(pas.RTLConsts,"SListIndexError"),""+t),this.FList.splice(t,0,e),this.FCapacity+=1,this.FCount+=1},this.Last=function(){return 0===this.FCount?null:this.Get(this.FCount-1)},this.Move=function(t,e){var i;(t<0||t>this.FCount-1)&&this.$class.Error(rtl.getResStr(pas.RTLConsts,"SListIndexError"),""+t),(e<0||e>this.FCount-1)&&this.$class.Error(rtl.getResStr(pas.RTLConsts,"SListIndexError"),""+e),t!==e&&(i=this.FList[t],this.FList.splice(t,1),this.FList.splice(e,0,i))},this.Remove=function(t){var e;return-1!==(e=this.IndexOf(t))&&this.Delete(e),e}})),this.TListNotification={0:"lnAdded",lnAdded:0,1:"lnExtracted",lnExtracted:1,2:"lnDeleted",lnDeleted:2},rtl.createClass(this,"TList",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FList=null},this.$final=function(){this.FList=void 0,pas.System.TObject.$final.call(this)},this.Get=function(t){return this.FList.Get(t)},this.Put=function(t,e){var i;i=this.Get(t),this.FList.Put(t,e),pas.System.Assigned(i)&&this.Notify(i,2),pas.System.Assigned(e)&&this.Notify(e,0)},this.Notify=function(t,e){pas.System.Assigned(t)},this.SetCount=function(t){if(t<this.FList.FCount)for(;this.FList.FCount>t;)this.Delete(this.FList.FCount-1);else this.FList.SetCount(t)},this.GetCount=function(){return this.FList.FCount},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FList=t.TFPList.$create("Create"),this},this.Destroy=function(){null!=this.FList&&this.Clear(),pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FList},set:function(t){this.p.FList=t}})},this.Add=function(t){var e;return e=this.FList.Add(t),pas.System.Assigned(t)&&this.Notify(t,0),e},this.Clear=function(){for(;this.FList.FCount>0;)this.Delete(this.GetCount()-1)},this.Delete=function(t){var e;e=this.FList.Get(t),this.FList.Delete(t),pas.System.Assigned(e)&&this.Notify(e,2)},this.IndexOf=function(t){return this.FList.IndexOf(t)},this.Insert=function(t,e){this.FList.Insert(t,e),pas.System.Assigned(e)&&this.Notify(e,0)},this.Move=function(t,e){this.FList.Move(t,e)},this.Remove=function(t){var e;return-1!==(e=this.IndexOf(t))&&this.Delete(e),e}})),rtl.createClass(this,"TPersistent",pas.System.TObject,(function(){this.AssignError=function(t){var e="";throw e=null!==t?t.$classname:"Nil",pas.SysUtils.EConvertError.$create("Create$1",["Cannot assign a "+e+" to a "+this.$classname+"."])},this.AssignTo=function(t){t.AssignError(this)},this.GetOwner=function(){return null,null},this.Assign=function(t){null!==t?t.AssignTo(this):this.AssignError(null)},this.SetEvent=function(t,e,i){this.SetEvent$1(this,t,e,i)},this.SetEvent$1=function(t,e,i,s){var o=pas.System.TMethod.$new();if(o.Code=e.$class.MethodAddress(s),null===o.Code)throw pas.SysUtils.Exception.$create("Create$1",[e.$classname+' has no published method "'+s+'"']);o.Data=e,pas.TypInfo.SetMethodProp$1(t,i,o)}})),rtl.createClass(this,"TStrings",this.TPersistent,(function(){this.$init=function(){t.TPersistent.$init.call(this),this.FSpecialCharsInited=!1,this.FAlwaysQuote=!1,this.FQuoteChar="",this.FDelimiter="",this.FNameValueSeparator="",this.FUpdateCount=0,this.FLBS=0,this.FSkipLastLineBreak=!1,this.FStrictDelimiter=!1,this.FLineBreak=""},this.GetValue=function(t){var e,i="",s="";return i="",-1!==(e=this.IndexOfName(t))&&this.GetNameValue(e,{get:function(){return s},set:function(t){s=t}},{get:function(){return i},set:function(t){i=t}}),i},this.SetDelimiter=function(t){this.CheckSpecialChars(),this.FDelimiter=t},this.DoSetTextStr=function(t,e){var i="",s=0;try{for(this.BeginUpdate(),e&&this.Clear(),s=1;this.GetNextLinebreak(t,{get:function(){return i},set:function(t){i=t}},{get:function(){return s},set:function(t){s=t}});)this.Add(i)}finally{this.EndUpdate()}},this.GetDelimiter=function(){return this.CheckSpecialChars(),this.FDelimiter},this.GetNameValueSeparator=function(){return this.CheckSpecialChars(),this.FNameValueSeparator},this.GetQuoteChar=function(){return this.CheckSpecialChars(),this.FQuoteChar},this.SetLineBreak=function(t){this.CheckSpecialChars(),this.FLineBreak=t},this.GetSkipLastLineBreak=function(){return this.CheckSpecialChars(),this.FSkipLastLineBreak},this.SetSkipLastLineBreak=function(t){this.CheckSpecialChars(),this.FSkipLastLineBreak=t},this.Error=function(e,i){throw t.EStringListError.$create("CreateFmt",[e,pas.System.VarRecs(18,pas.SysUtils.IntToStr(i))])},this.GetCapacity=function(){return this.GetCount()},this.GetObject=function(t){return null,null},this.GetTextStr=function(){var t="",e=0,i="";if(this.CheckSpecialChars(),this.FLineBreak!==pas.System.sLineBreak)i=this.FLineBreak;else{var s=this.FLBS;0===s?i="\n":1===s?i="\r\n":2===s&&(i="\r")}t="";for(var o=0,n=this.GetCount()-1;o<=n;o++)e=o,t+=this.Get(e),(e<this.GetCount()-1||!this.GetSkipLastLineBreak())&&(t+=i);return t},this.Put=function(t,e){var i;i=this.GetObject(t),this.Delete(t),this.InsertObject(t,e,i)},this.PutObject=function(t,e){},this.SetTextStr=function(t){this.CheckSpecialChars(),this.DoSetTextStr(t,!0)},this.SetUpdateState=function(t){},this.DoCompareText=function(t,e){return pas.SysUtils.CompareText(t,e)},this.GetDelimitedText=function(){var t="",e=0,i="",s="";this.CheckSpecialChars(),t="",i=this.GetQuoteChar()+"|"+this.GetDelimiter(),this.FStrictDelimiter||(i=" |"+i),i="/"+i+"/";for(var o=0,n=this.GetCount()-1;o<=n;o++)e=o,s=this.Get(e),t+=this.FAlwaysQuote||-1!==s.search(i)?pas.SysUtils.QuoteString(s,this.GetQuoteChar()):s,e<this.GetCount()-1&&(t+=this.GetDelimiter());return 0===t.length&&1===this.GetCount()&&(t=this.GetQuoteChar()+this.GetQuoteChar()),t},this.SetDelimitedText=function(t){var e=0,i=0,s=!1;this.CheckSpecialChars(),this.BeginUpdate(),e=1,i=1,s=!1;try{if(this.Clear(),this.FStrictDelimiter)for(;e<=t.length;){if(s&&e<=t.length&&t.charAt(e-1)===this.FDelimiter&&(e+=1),e<=t.length)if(t.charAt(e-1)===this.FQuoteChar){for(i=e+1;i<=t.length&&(t.charAt(i-1)!==this.FQuoteChar||i+1<=t.length&&t.charAt(i+1-1)===this.FQuoteChar);)i<=t.length&&t.charAt(i-1)===this.FQuoteChar?i+=2:i+=1;this.Add(pas.SysUtils.StringReplace(pas.System.Copy(t,e+1,i-e-1),this.FQuoteChar+this.FQuoteChar,this.FQuoteChar,rtl.createSet(0))),e=i+1}else{for(i=e;i<=t.length&&t.charAt(i-1)!==this.FDelimiter;)i+=1;this.Add(pas.System.Copy(t,e,i-e)),e=i}else s&&this.Add("");s=!0}else for(;e<=t.length;){for(s&&e<=t.length&&t.charAt(e-1)===this.FDelimiter&&(e+=1);e<=t.length&&t.charCodeAt(e-1)<=32;)e+=1;if(e<=t.length)if(t.charAt(e-1)===this.FQuoteChar){for(i=e+1;i<=t.length&&(t.charAt(i-1)!==this.FQuoteChar||i+1<=t.length&&t.charAt(i+1-1)===this.FQuoteChar);)i<=t.length&&t.charAt(i-1)===this.FQuoteChar?i+=2:i+=1;this.Add(pas.SysUtils.StringReplace(pas.System.Copy(t,e+1,i-e-1),this.FQuoteChar+this.FQuoteChar,this.FQuoteChar,rtl.createSet(0))),e=i+1}else{for(i=e;i<=t.length&&t.charCodeAt(i-1)>32&&t.charAt(i-1)!==this.FDelimiter;)i+=1;this.Add(pas.System.Copy(t,e,i-e)),e=i}else s&&this.Add("");for(;e<=t.length&&t.charCodeAt(e-1)<=32;)e+=1;s=!0}}finally{this.EndUpdate()}},this.CheckSpecialChars=function(){this.FSpecialCharsInited||(this.FQuoteChar='"',this.FDelimiter=",",this.FNameValueSeparator="=",this.FLBS=pas.System.DefaultTextLineBreakStyle,this.FSpecialCharsInited=!0,this.FLineBreak=pas.System.sLineBreak)},this.GetNextLinebreak=function(t,e,i){var s,o,n=!1,a=0,r=0;return e.set(""),n=!1,t.length-i.get()<0?n:(s=t.indexOf("\n",i.get()-1)+1,o=t.indexOf("\r",i.get()-1)+1,r=1,s>0&&o>0?(s-o==1&&(r=2),a=s<o?s:o):a=s>0&&o<1?s:o>0&&s<1?o:t.length+1,e.set(pas.System.Copy(t,i.get(),a-i.get())),i.set(a+r),n=!0)},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FAlwaysQuote=!1,this},this.Destroy=function(){pas.System.TObject.Destroy.call(this)},this.Add=function(t){var e;return e=this.GetCount(),this.Insert(this.GetCount(),t),e},this.AddObject=function(t,e){var i;return i=this.Add(t),this.PutObject(i,e),i},this.AddStrings=function(t){for(var e=0,i=0,s=t.GetCount()-1;i<=s;i++)e=i,this.AddObject(t.Get(e),t.GetObject(e))},this.Assign=function(e){var i=null;if(t.TStrings.isPrototypeOf(e)){i=e,this.BeginUpdate();try{this.Clear(),this.FSpecialCharsInited=i.FSpecialCharsInited,this.FQuoteChar=i.FQuoteChar,this.FDelimiter=i.FDelimiter,this.FNameValueSeparator=i.FNameValueSeparator,this.FLBS=i.FLBS,this.FLineBreak=i.FLineBreak,this.AddStrings(i)}finally{this.EndUpdate()}}else t.TPersistent.Assign.call(this,e)},this.BeginUpdate=function(){0===this.FUpdateCount&&this.SetUpdateState(!0),this.FUpdateCount+=1},this.EndUpdate=function(){this.FUpdateCount>0&&(this.FUpdateCount-=1),0===this.FUpdateCount&&this.SetUpdateState(!1)},this.IndexOf=function(t){var e=0;for(e=0;e<this.GetCount()&&0!==this.DoCompareText(this.Get(e),t);)e+=1;return e===this.GetCount()&&(e=-1),e},this.IndexOfName=function(t){var e=0,i=0,s="";for(this.CheckSpecialChars(),e=0;e<this.GetCount();){if(s=this.Get(e),(i=pas.System.Pos(this.FNameValueSeparator,s)-1)>=0&&0===this.DoCompareText(t,pas.System.Copy(s,1,i)))return e;e+=1}return e=-1},this.InsertObject=function(t,e,i){this.Insert(t,e),this.PutObject(t,i)},this.GetNameValue=function(t,e,i){var s;this.CheckSpecialChars(),i.set(this.Get(t)),0!==(s=pas.System.Pos(this.FNameValueSeparator,i.get()))?(e.set(pas.System.Copy(i.get(),1,s-1)),i.set(pas.System.Copy(i.get(),s+1,i.get().length-s))):e.set("")},this.$rtti.addMethod("Create$1",2,[])})),rtl.recNewT(this,"TStringItem",(function(){this.FString="",this.FObject=null,this.$eq=function(t){return this.FString===t.FString&&this.FObject===t.FObject},this.$assign=function(t){return this.FString=t.FString,this.FObject=t.FObject,this}})),this.$rtti.$Class("TStringList"),this.TStringsSortStyle={0:"sslNone",sslNone:0,1:"sslUser",sslUser:1,2:"sslAuto",sslAuto:2},rtl.createClass(this,"TStringList",this.TStrings,(function(){this.$init=function(){t.TStrings.$init.call(this),this.FList=[],this.FCount=0,this.FOnChange=null,this.FOnChanging=null,this.FDuplicates=0,this.FCaseSensitive=!1,this.FForceSort=!1,this.FOwnsObjects=!1,this.FSortStyle=0},this.$final=function(){this.FList=void 0,this.FOnChange=void 0,this.FOnChanging=void 0,t.TStrings.$final.call(this)},this.ExchangeItemsInt=function(t,e){var i,s;i=this.FList[t].FString,s=this.FList[t].FObject,this.FList[t].FString=this.FList[e].FString,this.FList[t].FObject=this.FList[e].FObject,this.FList[e].FString=i,this.FList[e].FObject=s},this.GetSorted=function(){return this.FSortStyle in rtl.createSet(1,2)},this.Grow=function(){var t=0;(t=this.GetCapacity())>=256?t+=rtl.trunc(t/4):0===t?t=4:t*=4,this.SetCapacity(t)},this.InternalClear=function(t,e){var i=0;if(t<this.FCount){if(this.FOwnsObjects)for(var s=t,o=this.FCount-1;s<=o;s++)i=s,this.FList[i].FString="",pas.SysUtils.FreeAndNil({p:this.FList[i],get:function(){return this.p.FObject},set:function(t){this.p.FObject=t}});else for(var n=t,a=this.FCount-1;n<=a;n++)i=n,this.FList[i].FString="";this.FCount=t}e||this.SetCapacity(0)},this.QuickSort=function(t,e,i){var s=0,o=0,n=0;if(e-t<=1)t<e&&i(this,t,e)>0&&this.ExchangeItems(t,e);else{for(o=t,n=e,s=t+pas.System.Random(e-t);o<n;){for(;o<s&&i(this,o,s)<=0;)o+=1;for(;n>s&&i(this,n,s)>0;)n-=1;this.ExchangeItems(o,n),s===o?s=n:s===n&&(s=o)}s-1>=t&&this.QuickSort(t,s-1,i),s+1<=e&&this.QuickSort(s+1,e,i)}},this.SetSorted=function(t){t?this.SetSortStyle(2):this.SetSortStyle(0)},this.SetCaseSensitive=function(t){if(t!==this.FCaseSensitive&&(this.FCaseSensitive=t,2===this.FSortStyle)){this.FForceSort=!0;try{this.Sort()}finally{this.FForceSort=!1}}},this.SetSortStyle=function(t){this.FSortStyle!==t&&(2===t&&this.Sort(),this.FSortStyle=t)},this.CheckIndex=function(t){(t<0||t>=this.FCount)&&this.Error(rtl.getResStr(pas.RTLConsts,"SListIndexError"),t)},this.ExchangeItems=function(t,e){this.ExchangeItemsInt(t,e)},this.Changed=function(){0===this.FUpdateCount&&null!=this.FOnChange&&this.FOnChange(this)},this.Changing=function(){0===this.FUpdateCount&&null!=this.FOnChanging&&this.FOnChanging(this)},this.Get=function(t){return this.CheckIndex(t),this.FList[t].FString},this.GetCapacity=function(){return rtl.length(this.FList)},this.GetCount=function(){return this.FCount},this.GetObject=function(t){return this.CheckIndex(t),this.FList[t].FObject},this.Put=function(t,e){this.GetSorted()&&this.Error(rtl.getResStr(pas.RTLConsts,"SSortedListError"),0),this.CheckIndex(t),this.Changing(),this.FList[t].FString=e,this.Changed()},this.PutObject=function(t,e){this.CheckIndex(t),this.Changing(),this.FList[t].FObject=e,this.Changed()},this.SetCapacity=function(e){e<0&&this.Error(rtl.getResStr(pas.RTLConsts,"SListCapacityError"),e),e!==this.GetCapacity()&&(this.FList=rtl.arraySetLength(this.FList,t.TStringItem,e))},this.SetUpdateState=function(t){t?this.Changing():this.Changed()},this.InsertItem=function(t,e){this.InsertItem$1(t,e,null)},this.InsertItem$1=function(e,i,s){var o=t.TStringItem.$new();this.Changing(),this.FCount===this.GetCapacity()&&this.Grow(),o.FString=i,o.FObject=s,this.FList.splice(e,0,o),this.FCount+=1,this.Changed()},this.DoCompareText=function(t,e){return this.FCaseSensitive?pas.SysUtils.CompareStr(t,e):pas.SysUtils.CompareText(t,e)},this.Destroy=function(){this.InternalClear(0,!1),t.TStrings.Destroy.call(this)},this.Add=function(t){var e=0;if(2!==this.FSortStyle)e=this.FCount;else if(this.Find(t,{get:function(){return e},set:function(t){e=t}})){var i=this.FDuplicates;if(0===i)return e;2===i&&this.Error(rtl.getResStr(pas.RTLConsts,"SDuplicateString"),0)}return this.InsertItem(e,t),e},this.Clear=function(){0!==this.FCount&&(this.Changing(),this.InternalClear(0,!1),this.Changed())},this.Delete=function(t){this.CheckIndex(t),this.Changing(),this.FOwnsObjects&&pas.SysUtils.FreeAndNil({p:this.FList[t],get:function(){return this.p.FObject},set:function(t){this.p.FObject=t}}),this.FList.splice(t,1),this.FList[this.GetCount()-1].FString="",this.FList[this.GetCount()-1].FObject=null,this.FCount-=1,this.Changed()},this.Find=function(e,i){var s=!1,o=0,n=0,a=0,r=0;if(s=!1,i.set(-1),!this.GetSorted())throw t.EListError.$create("Create$1",[rtl.getResStr(pas.RTLConsts,"SErrFindNeedsSortedList")]);for(o=0,n=this.GetCount()-1;o<=n;)a=o+rtl.trunc((n-o)/2),(r=this.DoCompareText(e,this.FList[a].FString))>0?o=a+1:(n=a-1,0===r&&(s=!0,1!==this.FDuplicates&&(o=a)));return i.set(o),s},this.IndexOf=function(e){var i=0;return this.GetSorted()?this.Find(e,{get:function(){return i},set:function(t){i=t}})||(i=-1):i=t.TStrings.IndexOf.call(this,e),i},this.Insert=function(t,e){2===this.FSortStyle?this.Error(rtl.getResStr(pas.RTLConsts,"SSortedListError"),0):((t<0||t>this.FCount)&&this.Error(rtl.getResStr(pas.RTLConsts,"SListIndexError"),t),this.InsertItem(t,e))},this.Sort=function(){this.CustomSort(e.StringListAnsiCompare)},this.CustomSort=function(t){(this.FForceSort||2!==this.FSortStyle)&&this.FCount>1&&(this.Changing(),this.QuickSort(0,this.FCount-1,t),this.Changed())}})),rtl.createClass(this,"TCollectionItem",this.TPersistent,(function(){this.$init=function(){t.TPersistent.$init.call(this),this.FCollection=null,this.FID=0},this.$final=function(){this.FCollection=void 0,t.TPersistent.$final.call(this)},this.GetIndex=function(){return null!=this.FCollection?this.FCollection.FItems.IndexOf(this):-1},this.SetCollection=function(t){t!==this.FCollection&&(null!=this.FCollection&&this.FCollection.RemoveItem(this),null!=t&&t.InsertItem(this))},this.Changed=function(t){null!==this.FCollection&&0===this.FCollection.FUpdateCount&&(t?this.FCollection.Update(null):this.FCollection.Update(this))},this.GetOwner=function(){return this.FCollection},this.SetIndex=function(t){var e;(e=this.GetIndex())>-1&&e!==t&&(this.FCollection.FItems.Move(e,t),this.Changed(!0))},this.Create$1=function(t){return pas.System.TObject.Create.call(this),this.SetCollection(t),this},this.Destroy=function(){this.SetCollection(null),pas.System.TObject.Destroy.call(this)},this.$rtti.addMethod("Create$1",2,[["ACollection",t.$rtti.TCollection]])})),this.TCollectionNotification={0:"cnAdded",cnAdded:0,1:"cnExtracting",cnExtracting:1,2:"cnDeleting",cnDeleting:2},rtl.createClass(this,"TCollection",this.TPersistent,(function(){this.$init=function(){t.TPersistent.$init.call(this),this.FItemClass=null,this.FItems=null,this.FUpdateCount=0,this.FNextID=0,this.FPropName=""},this.$final=function(){this.FItemClass=void 0,this.FItems=void 0,t.TPersistent.$final.call(this)},this.GetCount=function(){return this.FItems.FCount},this.InsertItem=function(t){this.FItemClass.isPrototypeOf(t)&&(this.FItems.Add(t),t.FCollection=this,t.FID=this.FNextID,this.FNextID+=1,this.SetItemName(t),this.Notify(t,0),this.Changed())},this.RemoveItem=function(t){var e;this.Notify(t,1),-1!==(e=this.FItems.IndexOfItem(t,1))&&this.FItems.Delete(e),t.FCollection=null,this.Changed()},this.DoClear=function(){for(var t=null;this.FItems.FCount>0;)null!=(t=rtl.getObject(this.FItems.Last()))&&t.$destroy("Destroy")},this.Changed=function(){0===this.FUpdateCount&&this.Update(null)},this.GetItem=function(t){return rtl.getObject(this.FItems.Get(t))},this.SetItemName=function(t){},this.Update=function(t){},this.Notify=function(t,e){},this.Create$1=function(e){return pas.System.TObject.Create.call(this),this.FItemClass=e,this.FItems=t.TFPList.$create("Create"),this},this.Destroy=function(){this.FUpdateCount=1;try{this.DoClear()}finally{this.FUpdateCount=0}null!=this.FItems&&this.FItems.$destroy("Destroy"),pas.System.TObject.Destroy.call(this)},this.Owner=function(){return this.GetOwner()},this.Add=function(){return this.FItemClass.$create("Create$1",[this])},this.Assign=function(e){var i=0;if(t.TCollection.isPrototypeOf(e)){this.Clear();for(var s=0,o=e.GetCount()-1;s<=o;s++)i=s,this.Add().Assign(e.GetItem(i))}else t.TPersistent.Assign.call(this,e)},this.BeginUpdate=function(){this.FUpdateCount+=1},this.Clear=function(){if(0!==this.FItems.FCount){this.BeginUpdate();try{this.DoClear()}finally{this.EndUpdate()}}},this.EndUpdate=function(){this.FUpdateCount>0&&(this.FUpdateCount-=1),0===this.FUpdateCount&&this.Changed()},this.Delete=function(t){var e=null;e=rtl.getObject(this.FItems.Get(t)),this.Notify(e,2),null!=e&&e.$destroy("Destroy")},this.Insert=function(t){var e=null;return(e=this.Add()).SetIndex(t),e},this.$rtti.addMethod("Create$1",2,[["AItemClass",t.$rtti.TCollectionItemClass]])})),rtl.createClass(this,"TOwnedCollection",this.TCollection,(function(){this.$init=function(){t.TCollection.$init.call(this),this.FOwner=null},this.$final=function(){this.FOwner=void 0,t.TCollection.$final.call(this)},this.GetOwner=function(){return this.FOwner},this.Create$2=function(e,i){return this.FOwner=e,t.TCollection.Create$1.call(this,i),this},this.$rtti.addMethod("Create$2",2,[["AOwner",t.$rtti.TPersistent],["AItemClass",t.$rtti.TCollectionItemClass]])})),this.TOperation={0:"opInsert",opInsert:0,1:"opRemove",opRemove:1},this.TComponentStateItem={0:"csLoading",csLoading:0,1:"csReading",csReading:1,2:"csWriting",csWriting:2,3:"csDestroying",csDestroying:3,4:"csDesigning",csDesigning:4,5:"csAncestor",csAncestor:5,6:"csUpdating",csUpdating:6,7:"csFixups",csFixups:7,8:"csFreeNotification",csFreeNotification:8,9:"csInline",csInline:9,10:"csDesignInstance",csDesignInstance:10},this.TComponentStyleItem={0:"csInheritable",csInheritable:0,1:"csCheckPropAvail",csCheckPropAvail:1,2:"csSubComponent",csSubComponent:2,3:"csTransient",csTransient:3},this.$rtti.$inherited("TComponentName",rtl.string,{}),rtl.createClass(this,"TComponent",this.TPersistent,(function(){this.$init=function(){t.TPersistent.$init.call(this),this.FOwner=null,this.FName="",this.FTag=0,this.FComponents=null,this.FFreeNotifies=null,this.FComponentState={},this.FComponentStyle={},this.FLeft=0,this.FTop=0},this.$final=function(){this.FOwner=void 0,this.FComponents=void 0,this.FFreeNotifies=void 0,this.FComponentState=void 0,this.FComponentStyle=void 0,t.TPersistent.$final.call(this)},this.GetComponent=function(t){return null==this.FComponents?null:rtl.getObject(this.FComponents.Get(t))},this.GetComponentCount=function(){return null==this.FComponents?0:this.FComponents.FCount},this.Insert=function(e){null==this.FComponents&&(this.FComponents=t.TFPList.$create("Create")),this.FComponents.Add(e),e.FOwner=this},this.Remove=function(t){t.FOwner=null,null!=this.FComponents&&(this.FComponents.Remove(t),0===this.FComponents.FCount&&(this.FComponents.$destroy("Destroy"),this.FComponents=null))},this.RemoveNotification=function(t){null!==this.FFreeNotifies&&(this.FFreeNotifies.Remove(t),0===this.FFreeNotifies.FCount&&(this.FFreeNotifies.$destroy("Destroy"),this.FFreeNotifies=null,this.FComponentState=rtl.excludeSet(this.FComponentState,8)))},this.SetReference=function(t){var e=null,i=null,s=null;""!==this.FName&&null!=this.FOwner&&(s=this.FOwner,null!=(e=this.FOwner.$class.FieldAddress(this.FName))&&(i=t?this:null,s[""+e.name]=i))},this.ChangeName=function(t){this.FName=t},this.GetOwner=function(){return this.FOwner},this.Loaded=function(){this.FComponentState=rtl.excludeSet(this.FComponentState,0)},this.Loading=function(){this.FComponentState=rtl.includeSet(this.FComponentState,0)},this.Notification=function(t,e){var i=0;if(1===e&&this.RemoveFreeNotification(t),null!=this.FComponents)for(i=this.FComponents.FCount-1;i>=0;)rtl.getObject(this.FComponents.Get(i)).Notification(t,e),(i-=1)>=this.FComponents.FCount&&(i=this.FComponents.FCount-1)},this.SetDesigning=function(t,e){var i=0;if(this.FComponentState=t?rtl.includeSet(this.FComponentState,4):rtl.excludeSet(this.FComponentState,4),null!=this.FComponents&&e)for(var s=0,o=this.FComponents.FCount-1;s<=o;s++)i=s,rtl.getObject(this.FComponents.Get(i)).SetDesigning(t,!0)},this.SetName=function(e){if(this.FName!==e){if(""!==e&&!pas.SysUtils.IsValidIdent(e,!1,!1))throw t.EComponentError.$create("CreateFmt",[rtl.getResStr(pas.RTLConsts,"SInvalidName"),pas.System.VarRecs(18,e)]);null!=this.FOwner?this.FOwner.ValidateRename(this,this.FName,e):this.ValidateRename(null,this.FName,e),this.SetReference(!1),this.ChangeName(e),this.SetReference(!0)}},this.SetChildOrder=function(t,e){},this.ValidateRename=function(e,i,s){if(null!==e&&0!==pas.SysUtils.CompareText(i,s)&&e.FOwner===this&&null!==this.FindComponent(s))throw t.EComponentError.$create("CreateFmt",[rtl.getResStr(pas.RTLConsts,"SDuplicateName"),pas.System.VarRecs(18,s)]);4 in this.FComponentState&&null!==this.FOwner&&this.FOwner.ValidateRename(e,i,s)},this.ValidateContainer=function(t){t.ValidateInsert(this)},this.ValidateInsert=function(t){},this._AddRef=function(){return-1,-1},this.GetLeft=function(){return this.FLeft},this.GetTop=function(){return this.FTop},this.SetLeft=function(t){this.FLeft=t},this.SetTop=function(t){this.FTop=t},this._Release=function(){return-1,-1},this.Create$1=function(t){return this.FComponentStyle=rtl.createSet(0),null!=t&&t.InsertComponent(this),this},this.Destroy=function(){var t=0,e=null;if(this.Destroying(),null!=this.FFreeNotifies){for(t=this.FFreeNotifies.FCount-1;t>=0;)e=rtl.getObject(this.FFreeNotifies.Get(t)),this.FFreeNotifies.Delete(t),e.Notification(this,1),null===this.FFreeNotifies?t=0:t>this.FFreeNotifies.FCount&&(t=this.FFreeNotifies.FCount),t-=1;pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FFreeNotifies},set:function(t){this.p.FFreeNotifies=t}})}this.DestroyComponents(),null!==this.FOwner&&this.FOwner.RemoveComponent(this),pas.System.TObject.Destroy.call(this)},this.BeforeDestruction=function(){3 in this.FComponentState||this.Destroying()},this.DestroyComponents=function(){for(var t=null;null!=this.FComponents;)t=rtl.getObject(this.FComponents.Last()),this.Remove(t),t.$destroy("Destroy")},this.Destroying=function(){var t=0;if(!(3 in this.FComponentState)&&(this.FComponentState=rtl.includeSet(this.FComponentState,3),null!=this.FComponents))for(var e=0,i=this.FComponents.FCount-1;e<=i;e++)t=e,rtl.getObject(this.FComponents.Get(t)).Destroying()},this.QueryInterface=function(t,e){return this.GetInterface(t,e)?0:-2147467262},this.AfterLoadDFMValues=function(){this.EndUpdate(),this.Loaded()},this.BeforeLoadDFMValues=function(){4 in this.FComponentState||this.Loading(),this.BeginUpdate()},this.BeginUpdate=function(){},this.EndUpdate=function(){},this.FindComponent=function(t){var e=null,i=0;if(e=null,""===t||null==this.FComponents)return e;for(var s=0,o=this.FComponents.FCount-1;s<=o;s++)if(i=s,0===pas.SysUtils.CompareText(rtl.getObject(this.FComponents.Get(i)).FName,t))return e=rtl.getObject(this.FComponents.Get(i));return e},this.FreeNotification=function(e){null!==this.FOwner&&e===this.FOwner||(null==this.FFreeNotifies&&(this.FFreeNotifies=t.TFPList.$create("Create")),-1===this.FFreeNotifies.IndexOf(e)&&(this.FFreeNotifies.Add(e),e.FreeNotification(this)))},this.RemoveFreeNotification=function(t){this.RemoveNotification(t),t.RemoveNotification(this)},this.InsertComponent=function(t){t.ValidateContainer(this),this.ValidateRename(t,"",t.FName),null!==t.FOwner&&t.FOwner.RemoveComponent(t),this.Insert(t),4 in this.FComponentState&&t.SetDesigning(!0,!0),this.Notification(t,0)},this.RemoveComponent=function(t){this.Notification(t,1),this.Remove(t),t.SetDesigning(!1,!0),this.ValidateRename(t,t.FName,"")},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addMethod("Create$1",2,[["AOwner",e]]),e.addProperty("Name",6,t.$rtti.TComponentName,"FName","SetName"),e.addProperty("Tag",0,rtl.nativeint,"FTag","FTag",{Default:0})})),rtl.createClass(this,"TLoadHelper",pas.System.TObject,(function(){})),this.TMSPlatformsWeb=1,rtl.createClass(this,"ComponentPlatformsAttribute",pas.System.TCustomAttribute,(function(){this.$init=function(){pas.System.TCustomAttribute.$init.call(this),this.FPlatforms=0},this.Create$1=function(t){return this.FPlatforms=t,this},this.$rtti.addMethod("Create$1",2,[["Platforms",rtl.longword,2]])})),this.TShiftState$a={0:"ssShift",ssShift:0,1:"ssAlt",ssAlt:1,2:"ssCtrl",ssCtrl:2,3:"ssLeft",ssLeft:3,4:"ssRight",ssRight:4,5:"ssMIDdle",ssMIDdle:5,6:"ssDouble",ssDouble:6,7:"ssTouch",ssTouch:7,8:"ssPen",ssPen:8,9:"ssCommand",ssCommand:9},this.$rtti.$Enum("TShiftState$a",{minvalue:0,maxvalue:9,ordtype:1,enumtype:this.TShiftState$a}),this.$rtti.$Set("TShiftState",{comptype:this.$rtti.TShiftState$a}),this.RegisterClass=function(t){e.ClassList[t.$classname]=t},this.RegisterClasses=function(e){for(var i=null,s=e,o=0,n=rtl.length(s)-1;o<=n;o++)i=s[o],t.RegisterClass(i)},this.GetClass=function(t){var i=null;return i=null,""===t?i:e.ClassList.hasOwnProperty(t)?i=rtl.getObject(e.ClassList[t]):i},this.SetLoadHelperClass=function(t){var i;return i=e.GlobalLoadHelper,e.GlobalLoadHelper=t,i},t.$implcode=function(){e.GlobalLoadHelper=null,e.StringListAnsiCompare=function(t,e,i){return t.DoCompareText(t.FList[e].FString,t.FList[i].FString)},e.ClassList=null},t.$init=function(){e.ClassList=new Object}}),["Web"]),rtl.module("WEBLib.Consts",["System"],(function(){"use strict";this.$resourcestrings={SWarning:{org:"Warning"},SError:{org:"Error"},SInformation:{org:"Information"},SConfirm:{org:"Confirm"},SOK:{org:"OK"},SCancel:{org:"Cancel"},SYes:{org:"Yes"},SNo:{org:"No"},SAbort:{org:"Abort"},SRetry:{org:"Retry"},SIgnore:{org:"Ignore"},SHelp:{org:"Help"},SClose:{org:"Close"},SAll:{org:"All"},SYesToAll:{org:"Yes to all"},SNoToAll:{org:"No to all"},SWarningFR:{org:"Avertissement"},SErrorFR:{org:"Erreur"},SInformationFR:{org:"Information"},SConfirmFR:{org:"Confirmer"},SOKFR:{org:"OK"},SCancelFR:{org:"Annuler"},SYesFR:{org:"Oui"},SNoFR:{org:"Non"},SAbortFR:{org:"Interrompre"},SRetryFR:{org:"Réessayer"},SIgnoreFR:{org:"Ignorer"},SHelpFR:{org:"Aide"},SCloseFR:{org:"Fermer"},SAllFR:{org:"Tout"},SYesToAllFR:{org:"Oui à tout"},SNoToAllFR:{org:"Non à tout"},SWarningDE:{org:"Warnung"},SErrorDE:{org:"Fehler"},SInformationDE:{org:"Information"},SConfirmDE:{org:"Bestätigen"},SOKDE:{org:"OK"},SCancelDE:{org:"Abbrechen"},SYesDE:{org:"Ja"},SNoDE:{org:"Nein"},SAbortDE:{org:"Abbrechen"},SRetryDE:{org:"Wiederholen"},SIgnoreDE:{org:"Ignorieren"},SHelpDE:{org:"Hilfe"},SCloseDE:{org:"Schließen"},SAllDE:{org:"Alles"},SYesToAllDE:{org:"Ja auf Alles"},SNoToAllDE:{org:"Nein auf Alles"},SWarningES:{org:"Advertencia"},SErrorES:{org:"Error"},SInformationES:{org:"Información"},SConfirmES:{org:"Confirmado"},SOKES:{org:"OK"},SCancelES:{org:"Cancelar"},SYesES:{org:"Sí"},SNoES:{org:"No"},SAbortES:{org:"Abortar"},SRetryES:{org:"Rever"},SIgnoreES:{org:"Ignorar"},SHelpES:{org:"Ayudar"},SCloseES:{org:"Cerrar"},SAllES:{org:"Todos"},SYesToAllES:{org:"Sí a todo"},SNoToAllES:{org:"No a todo"},SWarningNL:{org:"Waarschuwing"},SErrorNL:{org:"Fout"},SInformationNL:{org:"Informatie"},SConfirmNL:{org:"Bevestiging"},SOKNL:{org:"OK"},SCancelNL:{org:"Afbreken"},SYesNL:{org:"Ja"},SNoNL:{org:"Nee"},SAbortNL:{org:"Afbreken"},SRetryNL:{org:"Opnieuw"},SIgnoreNL:{org:"Negeren"},SHelpNL:{org:"Hulp"},SCloseNL:{org:"Sluiten"},SAllNL:{org:"Alles"},SYesToAllNL:{org:"Ja op alles"},SNoToAllNL:{org:"Nee op alles"}}})),rtl.module("WEBLib.Dialogs",["System","Classes","WEBLib.Controls","Web","JS","SysUtils","WEBLib.WebTools","WEBLib.Graphics"],(function(){"use strict";var t=this,e=t.$impl;this.TMsgDlgType={0:"mtWarning",mtWarning:0,1:"mtError",mtError:1,2:"mtInformation",mtInformation:2,3:"mtConfirmation",mtConfirmation:3,4:"mtCustom",mtCustom:4},this.$rtti.$Enum("TMsgDlgType",{minvalue:0,maxvalue:4,ordtype:1,enumtype:this.TMsgDlgType}),this.TMsgDlgBtn={0:"mbYes",mbYes:0,1:"mbNo",mbNo:1,2:"mbOK",mbOK:2,3:"mbCancel",mbCancel:3,4:"mbAbort",mbAbort:4,5:"mbRetry",mbRetry:5,6:"mbIgnore",mbIgnore:6,7:"mbAll",mbAll:7,8:"mbNoToAll",mbNoToAll:8,9:"mbYesToAll",mbYesToAll:9,10:"mbHelp",mbHelp:10,11:"mbClose",mbClose:11},this.$rtti.$Enum("TMsgDlgBtn",{minvalue:0,maxvalue:11,ordtype:1,enumtype:this.TMsgDlgBtn}),this.$rtti.$Set("TMsgDlgButtons",{comptype:this.$rtti.TMsgDlgBtn}),rtl.createClass(this,"TCustomDialogButton",pas.Classes.TCollectionItem,(function(){this.$init=function(){pas.Classes.TCollectionItem.$init.call(this),this.FCaption="",this.FTag=0,this.FElementClassName=""};var t=this.$rtti;t.addProperty("Caption",0,rtl.string,"FCaption","FCaption"),t.addProperty("ElementClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","FElementClassName"),t.addProperty("Tag",0,rtl.longint,"FTag","FTag",{Default:0})})),rtl.createClass(this,"TCustomDialogButtons",pas.Classes.TOwnedCollection,(function(){this.GetItem$1=function(t){return this.GetItem(t)}})),rtl.createClass(this,"TMessageDlg",pas["WEBLib.Controls"].TCustomControl,(function(){this.$init=function(){pas["WEBLib.Controls"].TCustomControl.$init.call(this),this.FOpacity=0,this.FLayer$1=null,this.FDlg=null,this.FCancel=null,this.FMessage="",this.FTitle="",this.FMsgDlgType=0,this.FOnButtonClick=null,this.FOnClose=null,this.FButtons={},this.FDialogProc=null,this.FDialogResult=0,this.FMdx=0,this.FMdy=0,this.FDlgX=0,this.FDlgY=0,this.FCaptured$1=!1,this.FDown=!1,this.FElementTitleClassName="",this.FElementButtonClassName="",this.FElementContentClassName="",this.FDialogText=null,this.FCustomButtons=null,this.FElementDialogClassName="",this.FAutoLanguage=!1},this.$final=function(){this.FLayer$1=void 0,this.FDlg=void 0,this.FCancel=void 0,this.FOnButtonClick=void 0,this.FOnClose=void 0,this.FButtons=void 0,this.FDialogProc=void 0,this.FDialogText=void 0,this.FCustomButtons=void 0,pas["WEBLib.Controls"].TCustomControl.$final.call(this)},this.SetDialogText=function(t){this.FDialogText.Assign(t)},this.SetCustomButtons=function(t){this.FCustomButtons.Assign(t)},this.CreateElement=function(){var t=null;return 4 in this.FComponentState?t=null:pas["WEBLib.Controls"].TCustomControl.CreateElement.call(this),t};this.GetDialogText=function(t){var e="",i="",s=0;if(e="Undefined",t<this.FDialogText.GetCount()&&(e=this.FDialogText.Get(t)),this.FAutoLanguage){i=pas["WEBLib.WebTools"].GetBrowserLocale(),s=0,1===pas.System.Pos("es",i)&&(s=3),1===pas.System.Pos("fr",i)&&(s=1),1===pas.System.Pos("de",i)&&(s=2),1===pas.System.Pos("nl",i)&&(s=4);var o=s;if(3===o){var n=t;0===n?e=rtl.getResStr(pas["WEBLib.Consts"],"SWarningES"):1===n?e=rtl.getResStr(pas["WEBLib.Consts"],"SErrorES"):2===n?e=rtl.getResStr(pas["WEBLib.Consts"],"SInformationES"):3===n?e=rtl.getResStr(pas["WEBLib.Consts"],"SConfirmES"):5===n?e=rtl.getResStr(pas["WEBLib.Consts"],"SOKES"):6===n?e=rtl.getResStr(pas["WEBLib.Consts"],"SCancelES"):7===n?e=rtl.getResStr(pas["WEBLib.Consts"],"SYesES"):8===n?e=rtl.getResStr(pas["WEBLib.Consts"],"SNoES"):9===n?e=rtl.getResStr(pas["WEBLib.Consts"],"SAbortES"):10===n?e=rtl.getResStr(pas["WEBLib.Consts"],"SRetryES"):11===n?e=rtl.getResStr(pas["WEBLib.Consts"],"SIgnoreES"):12===n?e=rtl.getResStr(pas["WEBLib.Consts"],"SAllES"):13===n?e=rtl.getResStr(pas["WEBLib.Consts"],"SYesToAllES"):14===n?e=rtl.getResStr(pas["WEBLib.Consts"],"SNoToAllES"):15===n?e=rtl.getResStr(pas["WEBLib.Consts"],"SHelpES"):16===n&&(e=rtl.getResStr(pas["WEBLib.Consts"],"SCloseES"))}else if(1===o){var a=t;0===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SWarningFR"):1===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SErrorFR"):2===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SInformationFR"):3===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SConfirmFR"):5===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SOKFR"):6===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SCancelFR"):7===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SYesFR"):8===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SNoFR"):9===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SAbortFR"):10===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SRetryFR"):11===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SIgnoreFR"):12===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SAllFR"):13===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SYesToAllFR"):14===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SNoToAllFR"):15===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SHelpFR"):16===a&&(e=rtl.getResStr(pas["WEBLib.Consts"],"SCloseFR"))}else if(2===o){var r=t;0===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SWarningDE"):1===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SErrorDE"):2===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SInformationDE"):3===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SConfirmDE"):5===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SOKDE"):6===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SCancelDE"):7===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SYesDE"):8===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SNoDE"):9===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SAbortDE"):10===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SRetryDE"):11===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SIgnoreDE"):12===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SAllDE"):13===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SYesToAllDE"):14===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SNoToAllDE"):15===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SHelpDE"):16===r&&(e=rtl.getResStr(pas["WEBLib.Consts"],"SCloseDE"))}else if(4===o){var l=t;0===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SWarningNL"):1===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SErrorNL"):2===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SInformationNL"):3===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SConfirmNL"):5===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SOKNL"):6===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SCancelNL"):7===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SYesNL"):8===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SNoNL"):9===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SAbortNL"):10===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SRetryNL"):11===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SIgnoreNL"):12===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SAllNL"):13===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SYesToAllNL"):14===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SNoToAllNL"):15===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SHelpNL"):16===l&&(e=rtl.getResStr(pas["WEBLib.Consts"],"SCloseNL"))}}return e},this.BindEvents=function(){},this.SetDialogResult=function(t){this.FDialogResult=t,0!==this.FDialogResult&&this.Close()},this.CreateButton=function(t,e,i){var s=null;return(s=document.createElement("BUTTON")).innerHTML=t,1===pas["WEBLib.Forms"].Application.FMainForm.FCSSLibrary?(s.setAttribute("type","BUTTON"),s.setAttribute("class","btn "+i),s.setAttribute("data-dismiss","modal-dialog")):(s.style.setProperty("width","100px"),s.style.setProperty("margin-left","5px"),""!==this.FElementButtonClassName?s.setAttribute("class",this.FElementButtonClassName+" "+i):""!==pas["WEBLib.Forms"].Application.FThemeButtonClassName&&s.setAttribute("class",pas["WEBLib.Forms"].Application.FThemeButtonClassName+" "+i)),s.id=t,s.addEventListener("click",rtl.createCallback(this,"HandleButtonClick")),s.addEventListener("keydown",rtl.createCallback(this,"HandleKeyDown")),e.get()&&(setTimeout((function(){s.focus()}),1),e.set(!1)),s},this.HandleDocMouseMove=function(t){var e=0,i=0,s=null;return this.FDown&&(e=t.screenX-this.FMdx,i=t.screenY-this.FMdy,(s=this.FDlg).style.setProperty("transform",""),s.style.setProperty("position","absolute"),s.style.setProperty("left",pas.SysUtils.IntToStr(Math.round(this.FDlgX+e))+"px"),s.style.setProperty("top",pas.SysUtils.IntToStr(Math.round(this.FDlgY+i))+"px"),(s=this.FCancel).style.setProperty("position","absolute"),s.style.setProperty("top","0"),s.style.setProperty("right","0")),!0,!0},this.HandleDocMouseUp=function(t){return this.FDown=!1,document.body.removeEventListener("mousemove",rtl.createCallback(this,"HandleDocMouseMove")),document.body.removeEventListener("mouseup",rtl.createCallback(this,"HandleDocMouseUp")),!0,!0},this.HandleMouseDown=function(t){var e;return this.FMdx=Math.round(t.screenX),this.FMdy=Math.round(t.screenY),e=this.FDlg.getBoundingClientRect(),this.FDlgX=Math.round(pas.System.Int(e.left)),this.FDlgY=Math.round(pas.System.Int(e.top)),this.FDown=!0,this.FCaptured$1||(this.FCaptured$1=!0,document.body.addEventListener("mousemove",rtl.createCallback(this,"HandleDocMouseMove")),document.body.addEventListener("mouseup",rtl.createCallback(this,"HandleDocMouseUp"))),!0,!0},this.HandleButtonClick=function(t){var e,i=0;if(this.SetDialogResult(0),(e=t.target.getAttribute("id"))===this.GetDialogText(7)?this.SetDialogResult(6):e===this.GetDialogText(8)?this.SetDialogResult(7):e===this.GetDialogText(5)?this.SetDialogResult(1):e===this.GetDialogText(6)?this.SetDialogResult(2):e===this.GetDialogText(9)?this.SetDialogResult(3):e===this.GetDialogText(10)?this.SetDialogResult(4):e===this.GetDialogText(11)?this.SetDialogResult(5):e===this.GetDialogText(12)?this.SetDialogResult(12):e===this.GetDialogText(13)?this.SetDialogResult(13):e===this.GetDialogText(14)?this.SetDialogResult(14):e===this.GetDialogText(15)?this.SetDialogResult(9):e===this.GetDialogText(16)&&this.SetDialogResult(8),0===this.FDialogResult&&this.FCustomButtons.GetCount()>0)for(var s=0,o=this.FCustomButtons.GetCount()-1;s<=o;s++)if(i=s,e===this.FCustomButtons.GetItem$1(i).FCaption){this.SetDialogResult(100+i);break}return null!=this.FOnButtonClick&&this.FOnButtonClick(this),!0,!0},this.HandleKeyDown=function(t){var e,i=!1;return e=this.GetKeyCode(t.key,!0),pas.System.Assigned(e)?(27===e&&this.SetDialogResult(2),i=!0):i},this.InitBootstrapStyle=function(){this.FElementButtonClassName="btn",this.FElementContentClassName="text-body",this.FElementTitleClassName="text-body",this.FElementDialogClassName="shadow-lg p-3 mb-5 bg-white rounded"},this.InsertInputElement=function(t,e){},this.CreateInitialize=function(){pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),this.FOpacity=.2,this.FMessage="",this.FAutoLanguage=!0,this.FMsgDlgType=2,this.FDialogText=pas.Classes.TStringList.$create("Create$1"),this.FDialogText.SetSkipLastLineBreak(!0),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SWarning")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SError")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SInformation")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SConfirm")),this.FDialogText.Add("Custom"),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SOK")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SCancel")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SYes")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SNo")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SAbort")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SRetry")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SIgnore")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SAll")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SYesToAll")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SNoToAll")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SHelp")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SClose")),this.FMsgDlgType=4,this.FCustomButtons=t.TCustomDialogButtons.$create("Create$2",[this,t.TCustomDialogButton]),this.FCustomButtons.FPropName="CustomButtons"},this.Destroy=function(){rtl.free(this,"FDialogText"),rtl.free(this,"FCustomButtons"),pas["WEBLib.Controls"].TCustomControl.Destroy.call(this)},this.Close=function(){pas["WEBLib.Forms"].Application.UnLockForm(pas["WEBLib.Forms"].Application.FMainForm),document.body.removeChild(this.FLayer$1),document.body.removeChild(this.FDlg),this.FDown=!1,this.FCaptured$1=!1,null!=this.FOnClose&&this.FOnClose(this),null!=this.FDialogProc&&this.FDialogProc(this.FDialogResult)},this.Show$1=function(){var t=null,i=null,s=null,o=null,n=null,a=null,r=null,l=null,h=null,F=null,p=null,C=null,u="",d="",c="",S="",T="",m="",g="",M=!1,f=0;if(null!==pas["WEBLib.Forms"].Application&&null!==pas["WEBLib.Forms"].Application.FMainForm){pas["WEBLib.Forms"].Application.HasCSS(e.lMaterial)||this.AddControlLink("material",e.lMaterial),pas["WEBLib.Forms"].Application.LockForm(pas["WEBLib.Forms"].Application.FMainForm),this.FLayer$1=document.createElement("SPAN"),document.body.appendChild(this.FLayer$1),this.FLayer$1.setAttribute("tabindex","0"),this.FLayer$1.addEventListener("keydown",rtl.createCallback(this,"HandleKeyDown")),M=!0,this.FMessage=e.StringToHTML(this.FMessage);var b=this.FMsgDlgType;0===b?(u="warning",d="orange",c=this.GetDialogText(0)):1===b?(u="cancel",d="red",c=this.GetDialogText(1)):2===b?(u="info",d="blue",c=this.GetDialogText(2)):3===b?(u="help",d="blue",c=this.GetDialogText(3)):4===b&&(u="",d="",c=this.GetDialogText(4)),""!==this.FTitle&&(c=this.FTitle),1===pas["WEBLib.Forms"].Application.FMainForm.FCSSLibrary?(this.FDlg=document.createElement("DIV"),this.FDlg.setAttribute("class","modal-dialog"),this.FDlg.setAttribute("role","document"),this.FDlg.style.setProperty("z-index","1999998"),(l=document.createElement("DIV")).style.setProperty("top","0"),l.style.setProperty("left","0"),l.style.setProperty("right","0"),l.style.setProperty("bottom","0"),l.style.setProperty("z-index","1999997"),l.style.setProperty("display","block"),l.setAttribute("class","modal show fade"),document.body.appendChild(l),l.appendChild(this.FDlg),p=this.FDlg,(F=document.createElement("DIV")).setAttribute("class","modal-content "+this.FElementDialogClassName),p.appendChild(F),C=F,p=F,(F=document.createElement("DIV")).setAttribute("class","modal-header"),C.appendChild(F),p=F,(F=document.createElement("H5")).setAttribute("class","modal-title"),F.innerHTML=c,p.appendChild(F),3 in this.FButtons&&((F=document.createElement("BUTTON")).setAttribute("type","button"),F.setAttribute("class","close btn btn-danger"),F.setAttribute("data-dismiss","modal-dialog"),F.setAttribute("aria-label","Close"),F.setAttribute("id",this.GetDialogText(6)),F.addEventListener("click",rtl.createCallback(this,"HandleButtonClick")),p.appendChild(F),p=F,(F=document.createElement("SPAN")).setAttribute("aria-hidden","true"),F.setAttribute("id",this.GetDialogText(6)),F.innerHTML="&times;",p.appendChild(F)),(F=document.createElement("DIV")).setAttribute("class","modal-body"),C.appendChild(F),p=F,4!==this.FMsgDlgType&&((s=document.createElement("SPAN")).innerHTML='<i class="material-icons" style="color:'+d+'!important;font-size:48px!important">'+u+"</i>",s.style.setProperty("display","inline-block"),s.style.setProperty("float","left"),s.style.setProperty("padding-right","15px"),p.appendChild(s)),(F=document.createElement("H6")).innerHTML=this.FMessage,p.appendChild(F),this.InsertInputElement(p,{get:function(){return M},set:function(t){M=t}}),(F=document.createElement("DIV")).setAttribute("class","modal-footer"),C.appendChild(F),a=p=F,this.FDlg=l):(g="5",m="26",T="#f1f1f1",S="#ababab",this.FDlg=document.createElement("DIV"),document.body.appendChild(this.FDlg),r=this.FDlg,""!==this.FElementDialogClassName?r.setAttribute("class",this.FElementDialogClassName):(r.style.setProperty("background-color","white"),r.style.setProperty("border","1px solid "+S),r.style.setProperty("font-family","Arial"),r.style.setProperty("font-size","10pt")),r.style.setProperty("cursor","default"),r.style.setProperty("position","fixed"),r.style.setProperty("min-width","300px"),r.style.setProperty("min-height","125px"),r.style.setProperty("max-width","100%"),r.style.setProperty("max-height","100%"),r.style.setProperty("top","50%"),r.style.setProperty("left","50%"),r.style.setProperty("transform","translate(-50%, -50%)"),r.style.setProperty("z-index","1999998"),r.style.setProperty("box-shadow","5px 5px 5px gray"),h=document.createElement("DIV"),this.FCancel=h,h.innerHTML='<i id="Cancel" class="material-icons" style="font-size:16px!important">clear</i>',h.id="Cancel",h.style.setProperty("color",pas["WEBLib.Graphics"].ColorToHTML(pas["WEBLib.Forms"].Application.FThemeTextColor)),h.style.setProperty("position","fixed"),h.style.setProperty("top","0"),h.style.setProperty("right","0"),h.style.setProperty("padding",g+"px"),h.style.setProperty("height",m+"px"),h.style.setProperty("line-height",m+"px"),h.addEventListener("click",rtl.createCallback(this,"HandleButtonClick")),r.appendChild(h),(t=document.createElement("DIV")).innerHTML=c,""!==this.FElementTitleClassName?t.setAttribute("class",this.FElementTitleClassName):(t.style.setProperty("background-color",pas["WEBLib.Graphics"].ColorToHTML(pas["WEBLib.Forms"].Application.FThemeColor)),t.style.setProperty("color",pas["WEBLib.Graphics"].ColorToHTML(pas["WEBLib.Forms"].Application.FThemeTextColor))),t.style.setProperty("cursor","move"),t.style.setProperty("padding-left",g+"px"),t.style.setProperty("height",m+"px"),t.style.setProperty("vertical-align","middle"),t.style.setProperty("line-height",m+"px"),t.style.setProperty("border-bottom","1px solid "+S),t.style.setProperty("-moz-user-select","none"),t.style.setProperty("-webkit-user-select","none"),t.style.setProperty("-ms-user-select","none"),t.style.setProperty("user-select","none"),t.style.setProperty("-o-user-select","none"),t.addEventListener("mousedown",rtl.createCallback(this,"HandleMouseDown")),r.appendChild(t),(i=document.createElement("DIV")).style.setProperty("padding",g+"px"),i.style.setProperty("height","auto"),i.style.setProperty("min-height","50px"),i.style.setProperty("border-bottom","1px solid "+S),4!==this.FMsgDlgType&&((s=document.createElement("DIV")).innerHTML='<i class="material-icons" style="color:'+d+'!important;font-size:48px!important">'+u+"</i>",s.style.setProperty("display","inline-block"),s.style.setProperty("float","left"),s.style.setProperty("padding-right","15px"),i.appendChild(s)),this.FMessage=pas.SysUtils.StringReplace(this.FMessage,pas.System.sLineBreak,"<BR>",rtl.createSet(0)),(n=document.createElement("DIV")).innerHTML=this.FMessage,n.style.setProperty("height","auto"),n.style.setProperty("min-height","50px"),n.style.setProperty("white-space","pre-wrap"),(o=document.createElement("LABEL")).innerHTML=this.FMessage,""!==this.FElementTitleClassName&&o.setAttribute("class",this.FElementContentClassName),n.appendChild(o),i.appendChild(o),this.InsertInputElement(i,{get:function(){return M},set:function(t){M=t}}),r.appendChild(i),(a=document.createElement("DIV")).style.setProperty("background-color",T),a.style.setProperty("padding",g+"px"),a.style.setProperty("min-height",m+"px"),a.style.setProperty("height","auto"),a.style.setProperty("line-height",m+"px"),a.style.setProperty("text-align","right"),r.appendChild(a)),rtl.eqSet(this.FButtons,{})&&0===this.FCustomButtons.GetCount()?a.appendChild(this.CreateButton(this.GetDialogText(5),{get:function(){return M},set:function(t){M=t}},"")):(0 in this.FButtons&&a.appendChild(this.CreateButton(this.GetDialogText(7),{get:function(){return M},set:function(t){M=t}},"")),1 in this.FButtons&&a.appendChild(this.CreateButton(this.GetDialogText(8),{get:function(){return M},set:function(t){M=t}},"")),2 in this.FButtons&&a.appendChild(this.CreateButton(this.GetDialogText(5),{get:function(){return M},set:function(t){M=t}},"")),3 in this.FButtons&&a.appendChild(this.CreateButton(this.GetDialogText(6),{get:function(){return M},set:function(t){M=t}},"")),4 in this.FButtons&&a.appendChild(this.CreateButton(this.GetDialogText(9),{get:function(){return M},set:function(t){M=t}},"")),5 in this.FButtons&&a.appendChild(this.CreateButton(this.GetDialogText(10),{get:function(){return M},set:function(t){M=t}},"")),6 in this.FButtons&&a.appendChild(this.CreateButton(this.GetDialogText(11),{get:function(){return M},set:function(t){M=t}},"")),7 in this.FButtons&&a.appendChild(this.CreateButton(this.GetDialogText(12),{get:function(){return M},set:function(t){M=t}},"")),9 in this.FButtons&&a.appendChild(this.CreateButton(this.GetDialogText(13),{get:function(){return M},set:function(t){M=t}},"")),8 in this.FButtons&&a.appendChild(this.CreateButton(this.GetDialogText(14),{get:function(){return M},set:function(t){M=t}},"")),10 in this.FButtons&&a.appendChild(this.CreateButton(this.GetDialogText(15),{get:function(){return M},set:function(t){M=t}},"")),11 in this.FButtons&&a.appendChild(this.CreateButton(this.GetDialogText(16),{get:function(){return M},set:function(t){M=t}},"")));for(var y=0,B=this.FCustomButtons.GetCount()-1;y<=B;y++)f=y,a.appendChild(this.CreateButton(this.FCustomButtons.GetItem$1(f).FCaption,{get:function(){return M},set:function(t){M=t}},this.FCustomButtons.GetItem$1(f).FElementClassName));(l=this.FLayer$1).style.setProperty("background-color","black"),l.style.setProperty("opacity",pas["WEBLib.WebTools"].DoubleToHTML(this.FOpacity)),l.style.setProperty("top","0"),l.style.setProperty("left","0"),l.style.setProperty("right","0"),l.style.setProperty("bottom","0"),l.style.setProperty("z-index",pas["WEBLib.Forms"].Application.MaxZIndexStr()),l.style.setProperty("webkit-user-select","none"),l.style.setProperty("moz-user-select","none"),l.style.setProperty("khtml-user-select","none"),l.style.setProperty("ms-user-select","none"),l.style.setProperty("user-select","none"),l.style.setProperty("position","fixed")}},this.ShowDialog$1=function(t,e,i,s){return 0,this.FButtons=rtl.refSet(i),this.FMessage=t,this.FMsgDlgType=e,this.FDialogProc=s,this.SetDialogResult(0),this.Show$1(),0},rtl.addIntf(this,pas.System.IUnknown);var i=this.$rtti;i.addProperty("AutoLanguage",0,rtl.boolean,"FAutoLanguage","FAutoLanguage",{Default:!0}),i.addProperty("Buttons",0,t.$rtti.TMsgDlgButtons,"FButtons","FButtons",{Default:{}}),i.addProperty("CustomButtons",2,t.$rtti.TCustomDialogButtons,"FCustomButtons","SetCustomButtons"),i.addProperty("DialogText",2,pas.Classes.$rtti.TStringList,"FDialogText","SetDialogText"),i.addProperty("DialogType",0,t.$rtti.TMsgDlgType,"FMsgDlgType","FMsgDlgType",{Default:t.TMsgDlgType.mtCustom}),i.addProperty("Message",0,rtl.string,"FMessage","FMessage"),i.addProperty("Opacity",0,rtl.double,"FOpacity","FOpacity"),i.addProperty("ElementButtonClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementButtonClassName","FElementButtonClassName"),i.addProperty("ElementDialogClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementDialogClassName","FElementDialogClassName"),i.addProperty("ElementTitleClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementTitleClassName","FElementTitleClassName"),i.addProperty("ElementContentClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementContentClassName","FElementContentClassName"),i.addProperty("Title",0,rtl.string,"FTitle","FTitle"),i.addProperty("OnButtonClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnButtonClick","FOnButtonClick"),i.addProperty("OnClose",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClose","FOnClose")})),rtl.createClass(this,"TWaitMessage",pas["WEBLib.Controls"].TCustomControl,(function(){this.$init=function(){pas["WEBLib.Controls"].TCustomControl.$init.call(this),this.FLayer$1=null,this.FPicture=null,this.FOpacity=0,this.FOnShow=null,this.FOnHide=null,this.FIsWaiting=!1,this.FPictureURL="",this.FTimeOut=0,this.FShowID=0,this.FHideID=0},this.$final=function(){this.FLayer$1=void 0,this.FPicture=void 0,this.FOnShow=void 0,this.FOnHide=void 0,pas["WEBLib.Controls"].TCustomControl.$final.call(this)},this.SetPicture=function(t){this.FPicture.Assign(t)},this.SetPictureURL=function(t){this.FPictureURL=t},this.WaitDisplayed=function(){null!=this.FOnShow&&this.FOnShow(this)},this.WaitHide=function(){null!=this.FOnHide&&this.FOnHide(this),this.Hide$1()},this.CreateElement=function(){var t=null;return 4 in this.FComponentState?t=null:pas["WEBLib.Controls"].TCustomControl.CreateElement.call(this),t},this.CreateInitialize=function(){pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),this.FOpacity=.2,this.FPicture=pas["WEBLib.Graphics"].TURLPicture.$create("Create"),this.FIsWaiting=!1,this.FPicture.SetData(e.lWaitCursor),this.FShowID=0,this.FHideID=0},this.Destroy=function(){rtl.free(this,"FPicture"),pas["WEBLib.Controls"].TCustomControl.Destroy.call(this)},this.Show$1=function(){var t=null,e=null,i=null,s=null;this.FLayer$1=document.createElement("SPAN"),(t=this.FLayer$1).style.setProperty("background-color","black"),t.style.setProperty("opacity",pas["WEBLib.WebTools"].DoubleToHTML(this.FOpacity)),t.style.setProperty("top","0"),t.style.setProperty("left","0"),t.style.setProperty("right","0"),t.style.setProperty("bottom","0"),t.style.setProperty("z-index","9999999"),t.style.setProperty("webkit-user-select","none"),t.style.setProperty("moz-user-select","none"),t.style.setProperty("khtml-user-select","none"),t.style.setProperty("ms-user-select","none"),t.style.setProperty("user-select","none"),t.style.setProperty("position","fixed"),document.body.appendChild(this.FLayer$1),this.FLayer$1.setAttribute("tabindex","0"),i=s=document.createElement("DIV"),this.FLayer$1.appendChild(s),i.style.setProperty("position","relative"),i.style.setProperty("width","100%"),i.style.setProperty("height","100%"),e=s=document.createElement("IMG"),i.appendChild(e),""!==this.FPictureURL?e.setAttribute("src",this.FPictureURL):e.setAttribute("src",this.FPicture.FFilename),e.style.setProperty("position","absolute"),e.style.setProperty("top","0"),e.style.setProperty("left","0"),e.style.setProperty("right","0"),e.style.setProperty("bottom","0"),e.style.setProperty("margin","auto"),this.FIsWaiting=!0,null!=this.FOnShow&&(this.FShowID=window.setTimeout(rtl.createSafeCallback(this,"WaitDisplayed"),100)),this.FTimeOut>0&&(this.FHideID=window.setTimeout(rtl.createSafeCallback(this,"WaitHide"),this.FTimeOut))},this.Hide$1=function(){this.FIsWaiting&&document.body.removeChild(this.FLayer$1),this.FIsWaiting=!1,this.FShowID>0&&window.clearTimeout(this.FShowID),this.FHideID>0&&window.clearTimeout(this.FHideID),this.FShowID=0,this.FHideID=0},rtl.addIntf(this,pas.System.IUnknown);var t=this.$rtti;t.addProperty("Opacity",0,rtl.double,"FOpacity","FOpacity"),t.addProperty("Picture",2,pas["WEBLib.Graphics"].$rtti.TURLPicture,"FPicture","SetPicture"),t.addProperty("PictureURL",2,rtl.string,"FPictureURL","SetPictureURL"),t.addProperty("TimeOut",0,rtl.longint,"FTimeOut","FTimeOut"),t.addProperty("OnHide",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnHide","FOnHide"),t.addProperty("OnShow",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnShow","FOnShow")})),this.MessageDlg=function(i,s,o,n){null==e.WebLibDlg&&(e.WebLibDlg=t.TMessageDlg.$create("Create$1",[null]),1===pas["WEBLib.Forms"].Application.FMainForm.FCSSLibrary&&e.WebLibDlg.InitBootstrapStyle()),e.WebLibDlg.ShowDialog$1(i,s,rtl.refSet(o),n)},t.$implcode=function(){e.lMaterial="https://fonts.googleapis.com/icon?family=Material+Icons",e.lWaitCursor="0954474946496D61676547494638396190012C01A20000FFFFFFDDDDDDBBBBBB999999FFFFFFFFFFFFFFFFFFFFFFFF21FF0B4E45545343415045322E30030100000021F90405050004002C0000000090012C0182FFFFFFDDDDDDBBBBBB999999FFFFFFFFFFFFFFFFFFFFFFFF03FF48BADCFE30CA49ABBD38EBCDBBFF60288E64699E68AAAE6CEBBE702CCF746DDF78AEEF7CEFFFC0A070482C1A8FC8A472C96C3A9FD0A8744AAD5AAFD8AC76CBED7ABFE0B0784C2E9BCFE8B47ACD6EBBDFF0B87C4EAFDBEFF8BC7ECFEFFBFF808182838485868788898A8B8C8D8E8F909192939495969798999A9B9C9D9E9FA0A1A2A3A4A5A6A7A8A9AAABACADAEAFB0B1B2B3B4B5B6B7B8B9BABBBCBDBEBFC0C1C2C3C4C5C6C7C8C9CACBCCCDCECFD0D1D2D3D4D5D6D7D8D9DADBDCDDDEDFE0E1E2E3E4E5E6E7E8E9EAEBECEDEEEFF0F1F2F3F4F5F6F7F8F9FAFBFCFDFEFF00030A1C48B0A0C18308132A5CC8B0A1C3871023861A407180C444152B5E349431FFE346421D357E141492E24892254F062A6951E51F962EC978F400D383809B02621E09493365079C387512A9B981A806A040850A319A812906A441950261D95283530B50A34AF541B52A86AB14B26ADDDA836A519F19C4E6243B15AC04B711D4B20D62B629DA0B72E7B6BD5B01EE83BC7A7F74FDCA7782DAB58105FB6DB09801E0C45CEBF62D1CF731E4B28D15642660F93266CA0F3277F6CC43F204D162492F6DDC78B4EA1D834F8376ECFAB50ED31016D7B69D237604BF8779AF9EBD80A7E1D4C24BCCFC803BB44809BB2F04981E20B9F19EC48F22F7409D3AEFE676AF87D8CEA1BB79DB5DBD86EF48827C06F3F0D1A7577F41BC08A8E5E1C77F3DDFE459FFFF2624B5817EFA7DD71F7D4E1058A0700702D884820B26474083081601E17E1216D7A012179E97A103141AD161771FBEB56110237A57A26C070291E2742B5A70220F2FC6B81E78378C682307E9F970E18ED865370384408220240D111669E4733F90A8E493504629E594545669E5955866A9A54014FA960400608629E698648EB955973D7E59E69A6C86A9149AF321D1E69C6C0A05679A46D0A9A7993ADDE925117B060A809D7E6E9683A07BBE59287B6A225AA7548B3229A7A3656E69E9A59866AAE9A69C76EAE9A7A086AAC5728A39E8E99133A06AE59FBDE198259EB0B18A657F91C1BA6A8B9FC5596588A5D22A25AF7BF9AA24B04310BBA2B145206BDD8CFF4928CB1FB34C387B19B44F503BADB0EBA1402A61BAAA862DB79286605F7DDD92662BB8DB32A72A88B226E6AA8CEB5260A873F1129AAE55F3B2382EBEF77AD6EF8DFF6A682ABDFBF25BE1AC8B15CCC0BBA2FEC6B05FED36ECB09009E71B6AC402336AA2C59F32ACD9911E4B3C61662473CC69C8232BCC98C99AA29CB2C6F2B27C29C62BAB5C73BD2D1BAAB3CC5AD27C73C0ECF28C70BCF3BA9C73BDF91A8DA9D22F034D30CC0D33DD74B893E13C34CE16FBBC34C75C0B1DA5C9605B7DABCD1B438D2ED5A79A7DF6C0678BFC31DB6B1F0C2FDC6E77E075DDCA898D770A77EF2D42DF7E2F4976E02F004E7890741F9E2ADA8A37EEF8E390472EF9E494576EF9E5649867AEF9E69C77EEF9E7A0872EFAE8A4976EFAE9A8A7AEFAEAACB7EEFAEBB0C72EFBECB4D76EFBEDB8E7AEFBEEBCF7EEFBEFC0072FFCF0C4176FFCF1C827AFFCF2CC37EFFCF3D0472FFDF4D4576FFDF5D867AFFDF6DC77EFFDF7E0872FFEF8E497DF7D020021F90405050007002CD60060003000570082FFFFFFDDDDDDBBBBBB999999FFFFFFFFFFFFFFFFFFFFFFFF03EC78BABCF3A3C9492B85D0EA7D71E6E0E67D61298DA4A9A2A95AB291BBB2B20BD7E68D8770BC73BA9F2828B4108B1D1472A85C568E4E462F9A1C5127D36B037AE5AA04608191B60B879FCD9A795DC5A8D7ECB6CF04AF8F1FB2BA9DAADF3BFB7E4880707C83665186877F8960858C8E865A895A0A83940B80970C819A95679DA0A1A2A3A4A5A6A7A8A9AA2A01ADAEAFB0B1B035B2B5B6AF2EB7BAB6ACBBBEB826BFC201BDC3BBB9C6B7B4C9B2ABCECFD0D1D2D3D4D53200D800A5D9DCA2DCDFDA9DE0DFE2E3E494E6E3E8E9E05AECEDEEEFDDF1F2D8F4F5EBF5E157FAFBFCF8F9D8954B178AA0B773A3E65148000021F90405050007002CD60075003000570082FFFFFFDDDDDDBBBBBB999999FFFFFFFFFFFFFFFFFFFFFFFF03E978BADCFE6EC801ABBD6D4ECCFBD1A0274660388E657A8AA9BA62ADFB56B13C93B576D3B9BEE33DCA2F13940C81BD2331A844B69A8F1C14529BF24CD6AB30CBED7ABFE0B0784C2E9BCF5C817ACD6EBBDBB3B77CCE5ED1EFF3137E0F1FF1FF027A807B76837471866F688B8C8D8E8F909192930A01960166979A639A9D98609E9DA0A1A25DA4A1A6A79E5CAAABACAD9BAFB096B2B3A9B39F59B8B91000BE002FB815BFBFC1B0BDC4C5C6A7C8C9C037CC0FCECAD0A5D2D3CF3BB1C3D862D8BEDEDD61DFD95FDF63E7E3E2EAD3E1EBE6EF5EE4EECEE8F15DE9ECF5FAFB60F9FEEDE81123D3CF1EB82909000021F90405050007002CC40092004200420082FFFFFFDDDDDDBBBBBB999999FFFFFFFFFFFFFFFFFFFFFFFF03F978BADCFE508D49ABBD36EA1DB1FF15277260F98DE863AE59EA4A6CFCBEB13CBBB579CFF9B9FFC0A070482C1A8FC8A472C96C3A9FD0A8747A105805D4D7759B1D6DBFD8AE06FC1547C860B3034D5633D86D77155E96CFE957FB1D1F76F3F3767F567A8246018701377F4488888A78438D8D3B74919287406C96978999751100A1001C9C98415C1AA2A2A4A54FAAAA1BA5A64CAFABB1AD4DB5A1ACB84BBAA3BC97B9BA23B2B4C422C6BEC8C9BD48BF28B29DCFCCCD9C4AD0D1CA47D9DAD7D4B52FDB45DDDEC2DCD5E692E8E1E2E342E529EF41F1F2DF44F5EA8EE4E92EE7FCED764C62F74A8F837C7610CA51E886A11A870F0B1A7C006B6283040021F90405050007002CA700A4005700300082FFFFFFDDDDDDBBBBBB999999FFFFFFFFFFFFFFFFFFFFFFFF03FF78BADCFE30CA37EA9838EBCD8FFD5D288ECD675E64AA4AA7B9BEB0D7BA711DCEADAD6B78BEFF90DE0948740869C5E411942C2E2D4DE51315054E35802CE027E80A464F8C56ABF37AC1C7C9785C339B4942F53ADB76775538C99C1CB39FF148107B7413018601187E772B4C11835B858786898A518F90119292138A8B458F189A87947E4997A1A2889C9D9F8319A9AAABA540A0AFA91AAC3FB5A8A2B8953BBBBC9A1BB935A71AB0C4C530C1C29BCAB3CCCD91BDD0D12BD3D4C31CCB29D9DACFDCBF2ADF12C91DDD22E5E6B721E91CC71DE7E8EF58AE22F3F4D71DF7F8ED22E342F40B914F9F1B6F6B521434E889041B85FF46BCA9E26C14C5280B2FFEC8A8511307C78E353E82842172E48B6A2689844BA920010021F90405050007002C9200A4005700300082FFFFFFDDDDDDBBBBBB999999FFFFFFFFFFFFFFFFFFFFFFFF03FF78BADC0E10B849ABBD38B7C8B5FFE0C78D52689E2139A26C4BA9A42BB7B03ADF606DE33CA6C7BDE0E4B7121A17C4CE71998C2C8F4DC813DA9C5289A78036201C7807996476ABED7DBF3E1D8A4CC69DCF975A8BBD75BFBD69258B5EBFDDD1714E2E7C6517028702187F785607845C8688878A8B568F90159292178B8C4B8F189A88947F4F97A1A2899C9D9F8419A9AAABA546A0AFA91AAC42B5A8A2B89541BBBC9A1EB938A71AB0C4C533C1C29BCAB3CCCD91BDD0D183AE1FC91FCB7BD9DAB720DD637C21DBDCBFDEE5E6E1E2E926C720E7E8EF20D3C8EDEED7F6EB26F3FA6FD6F46357CD443D7E6D50FC03E849602185F90C026A446D18452B0B2F0AC9A8B11207C78E383E829C2172A48C82268D3CE391000021F90405050007002C8A0092004200420082FFFFFFDDDDDDBBBBBB999999FFFFFFFFFFFFFFFFFFFFFFFF03F57807DCFEF0A949ABBD98C6CD5DFEE0D58D5C6882642A9DACA5BE402B4FB03ADFF578EFF9B6FFC0A070482C1A8FC8A472C96C3A9FD0A8744A3D05AE81AA0CCBD59AB8E0AC3713068F2FE5F099922EAF0F6DF73AAE3ED3CDF63BF6ADDFE7FB7C8081773B028602467A85878645743F8C8C446D4191878E784096979857439B8D2003A30352A088A2A4A350A7A819AAAA4FA721B0A44EADB4B5A54DB3B9B5BCA027BABB4BBDBEB04CC6C7B14AB8C2BAC5C12CC3CDCACBB649D6D7AB48DADBC446DEA9BF47E2E3C8E1E61FD4E99B3BEC45D237F044F233F4F59140F8F9A13FFC6F26000C78606040836F10AE5178866143740431304B000021F90405050007002C8A0075003000570082FFFFFFDDDDDDBBBBBB999999FFFFFFFFFFFFFFFFFFFFFFFF03E778BA0C0E2CCA496B7BCEEA4DB1E7E0E68D61298DA8A9A2A95AB2ADCBC1B1ACD1A47DE3982EF20FDF0E0811768845E304A9AC009B161C340A9B0E7BD65F26CBED7ABFE0B0784C2E9BCFA1807ACD6EBBDBB6B77CCE76D1EF73157E0F37F1FF017A807B76837471866F688B8C8D8E8F909192936802960266979A639A9D98609E9D5FA19E5DA4A159A7A856AAA553ADA2AFB097A9B396ACB69FB2B35CB63203C00316BC2EC1C115AD36C6C614A73ECBC7CDB13AD0D1D2B742D5C062DAC261DDDE60DDDCE3DFDAE4D563E5E2E7E6EDECE9EEF1F0D0E8F5F6CBF8CCF2F7F4F9FADBD4CDD377669F86040021F90405050007002C8A0060003000570082FFFFFFDDDDDDBBBBBB999999FFFFFFFFFFFFFFFFFFFFFFFF03EB78BADCFE0B4800ABBD6D4ECCBBD29A2756E0369E4C69A2A7BAB2A24BC1AD4B8FF28DDB7A27CF3D4C2E281C122DC62389A784249B8E2734229D1EAAD39F35CA8404BE811EF60006EBB0E5F4ADCB48BB61EC857BCE2A55E67454C882CF4FFB7E50806F7F83655B8687568966858C888F90835B7280949578976D849A9B5F9DA0A1A2A3A4A5A6A7A8A93A02ACADAEAFB0AF30B1B4B5AE28B6B9B527BABDB223BEC102BCC2BDB8C5B6B3C8B1AACDCECFD0D1D2D3D4CF03D703A3D8DBA0DBDED997DFDE94E2DF56E5E250E8E94DEBE64AEEE3F0F1D8EAF4D7EDF7E0F3F453F75BFD00AED3842ED43B51DCAC24000021F90405050007002C8A0058004200420082FFFFFFDDDDDDBBBBBB999999FFFFFFFFFFFFFFFFFFFFFFFF03FD78BADCFE30CA062A9838EB69EDFE20D77961698EA4A96E68B5BE597BC13424D738D5E64BE007AF1BEFF75B097144A2EA584B164FBB9CF31962D2A6D48FF58A2D6DB9D36A74D8057DC14EF3985CD69CD149ED9A1D76CFE9713B8AE7C0026377784A807B7C0D7E842386878822858B3D6D116F528D93818696971D13029E027083129C129F9F309A2BA6AB2F92AAABAC26AE2AB0B5B27934B5B625A235BABB9020BFC0C11BC3B0C51FC7B1C91ACBA6CDC6CF9ED119D3D4D518D7D9D6CBDCCEC3DFE0BAE2D2CCE5E3A0E8EBECEDEEEFF0F1F2F3F4F5F68603F9FAFBFCFDFCD5FE020ADCD76CA04181C90E2AFC576CA1C301091F2A2C287120C08AFEA225000021F90405050007002C920058005700300082FFFFFFDDDDDDBBBBBB999999FFFFFFFFFFFFFFFFFFFFFFFF03FF78BADCFE30BE4083BC38EB3D2BE560284A9E379E28575669EB76EB2BBFEB37DF676DE13CA8F723815090FAA10048406B38441947C9248AC9CCD54ED1E889DA1C3D435969902BF45E4561B188DCF59D4169F59A2DFA6EE2CA149BE88EC1E32E7B217619782F822A6F1A8687881A841278798D64897E8B80337B7C19901092388E189E0F8CA1749D8A91993CA224AA11A6ADA817A40CB2B3B411B60AA0400AAE302518B83D9BB5B00DBEBFC0BA1097B1AC1003D40381CEC2C4D20FD5D54BD847DB0DDDE47A9532E2E3E4E5635C33E90CEBF2ED6DE85918F2F373653C5A19F9FA9809041850E02F82EB0C3243C84E211086DD1C1E84484D620F8A152DF2C0A8F11322C38E0F09820C996FE4C48626495A4BA921010021F90401050007002CA70058005700300082FFFFFFDDDDDDBBBBBB999999FFFFFFFFFFFFFFFFFFFFFFFF03FF78BADCFE4B4801ABBD38EB36E7FE60A8759D689E22E9A16C5BA9922BCF074CD1F869E77CB8F7A28170C0FA9D02C8406B38441945C9248AC9D4C18E51A989DA343D41596D902BF45EA161E489DC057D3569F1989C3A83E34BB6CFBE892BF3746E7C70782E6C441F6F177E33878823838B8C8D7A1B8A1593949519970F7E7F34879691988539A29CA49EA6A79B179D0D993CA8AFAAB1ACB3B42FB60B9F400BBA10B00AB2408EB52A92B8C6AEC22418C5BF07C10F25CA612E00DA0018D428D121DBDBDD8132CB20E2E917CD2CE71AE9F0E45538D822F0F719F3395126F7F8D2D2FCFD03D843E04082380CC643C843A13A86091D8E834843E2448A332C6AC358D11422C7880A3FE6082972A4C0920517A24CB9D14402003B",e.WebLibDlg=null,e.StringToHTML=function(t){var e="";return e=pas.SysUtils.StringReplace(t,"\r","<BR>",rtl.createSet(0)),e=pas.SysUtils.StringReplace(e,"\n","",rtl.createSet(0))}},t.$init=function(){e.WebLibDlg=null}}),["WEBLib.Forms","WEBLib.Consts"]),rtl.module("Math",["System"],(function(){"use strict";var t=this.$impl;this.SameValue=function(t,e,i){return 0===i&&(i=Math.max(1e-12*Math.min(Math.abs(t),Math.abs(e)),1e-12)),t>e?t-e<=i:e-t<=i},this.Floor=function(t){return pas.System.Trunc(Math.floor(t))},this.DegToRad=function(t){return t*(Math.PI/180)},this.RadToDeg=function(t){return t*(180/Math.PI)},this.EqualsValue=0,this.LessThanValue=-1,this.GreaterThanValue=1,this.$implcode=function(){t.DZeroResolution=1e-12}}),[]),rtl.module("WEBLib.Storage",["System","Web","Classes"],(function(){"use strict";var t=this;this.$rtti.$MethodVar("TStorageChangeEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AKey",rtl.string],["AOldValue",rtl.string],["ANewValue",rtl.string],["AURL",rtl.string]]),methodkind:0}),rtl.createClass(this,"TLocalStorage",pas.Classes.TComponent,(function(){this.$init=function(){pas.Classes.TComponent.$init.call(this),this.FChangePtr=null,this.FOnChange=null},this.$final=function(){this.FOnChange=void 0,pas.Classes.TComponent.$final.call(this)},this.SetValues=function(t,e){window.localStorage.setItem(t,e)},this.StorageChanged=function(t){var e;e=t.storageArea+" ",null!=this.FOnChange&&pas.System.Pos("OBJECT",pas.SysUtils.UpperCase(e))>0&&this.FOnChange(this,t.key,t.oldValue,t.newValue,t.url)},this.Create$1=function(t){return this.FChangePtr=rtl.createCallback(this,"StorageChanged"),pas.Classes.TComponent.Create$1.apply(this,arguments),window.addEventListener("storage",this.FChangePtr),this},this.Destroy=function(){window.removeEventListener("storage",this.FChangePtr),pas.Classes.TComponent.Destroy.call(this)},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]]),e.addProperty("OnChange",0,t.$rtti.TStorageChangeEvent,"FOnChange","FOnChange")}))}),["SysUtils"]),rtl.module("WEBLib.REST",["System","Classes","Web","JS","SysUtils","WEBLib.Controls"],(function(){"use strict";var t=this;this.THTTPRequestResponseType={0:"rtDefault",rtDefault:0,1:"rtText",rtText:1,2:"rtBlob",rtBlob:2,3:"rtJSON",rtJSON:3,4:"rtDocument",rtDocument:4,5:"rtArrayBuffer",rtArrayBuffer:5},this.$rtti.$Enum("THTTPRequestResponseType",{minvalue:0,maxvalue:5,ordtype:1,enumtype:this.THTTPRequestResponseType}),this.$rtti.$MethodVar("THttpResponse",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AResponse",rtl.string]]),methodkind:0}),rtl.createClass(this,"TPersistTokens",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FKey="",this.FEnabled=!1},this.Create$1=function(){return this.FEnabled=!1,this.FKey="",this},this.Assign=function(e){t.TPersistTokens.isPrototypeOf(e)&&(this.FKey=rtl.as(e,t.TPersistTokens).FKey,this.FEnabled=rtl.as(e,t.TPersistTokens).FEnabled)};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("Key",0,rtl.string,"FKey","FKey"),e.addProperty("Enabled",0,rtl.boolean,"FEnabled","FEnabled",{Default:!1})})),rtl.createClass(this,"TRESTApp",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FKey="",this.FCallbackURL="",this.FSecret="",this.FAuthURL="",this.FClientID=""},this.Assign=function(e){t.TRESTApp.isPrototypeOf(e)&&(this.FKey=rtl.as(e,t.TRESTApp).FKey,this.FClientID=rtl.as(e,t.TRESTApp).FClientID,this.FCallbackURL=rtl.as(e,t.TRESTApp).FCallbackURL,this.FSecret=rtl.as(e,t.TRESTApp).FSecret,this.FAuthURL=rtl.as(e,t.TRESTApp).FAuthURL)};var e=this.$rtti;e.addProperty("AuthURL",0,rtl.string,"FAuthURL","FAuthURL"),e.addProperty("ClientID",0,rtl.string,"FClientID","FClientID"),e.addProperty("Key",0,rtl.string,"FKey","FKey"),e.addProperty("CallbackURL",0,rtl.string,"FCallbackURL","FCallbackURL"),e.addProperty("Secret",0,rtl.string,"FSecret","FSecret")})),this.TAuthLocale={0:"lcDefault",lcDefault:0,1:"lcEnglish",lcEnglish:1,2:"lcDutch",lcDutch:2,3:"lcGerman",lcGerman:3,4:"lcFrench",lcFrench:4,5:"lcSpanish",lcSpanish:5,6:"lcItalian",lcItalian:6,7:"lcPortuguese",lcPortuguese:7,8:"lcGreek",lcGreek:8,9:"lcDanish",lcDanish:9,10:"lcRussian",lcRussian:10,11:"lcRomanian",lcRomanian:11,12:"lcSwedish",lcSwedish:12,13:"lcFinnish",lcFinnish:13,14:"lcTurkish",lcTurkish:14,15:"lcJapanese",lcJapanese:15},rtl.createClass(this,"TRESTClient",pas.Classes.TComponent,(function(){this.$init=function(){pas.Classes.TComponent.$init.call(this),this.FAccessToken="",this.FRefreshToken="",this.FAccessExpiry=0,this.FRefreshExpiry=0,this.FOnAccessToken=null,this.FEventRegistered=!1,this.FOnResponse=null,this.FPersistTokens=null,this.FApp=null,this.FScopes=null,this.FLocale=0,this.FOnRequestResponse=null,this.FOnError=null,this.FResponseType=0,this.FLoginWidth=0,this.FLoginHeight=0,this.FHandleAccessTokenPtr=null},this.$final=function(){this.FOnAccessToken=void 0,this.FOnResponse=void 0,this.FPersistTokens=void 0,this.FApp=void 0,this.FScopes=void 0,this.FOnRequestResponse=void 0,this.FOnError=void 0,pas.Classes.TComponent.$final.call(this)},this.SetPersistTokens=function(t){this.FPersistTokens.Assign(t)},this.SetApp=function(t){this.FApp.Assign(t)},this.SetScopes=function(t){this.FScopes.Assign(t)},this.InstallCallback=function(){var t=document.createElement("script");t.innerHTML=' function processAuthData(access_token) {var event = new CustomEvent("oauthcallback", {\r            detail: {\r                 message: access_token\r            },\r  bubbles: true,\r  cancelable: true});\r  document.dispatchEvent(event);}',document.head.appendChild(t);var e=document.createElement("script");return e.async=!0,e.defer=!0,e.type="text/javascript",document.body.appendChild(e),!0,!0},this.RemoveOAuthHandler=function(){document.removeEventListener("oauthcallback",this.FHandleAccessTokenPtr),this.FEventRegistered=!1},this.HandleAccessToken=function(t){var e;return this.RemoveOAuthHandler(),e=t.detail.message,this.FAccessToken=e,this.WriteTokens(),null!=this.FOnAccessToken&&this.FOnAccessToken(this),!0,!0},this.Create$1=function(e){return pas.Classes.TComponent.Create$1.apply(this,arguments),this.FPersistTokens=t.TPersistTokens.$create("Create$1"),this.FApp=t.TRESTApp.$create("Create"),this.FScopes=pas.Classes.TStringList.$create("Create$1"),this.FLocale=0,this.FResponseType=0,this.FLoginWidth=800,this.FLoginHeight=600,this.FHandleAccessTokenPtr=rtl.createCallback(this,"HandleAccessToken"),this},this.Destroy=function(){rtl.free(this,"FApp"),rtl.free(this,"FScopes"),rtl.free(this,"FPersistTokens"),pas.Classes.TComponent.Destroy.call(this)},this.WriteTokens=function(){var t=null;this.FPersistTokens.FEnabled&&""!==this.FPersistTokens.FKey&&((t=pas["WEBLib.Storage"].TLocalStorage.$create("Create")).SetValues(this.FPersistTokens.FKey,this.FAccessToken),t.SetValues(this.FPersistTokens.FKey+"refresh",this.FRefreshToken),t.SetValues(this.FPersistTokens.FKey+"accessexpiry",pas["WEBLib.Utils"].TDateTimeHelper.ToIsoString.call({p:this,get:function(){return this.p.FAccessExpiry},set:function(t){this.p.FAccessExpiry=t}},!0,!1)),t.SetValues(this.FPersistTokens.FKey+"refreshexpiry",pas["WEBLib.Utils"].TDateTimeHelper.ToIsoString.call({p:this,get:function(){return this.p.FRefreshExpiry},set:function(t){this.p.FRefreshExpiry=t}},!0,!1)),t=rtl.freeLoc(t))},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]]),e.addProperty("App",2,t.$rtti.TRESTApp,"FApp","SetApp"),e.addProperty("LoginHeight",0,rtl.longint,"FLoginHeight","FLoginHeight",{Default:600}),e.addProperty("LoginWidth",0,rtl.longint,"FLoginWidth","FLoginWidth",{Default:800}),e.addProperty("PersistTokens",2,t.$rtti.TPersistTokens,"FPersistTokens","SetPersistTokens"),e.addProperty("ResponseType",0,t.$rtti.THTTPRequestResponseType,"FResponseType","FResponseType",{Default:t.THTTPRequestResponseType.rtDefault}),e.addProperty("Scopes",2,pas.Classes.$rtti.TStrings,"FScopes","SetScopes"),e.addProperty("OnAccessToken",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnAccessToken","FOnAccessToken"),e.addProperty("OnRequestResponse",0,pas["WEBLib.Controls"].$rtti.THTTPRequestResponseEvent,"FOnRequestResponse","FOnRequestResponse"),e.addProperty("OnResponse",0,t.$rtti.THttpResponse,"FOnResponse","FOnResponse"),e.addProperty("OnError",0,pas["WEBLib.Controls"].$rtti.THTTPErrorEvent,"FOnError","FOnError")})),t.$init=function(){t.TRESTClient.InstallCallback()}}),["WEBLib.Storage","WEBLib.Utils"]),rtl.module("WEBLib.Utils",["System","Types","Web","SysUtils","Math","Classes","JS"],(function(){"use strict";rtl.createHelper(this,"TDateTimeHelper",null,(function(){this.ToIsoString=function(t,e){var i=0,s=0,o=0,n=0,a=0,r=0,l=0,h="",F="",p="";function C(t,e){var i="";for(i=pas.SysUtils.IntToStr(t);i.length<e;)i="0"+i;return i}return t&&(h="-",F=":"),pas.SysUtils.DecodeDate(this.get(),{get:function(){return o},set:function(t){o=t}},{get:function(){return s},set:function(t){s=t}},{get:function(){return i},set:function(t){i=t}}),pas.SysUtils.DecodeTime(this.get(),{get:function(){return n},set:function(t){n=t}},{get:function(){return a},set:function(t){a=t}},{get:function(){return r},set:function(t){r=t}},{get:function(){return l},set:function(t){l=t}}),e&&(p="."+C(l,3)+"Z"),C(o,4)+h+C(s,2)+h+C(i,2)+"T"+C(n,2)+F+C(a,2)+F+C(r,2)+p}})),this.FormatProp=function(t,e){return pas.SysUtils.Format$1(t,e,pas.SysUtils.TFormatSettings.Invariant())}}),["RTLConsts","WEBLib.Consts","WEBLib.REST"]),rtl.module("WEBLib.Controls",["System","Classes","WEBLib.Graphics","Types","SysUtils","Web","JS"],(function(){"use strict";var t=this,e=t.$impl;this.VK_BACK=8,this.VK_TAB=9,this.VK_RETURN=13,this.VK_MENU=18,this.VK_ESCAPE=27,this.VK_SPACE=32,this.VK_PRIOR=33,this.VK_NEXT=34,this.VK_END=35,this.VK_HOME=36,this.VK_LEFT=37,this.VK_UP=38,this.VK_RIGHT=39,this.VK_DOWN=40,this.VK_INSERT=45,this.VK_DELETE=46,this.VK_F2=113,this.VK_F4=115,this.WHEEL_DELTA=120,this.$rtti.$inherited("TCursor",rtl.longint,{}),this.crDefault=0,this.crNone=1,this.crArrow=2,this.crCross=3,this.crIBeam=4,this.crSize=5,this.crSizeNESW=6,this.crSizeNS=7,this.crSizeNWSE=8,this.crSizeWE=9,this.crUpArrow=10,this.crHourGlass=11,this.crDrag=12,this.crNoDrop=13,this.crHSplit=14,this.crVSplit=15,this.crMultIDrag=16,this.crSQLWait=17,this.crNo=18,this.crAppStart=19,this.crHelp=20,this.crHandPoint=21,this.crSizeAll=22,this.CSSBackground="background-color",this.CSSZIndex="z-index",this.TDragState={0:"dsDragEnter",dsDragEnter:0,1:"dsDragLeave",dsDragLeave:1,2:"dsDragMove",dsDragMove:2},this.$rtti.$Enum("TDragState",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TDragState}),this.TDragMode={0:"dmManual",dmManual:0,1:"dmAutomatic",dmAutomatic:1},this.$rtti.$Enum("TDragMode",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TDragMode}),this.TDragKind={0:"dkDrag",dkDrag:0,1:"dkDock",dkDock:1},this.$rtti.$Enum("TDragKind",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TDragKind}),rtl.createClass(this,"TDragObject",pas.System.TObject,(function(){})),this.TAlign={0:"alNone",alNone:0,1:"alTop",alTop:1,2:"alBottom",alBottom:2,3:"alLeft",alLeft:3,4:"alRight",alRight:4,5:"alClient",alClient:5,6:"alCustom",alCustom:6},this.$rtti.$Enum("TAlign",{minvalue:0,maxvalue:6,ordtype:1,enumtype:this.TAlign}),this.TMouseButton={0:"mbLeft",mbLeft:0,1:"mbRight",mbRight:1,2:"mbMiddle",mbMiddle:2},this.$rtti.$Enum("TMouseButton",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TMouseButton}),this.TBorderStyle={0:"bsNone",bsNone:0,1:"bsSingle",bsSingle:1},this.$rtti.$Enum("TBorderStyle",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TBorderStyle}),this.TSizeStyle={0:"ssPercent",ssPercent:0,1:"ssAbsolute",ssAbsolute:1,2:"ssAuto",ssAuto:2},this.$rtti.$Enum("TSizeStyle",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TSizeStyle}),this.TScrollStyle={0:"ssNone",ssNone:0,1:"ssHorizontal",ssHorizontal:1,2:"ssVertical",ssVertical:2,3:"ssBoth",ssBoth:3},this.TAnchorKind={0:"akLeft",akLeft:0,1:"akTop",akTop:1,2:"akRight",akRight:2,3:"akBottom",akBottom:3},this.$rtti.$Enum("TAnchorKind",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TAnchorKind}),this.$rtti.$Set("TAnchors",{comptype:this.$rtti.TAnchorKind}),this.$rtti.$inherited("TElementClassName",rtl.string,{}),this.$rtti.$inherited("TElementID",rtl.string,{}),this.TElementFont={0:"efProperty",efProperty:0,1:"efCSS",efCSS:1},this.$rtti.$Enum("TElementFont",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TElementFont}),this.TElementPosition={0:"epAbsolute",epAbsolute:0,1:"epRelative",epRelative:1,2:"epIgnore",epIgnore:2},this.$rtti.$Enum("TElementPosition",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TElementPosition}),this.TElementEvent={0:"eeClick",eeClick:0,1:"eeMouseDown",eeMouseDown:1,2:"eeMouseUp",eeMouseUp:2,3:"eeMouseMove",eeMouseMove:3,4:"eeDblClick",eeDblClick:4,5:"eeKeyPress",eeKeyPress:5,6:"eeKeyDown",eeKeyDown:6,7:"eeKeyUp",eeKeyUp:7},this.TTextDirection={0:"tdDefault",tdDefault:0,1:"tdLeftToRight",tdLeftToRight:1,2:"tdRightToLeft",tdRightToLeft:2,3:"tdInherit",tdInherit:3},this.$rtti.$Enum("TTextDirection",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TTextDirection}),rtl.recNewT(this,"TJSXMLHttpRequestRecord",(function(){this.req=null,this.$eq=function(t){return this.req===t.req},this.$assign=function(t){return this.req=t.req,this},t.$rtti.$Record("TJSXMLHttpRequestRecord",{}).addField("req",pas.Web.$rtti.TJSXMLHttpRequest)})),rtl.recNewT(this,"TJSEventRecord",(function(){this.event=null,this.$eq=function(t){return this.event===t.event},this.$assign=function(t){return this.event=t.event,this},t.$rtti.$Record("TJSEventRecord",{}).addField("event",pas.Web.$rtti.TJSEvent)})),this.$rtti.$MethodVar("THTTPRequestResponseEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ARequest",this.$rtti.TJSXMLHttpRequestRecord],["AResponse",rtl.string]]),methodkind:0}),this.$rtti.$MethodVar("THTTPErrorEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ARequest",this.$rtti.TJSXMLHttpRequestRecord],["Event",this.$rtti.TJSEventRecord],["Handled",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TNotifyEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject]]),methodkind:0}),this.$rtti.$MethodVar("TMouseEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Button",this.$rtti.TMouseButton],["Shift",pas.Classes.$rtti.TShiftState],["X",rtl.longint],["Y",rtl.longint]]),methodkind:0}),this.$rtti.$MethodVar("TMouseWheelEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Shift",pas.Classes.$rtti.TShiftState],["WheelDelta",rtl.longint],["MousePos",pas.Types.$rtti.TPoint],["Handled",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TMouseWheelUpDownEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Shift",pas.Classes.$rtti.TShiftState],["MousePos",pas.Types.$rtti.TPoint],["Handled",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TMouseMoveEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Shift",pas.Classes.$rtti.TShiftState],["X",rtl.longint],["Y",rtl.longint]]),methodkind:0}),this.$rtti.$MethodVar("TKeyEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AKey",rtl.word,1],["Shift",pas.Classes.$rtti.TShiftState]]),methodkind:0}),this.$rtti.$MethodVar("TKeyPressEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AChar",rtl.char,1]]),methodkind:0}),this.$rtti.$MethodVar("TTouchEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["X",rtl.longint],["Y",rtl.longint]]),methodkind:0}),this.TBiDiMode={0:"bdLeftToRight",bdLeftToRight:0,1:"bdRightToLeft",bdRightToLeft:1,2:"bdRightToLeftNoAlign",bdRightToLeftNoAlign:2,3:"bdRightToLeftReadingOnly",bdRightToLeftReadingOnly:3},this.$rtti.$Enum("TBiDiMode",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TBiDiMode}),this.$rtti.$MethodVar("TDragOverEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Source",pas.System.$rtti.TObject],["X",rtl.longint],["Y",rtl.longint],["State",this.$rtti.TDragState],["Accept",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TDragDropEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Source",pas.System.$rtti.TObject],["X",rtl.longint],["Y",rtl.longint]]),methodkind:0}),this.$rtti.$MethodVar("TStartDragEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["DragObject",this.$rtti.TDragObject,1]]),methodkind:0}),this.$rtti.$MethodVar("TEndDragEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Target",pas.System.$rtti.TObject],["X",rtl.longint],["Y",rtl.longint]]),methodkind:0}),this.TControlStyleValue={0:"csAcceptsControls",csAcceptsControls:0,1:"csSetCaption",csSetCaption:1},rtl.createClass(this,"TMargins",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FOnChange=null,this.FLeft=0,this.FTop=0,this.FRight=0,this.FBottom=0},this.$final=function(){this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetLeft=function(t){t!==this.FLeft&&(this.FLeft=t,this.DoChange())},this.SetTop=function(t){t!==this.FTop&&(this.FTop=t,this.DoChange())},this.SetRight=function(t){t!==this.FRight&&(this.FRight=t,this.DoChange())},this.SetBottom=function(t){t!==this.FBottom&&(this.FBottom=t,this.DoChange())},this.DoChange=function(){null!=this.FOnChange&&this.FOnChange(this)},this.Create$1=function(){return this.FLeft=3,this.FTop=3,this.FBottom=3,this.FRight=3,this},this.Assign=function(e){t.TMargins.isPrototypeOf(e)?(this.FLeft=rtl.as(e,t.TMargins).FLeft,this.FTop=rtl.as(e,t.TMargins).FTop,this.FBottom=rtl.as(e,t.TMargins).FBottom,this.FRight=rtl.as(e,t.TMargins).FRight):pas.Classes.TPersistent.Assign.apply(this,arguments)};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("Left",2,rtl.longint,"FLeft","SetLeft",{Default:3}),e.addProperty("Top",2,rtl.longint,"FTop","SetTop",{Default:3}),e.addProperty("Right",2,rtl.longint,"FRight","SetRight",{Default:3}),e.addProperty("Bottom",2,rtl.longint,"FBottom","SetBottom",{Default:3})})),rtl.createClass(this,"TCenter",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FHorizontal=!1,this.FVertical=!1,this.FOnChange=null},this.$final=function(){this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetHorizontal=function(t){this.FHorizontal!==t&&(this.FHorizontal=t,this.DoChange())},this.SetVertical=function(t){this.FVertical!==t&&(this.FVertical=t,this.DoChange())},this.DoChange=function(){null!=this.FOnChange&&this.FOnChange(this)},this.Assign=function(e){t.TCenter.isPrototypeOf(e)&&(this.FHorizontal=rtl.as(e,t.TCenter).FHorizontal,this.FVertical=rtl.as(e,t.TCenter).FVertical)};var e=this.$rtti;e.addProperty("Horizontal",2,rtl.boolean,"FHorizontal","SetHorizontal",{Default:!1}),e.addProperty("Vertical",2,rtl.boolean,"FVertical","SetVertical",{Default:!1})})),rtl.createClass(this,"TPadding",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FOnChange=null,this.FLeft=0,this.FTop=0,this.FRight=0,this.FBottom=0},this.$final=function(){this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetLeft=function(t){this.FLeft!==t&&(this.FLeft=t,this.DoChange())},this.SetTop=function(t){this.FTop!==t&&(this.FTop=t,this.DoChange())},this.SetRight=function(t){this.FRight!==t&&(this.FRight=t,this.DoChange())},this.SetBottom=function(t){this.FBottom!==t&&(this.FBottom=t,this.DoChange())},this.DoChange=function(){null!=this.FOnChange&&this.FOnChange(this)},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FLeft=0,this.FTop=0,this.FRight=0,this.FBottom=0,this},this.Assign=function(e){t.TPadding.isPrototypeOf(e)&&(this.FLeft=rtl.as(e,t.TPadding).FLeft,this.FRight=rtl.as(e,t.TPadding).FRight,this.FTop=rtl.as(e,t.TPadding).FTop,this.FBottom=rtl.as(e,t.TPadding).FBottom)};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("Left",2,rtl.longint,"FLeft","SetLeft",{Default:0}),e.addProperty("Top",2,rtl.longint,"FTop","SetTop",{Default:0}),e.addProperty("Right",2,rtl.longint,"FRight","SetRight",{Default:0}),e.addProperty("Bottom",2,rtl.longint,"FBottom","SetBottom",{Default:0})})),rtl.createClass(this,"TControl",pas.Classes.TComponent,(function(){this.$init=function(){pas.Classes.TComponent.$init.call(this),this.FGotFocus=!1,this.FAcceptDrag=!1,this.FCaptureDown=!1,this.FMouseInsideLayer=!1,this.FLayer=null,this.FCaptured=!1,this.FControlCreated=!1,this.FUpdateCount=0,this.FBlockUpdateElement=!1,this.FElement=null,this.FID="",this.FNew=!1,this.FContainer=null,this.FElementEvent=null,this.FLastElementEvent=null,this.FElementClassName="",this.FFont=null,this.FParent=null,this.FPrevParent=null,this.FControls=[],this.FOnDragOver=null,this.FOnDragDrop=null,this.FOnStartDrag=null,this.FonEndDrag=null,this.FOnClick=null,this.FOnDblClick=null,this.FOnMouseDown=null,this.FOnMouseUp=null,this.FOnMouseMove=null,this.FOnKeyDown=null,this.FOnKeyUp=null,this.FOnKeyPress=null,this.FOnEnter=null,this.FOnExit=null,this.FEnabled=!1,this.FHint="",this.FRole="",this.FShowHint=!1,this.FTabOrder=0,this.FTabStop=!1,this.FVisible=!1,this.FWidth=0,this.FHeight=0,this.FTag$1=0,this.FAlign=0,this.FAnchors={},this.FAlignWithMargins=!1,this.FIsAligning=!1,this.FOnMouseEnter=null,this.FOnMouseLeave=null,this.FCursor=0,this.FDoubleBuffered=!1,this.FControlStyle={},this.FMargins=null,this.FCenter=null,this.FOnMouseWheel=null,this.FParentDoubleBuffered=!1,this.FParentColor=!1,this.FParentFont=!1,this.FParentBiDiMode=!1,this.FOnTouchMove=null,this.FOnTouchStart=null,this.FOnTouchEnd=null,this.FOnTouchCancel=null,this.FLinkTouchEvents=!1,this.FWidthStyle=0,this.FHeightStyle=0,this.FWidthPercent=0,this.FHeightPercent=0,this.FOrigRect=pas.Types.TRect.$new(),this.FOrigParentRect=pas.Types.TRect.$new(),this.FIsResizing=!1,this.FShowFocus=!1,this.FBorderWidth=0,this.FOrigTop=0,this.FOrigLeft=0,this.FUpdateTopLeft=!1,this.FEnablePropagation=!1,this.FParentShowHint=!1,this.FScriptLoaded=!1,this.FControlScriptCountLoaded=0,this.FRequiredScripts=null,this.FElementFont=0,this.FElementPosition=0,this.FParentElement=null,this.FClipChildren=!1,this.FTextDirection=0,this.FEventStopPropagation={},this.FOnResize=null,this.FMouseMovePtr=null,this.FMouseDownPtr=null,this.FMouseUpPtr=null,this.FMouseEnterPtr=null,this.FMouseLeavePtr=null,this.FClickPtr=null,this.FDblClickPtr=null,this.FKeyDownPtr=null,this.FKeyUpPtr=null,this.FKeyPressPtr=null,this.FInputPtr=null,this.FTouchStartPtr=null,this.FTouchEndPtr=null,this.FTouchMovePtr=null,this.FTouchCancelPtr=null,this.FContextMenuPtr=null,this.FExitPtr=null,this.FEnterPtr=null,this.FWheelPtr=null,this.FLayerMouseEnterPtr=null,this.FLayerMouseLeavePtr=null,this.FScriptLoadedPtr=null,this.FDragStartPtr=null,this.FDragOverPtr=null,this.FDragEnterPtr=null,this.FDragLeavePtr=null,this.FDragEndPtr=null,this.FDragDropPtr=null,this.FChildOrder=0,this.FAllowTouch=!1,this.FWheelAccumulator=0,this.FWheelMousePos=pas.Types.TPoint.$new(),this.FBiDiMode=0,this.FOnMouseWheelDown=null,this.FOnMouseWheelUp=null,this.FNoUserSelect=!1,this.FEventsBound=!1,this.FDragMode=0,this.FToolTip=void 0,this.FColor=0},this.$final=function(){this.FLayer=void 0,this.FElement=void 0,this.FContainer=void 0,this.FElementEvent=void 0,this.FLastElementEvent=void 0,this.FFont=void 0,this.FParent=void 0,this.FPrevParent=void 0,this.FControls=void 0,this.FOnDragOver=void 0,this.FOnDragDrop=void 0,this.FOnStartDrag=void 0,this.FonEndDrag=void 0,this.FOnClick=void 0,this.FOnDblClick=void 0,this.FOnMouseDown=void 0,this.FOnMouseUp=void 0,this.FOnMouseMove=void 0,this.FOnKeyDown=void 0,this.FOnKeyUp=void 0,this.FOnKeyPress=void 0,this.FOnEnter=void 0,this.FOnExit=void 0,this.FAnchors=void 0,this.FOnMouseEnter=void 0,this.FOnMouseLeave=void 0,this.FControlStyle=void 0,this.FMargins=void 0,this.FCenter=void 0,this.FOnMouseWheel=void 0,this.FOnTouchMove=void 0,this.FOnTouchStart=void 0,this.FOnTouchEnd=void 0,this.FOnTouchCancel=void 0,this.FOrigRect=void 0,this.FOrigParentRect=void 0,this.FRequiredScripts=void 0,this.FParentElement=void 0,this.FEventStopPropagation=void 0,this.FOnResize=void 0,this.FWheelMousePos=void 0,this.FOnMouseWheelDown=void 0,this.FOnMouseWheelUp=void 0,pas.Classes.TComponent.$final.call(this)},this.GetControlsCount=function(){return rtl.length(this.FControls)},this.GetControls=function(t){return this.FControls[t]},this.SetVisible=function(t){this.FVisible!==t&&(this.VisibleChanging(),this.FVisible=t,this.UpdateElement(),this.DoRealign(),this.AlignControl(this),this.VisibleChanged())},this.SetHint=function(t){this.FHint!==t&&(this.FHint=t,this.UpdateElement())},this.SetShowHint=function(t){this.FShowHint!==t&&(this.FShowHint=t,this.UpdateElement())},this.SetTabOrder=function(t){this.FTabOrder!==t&&(this.FTabOrder=t,this.UpdateElement())},this.SetTabStop=function(t){this.FTabStop!==t&&(this.FTabStop=t,this.UpdateElement())},this.SetAlign=function(t){this.FAlign!==t&&(this.FAlign=t,this.DoRealign())},this.SetAlignWithMargins=function(t){this.FAlignWithMargins!==t&&(this.FAlignWithMargins=t,this.DoRealign())},this.GetBoundsRect=function(){var t=pas.Types.TRect.$new();return t.Left=this.GetLeft(),t.Top=this.GetTop(),t.Right=this.GetLeft()+this.GetWidth(),t.Bottom=this.GetTop()+this.GetHeight(),t},this.SetBoundsRect=function(t){this.SetBoundsInt(t.Left,t.Top,t.Right-t.Left,t.Bottom-t.Top)},this.SetID=function(t){var e=null,i=null,s=null,o=null,n=0,a=0,r=0,l=0;if(this.FNew&&this.FID!==t&&null!=(e=document.getElementById(t)))return n=this.FLeft,a=this.FTop,r=this.FWidth,l=this.FHeight,i=null,this.UnbindEvents(),null!=this.FContainer&&(this.FParentElement=this.FContainer.parentElement,i=document.createElement("SPAN"),this.MoveElements(this.FContainer,i)),o=this.FParent,this.SetParent(null),this.CreateWithID(t),this.SetParentComponent(o),this.FID=t,this.FWidth=r,this.FHeight=l,this.UpdateElement(),4 in this.FComponentState&&(this.FLeft=n,this.FTop=a),void(null!=i&&this.MoveElementsAndFree(i,this.GetElementHandle()));if(!this.FNew&&this.FID!==t){if(r=this.FWidth,l=this.FHeight,null!=(e=document.getElementById(this.FID))&&(i=document.createElement("SPAN"),this.MoveElements(e,i),this.UnbindEvents()),""!==t&&null!=(e=document.getElementById(t)))return this.CreateWithID(t),this.FID=t,this.FWidth=r,this.FHeight=l,this.UpdateElement(),void this.MoveElementsAndFree(i,this.FContainer);this.FNew=!0,this.FElement=null,this.CreateControl(),""===t&&(this.CreateInitialize(),this.FWidth=r,this.FHeight=l),null!=this.FParentElement?this.FParentElement.appendChild(this.GetContainer()):document.body.appendChild(this.GetContainer()),null!=(s=pas["WEBLib.Forms"].GetParentForm(this))&&(this.SetParent(s),this.SetElementPosition(0),this.SetLeft(0),this.SetTop(0)),null!=i&&this.MoveElementsAndFree(i,this.FContainer),this.UpdateElement(),this.UpdateElementSize()}this.FID=t,null!=this.FContainer&&this.FContainer.setAttribute("id",t)},this.SetMargins=function(t){this.FMargins.Assign(t)},this.SetAnchors=function(t){rtl.neSet(this.FAnchors,t)&&(this.FAnchors=rtl.refSet(t),0 in this.FComponentState||this.UpdateAnchoring())},this.GetElementEvent=function(){return this.FElementEvent},this.GetClientOrigin=function(){var t=pas.Types.TPoint.$new(),e=null;return t.$assign(pas.Types.Point(0,0)),null!=this.GetElementHandle()&&(e=this.GetElementHandle().getBoundingClientRect(),t.$assign(pas.Types.Point(Math.round(e.left),Math.round(e.top)))),t},this.SetHeightStyle=function(t){this.FHeightStyle!==t&&(this.FHeightStyle=t,2!==this.FHeightStyle||null==this.GetElementHandle()||this.GetIsLinked()||this.GetElementStyle().removeProperty("height"),this.UpdateElementSize(),this.ResetAnchoring(),this.DoBoundsChange())},this.SetWidthStyle=function(t){this.FWidthStyle!==t&&(this.FWidthStyle=t,2!==this.FWidthStyle||null==this.GetElementHandle()||this.GetIsLinked()||this.GetElementStyle().removeProperty("width"),this.UpdateElementSize(),this.ResetAnchoring(),this.DoBoundsChange())},this.SetHeightPercent=function(t){this.FHeightPercent!==t&&(this.FHeightPercent=t,this.UpdateElementSize(),this.ResetAnchoring(),this.DoBoundsChange())},this.SetWidthPercent=function(t){this.FWidthPercent!==t&&(this.FWidthPercent=t,this.UpdateElementSize(),this.ResetAnchoring(),this.DoBoundsChange())},this.SetShowFocus=function(t){this.FShowFocus!==t&&(this.FShowFocus=t,this.UpdateElement())},this.GetIsLinked=function(){return!this.FNew},this.SetElementFont=function(t){this.FElementFont!==t&&(this.FElementFont=t,this.UpdateElementVisual())},this.SetElementPosition=function(t){this.FElementPosition!==t&&(this.FElementPosition=t,null!=this.GetElementHandle()&&(this.UpdateElementSize(),this.RecreateCanvas(),this.InternalResize()))},this.SetClipChildren=function(t){this.FClipChildren=t,this.UpdateElement()},this.GetClientHeight=function(){return this.GetHeight()},this.SetChildOrderEx=function(t){this.FChildOrder=t},this.GetRole=function(){var t="";return t=this.FRole,null!=this.GetElementHandle()&&(t=this.GetElementHandle().getAttribute("role")),t},this.SetRole=function(t){this.FRole=t,null!=this.GetElementHandle()&&(""===t?this.GetElementHandle().removeAttribute("role"):this.GetElementHandle().setAttribute("role",t))},this.GetContainer=function(){return this.FContainer},this.GetChildContainer=function(){return this.FContainer},this.SetParentFont=function(t){t!==this.FParentFont&&t&&null!=this.FParent&&(this.BeginUpdate(),this.FFont.Assign(this.FParent.FFont),this.EndUpdate(),this.UpdateElement()),this.FParentFont=t},this.SetParentColor=function(t){this.FParentColor!==t&&t&&null!=this.FParent&&this.SetColor(this.FParent.FColor),this.FParentColor=t},this.SetDragMode=function(t){this.FDragMode=t,1===t?this.BeginDrag():this.DisableDrag()},this.SetWidth=function(t){this.FWidth!==t&&(this.FWidth=t,this.ResetAnchoring(),this.DoBoundsChange(),!this.GetIsLinked()||1!==this.FWidthStyle||0 in this.FComponentState||this.IsUpdating()||null==this.GetElementHandle()||(t>=0?this.GetElementStyle().setProperty("width",pas.SysUtils.IntToStr(t)+"px"):this.GetElementStyle().removeProperty("width")))},this.SetHeight=function(t){var e=null;this.FHeight!==t&&(this.FAlign in rtl.createSet(3,4,5)&&null!=this.GetElementHandle()&&(e=this.GetElementHandle().getBoundingClientRect()).top+t>=pas["WEBLib.Forms"].WinHeight()&&(t=Math.round(pas["WEBLib.Forms"].WinHeight()-e.top)),this.FHeight=t,this.ResetAnchoring(),this.DoBoundsChange(),!this.GetIsLinked()||1!==this.FHeightStyle||0 in this.FComponentState||this.IsUpdating()||null==this.GetElementHandle()||(t>=0?this.GetElementStyle().setProperty("height",pas.SysUtils.IntToStr(t)+"px"):this.GetElementStyle().removeProperty("height")))},this.SetWidthInt=function(t){this.FWidth=t},this.SetHeightInt=function(t){this.FHeight=t},this.SetEnabled=function(t){this.FEnabled!==t&&(this.FEnabled=t,this.UpdateElementData())},this.RecreateCanvas=function(){},this.VisibleChanging=function(){},this.VisibleChanged=function(){for(var t=0,e=0,i=this.GetControlsCount()-1;e<=i;e++)t=e,this.GetControls(t).VisibleChanged()},this.ColorChanging=function(){},this.GetWidth=function(){var t=0,e=null;return t=this.FWidth,null==this.GetElementHandle()||0 in this.FComponentState||(-1===t&&(t=Math.round(pas.System.Int(this.GetElementHandle().offsetWidth))),1!==this.FWidthStyle&&(e=this.GetElementHandle().getBoundingClientRect(),t=Math.round(pas.System.Int(e.right-e.left)))),t},this.GetHeight=function(){var t=0,e=null;return t=this.FHeight,null==this.GetElementHandle()||0 in this.FComponentState||(-1===t&&(t=Math.round(pas.System.Int(this.GetElementHandle().offsetHeight))),1!==this.FHeightStyle&&(e=this.GetElementHandle().getBoundingClientRect(),t=Math.round(pas.System.Int(e.bottom-e.top)))),t},this.GetOuterWidth=function(){return this.FWidth-this.FBorderWidth},this.GetOuterHeight=function(){return this.FHeight-this.FBorderWidth},this.GetDesignWidth=function(){return this.FWidth},this.GetDesignHeight=function(){return this.FHeight},this.GetDesignLeft=function(){return this.FLeft},this.GetDesignTop=function(){return this.FTop},this.GetLeft=function(){var t=0;return-1!==(t=this.FLeft)||null==this.GetElementHandle()||0 in this.FComponentState||(t=Math.round(this.GetElementHandle().offsetLeft)),t},this.GetTop=function(){var t=0;return-1!==(t=this.FTop)||null==this.GetElementHandle()||0 in this.FComponentState||(t=Math.round(this.GetElementHandle().offsetTop)),t},this.CreateElement=function(){return null,null},this.CreateChildElements=function(t){},this.ContainerElement=function(){return document.body},this.IsStructuralElement=function(){return!1,!1},this.IsEnabled=function(){return this.FEnabled},this.GetNewName=function(){var e,i="",s="";return i=this.$classname,pas.System.Delete({get:function(){return i},set:function(t){i=t}},1,1),s="",null!=(e=pas["WEBLib.Forms"].GetParentForm(this))&&(s=e.$classname),s+"_"+t.FindUniqueName(i)},this.IsInputControl=function(){return!1,!1},this.UseCSSFont=function(){return!(""===this.FElementClassName&&0===this.FElementFont&&!this.GetIsLinked())},this.UseCSSFontColor=function(){return!(pas["WEBLib.Forms"].Application.FThemed&&pas["WEBLib.Graphics"].ColorToRGB(this.FFont.FColor)===pas["WEBLib.Graphics"].RGB(0,0,0))},this.RecreateElement=function(){null!=this.GetContainer()&&(this.UnbindEvents(),this.GetContainer().parentNode.removeChild(this.GetContainer()),this.FElement=null,this.CreateControl(),null!=this.FParent&&null!=this.FParent.GetContainer()&&this.FParent.GetChildContainer().appendChild(this.GetContainer()))},this.BindElement=function(){},this.CreateInitialize=function(){this.FRequiredScripts=pas.Classes.TStringList.$create("Create$1"),this.FOrigRect.$assign(pas.Types.Rect(-1,-1,-1,-1)),this.FClipChildren=!0},this.DestroyControls=function(){for(var t=0,e=null,i=this.GetControlsCount()-1;i>=0;i--)t=i,e=this.GetControls(t),e=rtl.freeLoc(e)},this.ClearControls=function(){this.FControls=rtl.arraySetLength(this.FControls,null,0)},this.GetElementStyle=function(){return this.GetElementHandle().style},this.SetControlCursor=function(t){this.FCursor=t,""===this.FElementClassName&&null!=this.GetElementHandle()&&this.SetElementPointer(this.GetElementHandle(),t)},this.SetBiDiMode=function(t){null!=this.GetElementHandle()&&(0===t?this.GetElementHandle().removeAttribute("dir"):this.GetElementHandle().setAttribute("dir","rtl"))},this.GetMouseEventButton=function(t){var e=0;e=0;var i=t.button;return 0===i?e=0:1===i?e=2:2===i&&(e=1),e},this.GetMouseEventShiftState=function(t){var e={};return e={},t.shiftKey&&(e=rtl.unionSet(e,rtl.createSet(0))),t.ctrlKey&&(e=rtl.unionSet(e,rtl.createSet(2))),t.altKey&&(e=rtl.unionSet(e,rtl.createSet(1))),1==(1&t.buttons)&&(e=rtl.unionSet(e,rtl.createSet(3))),2==(2&t.buttons)&&(e=rtl.unionSet(e,rtl.createSet(4))),4==(4&t.buttons)&&(e=rtl.unionSet(e,rtl.createSet(5))),e},this.GetKeyBoardEventShiftState=function(t){var e={};return e={},t.shiftKey&&(e=rtl.unionSet(e,rtl.createSet(0))),t.ctrlKey&&(e=rtl.unionSet(e,rtl.createSet(2))),t.altKey&&(e=rtl.unionSet(e,rtl.createSet(1))),e},this.GetMouseWheelEventShiftState=function(t){var e={};return e={},t.shiftKey&&(e=rtl.unionSet(e,rtl.createSet(0))),t.ctrlKey&&(e=rtl.unionSet(e,rtl.createSet(2))),t.altKey&&(e=rtl.unionSet(e,rtl.createSet(1))),e},this.GetTouchEventShiftState=function(t){var e={};return e={},t.shiftKey&&(e=rtl.unionSet(e,rtl.createSet(0))),t.ctrlKey&&(e=rtl.unionSet(e,rtl.createSet(2))),t.altKey&&(e=rtl.unionSet(e,rtl.createSet(1))),e},this.HandleDoClick=function(t){return this.FElementEvent=t,0 in this.FEventStopPropagation&&this.StopPropagation(),this.FEnabled&&this.Click(),!0,this.FElementEvent=null,!0},this.HandleDoWheel=function(t){var e,i=!1,s=0,o=0;return this.FElementEvent=t,this.StopPropagation(),this.XYToClient(t.clientX,t.clientY,{get:function(){return s},set:function(t){s=t}},{get:function(){return o},set:function(t){o=t}}),this.FWheelMousePos.x=Math.round(s),this.FWheelMousePos.y=Math.round(o),e=rtl.refSet(this.GetMouseWheelEventShiftState(t)),i=!1,this.MouseWheel(rtl.refSet(e),pas.System.Trunc(-t.deltaY),{get:function(){return i},set:function(t){i=t}}),!0,this.FElementEvent=null,!0},this.HandleDoDblClick=function(t){return this.FElementEvent=t,4 in this.FEventStopPropagation&&this.StopPropagation(),this.FEnabled&&this.DblClick(),!0,this.FElementEvent=null,!0},this.HandleDoMouseDown=function(i){var s,o,n=!1,a=0,r=0;return this.FElementEvent=i,1 in this.FEventStopPropagation&&this.StopPropagation(),this.CanFocus()||this.PreventDefault(),e.FMouseX=Math.round(i.clientX),e.FMouseY=Math.round(i.clientY),this.XYToClient(i.clientX,i.clientY,{get:function(){return a},set:function(t){a=t}},{get:function(){return r},set:function(t){r=t}}),this.HasVertScrollBar()&&a>this.GetWidth()-t.GetScrollBarWidth()||this.HasHorzScrollBar()&&r>this.GetHeight()-t.GetScrollBarHeight()||(s=rtl.refSet(this.GetMouseEventShiftState(i)),o=this.GetMouseEventButton(i),this.MouseDown(o,rtl.refSet(s),pas.System.Trunc(a),pas.System.Trunc(r)),n=!0,this.FElementEvent=null),n},this.HandleDoMouseUp=function(e){var i,s,o=!1,n=0,a=0;return this.FElementEvent=e,2 in this.FEventStopPropagation&&this.StopPropagation(),this.XYToClient(e.clientX,e.clientY,{get:function(){return n},set:function(t){n=t}},{get:function(){return a},set:function(t){a=t}}),this.HasVertScrollBar()&&n>this.GetWidth()-t.GetScrollBarWidth()||this.HasHorzScrollBar()&&a>this.GetHeight()-t.GetScrollBarHeight()?(this.FElementEvent=null,o):(i=rtl.refSet(this.GetMouseEventShiftState(e)),s=this.GetMouseEventButton(e),0===this.FDragMode&&this.DisableDrag(),this.MouseUp(s,rtl.refSet(i),pas.System.Trunc(n),pas.System.Trunc(a)),o=!0,this.FElementEvent=null,o)},this.HandleDoMouseMove=function(t){var i,s=0,o=0;return this.FElementEvent=t,e.FCursorX=Math.round(t.clientX),e.FCursorY=Math.round(t.clientY),3 in this.FEventStopPropagation&&this.StopPropagation(),this.XYToClient(t.clientX,t.clientY,{get:function(){return s},set:function(t){s=t}},{get:function(){return o},set:function(t){o=t}}),i=rtl.refSet(this.GetMouseEventShiftState(t)),this.MouseMove(rtl.refSet(i),pas.System.Trunc(s),pas.System.Trunc(o)),!0,this.FElementEvent=null,!0},this.HandleDoMouseLeave=function(t){var e=!1;return this.Captured()?e:(t.stopPropagation(),this.DoMouseLeave(),e=!0)},this.HandleDoContextMenu=function(t){return!0,!0},this.LayerHandleDoMouseEnter=function(t){return 0===t.buttons&&this.Captured()&&!this.FMouseInsideLayer&&(this.ReleaseCapture(),this.HandleDoMouseUp(t),this.HandleDoMouseLeave(t)),this.FMouseInsideLayer=!0,!0,!0},this.LayerHandleDoMouseLeave=function(t){return this.FMouseInsideLayer=!1,!0,!0},this.HandleDoMouseEnter=function(t){var e=!1;return this.Captured()?e:(t.stopPropagation(),this.DoMouseEnter(),e=!0)},this.HandleDoKeyDown=function(t){var e=0,i={};return this.FElementEvent=t,6 in this.FEventStopPropagation&&this.StopPropagation(),null==t.key||(e=this.GetKeyCode(t.key,!0),i=rtl.refSet(this.GetKeyBoardEventShiftState(t)),this.KeyDown({get:function(){return e},set:function(t){e=t}},rtl.refSet(i)),e in rtl.createSet(13,27,9)&&this.KeyPreview({get:function(){return e},set:function(t){e=t}},rtl.refSet(i))),!0,0===e&&this.PreventDefault(),this.FElementEvent=null,!0},this.HandleDoKeyUp=function(t){var e=0,i={},s="";return this.FElementEvent=t,7 in this.FEventStopPropagation&&this.StopPropagation(),null==t.key||(e=this.GetKeyCode(t.key,!0),i=rtl.refSet(this.GetKeyBoardEventShiftState(t)),27===e&&(s="",this.KeyPress({get:function(){return s},set:function(t){s=t}})),this.KeyUp({get:function(){return e},set:function(t){e=t}},rtl.refSet(i))),!0,0===e&&this.PreventDefault(),this.FElementEvent=null,!0},this.HandleDoKeyPress=function(t){var e="";return this.FElementEvent=t,5 in this.FEventStopPropagation&&this.StopPropagation(),this.IsKeyCharacter(t.key)&&(e=this.GetKeyChar(t.key),this.KeyPress({get:function(){return e},set:function(t){e=t}})),!0,"\0"===e&&this.PreventDefault(),this.FElementEvent=null,!0},this.HandleDoInput=function(e){var i=!1,s="",o="";return t.IsAndroid()&&(this.FElementEvent=e,5 in this.FEventStopPropagation&&this.StopPropagation(),s="\0",""!==e.data&&(o=e.data,s=pas.System.Assigned(o)?o.charAt(o.length-1):"\b",this.KeyPress({get:function(){return s},set:function(t){s=t}})),i=!0,"\0"===s&&this.PreventDefault(),this.FElementEvent=null),i},this.HandleDoExit=function(t){return this.DoExit(),!0,!0},this.HandleDoEnter=function(t){return this.FElementEvent=t,this.StopPropagation(),this.DoEnter(),!0,this.FElementEvent=null,this.FGotFocus=!0,!0},this.HandleDoTouchStart=function(t){var e=0,i=0,s=null,o={};return this.FElementEvent=t,this.FLastElementEvent=t,this.StopPropagation(),this.FAllowTouch||this.PreventDefault(),t.touches.length>0&&(s=t.touches.item(0),this.XYToClient(s.clientX,s.clientY,{get:function(){return e},set:function(t){e=t}},{get:function(){return i},set:function(t){i=t}}),o=rtl.refSet(this.GetTouchEventShiftState(t)),this.FLinkTouchEvents&&this.MouseDown(0,rtl.refSet(o),pas.System.Trunc(e),pas.System.Trunc(i)),this.TouchStart(pas.System.Trunc(e),pas.System.Trunc(i))),!0,this.FElementEvent=null,!0},this.HandleDoTouchMove=function(t){var e=0,i=0,s=null,o={};return this.FElementEvent=t,this.FLastElementEvent=t,this.StopPropagation(),this.FAllowTouch||this.PreventDefault(),this.Captured()&&this.PreventDefault(),t.touches.length>0&&(s=t.touches.item(0),this.XYToClient(s.clientX,s.clientY,{get:function(){return e},set:function(t){e=t}},{get:function(){return i},set:function(t){i=t}}),o=rtl.refSet(this.GetTouchEventShiftState(t)),this.FLinkTouchEvents&&this.MouseMove(rtl.refSet(o),pas.System.Trunc(e),pas.System.Trunc(i)),this.TouchMove(pas.System.Trunc(e),pas.System.Trunc(i))),this.FElementEvent=null,!0,!0},this.HandleDoTouchEnd=function(t){var e=0,i=0,s=null,o={};return this.FElementEvent=t,this.FAllowTouch||this.PreventDefault(),this.ReleaseCapture(),this.StopPropagation(),null!=this.FLastElementEvent&&this.FLastElementEvent.touches.length>0&&(s=this.FLastElementEvent.touches.item(0),this.XYToClient(s.clientX,s.clientY,{get:function(){return e},set:function(t){e=t}},{get:function(){return i},set:function(t){i=t}}),o=rtl.refSet(this.GetTouchEventShiftState(t)),this.FLinkTouchEvents&&(this.MouseUp(0,rtl.refSet(o),pas.System.Trunc(e),pas.System.Trunc(i)),this.FEnabled&&!this.FAllowTouch&&this.Click()),this.TouchEnd(pas.System.Trunc(e),pas.System.Trunc(i))),this.FElementEvent=null,!0,!0},this.HandleDoTouchCancel=function(t){var e=0,i=0,s=null,o={};return this.FElementEvent=t,this.ReleaseCapture(),this.StopPropagation(),t.touches.length>0&&(s=t.touches.item(0),this.XYToClient(s.clientX,s.clientY,{get:function(){return e},set:function(t){e=t}},{get:function(){return i},set:function(t){i=t}}),o=rtl.refSet(this.GetTouchEventShiftState(t)),this.FLinkTouchEvents&&this.MouseUp(0,rtl.refSet(o),pas.System.Trunc(e),pas.System.Trunc(i)),this.TouchCancel(pas.System.Trunc(e),pas.System.Trunc(i))),this.FElementEvent=null,!0,!0},this.HandleDoDragStart=function(t){var i=null;return this.FElementEvent=t,t.stopPropagation(),i=null,this.DoStartDrag({get:function(){return i},set:function(t){i=t}}),e.DragObject=null!=i?i:this,!0,!0},this.HandleDoDragOver=function(t){var i;return this.FElementEvent=t,t.stopPropagation(),this.DragOver(e.DragObject,t.clientX,t.clientY,2,{p:this,get:function(){return this.p.FAcceptDrag},set:function(t){this.p.FAcceptDrag=t}}),!this.FAcceptDrag||this.IsInputControl()&&0!==t.dataTransfer.items.length||t.preventDefault(),i=!this.FAcceptDrag,this.FElementEvent=null,i},this.HandleDoDragEnter=function(t){var i;return this.FElementEvent=t,t.stopPropagation(),this.FAcceptDrag=this.IsInputControl(),this.DragOver(e.DragObject,t.clientX,t.clientY,0,{p:this,get:function(){return this.p.FAcceptDrag},set:function(t){this.p.FAcceptDrag=t}}),this.FAcceptDrag&&t.preventDefault(),i=!this.FAcceptDrag,this.FElementEvent=null,i},this.HandledoDragLeave=function(t){return this.FElementEvent=t,t.stopPropagation(),this.DragOver(e.DragObject,t.clientX,t.clientY,1,{p:this,get:function(){return this.p.FAcceptDrag},set:function(t){this.p.FAcceptDrag=t}}),!0,this.FElementEvent=null,!0},this.HandleDoDragEnd=function(t){return this.FElementEvent=t,t.stopPropagation(),this.DoEndDrag(e.DragObject,t.clientX,t.clientY),!0,0===this.FDragMode&&this.DisableDrag(),this.FElementEvent=null,!0},this.HandleDoDragDrop=function(t){var i;return this.FElementEvent=t,t.stopPropagation(),this.FAcceptDrag?(this.IsInputControl()||t.preventDefault(),this.DragDrop(e.DragObject,t.clientX,t.clientY)):t.preventDefault(),i=this.FAcceptDrag,this.FElementEvent=null,i},this.HandleKeyPreview=function(t){},this.HandleFontChanged=function(t){0===this.FUpdateCount&&(this.SetParentFont(!1),this.ParentFontChanged()),this.FontChanged()},this.ParentFontChanged=function(){for(var t=0,e=0,i=this.GetControlsCount()-1;e<=i;e++)t=e,this.GetControls(t).FParentFont&&(this.GetControls(t).FFont.Assign(this.FFont),this.GetControls(t).FontChanged(),this.GetControls(t).FParentFont=!0,this.GetControls(t).ParentFontChanged())},this.DoExit=function(){null!=this.FOnExit&&this.FOnExit(this)},this.DoEnter=function(){null!=this.FOnEnter&&this.FOnEnter(this)},this.Click=function(){null!=this.FOnClick&&this.IsEnabled()&&this.FOnClick(this)},this.UpdateElement=function(){this.FBlockUpdateElement||this.FUpdateCount>0||null==this.GetElementHandle()||this.GetElementHandle()===this.ContainerElement()||this.IsUpdating()||(this.UpdateElementData(),this.GetIsLinked()||this.UpdateElementVisual())},this.UpdateElementSize=function(){var t=null,e=0,i=0,s=0,o=null,n=null;if(!(this.FBlockUpdateElement||this.FUpdateCount>0||this.GetIsLinked()||null==this.GetElementHandle()||this.GetElementHandle()===this.ContainerElement())){for(t=this.GetElementStyle(),e=0,i=0,o=this.FParent;null!=o&&0===this.FElementPosition&&0!==o.FElementPosition&&!pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(o);){if(o.GetIsLinked()&&null!=o.GetElementHandle()&&"absolute"!==o.GetElementHandle().getAttribute("position")){n=o.GetElementHandle().getBoundingClientRect(),e=Math.round(n.left),i=Math.round(n.top);break}o=o.FParent}null!=this.FParent&&this.FParent.IsStructuralElement()&&(e=this.FParent.GetLeft(),i=this.FParent.GetTop()),0===this.FElementPosition?(-1!==this.FTop?t.setProperty("top",pas.SysUtils.IntToStr(this.FTop+i)+"px"):t.setProperty("top",""),-1!==this.FLeft?t.setProperty("left",pas.SysUtils.IntToStr(this.FLeft+e)+"px"):t.setProperty("left","")):(t.removeProperty("top"),t.removeProperty("left")),1===this.FWidthStyle&&(s=this.GetOuterWidth(),-1!==this.FWidth?t.setProperty("width",pas.SysUtils.IntToStr(s)+"px"):t.removeProperty("width")),2===this.FWidthStyle&&t.removeProperty("width"),1===this.FHeightStyle&&(-1!==this.FHeight?t.setProperty("height",pas.SysUtils.IntToStr(this.GetOuterHeight())+"px"):t.removeProperty("height")),2===this.FHeightStyle&&t.removeProperty("height"),0===this.FWidthStyle&&(-1!==this.FWidth?t.setProperty("width",pas["WEBLib.Utils"].FormatProp("%.2f%%",pas.System.VarRecs(3,this.FWidthPercent))):t.removeProperty("width")),0===this.FHeightStyle&&(-1!==this.FHeight?t.setProperty("height",pas["WEBLib.Utils"].FormatProp("%.2f%%",pas.System.VarRecs(3,this.FHeightPercent))):t.removeProperty("height")),0===this.FElementPosition?t.setProperty("position","absolute"):1===this.FElementPosition?t.setProperty("position","relative"):t.removeProperty("position"),t.setProperty("box-sizing","border-box")}},this.UpdateElementVisual=function(){var e,i,s=null;if(null!=(e=this.GetElementHandle())&&!this.IsUpdating()){s=this.GetElementStyle(),this.FParentFont&&null!=this.FParent&&(this.FFont.FOnChange=null,this.FFont.Assign(this.FParent.FFont),this.FFont.FOnChange=rtl.createCallback(this,"HandleFontChanged")),""===this.FElementClassName&&(this.GetIsLinked()||(this.FClipChildren&&pas.SysUtils.LowerCase(e.tagName)!==pas["WEBLib.WebTools"].cBodyTag?s.setProperty("overflow","hidden"):s.setProperty("overflow","")),this.SetElementPointer(e,this.FCursor)),this.Captured()&&this.FLayer.style.setProperty("cursor",s.getPropertyValue("cursor")),""!==this.FElementClassName||this.CanShowFocus()?s.setProperty("outline",""):s.setProperty("outline","none"),this.UpdateElementSize();var o=this.FTextDirection;0===o?s.removeProperty("direction"):2===o?s.setProperty("direction","rtl"):1===o?s.setProperty("direction","ltr"):3===o&&s.setProperty("direction","inherit"),""===this.FElementClassName&&this.FNoUserSelect&&(s.setProperty("webkit-user-select","none"),s.setProperty("moz-user-select","none"),s.setProperty("khtml-user-select","none"),s.setProperty("ms-user-select","none"),s.setProperty("user-select","none"),s.setProperty("-webkit-tap-highlight-color","transparent")),this.SetElementColor(e,this.FColor),i=this.UseCSSFont(),t.SetHTMLElementFont(e,this.FFont,i),i?s.removeProperty("color"):this.IsEnabled()&&this.UseCSSFontColor()&&s.setProperty("color",pas["WEBLib.Graphics"].ColorToHTML(this.FFont.FColor))}},this.UpdateElementData=function(){var t=null,e=null,i="",s="",o="",n=0,a=0;if(null!=this.GetElementHandle()){if(4 in this.FComponentState||(this.FVisible?this.GetElementStyle().setProperty("display",""):this.GetElementStyle().setProperty("display","none")),this.EnableTab(),this.IsEnabled()?this.FContainer.removeAttribute("disabled"):this.FContainer.setAttribute("disabled",""),this.GetIsLinked()&&""===this.FHint)return;if(""!==this.GetRole()&&this.FContainer.setAttribute("role",this.FRole),null!=(t=pas["WEBLib.Forms"].GetParentForm(this))&&1===t.FCSSLibrary&&this.FShowHint&&""!==this.FHint){e=this.GetElementHandle(),i=this.FHint;var r=pas["WEBLib.Forms"].Application.FHintPosition;0===r?o="left":2===r?o="right":1===r?o="top":3===r&&(o="bottom"),s=pas["WEBLib.Forms"].Application.FHintClassName,n=pas["WEBLib.Forms"].Application.FHintPause,a=pas["WEBLib.Forms"].Application.FHintHidePause,this.FTooltip=new bootstrap.Tooltip(e,{title:i,placement:o,customClass:s,delay:{show:n,hide:a}})}else this.FShowHint&&""!==this.FHint?this.FContainer.setAttribute("title",this.FHint):this.FContainer.removeAttribute("title");this.IsEnabled()&&1!==this.FElementFont?1!==this.FElementFont&&this.UseCSSFontColor()&&this.GetElementStyle().setProperty("color",pas["WEBLib.Graphics"].ColorToHTML(this.FFont.FColor)):this.GetElementStyle().removeProperty("color")}},this.UpdateParent=function(){this.InternalUpdateParent(),this.UpdateChildren(this.FPrevParent),this.UpdateChildren(this.FParent)},this.UpdateControlSize=function(t,e){this.FWidth=t,this.FHeight=e},this.InternalUpdateParent=function(){var t=null;t=this.FPrevParent,this.FNew&&(this.CreateControl(),null!=this.GetContainer()&&(null!=this.FParent&&null==this.FParent.GetContainer()&&this.FParent.CreateControl(),this.FParent!==t&&null!=t&&null!=t.GetContainer()&&this.GetContainer().parentNode===t.GetChildContainer()&&t.GetChildContainer().removeChild(this.GetContainer()),null!=this.FParent&&null!=this.FParent.GetContainer()&&this.FParent.GetChildContainer().appendChild(this.GetContainer())))},this.UpdateChildren=function(e){var i=0,s=null;if(null!=e&&!(3 in this.FComponentState)){0!==e.FAlign&&e.DoRealign(),t.TCustomControl.isPrototypeOf(e)&&(rtl.as(e,t.TCustomControl).RecreateCanvas(),rtl.as(e,t.TCustomControl).Invalidate());for(var o=0,n=e.GetControlsCount()-1;o<=n;o++)i=o,s=e.GetControls(i),this.UpdateChildren(s)}},this.DisableTab=function(){var t=0;this.FTabStop&&this.CanFocus()||null!=this.GetContainer()&&this.GetContainer().setAttribute("tabindex","-1");for(var e=0,i=this.GetControlsCount()-1;e<=i;e++)t=e,this.GetControls(t).DisableTab()},this.EnableTab=function(){var t=0;null==this.FContainer||this.GetIsLinked()||(this.FTabStop&&this.CanFocus()?this.FContainer.setAttribute("tabindex",pas.SysUtils.IntToStr(this.FTabOrder+1)):this.FContainer.setAttribute("tabindex","-1"));for(var e=0,i=this.GetControlsCount()-1;e<=i;e++)t=e,this.GetControls(t).EnableTab()},this.SetElementClassName=function(t){this.FElementClassName!==t&&(this.FElementClassName=t,null!=this.FContainer&&this.FContainer.setAttribute("class",t),this.UpdateElement())},this.SetColor=function(t){this.FColor=t,this.UpdateElementVisual(),this.ColorChanging()},this.SetFont=function(t){this.FFont.SetName(t.FName),this.FFont.SetSize(t.FSize),this.FFont.SetStyle(rtl.refSet(t.FStyle)),this.FFont.SetColor(t.FColor)},this.SetParent=function(t){var e;null!=t&&(t=t.CanAcceptChild(this)),e=this.FNew,this.FParent!==t&&(null!=this.FParent&&this.FParent.UnRegisterParent(this),this.FPrevParent=this.FParent,this.FParent=t,this.FGotFocus=!1,this.UpdateParent(),3 in this.FComponentState||(e||this.UpdateElement(),this.InitScript()),null!=this.FParent&&this.FParent.RegisterParent(this),0 in this.FComponentState&&null!=this.FParent&&!(0 in this.FParent.FComponentState)&&this.Loaded(),null==t||null==this.FParent||this.FParent.IsUpdating()||this.Realign(),3 in this.FComponentState||this.Invalidate())},this.RegisterParent=function(t){this.FControls=rtl.arraySetLength(this.FControls,null,rtl.length(this.FControls)+1),this.FControls[rtl.length(this.FControls)-1]=t},this.UnRegisterParent=function(t){var e=0,i=!1;i=!1;for(var s=0,o=rtl.length(this.FControls)-1;s<=o;s++)e=s,this.FControls[e]===t&&(i=!0),i&&e<rtl.length(this.FControls)-1&&(this.FControls[e]=this.FControls[e+1]);i&&(this.FControls=rtl.arraySetLength(this.FControls,null,rtl.length(this.FControls)-1))},this.CanAcceptChild=function(t){return this,this},this.SetLeft=function(t){this.FLeft!==t&&(this.FLeft=t,this.ResetAnchoring(),this.FUpdateTopLeft||(this.FOrigLeft=t),this.UpdateElementSize(),this.RecreateCanvas(),this.InternalResize(),0 in this.FComponentState||0===this.FAlign||null==this.FParent||this.DoRealign())},this.SetTop=function(t){this.FTop!==t&&(this.FTop=t,this.ResetAnchoring(),this.FUpdateTopLeft||(this.FOrigTop=t),this.UpdateElementSize(),this.RecreateCanvas(),this.InternalResize(),0 in this.FComponentState||0===this.FAlign||null==this.FParent||this.DoRealign())},this.MouseUp=function(t,e,i,s){this.FEnabled&&null!=this.FOnMouseUp&&this.FOnMouseUp(this,t,rtl.refSet(e),i,s)},this.MouseDown=function(t,e,i,s){this.FEnabled&&null!=this.FOnMouseDown&&this.FOnMouseDown(this,t,rtl.refSet(e),i,s)},this.MouseMove=function(t,e,i){this.FEnabled&&null!=this.FOnMouseMove&&this.FOnMouseMove(this,rtl.refSet(t),e,i)},this.TouchStart=function(t,e){null!=this.FOnTouchStart&&this.FOnTouchStart(this,t,e)},this.TouchMove=function(t,e){null!=this.FOnTouchMove&&this.FOnTouchMove(this,t,e)},this.TouchEnd=function(t,e){null!=this.FOnTouchEnd&&this.FOnTouchEnd(this,t,e)},this.TouchCancel=function(t,e){null!=this.FOnTouchCancel&&this.FOnTouchCancel(this,t,e)},this.DoMouseEnter=function(){null!=this.FOnMouseEnter&&this.FOnMouseEnter(this)},this.DoMouseLeave=function(){null!=this.FOnMouseLeave&&this.FOnMouseLeave(this)},this.MouseWheel=function(t,e,i){var s=!1;for(null!=this.FOnMouseWheel&&this.FOnMouseWheel(this,rtl.refSet(t),e,pas.Types.TPoint.$clone(pas.Types.Point(0,0)),i),this.FWheelAccumulator+=e;Math.abs(this.FWheelAccumulator)>=120;)s=this.FWheelAccumulator<0,this.FWheelAccumulator=Math.abs(this.FWheelAccumulator)-120,s?(0!==this.FWheelAccumulator&&(this.FWheelAccumulator=-this.FWheelAccumulator),this.DoMouseWheelDown(rtl.refSet(t),pas.Types.TPoint.$clone(this.FWheelMousePos))):this.DoMouseWheelUp(rtl.refSet(t),pas.Types.TPoint.$clone(this.FWheelMousePos))},this.DoMouseWheelDown=function(t,e){var i=!1;return i=!1,null!=this.FOnMouseWheelDown&&this.FOnMouseWheelDown(this,rtl.refSet(t),pas.Types.TPoint.$clone(e),{get:function(){return i},set:function(t){i=t}}),i},this.DoMouseWheelUp=function(t,e){var i=!1;return i=!1,null!=this.FOnMouseWheelUp&&this.FOnMouseWheelUp(this,rtl.refSet(t),pas.Types.TPoint.$clone(e),{get:function(){return i},set:function(t){i=t}}),i},this.DblClick=function(){null!=this.FOnDblClick&&this.FOnDblClick(this)},this.KeyDown=function(t,e){null!=this.FOnKeyDown&&this.FOnKeyDown(this,t,rtl.refSet(e))},this.KeyPreview=function(e,i){null!=this.FOwner&&t.TControl.isPrototypeOf(this.FOwner)&&rtl.as(this.FOwner,t.TControl).KeyPreview(e,rtl.refSet(i))},this.KeyPress=function(t){null!=this.FOnKeyPress&&this.FOnKeyPress(this,t)},this.KeyUp=function(t,e){null!=this.FOnKeyUp&&this.FOnKeyUp(this,t,rtl.refSet(e))},this.SetFocus=function(){var t=null;this.CanFocus()&&null!=this.GetElementHandle()&&(t=this.GetElementHandle(),this.FGotFocus?t.focus():setTimeout((function(){t.focus()}),1))},this.DoMarginsChanged=function(t){this.DoRealign()},this.DoCenterChanged=function(t){this.DoRealign()},this.DoRealign=function(){null==this.FParent||this.FParent.IsUpdating()||this.FParent.AlignControl(this.FParent)},this.DoBoundsChange=function(){var t,e=!1;this.UpdateElementSize(),this.RecreateCanvas(),this.FIsResizing||(this.FIsResizing=!0,this.InternalResize(),this.DoRealign(),e=!1,null!=(t=pas["WEBLib.Forms"].GetParentForm(this))&&(e=(e=t.FIsResizing$1)||t.FUpdateCount>0),(e=(e=e||this.FUpdateCount>0)||this.FIsAligning)||this.UpdateChildAnchoring(),this.FIsResizing=!1)},this.DoEndDrag=function(t,e,i){null!=this.FonEndDrag&&this.FonEndDrag(this,t,e,i)},this.DoStartDrag=function(t){null!=this.FOnStartDrag&&this.FOnStartDrag(this,t)},this.DragOver=function(t,e,i,s,o){null!=this.FOnDragOver&&this.FOnDragOver(this,t,e,i,s,o)},this.IsFocused=function(){return this.FContainer===document.activeElement},this.Focused=function(){return this.FContainer===document.activeElement},this.GetID=function(){return this.FID},this.GetElementHandle=function(){var t=null;return t=null,null!=this.FContainer&&this.FControlCreated&&(t=this.FContainer),t},this.GetElementBindHandle=function(){return this.GetElementHandle()},this.GetElement=function(){return document.getElementById(this.GetID())},this.GetKeyCode=function(t,e){var i=0;i=-1;var s=t;return"Up"===s?i=38:"Down"===s?i=40:"Left"===s?i=37:"Right"===s?i=39:"!"===s?i=56:'"'===s||"#"===s?i=51:"$"===s?i=186:"%"===s?i=192:"'"===s?i=52:"("===s?i=53:")"===s?i=219:"*"===s?i=106:"+"===s?i=107:"-"===s?i=109:","===s?i=44:"."===s?i=46:"/"===s?i=111:"\\"===s?i=226:"="===s?i=187:"<"===s||">"===s?i=226:s===pas.Web.TJSKeyNames.BackSpace?i=8:s===pas.Web.TJSKeyNames.Tab?i=9:s===pas.Web.TJSKeyNames.Enter?i=13:s===pas.Web.TJSKeyNames.Shift?i=16:s===pas.Web.TJSKeyNames.Control?i=17:s===pas.Web.TJSKeyNames.Alt?i=18:s===pas.Web.TJSKeyNames.Pause?i=19:s===pas.Web.TJSKeyNames.CapsLock?i=20:s===pas.Web.TJSKeyNames.Escape?i=27:s===pas.Web.TJSKeyNames.PageUp?i=33:s===pas.Web.TJSKeyNames.PageDown?i=34:s===pas.Web.TJSKeyNames._End?i=35:s===pas.Web.TJSKeyNames.Home?i=36:s===pas.Web.TJSKeyNames.ArrowLeft?i=37:s===pas.Web.TJSKeyNames.ArrowUp?i=38:s===pas.Web.TJSKeyNames.ArrowRight?i=39:s===pas.Web.TJSKeyNames.ArrowDown?i=40:s===pas.Web.TJSKeyNames.Insert?i=45:s===pas.Web.TJSKeyNames.Delete?i=46:s===pas.Web.TJSKeyNames.F1?i=112:s===pas.Web.TJSKeyNames.F2?i=113:s===pas.Web.TJSKeyNames.F3?i=114:s===pas.Web.TJSKeyNames.F4?i=115:s===pas.Web.TJSKeyNames.F5?i=116:s===pas.Web.TJSKeyNames.F6?i=117:s===pas.Web.TJSKeyNames.F7?i=118:s===pas.Web.TJSKeyNames.F8?i=119:s===pas.Web.TJSKeyNames.F9?i=120:s===pas.Web.TJSKeyNames.F10?i=121:s===pas.Web.TJSKeyNames.F11?i=122:s===pas.Web.TJSKeyNames.F12?i=123:s===pas.Web.TJSKeyNames.F13?i=124:s===pas.Web.TJSKeyNames.F14?i=125:s===pas.Web.TJSKeyNames.F15?i=126:s===pas.Web.TJSKeyNames.F16?i=127:s===pas.Web.TJSKeyNames.F17?i=128:s===pas.Web.TJSKeyNames.F18?i=129:s===pas.Web.TJSKeyNames.F19?i=130:s===pas.Web.TJSKeyNames.F20?i=131:pas.System.Assigned(t)&&t.length>0&&(i=t.charCodeAt(0),e&&i>=97&&i<=122?i&=223:i>=65&&i<=90?i|=64:i>122&&(i|=128)),i},this.GetKeyChar=function(t){var e="",i=0;i=-1,e="\0";var s=t;return s===pas.Web.TJSKeyNames.BackSpace?i=8:s===pas.Web.TJSKeyNames.Tab?i=9:s===pas.Web.TJSKeyNames.Enter?i=13:s===pas.Web.TJSKeyNames.Shift?i=16:s===pas.Web.TJSKeyNames.Control?i=17:s===pas.Web.TJSKeyNames.Alt?i=18:s===pas.Web.TJSKeyNames.Pause?i=19:s===pas.Web.TJSKeyNames.CapsLock?i=20:s===pas.Web.TJSKeyNames.Escape?i=27:s===pas.Web.TJSKeyNames.PageUp?i=33:s===pas.Web.TJSKeyNames.PageDown?i=34:s===pas.Web.TJSKeyNames._End?i=35:s===pas.Web.TJSKeyNames.Home?i=36:s===pas.Web.TJSKeyNames.ArrowLeft?i=37:s===pas.Web.TJSKeyNames.ArrowUp?i=38:s===pas.Web.TJSKeyNames.ArrowRight?i=39:s===pas.Web.TJSKeyNames.ArrowDown?i=40:s===pas.Web.TJSKeyNames.Insert?i=45:s===pas.Web.TJSKeyNames.Delete?i=46:s===pas.Web.TJSKeyNames.F1?i=112:s===pas.Web.TJSKeyNames.F2?i=113:s===pas.Web.TJSKeyNames.F3?i=114:s===pas.Web.TJSKeyNames.F4?i=115:s===pas.Web.TJSKeyNames.F5?i=116:s===pas.Web.TJSKeyNames.F6?i=117:s===pas.Web.TJSKeyNames.F7?i=118:s===pas.Web.TJSKeyNames.F8?i=119:s===pas.Web.TJSKeyNames.F9?i=120:s===pas.Web.TJSKeyNames.F10?i=121:s===pas.Web.TJSKeyNames.F11?i=122:s===pas.Web.TJSKeyNames.F12?i=123:s===pas.Web.TJSKeyNames.F13?i=124:s===pas.Web.TJSKeyNames.F14?i=125:s===pas.Web.TJSKeyNames.F15?i=126:s===pas.Web.TJSKeyNames.F16?i=127:s===pas.Web.TJSKeyNames.F17?i=128:s===pas.Web.TJSKeyNames.F18?i=129:s===pas.Web.TJSKeyNames.F19?i=130:s===pas.Web.TJSKeyNames.F20?i=131:e=t.charAt(0),-1!==i&&(e=String.fromCharCode(i)),e},this.IsKeyCharacter=function(t){var e=t;return"Up"!==e&&"Down"!==e&&"Left"!==e&&"Right"!==e&&e!==pas.Web.TJSKeyNames.Shift&&e!==pas.Web.TJSKeyNames.Control&&e!==pas.Web.TJSKeyNames.Alt&&e!==pas.Web.TJSKeyNames.Pause&&e!==pas.Web.TJSKeyNames.CapsLock&&e!==pas.Web.TJSKeyNames.PageUp&&e!==pas.Web.TJSKeyNames.PageDown&&e!==pas.Web.TJSKeyNames._End&&e!==pas.Web.TJSKeyNames.Home&&e!==pas.Web.TJSKeyNames.ArrowLeft&&e!==pas.Web.TJSKeyNames.ArrowUp&&e!==pas.Web.TJSKeyNames.ArrowRight&&e!==pas.Web.TJSKeyNames.ArrowDown&&e!==pas.Web.TJSKeyNames.Insert&&e!==pas.Web.TJSKeyNames.Delete&&e!==pas.Web.TJSKeyNames.F1&&e!==pas.Web.TJSKeyNames.F2&&e!==pas.Web.TJSKeyNames.F3&&e!==pas.Web.TJSKeyNames.F4&&e!==pas.Web.TJSKeyNames.F5&&e!==pas.Web.TJSKeyNames.F6&&e!==pas.Web.TJSKeyNames.F7&&e!==pas.Web.TJSKeyNames.F8&&e!==pas.Web.TJSKeyNames.F9&&e!==pas.Web.TJSKeyNames.F10&&e!==pas.Web.TJSKeyNames.F11&&e!==pas.Web.TJSKeyNames.F12&&e!==pas.Web.TJSKeyNames.F13&&e!==pas.Web.TJSKeyNames.F14&&e!==pas.Web.TJSKeyNames.F15&&e!==pas.Web.TJSKeyNames.F16&&e!==pas.Web.TJSKeyNames.F17&&e!==pas.Web.TJSKeyNames.F18&&e!==pas.Web.TJSKeyNames.F19&&e!==pas.Web.TJSKeyNames.F20},this.GetClientRect=function(){var t=pas.Types.TRect.$new(),e="",i=0,s=0;return e=pas.SysUtils.UpperCase(this.GetStyle("border-width")),s=0,(i=pas.System.Pos("PX",e))>0&&(pas.System.Delete({get:function(){return e},set:function(t){e=t}},i,2),pas.System.val$6(e,{get:function(){return s},set:function(t){s=t}},{get:function(){return i},set:function(t){i=t}})),t.$assign(pas.Types.Rect(0,0,this.GetWidth()-2*s,this.GetHeight()-2*s)),t},this.CreateControl=function(){null==this.FElement&&(this.FElement=this.CreateElement(),null!=this.FElement&&(this.FControlCreated=!0,this.FContainer=this.FElement,"body"!==this.GetID()&&this.GetContainer().setAttribute("id",this.GetID()),this.GetContainer().setAttribute("zindex","0"),""!==this.FElementClassName&&this.GetContainer().setAttribute("class",this.FElementClassName),this.CreateChildElements(this.FElement),this.BindEvents(),this.UpdateElement()))},this.ClearMethodPointers=function(){this.FWheelPtr=null,this.FClickPtr=null,this.FDblClickPtr=null,this.FMouseDownPtr=null,this.FMouseUpPtr=null,this.FMouseMovePtr=null,this.FMouseLeavePtr=null,this.FMouseEnterPtr=null,this.FKeyDownPtr=null,this.FKeyUpPtr=null,this.FKeyPressPtr=null,this.FInputPtr=null,this.FEnterPtr=null,this.FExitPtr=null,this.FTouchStartPtr=null,this.FTouchEndPtr=null,this.FTouchMovePtr=null,this.FTouchCancelPtr=null,this.FLayerMouseLeavePtr=null,this.FLayerMouseEnterPtr=null,this.FScriptLoadedPtr=null,this.FContextMenuPtr=null},this.GetMethodPointers=function(){null===this.FWheelPtr&&(this.FWheelPtr=rtl.createCallback(this,"HandleDoWheel"),this.FClickPtr=rtl.createCallback(this,"HandleDoClick"),this.FDblClickPtr=rtl.createCallback(this,"HandleDoDblClick"),this.FMouseDownPtr=rtl.createCallback(this,"HandleDoMouseDown"),this.FMouseUpPtr=rtl.createCallback(this,"HandleDoMouseUp"),this.FMouseMovePtr=rtl.createCallback(this,"HandleDoMouseMove"),this.FMouseLeavePtr=rtl.createCallback(this,"HandleDoMouseLeave"),this.FMouseEnterPtr=rtl.createCallback(this,"HandleDoMouseEnter"),this.FKeyDownPtr=rtl.createCallback(this,"HandleDoKeyDown"),this.FKeyUpPtr=rtl.createCallback(this,"HandleDoKeyUp"),this.FKeyPressPtr=rtl.createCallback(this,"HandleDoKeyPress"),this.FInputPtr=rtl.createCallback(this,"HandleDoInput"),this.FEnterPtr=rtl.createCallback(this,"HandleDoEnter"),this.FExitPtr=rtl.createCallback(this,"HandleDoExit"),this.FTouchStartPtr=rtl.createCallback(this,"HandleDoTouchStart"),this.FTouchEndPtr=rtl.createCallback(this,"HandleDoTouchEnd"),this.FTouchMovePtr=rtl.createCallback(this,"HandleDoTouchMove"),this.FTouchCancelPtr=rtl.createCallback(this,"HandleDoTouchCancel"),this.FLayerMouseLeavePtr=rtl.createCallback(this,"LayerHandleDoMouseLeave"),this.FLayerMouseEnterPtr=rtl.createCallback(this,"LayerHandleDoMouseEnter"),this.FScriptLoadedPtr=rtl.createCallback(this,"RequiredScriptLoaded"),this.FDragStartPtr=rtl.createCallback(this,"HandleDoDragStart"),this.FDragOverPtr=rtl.createCallback(this,"HandleDoDragOver"),this.FDragEnterPtr=rtl.createCallback(this,"HandleDoDragEnter"),this.FDragLeavePtr=rtl.createCallback(this,"HandledoDragLeave"),this.FDragEndPtr=rtl.createCallback(this,"HandleDoDragEnd"),this.FDragDropPtr=rtl.createCallback(this,"HandleDoDragDrop"),this.FContextMenuPtr=rtl.createCallback(this,"HandleDoContextMenu"))},this.EventsBound=function(){return this.FEventsBound},this.BindEvents=function(){var t=null,e=null;null!=this.GetElementBindHandle()&&(this.GetMethodPointers(),this.FEventsBound=!0,t=this.GetElementBindHandle(),e=this.FWheelPtr,t.addEventListener("wheel",e,{passive:!0}),t.addEventListener("click",this.FClickPtr),t.addEventListener("dblclick",this.FDblClickPtr),t.addEventListener("mousedown",this.FMouseDownPtr),t.addEventListener("mouseup",this.FMouseUpPtr),t.addEventListener("mousemove",this.FMouseMovePtr),t.addEventListener("mouseleave",this.FMouseLeavePtr),t.addEventListener("mouseenter",this.FMouseEnterPtr),t.addEventListener("keydown",this.FKeyDownPtr),t.addEventListener("keyup",this.FKeyUpPtr),t.addEventListener("keypress",this.FKeyPressPtr),t.addEventListener("input",this.FInputPtr),t.addEventListener("focus",this.FEnterPtr),t.addEventListener("blur",this.FExitPtr),e=this.FTouchStartPtr,t.addEventListener("touchstart",e,{passive:!0}),e=this.FTouchMovePtr,t.addEventListener("touchmove",e,{passive:!0}),t.addEventListener("touchend",this.FTouchEndPtr),t.addEventListener("touchcancel",this.FTouchCancelPtr),t.addEventListener("contextmenu",this.FContextMenuPtr),t.addEventListener("dragstart",this.FDragStartPtr),t.addEventListener("dragover",this.FDragOverPtr),t.addEventListener("dragenter",this.FDragEnterPtr),t.addEventListener("dragleave",this.FDragLeavePtr),t.addEventListener("dragend",this.FDragEndPtr),t.addEventListener("drop",this.FDragDropPtr))},this.UnbindEvents=function(){var t=null;this.ReleaseCapture(),null!=this.GetElementBindHandle()&&((t=this.GetElementBindHandle()).removeEventListener("wheel",this.FWheelPtr),t.removeEventListener("click",this.FClickPtr),t.removeEventListener("dblclick",this.FDblClickPtr),t.removeEventListener("mousedown",this.FMouseDownPtr),t.removeEventListener("mouseup",this.FMouseUpPtr),t.removeEventListener("mousemove",this.FMouseMovePtr),t.removeEventListener("mouseleave",this.FMouseLeavePtr),t.removeEventListener("mouseenter",this.FMouseEnterPtr),t.removeEventListener("keydown",this.FKeyDownPtr),t.removeEventListener("keyup",this.FKeyUpPtr),t.removeEventListener("keypress",this.FKeyPressPtr),t.removeEventListener("focus",this.FEnterPtr),t.removeEventListener("blur",this.FExitPtr),t.removeEventListener("input",this.FInputPtr),t.removeEventListener("touchstart",this.FTouchStartPtr),t.removeEventListener("touchmove",this.FTouchMovePtr),t.removeEventListener("touchend",this.FTouchEndPtr),t.removeEventListener("touchcancel",this.FTouchEndPtr),t.removeEventListener("contextmenu",this.FContextMenuPtr))},this.UpdatePadding=function(t){},this.AlignControls=function(t,e){var i=this,s=0;function o(t,s){var o=0,n=0,a=0,r=0;t.AnchoringInitialized()||i.InitAnchoring(),t.FUpdateTopLeft=!0,t.FAlignWithMargins?(o=t.FMargins.FLeft,n=t.FMargins.FTop,r=t.FMargins.FBottom,a=t.FMargins.FRight):(o=0,n=0,r=0,a=0);var l=s;1===l?(t.SetBoundsInt(e.Left+o,e.Top+n,e.Right-e.Left-o-a,t.GetHeight()),e.Top=e.Top+t.GetHeight()+n+r):2===l?(t.SetBoundsInt(e.Left+o,e.Bottom-t.GetHeight()-r-1,e.Right-e.Left-o-a-1,t.GetHeight()),e.Bottom=e.Bottom-t.GetHeight()-n-r):3===l?(t.SetBoundsInt(e.Left+o,e.Top+n,t.GetWidth(),e.Bottom-e.Top-n-r),e.Left=e.Left+t.GetWidth()+o+a):4===l?(t.SetBoundsInt(e.Right-t.GetWidth()-a,e.Top+n,t.GetWidth(),e.Bottom-e.Top-r-n),e.Right=e.Right-t.GetWidth()-a-o):5===l?t.SetBoundsInt(e.Left+o,e.Top+n,e.Right-e.Left-o-a,e.Bottom-e.Top-r-n):6===l&&(o=t.GetLeft(),n=t.GetTop(),a=0,r=0,(t.FCenter.FVertical||t.FCenter.FHorizontal)&&(t.FCenter.FHorizontal&&(o=e.Left,a=rtl.trunc((e.Right-e.Left-t.GetWidth())/2)),t.FCenter.FVertical&&(n=e.Top,r=rtl.trunc((e.Bottom-e.Top-t.GetHeight())/2)),t.SetBoundsInt(o+a,n+r,t.GetWidth(),t.GetHeight()))),t.FUpdateTopLeft=!1}function n(t){var e=0,s=0,n=0,a=null;a=pas.Classes.TList.$create("Create$1");for(var r=0,l=i.GetControlsCount()-1;r<=l;r++)if(e=r,(i.GetControls(e).FCenter.FVertical||i.GetControls(e).FCenter.FHorizontal)&&6===t||i.GetControls(e).FAlign===t&&(i.GetControls(e).FVisible||4 in i.FComponentState)){n=a.GetCount();for(var h=a.GetCount()-1;h>=0;h--){s=h;var F=t;1===F?i.GetControls(e).FOrigTop<rtl.getObject(a.Get(s)).FOrigTop&&(n=s):3===F?i.GetControls(e).FOrigLeft<rtl.getObject(a.Get(s)).FOrigLeft&&(n=s):4===F?i.GetControls(e).FOrigLeft+i.GetControls(e).GetWidth()>rtl.getObject(a.Get(s)).FOrigLeft+rtl.getObject(a.Get(s)).GetWidth()&&(n=s):2===F&&i.GetControls(e).FOrigTop+i.GetControls(e).GetHeight()>rtl.getObject(a.Get(s)).FOrigTop+rtl.getObject(a.Get(s)).GetHeight()&&(n=s)}a.Insert(n,i.GetControls(e))}for(var p=0,C=a.GetCount()-1;p<=C;p++)e=p,o(rtl.getObject(a.Get(e)),t);a=rtl.freeLoc(a)}this.UpdatePadding(e),n(1),n(2),n(3),n(4),n(5),n(6);for(var a=0,r=this.GetControlsCount()-1;a<=r;a++)s=a,this.GetControls(s).AlignControl(this.GetControls(s))},this.AlignControl=function(t){var e,i=pas.Types.TRect.$new(),s=null,o="",n="",a="",r=null,l=null,h=0,F=0;this.FIsAligning||this.IsUpdating()||0 in this.FComponentState||(null==this.FParent||this.FParent.FVisible)&&(null!=(l=pas["WEBLib.Forms"].GetParentForm(this))&&l.IsUpdating()||(h=0,null!=l&&""!==l.FFormContainer&&pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(t)&&null!=(r=document.getElementById(l.FFormContainer))&&(s=r.getBoundingClientRect(),h=Math.round(s.top+1)),this.FIsAligning=!0,null!=t&&(null!=(e=t.GetElementHandle())&&(o=t.GetElementStyle().getPropertyValue("overflow"),n=t.GetElementStyle().getPropertyValue("overflow-x"),a=t.GetElementStyle().getPropertyValue("overflow-y"),this.FClipChildren&&pas.SysUtils.LowerCase(e.tagName)!==pas["WEBLib.WebTools"].cBodyTag?t.GetElementStyle().setProperty("overflow","hidden"):t.GetElementStyle().setProperty("overflow","")),i.$assign(this.GetClientRect()),i.Bottom=i.Bottom-h,this.GetIsLinked()&&(s=this.GetElementHandle().getBoundingClientRect(),i.$assign(pas.Types.Rect(0,0,Math.round(s.right-s.left),Math.round(s.bottom-s.top)))),i.Bottom+h>pas["WEBLib.Forms"].WinHeight()&&1!==this.FHeightStyle&&0!==this.FElementPosition&&!this.GetIsLinked()&&null==pas["WEBLib.Forms"].VSIDE&&(null!=this.FParent&&pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(this.FParent)||pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(this))&&(i.Bottom=pas["WEBLib.Forms"].WinHeight()-h),null!=e&&"BODY"===e.tagName&&(F=0,document.body.scrollHeight>document.body.clientHeight&&!(4 in this.FComponentState)&&(F=16),""!==l.FFormContainer?(i.Bottom=Math.round(Math.min(i.Bottom,pas["WEBLib.Forms"].WinHeight())),i.Right=Math.round(Math.min(i.Right-F,pas["WEBLib.Forms"].WinWidth()))):(i.Bottom=l.GetHeight(),i.Right=l.GetWidth())),pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(t)&&null==pas["WEBLib.Forms"].VSIDE&&(i.Bottom>pas["WEBLib.Forms"].WinHeight()&&(i.Bottom=pas["WEBLib.Forms"].WinHeight()),i.Right>pas["WEBLib.Forms"].WinWidth()&&(i.Right=pas["WEBLib.Forms"].WinWidth())),t.IsStructuralElement()&&i.$assign(this.FParent.GetClientRect()),this.AlignControls(t,i),null!=e&&(t.GetElementStyle().setProperty("overflow",o),t.GetElementStyle().setProperty("overflow-x",n),t.GetElementStyle().setProperty("overflow-y",a)),this.FIsAligning=!1)))},this.InitAnchoring=function(){var t=0,e=0,i=0;function s(e,i,s){var o;i.set(0),s.set(0),null!=(o=pas.TypInfo.GetPropInfo(e.$class.ClassInfo(),"BorderStyle"))&&((t=pas.TypInfo.GetOrdProp$1(e,o))in rtl.createSet(1,4,5)&&(i.set(4),s.set(4)),t in rtl.createSet(2,3)&&(i.set(16),s.set(16)))}if(!this.AnchoringInitialized()){e=0,i=0,pas["WEBLib.Forms"].TForm.isPrototypeOf(this)?(rtl.as(this,pas["WEBLib.Forms"].TForm).IsMiletus()&&s(this,{get:function(){return e},set:function(t){e=t}},{get:function(){return i},set:function(t){i=t}}),this.FOrigRect.$assign(pas.Types.Rect(0,0,this.GetDesignWidth()-e,this.GetDesignHeight()-i))):this.FOrigRect.$assign(pas.Types.Rect(this.GetDesignLeft(),this.GetDesignTop(),this.GetDesignLeft()+this.GetDesignWidth(),this.GetDesignTop()+this.GetDesignHeight())),null!=this.FParent&&(pas["WEBLib.Forms"].TForm.isPrototypeOf(this.FParent)?(rtl.as(this.FParent,pas["WEBLib.Forms"].TForm).IsMiletus()&&s(this.FParent,{get:function(){return e},set:function(t){e=t}},{get:function(){return i},set:function(t){i=t}}),this.FOrigParentRect.$assign(pas.Types.Rect(0,0,this.FParent.GetDesignWidth()-e,this.FParent.GetDesignHeight()-i))):(this.FParent.AnchoringInitialized()||this.FParent.InitAnchoring(),this.FOrigParentRect.$assign(pas.Types.Rect(this.FParent.GetDesignLeft(),this.FParent.GetDesignTop(),this.FParent.GetDesignLeft()+this.FParent.GetDesignWidth(),this.FParent.GetDesignTop()+this.FParent.GetDesignHeight()))));for(var o=0,n=this.GetControlsCount()-1;o<=n;o++)t=o,this.GetControls(t).InitAnchoring()}},this.AnchoringInitialized=function(){return-1!==this.FOrigRect.Left||-1!==this.FOrigRect.Top},this.InitScript=function(){},this.Realign=function(){this.AlignControl(this)},this.Loaded=function(){var t=0;if(0 in this.FComponentState){pas.Classes.TComponent.Loaded.call(this);for(var e=0,i=this.GetControlsCount()-1;e<=i;e++)t=e,this.GetControls(t).FElementPosition in rtl.createSet(1,2)&&!this.GetControls(t).GetIsLinked()&&this.GetControls(t).FChildOrder>=0&&this.GetControls(t).FChildOrder<this.GetChildContainer().childNodes.length&&this.GetChildContainer().insertBefore(this.GetControls(t).GetContainer(),this.GetChildContainer().childNodes.item(this.GetControls(t).FChildOrder)),this.GetControls(t).Loaded();for(var s=0,o=this.GetComponentCount()-1;s<=o;s++)t=s,0 in this.GetComponent(t).FComponentState&&this.GetComponent(t).Loaded();5===this.FAlign&&null!=this.FParent&&this.SetBoundsInt(0,0,this.FParent.FWidth,this.FParent.FHeight),this.Resize(),this.UpdateElement()}},this.InternalResize=function(){0 in this.FComponentState||this.Resize()},this.FontChanged=function(){this.UpdateElementVisual()},this.SetElementColor=function(e,i){var s;s=!(pas["WEBLib.Forms"].Application.FThemed||""!==this.FElementClassName),this.GetIsLinked()||t.SetHTMLElementColor(e,i,!s)},this.MoveElements=function(t,e){if(t&&e)for(;t.childNodes.length;)e.appendChild(t.firstChild)},this.MoveElementsAndFree=function(t,e){if(t&&e){for(;t.childNodes.length;)e.appendChild(t.firstChild);t.remove()}},this.CreateWithID=function(e){var i;this.ClearMethodPointers(),this.FUpdateCount=0,this.FControlCreated=!1,this.FLinkTouchEvents=!0,this.FIsResizing=!1,(null!=this.FOwner&&0 in this.FOwner.FComponentState||null==this.FOwner)&&(null!=this.FOwner&&4 in this.FOwner.FComponentState||this.Loading()),this.FElementPosition=0,this.FWidthStyle=1,this.FHeightStyle=1,i=document.getElementById(e),this.FNew=!(null!=i),this.FFont=pas["WEBLib.Graphics"].TFont.$create("Create$1"),this.FFont.FOnChange=rtl.createCallback(this,"HandleFontChanged"),this.FNew?this.FContainer=null:(this.FContainer=i,this.FControlCreated=!0,this.FElementPosition=1,this.CreateChildElements(i),this.BindElement(),this.BindEvents()),this.FID=e,this.FEnabled=!0,this.FVisible=!0,this.FLeft=0,this.FTop=0,this.FAlign=0,this.FAlignWithMargins=!1,this.FIsAligning=!1,this.FParentFont=!0,this.FParentBiDiMode=!0,this.FParentColor=!1,this.FAnchors=rtl.createSet(0,1),this.FShowFocus=!1,this.FBorderWidth=0,this.FEnablePropagation=!1,this.FToolTip=null,this.FColor=16711422,this.FMargins=t.TMargins.$create("Create$1"),this.FMargins.FOnChange=rtl.createCallback(this,"DoMarginsChanged"),this.FCenter=t.TCenter.$create("Create"),this.FCenter.FOnChange=rtl.createCallback(this,"DoCenterChanged"),this.FParent=null,this.FPrevParent=null,0 in this.FControlStyle||this.ClearControls(),this.CreateInitialize()},this.AddControlStyle=function(t){var e,i,s,o;e=this.$classname,i=e,s=t,(o=document.getElementById(i))?o.innerHTML=s:((o=document.createElement("style")).type="text/css",o.id=i,o.innerHTML=s,document.getElementsByTagName("head")[0].appendChild(o))},this.AddControlLink=function(t,e){var i,s,o;i=t,s=e,(o=document.getElementById(i))||((o=document.createElement("link")).id=i,o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.setAttribute("href",s),document.getElementsByTagName("head")[0].appendChild(o))},this.ResetAnchoring=function(){this.FOrigRect.$assign(pas.Types.Rect(-1,-1,-1,-1)),this.InitAnchoring()},this.UpdateSize=function(){var t=0;this.UpdateElementSize();for(var e=0,i=this.GetControlsCount()-1;e<=i;e++)t=e,this.GetControls(t).UpdateSize()},this.UpdateAnchoring=function(){var t=0,e=0,i=0,s=0,o=0,n=0,a=pas.Types.TRect.$new(),r=pas.Types.TRect.$new();0 in this.FComponentState||this.FControlCreated&&(-1===this.FOrigRect.Left&&-1===this.FOrigRect.Top&&this.InitAnchoring(),(null==this.FParent||this.FParent.AnchoringInitialized())&&(5!==this.FAlign&&(null==this.FParent||pas["WEBLib.Forms"].TForm.isPrototypeOf(this)||(r.$assign(this.FParent.GetBoundsRect()),t=r.Right-r.Left-(this.FOrigParentRect.Right-this.FOrigParentRect.Left),e=r.Bottom-r.Top-(this.FOrigParentRect.Bottom-this.FOrigParentRect.Top),a.$assign(this.FOrigRect),i=0,s=0,o=0,n=0,2 in this.FAnchors&&(0 in this.FAnchors?o=t:i=t),3 in this.FAnchors&&(1 in this.FAnchors?n=e:s=e),(3 in this.FAnchors||2 in this.FAnchors)&&this.SetBoundsInt(a.Left+i,a.Top+s,a.Right-a.Left+o,a.Bottom-a.Top+n))),this.UpdateChildAnchoring()))},this.UpdateChildAnchoring=function(){for(var t=0,e=0,i=this.GetControlsCount()-1;e<=i;e++)t=e,this.GetControls(t).UpdateAnchoring()},this.SetElementPointer=function(e,i){0!==i?e.style.setProperty("cursor",t.GetHTMLCursorName(i)):e.style.removeProperty("cursor")},this.IsUpdating=function(){return this.FUpdateCount>0},this.CanShowFocus=function(){return this.FShowFocus},this.RequiredScriptLoaded=function(t){rtl.asExt(t.target,HTMLScriptElement).title="tmswebloaded",this.FControlScriptCountLoaded+=1},this.StartCapture=function(){var e=null;this.FCaptureDown&&(this.Captured()&&this.ReleaseCapture(),this.FMouseInsideLayer=!0,this.FLayer=document.createElement("SPAN"),document.body.appendChild(this.FLayer),(e=this.FLayer).addEventListener("mouseenter",this.FLayerMouseEnterPtr),e.addEventListener("mouseleave",this.FLayerMouseLeavePtr),e.addEventListener("mousedown",this.FMouseDownPtr),e.addEventListener("mouseup",this.FMouseUpPtr),e.addEventListener("mousemove",this.FMouseMovePtr),e.addEventListener("touchstart",this.FTouchStartPtr),e.addEventListener("touchmove",this.FTouchMovePtr),e.addEventListener("touchend",this.FTouchEndPtr),e.addEventListener("touchcancel",this.FTouchCancelPtr),e.style.setProperty("top","0"),e.style.setProperty("left","0"),e.style.setProperty("right","0"),e.style.setProperty("bottom","0"),e.style.setProperty("webkit-user-select","none"),e.style.setProperty("moz-user-select","none"),e.style.setProperty("khtml-user-select","none"),e.style.setProperty("ms-user-select","none"),e.style.setProperty("user-select","none"),e.style.setProperty("position","absolute"),e.style.setProperty(t.CSSZIndex,"999999"),this.FCaptured=!0,this.UpdateElement())},this.GetStyle=function(t){var e,i="",s="";return s="",null==(e=this.GetElementHandle())?i:(window.getComputedStyle&&(s=getComputedStyle(e,"")[t]),e.currentStyle&&(s=e.currentStyle[t]),i=s)},this.SetBoundsInt=function(t,e,i,s){(t!==this.GetLeft()||e!==this.GetTop()||i!==this.GetWidth()&&1===this.FWidthStyle||s!==this.GetHeight()&&1===this.FHeightStyle||null!=this.FParent&&this.FParent.GetIsLinked())&&(this.FBlockUpdateElement=!0,this.FLeft=t,this.FTop=e,this.FWidth=i,this.FHeight=s,this.FBlockUpdateElement=!1,this.UpdateElementSize(),0!==this.FAlign?this.DoRealign():this.Realign(),this.RecreateCanvas(),this.DoBoundsChange(),this.Invalidate(),this.UpdateChildAnchoring())},this.MoveFirst=function(t){var e=0,i=!1;i=!1;for(var s=this.GetControlsCount()-1;s>=0;s--)e=s,this.FControls[e]===t&&(i=!0),i&&(this.FControls[e]=e>0?this.FControls[e-1]:t)},this.MoveLast=function(t){var e=0,i=!1;i=!1;for(var s=0,o=this.GetControlsCount()-1;s<=o;s++)e=s,this.FControls[e]===t&&(i=!0),i&&(e<this.GetControlsCount()-1?this.FControls[e]=this.FControls[e+1]:this.FControls[e]=t)},this.EnableDrag=function(){null!=this.GetContainer()&&this.GetContainer().setAttribute("draggable","true")},this.DisableDrag=function(){null!=this.GetContainer()&&"true"===this.GetContainer().getAttribute("draggable")&&this.GetContainer().setAttribute("draggable","false")},this.Create$2=function(t){return this.FGotFocus=!1,this.FTabStop=!0,this.FAllowTouch=!0,this.CreateWithID(t),this},this.Create$1=function(t){var e,i,s=!1;return this.FGotFocus=!1,this.FEventsBound=!1,this.FTabStop=!0,this.FAllowTouch=!0,this.FNoUserSelect=!0,this.ClearMethodPointers(),pas.Classes.TComponent.Create$1.call(this,t),this.FEventStopPropagation=rtl.createSet(0,4,2,3,1,5,6,7),this.FScriptLoaded=!1,this.FElementFont=0,this.FElementPosition=0,this.FParentElement=null,this.FTextDirection=0,s=!1,null!=(i=pas["WEBLib.Forms"].GetParentForm(this))&&(s=4 in i.FComponentState),e=this.GetNewName(),s?this.CreateWithID(""):this.CreateWithID(e),null==t||4 in t.FComponentState||this.SetName(e),this},this.Destroy=function(){this.UnbindEvents(),this.DestroyControls(),null!=this.GetContainer()&&null!=this.FParent&&null!=this.FParent.GetChildContainer()&&(this.FParent.GetChildContainer()===this.GetContainer().parentNode&&this.FParent.GetChildContainer().removeChild(this.GetContainer()),this.FContainer=null,this.SetParent(null),this.FControlCreated=!1),rtl.free(this,"FRequiredScripts"),rtl.free(this,"FMargins"),rtl.free(this,"FCenter"),rtl.free(this,"FFont"),pas.System.Assigned(this.FToolTip)&&(FToolTip.dispose(),this.FToolTip=null),pas.Classes.TComponent.Destroy.call(this)},this.Assign=function(t){},this.DragDrop=function(t,e,i){null!=this.FOnDragDrop&&this.FOnDragDrop(this,t,e,i)},this.Resize=function(){null!=this.FOnResize&&this.FOnResize(this)},this.Capture=function(){this.FCaptureDown=!0,window.setTimeout(rtl.createSafeCallback(this,"StartCapture"),100)},this.ReleaseCapture=function(){var t=null;this.FCaptureDown=!1,this.FCaptured&&null!=this.FLayer&&((t=this.FLayer).removeEventListener("mouseenter",this.FLayerMouseEnterPtr),t.removeEventListener("mouseleave",this.FLayerMouseLeavePtr),t.removeEventListener("mousedown",this.FMouseDownPtr),t.removeEventListener("mouseup",this.FMouseUpPtr),t.removeEventListener("mousemove",this.FMouseMovePtr),t.removeEventListener("touchstart",this.FTouchStartPtr),t.removeEventListener("touchmove",this.FTouchMovePtr),t.removeEventListener("touchend",this.FTouchEndPtr),t.removeEventListener("touchcancel",this.FTouchEndPtr),document.body.removeChild(t),this.FCaptured=!1,this.FLayer=null,this.UpdateElement())},this.BringToFront=function(){if(null!=this.GetElementHandle()&&null!=this.GetElementHandle().parentElement)try{this.GetElementHandle().parentElement.appendChild(this.GetElementHandle()),null!=this.FParent&&this.FParent.MoveLast(this)}catch(t){}},this.SendToBack=function(){null!=this.GetElementHandle()&&null!=this.GetElementHandle().parentElement&&(this.GetElementHandle().parentElement.insertBefore(this.GetElementHandle(),this.GetElementHandle().parentElement.firstElementChild),null!=this.FParent&&this.FParent.MoveFirst(this))},this.PreventDefault=function(){null!=this.GetElementEvent()&&this.GetElementEvent().preventDefault()},this.StopPropagation=function(){null==this.GetElementEvent()||this.FEnablePropagation||this.GetElementEvent().stopPropagation()},this.BeginDrag=function(){this.EnableDrag()},this.BeginUpdate=function(){this.FUpdateCount+=1},this.EndUpdate=function(){this.FUpdateCount>0&&(this.FUpdateCount-=1,0===this.FUpdateCount&&this.UpdateElement())},this.Invalidate=function(){},this.SetParentComponent=function(e){this.FParent!==e&&t.TControl.isPrototypeOf(e)&&this.SetParent(e)},this.SetBounds=function(t,e,i,s){this.SetBoundsInt(t,e,i,s),this.FWidth=i,this.FHeight=s,this.FUpdateTopLeft||(this.FOrigTop=e,this.FOrigLeft=t),this.ResetAnchoring(),0 in this.FComponentState||0===this.FAlign||null==this.FParent||this.DoRealign()},this.XYToClient=function(t,e,i,s){var o=null,n=null,a=null,r=0,l=0,h=!1,F=!1,p=pas.Types.TRect.$new(),C=null,u=0,d=0,c=0,S=0;if(h=!0,F=!1,c=0,S=0,0!==this.FElementPosition)return h=!1,r=t-(n=this.GetElementHandle().getBoundingClientRect()).left,l=e-n.top,i.set(r),void s.set(l);for(c=document.body.scrollLeft+document.documentElement.scrollLeft,S=document.body.scrollTop+document.documentElement.scrollTop,r=t-this.GetLeft(),l=e-this.GetTop(),i.set(r),s.set(l),o=this.FParent,pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(this)&&null==o&&null!=this.GetContainer()&&(n=this.GetContainer().getBoundingClientRect(),i.set(i.get()-n.left),s.set(s.get()-n.top));null!=o;){if(o.GetIsLinked())n=pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(o)?o.GetContainer().getBoundingClientRect():o.GetElementHandle().getBoundingClientRect(),i.set(i.get()-n.left),s.set(s.get()-n.top),i.set(i.get()+o.GetElementHandle().scrollLeft),s.set(s.get()+o.GetElementHandle().scrollTop),c=0,S=0;else if(pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(o))""!==rtl.as(o,pas["WEBLib.Forms"].TCustomForm).FFormContainer&&null!=(a=document.getElementById(rtl.as(o,pas["WEBLib.Forms"].TCustomForm).FFormContainer))&&(F=!0,n=a.getBoundingClientRect(),i.set(i.get()-n.left),s.set(s.get()-n.top)),null!=rtl.as(o,pas["WEBLib.Forms"].TCustomForm).GetContainer()&&""===rtl.as(o,pas["WEBLib.Forms"].TCustomForm).FFormContainer&&rtl.as(o,pas["WEBLib.Forms"].TCustomForm).FPopup&&(n=rtl.as(o,pas["WEBLib.Forms"].TCustomForm).GetContainer().getBoundingClientRect(),i.set(i.get()-n.left),s.set(s.get()-n.top),p.$assign(rtl.as(o,pas["WEBLib.Forms"].TCustomForm).GetClientRect()),s.set(s.get()+p.Top),c=0,S=0);else if(o.FElementPosition in rtl.createSet(1,2)){if(null!=o.GetElementHandle()){n=o.GetElementHandle().getBoundingClientRect(),i.set(r-n.left),s.set(l-n.top),c=0,S=0,h&&(C=window.getComputedStyle(document.documentElement),u=parseInt(C.marginLeft,10),d=parseInt(C.marginTop,10),i.set(i.get()+u),s.set(s.get()+d)),h=!1;break}}else 0===o.FElementPosition&&h&&(i.set(i.get()-o.GetLeft()),s.set(s.get()-o.GetTop()),null!=o.GetElementHandle()&&(i.set(i.get()+o.GetElementHandle().scrollLeft),s.set(s.get()+o.GetElementHandle().scrollTop)),r=i.get(),l=s.get());o=o.FParent}0!==this.FElementPosition||F||(i.set(i.get()+c),s.set(s.get()+S))},this.Captured=function(){return this.FCaptured&&null!=this.FLayer},this.MakeScreenshot=function(){return null,null},this.ClientToScreen=function(t){var e=pas.Types.TPoint.$new(),i=pas.Types.TPoint.$new();return i.$assign(this.GetClientOrigin()),e.x=t.x+i.x,e.y=t.y+i.y,e},this.ScreenToClient=function(t){var e=pas.Types.TPoint.$new(),i=pas.Types.TPoint.$new();return i.$assign(this.GetClientOrigin()),e.x=t.x-i.x,e.y=t.y-i.y,e},this.CanFocus=function(){return!0,!0},this.HasHorzScrollBar=function(){var t=!1;return t=!1,null!=this.GetElementHandle()&&(t=this.GetElementHandle().clientWidth<this.GetElementHandle().scrollWidth),t},this.HasVertScrollBar=function(){var t=!1;return t=!1,null!=this.GetElementHandle()&&(t=this.GetElementHandle().clientHeight<this.GetElementHandle().scrollHeight),t},rtl.addIntf(this,pas.System.IUnknown);var i=this.$rtti;i.addMethod("Create$2",2,[["ID",rtl.string]]),i.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),this.TScrollBarKind={0:"sbHorizontal",sbHorizontal:0,1:"sbVertical",sbVertical:1},this.$rtti.$Enum("TScrollBarKind",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TScrollBarKind}),rtl.createClass(this,"TWinControl",this.TControl,(function(){rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Cursor",2,t.$rtti.TCursor,"FCursor","SetControlCursor",{Default:0}),e.addProperty("ElementClassName",2,t.$rtti.TElementClassName,"FElementClassName","SetElementClassName"),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),e.addProperty("Height",3,rtl.longint,"GetHeight","SetHeight"),e.addProperty("Hint",2,rtl.string,"FHint","SetHint"),e.addProperty("Left",3,rtl.longint,"GetLeft","SetLeft"),e.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),e.addProperty("Tag",0,rtl.longint,"FTag$1","FTag$1",{Default:0}),e.addProperty("Top",3,rtl.longint,"GetTop","SetTop"),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("Width",3,rtl.longint,"GetWidth","SetWidth"),e.addProperty("OnMouseDown",0,t.$rtti.TMouseEvent,"FOnMouseDown","FOnMouseDown"),e.addProperty("OnMouseUp",0,t.$rtti.TMouseEvent,"FOnMouseUp","FOnMouseUp"),e.addProperty("OnMouseMove",0,t.$rtti.TMouseMoveEvent,"FOnMouseMove","FOnMouseMove"),e.addProperty("OnMouseEnter",0,t.$rtti.TNotifyEvent,"FOnMouseEnter","FOnMouseEnter"),e.addProperty("OnMouseLeave",0,t.$rtti.TNotifyEvent,"FOnMouseLeave","FOnMouseLeave"),e.addProperty("OnKeyUp",0,t.$rtti.TKeyEvent,"FOnKeyUp","FOnKeyUp"),e.addProperty("OnKeyDown",0,t.$rtti.TKeyEvent,"FOnKeyDown","FOnKeyDown"),e.addProperty("OnKeyPress",0,t.$rtti.TKeyPressEvent,"FOnKeyPress","FOnKeyPress"),e.addProperty("OnEnter",0,t.$rtti.TNotifyEvent,"FOnEnter","FOnEnter"),e.addProperty("OnExit",0,t.$rtti.TNotifyEvent,"FOnExit","FOnExit")})),rtl.createClass(this,"TCustomControl",this.TWinControl,(function(){this.$init=function(){t.TWinControl.$init.call(this),this.FCaption="",this.FPixelRatio=0,this.FPainting=!1,this.FCanvas=null,this.FElementCanvas=null,this.FBorderStyle=0,this.FBorderColor=0,this.FCustomBorder=!1,this.FOnScreenShot=null},this.$final=function(){this.FCanvas=void 0,this.FElementCanvas=void 0,this.FOnScreenShot=void 0,t.TWinControl.$final.call(this)},this.GetCanvas=function(){return null==this.FCanvas&&(this.GetIsLinked()?(null==this.FElementCanvas&&(this.FElementCanvas=document.getElementById(this.GetID())),this.RecreateCanvas()):this.CreateControl()),this.FCanvas},this.GetPixelRatio=function(){var t=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},this.RecreateCanvas=function(){var t=0,e=null,i=0,s=0;null!=this.FElementCanvas&&(this.FPainting||(null!=(e=this.GetIsLinked()?this.GetElementHandle():document.getElementById(this.GetID()+"_Canvas"))&&(this.FElementCanvas=e,rtl.free(this,"FCanvas"),this.FCanvas=null),t=this.GetPixelRatio(),i=this.GetHeight()-this.GetCanvasHeightOffset(),s=this.GetWidth()-this.GetCanvasWidthOffset(),1===this.FElementPosition?this.FElementCanvas.style.setProperty("position","relative"):this.FElementCanvas.style.setProperty("position","absolute"),this.FElementCanvas.style.setProperty("height",pas.SysUtils.IntToStr(i)+"px"),this.FElementCanvas.style.setProperty("width",pas.SysUtils.IntToStr(s)+"px"),this.FElementCanvas.height=Math.round(i*t),this.FElementCanvas.width=Math.round(s*t)),null==this.FCanvas&&(this.FCanvas=pas["WEBLib.Graphics"].TCanvas.$create("Create$1",[this.FElementCanvas])),this.FCanvas.FApplyPixelRatio=!0,this.FCanvas.SetTransform(1,0,0,1,0,0))},this.SetBorderStyle=function(t){this.FBorderStyle!==t&&(this.FBorderStyle=t,this.UpdateElement())},this.SetBorderColor=function(t){this.FBorderColor!==t&&(this.FBorderColor=t,this.UpdateElement())},this.SetName=function(e){var i={},s="";if(s="",null!=pas["WEBLib.Forms"].VSIDE&&4 in this.FComponentState||pas["WEBLib.Forms"].TFrame.isPrototypeOf(this)&&(s="F"+t.FindUniqueName(this.FName)+"_"),pas.Classes.TComponent.SetName.call(this,s+e),1 in this.FControlStyle&&4 in this.FComponentState&&!(0 in this.FComponentState)){if(null!=this.FOwner&&0 in this.FOwner.FComponentState)return;i=rtl.refSet(this.FControlStyle),this.SetCaption(e),this.FControlStyle=rtl.refSet(i)}},this.SetCaption=function(t){this.FCaption=t,this.FControlStyle=rtl.diffSet(this.FControlStyle,rtl.createSet(1))},this.CreateControl=function(){t.TControl.CreateControl.call(this),this.RecreateCanvas()},this.Loaded=function(){t.TControl.Loaded.call(this),this.Invalidate()},this.UpdateElementVisual=function(){t.TControl.UpdateElementVisual.call(this),null!=this.GetElementHandle()&&(this.GetIsLinked()||""!==this.FElementClassName||(1===this.FBorderStyle?this.FCustomBorder?(this.GetElementStyle().setProperty("border-style","solid"),this.GetElementStyle().setProperty("border-width","1px"),this.GetElementStyle().setProperty("border-color",pas["WEBLib.Graphics"].ColorToHTML(this.FBorderColor))):this.GetElementStyle().setProperty("border-style",""):this.GetElementStyle().setProperty("border-style","none")),""!==this.FElementClassName&&(this.GetElementStyle().removeProperty("border-style"),this.GetElementStyle().removeProperty("border-width"),this.GetElementStyle().removeProperty("border-color")))},this.CreateElement=function(){var t=null;return this.FElementCanvas=document.createElement("CANVAS"),0 in this.FControlStyle?((t=document.createElement("SPAN")).appendChild(this.FElementCanvas),""!==this.GetID()&&this.FElementCanvas.setAttribute("id",this.GetID()+"_Canvas"),this.FElementCanvas.setAttribute("zindex","-1")):t=this.FElementCanvas,t},this.GetCanvasHeightOffset=function(){return 0,0},this.GetCanvasWidthOffset=function(){return 0,0},this.BindElement=function(){"CANVAS"===this.GetContainer().tagName||this.FControlCreated||(this.FElementCanvas=document.createElement("CANVAS"),this.GetContainer().appendChild(this.FElementCanvas))},this.BindEvents=function(){t.TControl.BindEvents.call(this)},this.HandleScreenShot=function(t){null!=this.FOnScreenShot&&this.FOnScreenShot(this,t)},this.Paint=function(){},this.CreateInitialize=function(){t.TControl.CreateInitialize.call(this),this.FControlStyle=rtl.unionSet(this.FControlStyle,rtl.createSet(1)),this.FBorderStyle=1,this.FBorderColor=12632256,this.FPainting=!1,this.FWidth=100,this.FHeight=25,this.FWidthPercent=100,this.FHeightPercent=100,this.FCustomBorder=!1},this.Destroy=function(){null!=this.FCanvas&&rtl.free(this,"FCanvas"),t.TControl.Destroy.call(this)},this.MakeScreenshot=function(){var t=null;return(t=pas["WEBLib.Graphics"].TBitmap.$create("Create$3")).FOnChange=rtl.createCallback(this,"HandleScreenShot"),t.LoadFromCanvas(this.GetCanvas()),t},this.Resize=function(){t.TControl.Resize.call(this),this.Invalidate()},this.Invalidate=function(){var e=null;t.TControl.Invalidate.call(this),null===this.FParent||3 in this.FComponentState||this.FVisible&&(this.FUpdateCount>0||null!=(e=pas["WEBLib.Forms"].GetParentForm(this))&&e.IsUpdating()||(this.GetPixelRatio()!==this.FPixelRatio&&this.RecreateCanvas(),this.FPixelRatio=this.GetPixelRatio(),this.FPainting=!0,null!=this.FCanvas&&this.FCanvas.Clear(),this.Paint(),this.FPainting=!1))},this.SetFocus=function(){t.TControl.SetFocus.call(this)},this.Focused=function(){return t.TControl.Focused.call(this)},this.EndUpdate=function(){t.TControl.EndUpdate.call(this),0===this.FUpdateCount&&this.Invalidate()},rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TGraphicControl",this.TCustomControl,(function(){rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TCustomHTMLDiv",this.TCustomControl,(function(){this.CreateElement=function(){return document.createElement("DIV")},rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TControlManager",pas.Classes.TComponent,(function(){this.$init=function(){pas.Classes.TComponent.$init.call(this),this.FInstanceCount=0},this.Create$1=function(t){return pas.Classes.TComponent.Create$1.apply(this,arguments),this.FInstanceCount=0,this},this.GetInstanceNumber=function(){return this.FInstanceCount+=1,this.FInstanceCount},rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),this.FindGlobalComponent=function(t){return null,null},this.GetMousePos=function(){var t=pas.Types.TPoint.$new();return t.$assign(pas.Types.Point(e.FMouseX,e.FMouseY)),t},this.FindUniqueName=function(t){return t+pas.SysUtils.IntToStr(e.ControlManager.GetInstanceNumber())},this.GetScrollBarHeight=function(){var t=0;if(0===(t=e.ScrollBH)){var i=document.createElement("div");i.style.visibility="hidden",i.style.height="100px",i.style.msOverflowStyle="scrollbar",document.body.appendChild(i);var s=i.offsetHeight;i.style.overflow="scroll";var o=document.createElement("div");o.style.height="100%",i.appendChild(o);var n=o.offsetHeight;i.parentNode.removeChild(i),t=s-n,e.ScrollBH=t}return t},this.GetScrollBarWidth=function(){var t=0;if(0===(t=e.ScrollBW)){var i=document.createElement("div");i.style.visibility="hidden",i.style.width="100px",i.style.msOverflowStyle="scrollbar",document.body.appendChild(i);var s=i.offsetWidth;i.style.overflow="scroll";var o=document.createElement("div");o.style.width="100%",i.appendChild(o);var n=o.offsetWidth;i.parentNode.removeChild(i),t=s-n,e.ScrollBW=t}return t},this.SetHTMLElementFont=function(t,e,i){var s="";i?(t.style.removeProperty("font-family"),t.style.removeProperty("font-style"),t.style.removeProperty("font-weight"),t.style.removeProperty("font-size"),t.style.removeProperty("text-decoration")):(t.style.setProperty("font-family",e.FName),t.style.setProperty("font-style","normal"),0 in e.FStyle?t.style.setProperty("font-weight","bold"):t.style.setProperty("font-weight",""),1 in e.FStyle&&t.style.setProperty("font-style","italic"),s="",3 in e.FStyle&&(s="underline"),2 in e.FStyle&&(""!==s&&(s+=" "),s+="line-through"),""!==s?t.style.setProperty("text-decoration",s):t.style.removeProperty("text-decoration"),0!==e.FSize&&t.style.setProperty("font-size",pas.SysUtils.IntToStr(e.FSize)+"pt"))},this.SetHTMLElementColor=function(t,i,s){s||-1===i||16711422===i?t.style.removeProperty(e.cStyleBkgColor):t.style.setProperty(e.cStyleBkgColor,pas["WEBLib.Graphics"].ColorToHTML(i))},this.GetHTMLCursorName=function(t){var e="";e="default";return 0===t?e="default":2===t?e="auto":1===t?e="none":3===t?e="crosshair":4===t?e="text":6===t?e="nesw-resize":7===t?e="ns-resize":8===t?e="nwse-resize":9===t?e="ew-resize":10===t?e="n-resize":11===t?e="wait":12===t?e="copy":13===t?e="no-drop":14===t?e="col-resize":15===t?e="row-resize":16===t?e="copy":17===t?e="progress":18===t?e="not-allowed":19===t?e="progress":20===t?e="help":21===t?e="pointer":22!==t&&5!==t||(e="move"),e},this.GetHTMLElementAbsoluteRect=function(t){var e=pas.Types.TRect.$new(),i="";function s(t){var e=0,i=0;return t=pas.SysUtils.StringReplace(t,"px","",rtl.createSet(0)),pas.System.val$6(t,{get:function(){return e},set:function(t){e=t}},{get:function(){return i},set:function(t){i=t}}),e}return i=t.style.getPropertyValue("left"),e.Left=s(i),i=t.style.getPropertyValue("top"),e.Top=s(i),i=t.style.getPropertyValue("width"),e.Right=e.Left+s(i),i=t.style.getPropertyValue("height"),e.Bottom=e.Top+s(i),e},this.IsAndroid=function(){var t;return t=navigator.userAgent,pas.System.Pos("Android",t)>0},t.$implcode=function(){e.ControlManager=null,e.FMouseX=0,e.FMouseY=0,e.FCursorX=0,e.FCursorY=0,e.ScrollBW=0,e.ScrollBH=0,e.DragObject=null,e.cStyleBkgColor="background-color"},t.$init=function(){e.ScrollBW=0,e.ScrollBH=0,e.DragObject=null,e.ControlManager=t.TControlManager.$create("Create$1",[null])}}),["WEBLib.Dialogs","WEBLib.Forms","Math","TypInfo","WEBLib.WebTools","WEBLib.Utils"]),rtl.module("WEBLib.WebTools",["System","Classes","Web","JS","WEBLib.Controls","WEBLib.Graphics"],(function(){"use strict";var t=this;this.cBodyTag="body",this.cHTMLExt=".html",this.DoubleToHTML=function(t){return pas.SysUtils.Format$1("%g",pas.System.VarRecs(3,t),pas.SysUtils.TFormatSettings.Invariant())},this.GetLocaleShortDateFormat=function(t){return pas.SysUtils.TFormatSettings.Create$1(t).ShortDateFormat},this.GetLocaleLongDayName=function(t,e){var i=new Date(2017,0,1);i.setDate(i.getDate()+t-1);var s="";return s=""==e?navigator.language:e,i.toLocaleDateString(s,{weekday:"long"})},this.GetLocaleShortDayName=function(t,e){var i=new Date(2017,0,1);i.setDate(i.getDate()+t-1);var s="";return s=""==e?navigator.language:e,i.toLocaleDateString(s,{weekday:"short"})},this.GetLocaleLongMonthName=function(t,e){var i=new Date(2017,t-1,1),s="";return s=""==e?navigator.language:e,i.toLocaleDateString(s,{month:"long"})},this.GetLocaleShortMonthName=function(t,e){var i=new Date(2017,t-1,1),s="";return s=""==e?navigator.language:e,i.toLocaleDateString(s,{month:"short"})},this.GetLocaleDecimalSeparator=function(t){var e=1.1,i="";return i=""==t?navigator.language:t,e=e.toLocaleString(i).substring(1,2)},this.GetBrowserLocale=function(){return navigator.language},this.ProcessAccelerator=function(t,e){var i,s=0,o="";for(i=t.length,e.set(""),o="",s=1;s<=i;)"&"===t.charAt(s-1)?(s+1<=i&&"&"!==t.charAt(s+1-1)?(o=o+"<u>"+t.charAt(s+1-1)+"</u>",e.set(t.charAt(s+1-1))):s+1<=i&&"&"===t.charAt(s+1-1)&&(o+="&"),s+=2):(o+=t.charAt(s-1),s+=1);return o},this.HexImageDecode=function(t){var e,i=0,s=0,o=null,n=0,a=0,r=0;e=rtl.trunc(t.length/2),s=0,(n=t.charCodeAt(0)-48)>=10&&(n-=7),(a=t.charCodeAt(1)-48)>=10&&(a-=7),r=1+(a+(n<<4)),(i=pas.System.Pos("4A5045474",t))>1&&i<10&&(r+=4),(i=pas.System.Pos("4269746D6",t))>1&&i<10&&(r+=4),o=new Uint8Array(e-r);for(var l=r+1,h=e;l<=h;l++)i=l,(n=t.charCodeAt(2*i-1-1)-48)>=10&&(n-=7),(a=t.charCodeAt(2*i-1)-48)>=10&&(a-=7),a+=n<<4,o[s]=a,s+=1;return o},this.HexImageEncodeFromBase64=function(e){var i;return e=e.replace(/^data:image\/\S+;base64,/,""),i=Uint8Array.from(atob(e),(function(t){return t.charCodeAt(0)})),t.HexImageEncode(i)},this.HexImageEncode=function(t){var e="",i=0,s=0,o=0,n="",a="";if(e="",0===(s=t.length))return e;s=((255&s)<<24)+((65280&s)<<8)+((16711680&s)>>>8)+((4278190080&s)>>>24),a="",137===t[0]&&80===t[1]&&(o=(n="TPngImage").length),255===t[0]&&216===t[1]&&(o=(n="TJPEGImage").length,a=pas.SysUtils.IntToHex(s,8)),66===t[0]&&77===t[1]&&(o=(n="TBitmap").length,a=pas.SysUtils.IntToHex(s,8)),71===t[0]&&73===t[1]&&(o=(n="TGIFImage").length),e=pas.SysUtils.IntToHex(o,2);for(var r=1,l=n.length;r<=l;r++)i=r,o=n.charCodeAt(i-1),e+=pas.SysUtils.IntToHex(o,2);e+=a;for(var h=0,F=t.length-1;h<=F;h++)o=t[i=h],e+=pas.SysUtils.IntToHex(o,2);return e},this.HexImageDecodeAsBase64=function(e){var i;return i=t.HexImageDecode(e),e=btoa(new Uint8Array(i).reduce((function(t,e){return t+String.fromCharCode(e)}),""))},this.PickerDateToDate=function(t){var e,i,s,o=0,n=0,a=0,r=0,l=0;return o=0,e=pas.System.Copy(t,1,4),i=pas.System.Copy(t,6,2),s=pas.System.Copy(t,9,2),pas.System.val$5(e,{get:function(){return n},set:function(t){n=t}},{get:function(){return l},set:function(t){l=t}}),pas.System.val$5(i,{get:function(){return a},set:function(t){a=t}},{get:function(){return l},set:function(t){l=t}}),pas.System.val$5(s,{get:function(){return r},set:function(t){r=t}},{get:function(){return l},set:function(t){l=t}}),0!==n&&0!==a&&0!==r&&(o=pas.SysUtils.EncodeDate(n,a,r)),o},this.PickerTimeToTime=function(t){var e,i,s,o=0,n=0,a=0,r=0,l=0;return o=0,e=pas.System.Copy(t,1,2),i=pas.System.Copy(t,4,2),s=pas.System.Copy(t,7,2),pas.System.val$5(e,{get:function(){return n},set:function(t){n=t}},{get:function(){return l},set:function(t){l=t}}),pas.System.val$5(i,{get:function(){return a},set:function(t){a=t}},{get:function(){return l},set:function(t){l=t}}),pas.System.val$5(s,{get:function(){return r},set:function(t){r=t}},{get:function(){return l},set:function(t){l=t}}),n>=0&&a>=0&&r>=0&&(o=pas.SysUtils.EncodeTime(n,a,r,0)),o},this.HTMLToString=function(t){return t=pas.SysUtils.StringReplace(t,"<","&lt;",rtl.createSet(0)),pas.SysUtils.StringReplace(t,">","&gt;",rtl.createSet(0))},this.ElementVisible=function(e){var i=!1,s=null;for(i=!1,s=e;null!=s;)pas.SysUtils.LowerCase(s.tagName)===t.cBodyTag&&(i=!0),s=s.parentElement;if(!i)return i;for(;null!=e;){if("none"===e.style.getPropertyValue("display"))return i=!1;if(s=e.parentElement,!rtl.isExt(s,HTMLElement))return i;e=s}return i}}),["SysUtils","WEBLib.Utils"]),rtl.module("contnrs",["System","SysUtils","Classes"],(function(){"use strict";rtl.createClass(this,"TObjectList",pas.Classes.TList,(function(){this.$init=function(){pas.Classes.TList.$init.call(this),this.FFreeObjects=!1},this.Notify=function(t,e){var i=null;this.FFreeObjects&&2===e&&(i=rtl.getObject(t),i=rtl.freeLoc(i)),pas.Classes.TList.Notify.call(this,t,e)},this.GetItem=function(t){return rtl.getObject(pas.Classes.TList.Get.call(this,t))},this.Create$2=function(){return pas.Classes.TList.Create$1.call(this),this.FFreeObjects=!0,this},this.Add$1=function(t){return pas.Classes.TList.Add.call(this,t)},this.Remove$1=function(t){return pas.Classes.TList.Remove.call(this,t)}}))}),["JS"]),rtl.module("WEBLib.Graphics",["System","Classes","Types","Web","JS"],(function(){"use strict";var t=this,e=t.$impl;this.WEBDEFAULTFONT="Arial",this.SysDefault=536870912,this.clNone=-1,this.clBlack=0,this.clSilver=12632256,this.clWhite=16777215,this.clDefault=536870912,this.clBtnFace=15790320,this.clWindowText=65793,this.clWindow=16711422,this.clHighlight=14120960,this.clHighlightText=197379,this.clDarkred=139,this.clLightsteelblue=14599344,this.clLightyellow=14745599,this.DEFAULT_CHARSET=1,this.$rtti.$inherited("TColor",rtl.nativeint,{}),this.TVerticalAlignment={0:"taAlignTop",taAlignTop:0,1:"taAlignBottom",taAlignBottom:1,2:"taVerticalCenter",taVerticalCenter:2},this.TPenStyle={0:"psSolid",psSolid:0,1:"psDash",psDash:1,2:"psDot",psDot:2,3:"psDashDot",psDashDot:3,4:"psDashDotDot",psDashDotDot:4,5:"psClear",psClear:5,6:"psInsideFrame",psInsideFrame:6,7:"psUserStyle",psUserStyle:7,8:"psAlternate",psAlternate:8},this.$rtti.$Enum("TPenStyle",{minvalue:0,maxvalue:8,ordtype:1,enumtype:this.TPenStyle}),this.TPenMode={0:"pmBlack",pmBlack:0,1:"pmWhite",pmWhite:1,2:"pmNop",pmNop:2,3:"pmNot",pmNot:3,4:"pmCopy",pmCopy:4,5:"pmNotCopy",pmNotCopy:5,6:"pmMergePenNot",pmMergePenNot:6,7:"pmMaskPenNot",pmMaskPenNot:7,8:"pmMergeNotPen",pmMergeNotPen:8,9:"pmMaskNotPen",pmMaskNotPen:9,10:"pmMerge",pmMerge:10,11:"pmNotMerge",pmNotMerge:11,12:"pmMask",pmMask:12,13:"pmNotMask",pmNotMask:13,14:"pmXor",pmXor:14,15:"pmNotXor",pmNotXor:15},this.$rtti.$Enum("TPenMode",{minvalue:0,maxvalue:15,ordtype:1,enumtype:this.TPenMode}),this.TBrushStyle={0:"bsSolid",bsSolid:0,1:"bsClear",bsClear:1,2:"bsHorizontal",bsHorizontal:2,3:"bsVertical",bsVertical:3,4:"bsFDiagonal",bsFDiagonal:4,5:"bsBDiagonal",bsBDiagonal:5,6:"bsCross",bsCross:6,7:"bsDiagCross",bsDiagCross:7},this.$rtti.$Enum("TBrushStyle",{minvalue:0,maxvalue:7,ordtype:1,enumtype:this.TBrushStyle}),this.TBrushGradient={0:"bgNone",bgNone:0,1:"bgLinearVert",bgLinearVert:1,2:"bgLinearHorz",bgLinearHorz:2,3:"bgRadial",bgRadial:3},this.$rtti.$Enum("TBrushGradient",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TBrushGradient}),this.TFontStyle={0:"fsBold",fsBold:0,1:"fsItalic",fsItalic:1,2:"fsStrikeOut",fsStrikeOut:2,3:"fsUnderline",fsUnderline:3},this.$rtti.$Enum("TFontStyle",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TFontStyle}),this.$rtti.$Set("TFontStyles",{comptype:this.$rtti.TFontStyle}),this.$rtti.$Int("TFontCharset",{minvalue:0,maxvalue:255,ordtype:3}),this.$rtti.$inherited("TBinaryString",rtl.string,{}),rtl.recNewT(this,"TCanvasPointF",(function(){this.X=0,this.Y=0,this.$eq=function(t){return this.X===t.X&&this.Y===t.Y},this.$assign=function(t){return this.X=t.X,this.Y=t.Y,this}})),rtl.recNewT(this,"TCanvasRectF",(function(){this.Left=0,this.Top=0,this.Right=0,this.Bottom=0,this.$eq=function(t){return this.Left===t.Left&&this.Top===t.Top&&this.Right===t.Right&&this.Bottom===t.Bottom},this.$assign=function(t){return this.Left=t.Left,this.Top=t.Top,this.Right=t.Right,this.Bottom=t.Bottom,this}})),rtl.createClass(this,"TPen",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FWidth=0,this.FColor=0,this.FStyle=0,this.FMode=0},this.SetColor=function(t){this.FColor=t},this.Create$1=function(){return this.FColor=0,this.FWidth=1,this.FStyle=0,this.FMode=4,this},this.Assign=function(e){t.TPen.isPrototypeOf(e)?(this.FColor=rtl.as(e,t.TPen).FColor,this.FStyle=rtl.as(e,t.TPen).FStyle,this.FWidth=rtl.as(e,t.TPen).FWidth):pas.Classes.TPersistent.Assign.apply(this,arguments)};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("Color",2,t.$rtti.TColor,"FColor","SetColor"),e.addProperty("Mode",0,t.$rtti.TPenMode,"FMode","FMode",{Default:t.TPenMode.pmCopy}),e.addProperty("Width",0,rtl.longint,"FWidth","FWidth",{Default:1}),e.addProperty("Style",0,t.$rtti.TPenStyle,"FStyle","FStyle",{Default:t.TPenStyle.psSolid})})),rtl.createClass(this,"TGradientColor",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FColor=0,this.FStop=0},this.Assign=function(e){t.TGradientColor.isPrototypeOf(e)&&(this.FColor=rtl.as(e,t.TGradientColor).FColor,this.FStop=rtl.as(e,t.TGradientColor).FStop)},this.Create$1=function(){return this.FColor=-1,this.FStop=0,this};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("Stop",0,rtl.double,"FStop","FStop"),e.addProperty("Color",0,t.$rtti.TColor,"FColor","FColor",{Default:-1})})),rtl.createClass(this,"TBrush",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FColor=0,this.FStyle=0,this.FGradientColors=null,this.FGradient=0},this.$final=function(){this.FGradientColors=void 0,pas.Classes.TPersistent.$final.call(this)},this.Create$1=function(){return this.FColor=16777215,this.FStyle=0,this.FGradient=0,this.FGradientColors=pas.Classes.TList.$create("Create$1"),this},this.Destroy=function(){rtl.free(this,"FGradientColors"),pas.System.TObject.Destroy.call(this)},this.Assign=function(e){t.TBrush.isPrototypeOf(e)?(this.FColor=rtl.as(e,t.TBrush).FColor,this.FStyle=rtl.as(e,t.TBrush).FStyle):pas.Classes.TPersistent.Assign.apply(this,arguments)},this.AddGradientColor=function(e,i){var s=null;(s=t.TGradientColor.$create("Create$1")).FColor=e,s.FStop=i,this.FGradientColors.Add(s)},this.GetGradientColor=function(t,e,i){if(!(t<this.FGradientColors.GetCount()))throw pas.SysUtils.Exception.$create("Create$1",["Invalid gradient color index"]);e.set(rtl.getObject(this.FGradientColors.Get(t)).FColor),i.set(rtl.getObject(this.FGradientColors.Get(t)).FStop)},this.GradientCount=function(){return this.FGradientColors.GetCount()},this.ClearGradient=function(){for(var t=0,e=null,i=this.FGradientColors.GetCount()-1;i>=0;i--)t=i,e=rtl.getObject(this.FGradientColors.Get(t)),e=rtl.freeLoc(e),this.FGradientColors.Delete(t)};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("Gradient",0,t.$rtti.TBrushGradient,"FGradient","FGradient"),e.addProperty("Color",0,t.$rtti.TColor,"FColor","FColor"),e.addProperty("Style",0,t.$rtti.TBrushStyle,"FStyle","FStyle")})),rtl.createClass(this,"TFont",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FName="",this.FSize=0,this.FColor=0,this.FStyle={},this.FOnChange=null,this.FHeight=0,this.FCharset=0},this.$final=function(){this.FStyle=void 0,this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetHeight=function(t){var e;e=72*-t/96,this.FSize=Math.round(e),this.FHeight!==t&&(this.FHeight=t,this.DoChange())},this.SetName=function(t){this.FName!==t&&(this.FName=t,this.DoChange())},this.SetSize=function(t){this.FSize!==t&&(this.FSize=t,this.DoChange())},this.SetColor=function(t){this.FColor!==t&&(this.FColor=t,this.DoChange())},this.SetStyle=function(t){rtl.neSet(this.FStyle,t)&&(this.FStyle=rtl.refSet(t),this.DoChange())},this.DoChange=function(){null!=this.FOnChange&&this.FOnChange(this)},this.Assign=function(e){t.TFont.isPrototypeOf(e)?(this.FName=rtl.as(e,t.TFont).FName,this.FColor=rtl.as(e,t.TFont).FColor,this.FSize=rtl.as(e,t.TFont).FSize,this.FStyle=rtl.refSet(rtl.as(e,t.TFont).FStyle),this.DoChange()):pas.Classes.TPersistent.Assign.apply(this,arguments)},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FName=t.WEBDEFAULTFONT,this.FSize=8,this.FHeight=-11,this.FStyle={},this.FColor=0,this},this.ToString=function(){var e="";return e="",0 in this.FStyle&&1 in this.FStyle?e+="bold italic":0 in this.FStyle?e+="bold":1 in this.FStyle&&(e+="italic"),0!==this.FSize?e+" "+t.FontSizeToHTML(t.FontSizeToPx(this.FSize))+" "+this.FName:e+" "+t.FontSizeToHTML(t.FontSizeToPx(12))+" "+this.FName};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("Charset",0,t.$rtti.TFontCharset,"FCharset","FCharset"),e.addProperty("Name",2,rtl.string,"FName","SetName"),e.addProperty("Height",2,rtl.longint,"FHeight","SetHeight"),e.addProperty("Style",2,t.$rtti.TFontStyles,"FStyle","SetStyle"),e.addProperty("Color",2,t.$rtti.TColor,"FColor","SetColor"),e.addProperty("Size",2,rtl.longint,"FSize","SetSize")})),rtl.createClass(this,"TGraphic",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FAddToQueue=!1,this.FCanvasElement=null,this.FEmpty=!1,this.FData="",this.FDataBin="",this.FCanvas=null,this.FOnChange=null,this.FImage=null,this.FURL="",this.FLoaded=null,this.FUsedCanvas=!1},this.$final=function(){this.FCanvasElement=void 0,this.FCanvas=void 0,this.FOnChange=void 0,this.FImage=void 0,this.FLoaded=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetHeight=function(t){this.FImage.height=t,this.RecreateCanvas(),this.DoChange()},this.SetWidth=function(t){this.FImage.width=t,this.RecreateCanvas(),this.DoChange()},this.GetCanvas=function(){var t;return null==this.FCanvas&&this.RecreateCanvas(),t=this.FCanvas,this.FUsedCanvas=!0,t},this.GetData=function(){return this.FDataBin},this.SetData=function(t){var e="";this.FDataBin!==t&&(this.FDataBin=t,e=pas["WEBLib.WebTools"].HexImageDecodeAsBase64(this.FDataBin),pas.System.Pos("PHN2ZyB",e)>0?this.LoadFromResource("data:image/svg+xml;base64,"+e):this.LoadFromResource("data:image/png;base64,"+e))},this.DoChange=function(){var t=0;this.FEmpty=0===this.GetWidth()&&0===this.GetHeight(),this.FEmpty||""===this.FData||e.FCache.Exists(this.FData)||(e.FCache.Add$1(e.TGraphicCache.$create("Create$1",[this.FImage,this.FData])),(t=e.FQueue.IndexOf(this.FData))>=0&&t<=e.FQueue.GetCount()-1&&e.FQueue.Delete(t),e.FCacheCount-=1,0===e.FCacheCount&&null!=pas["WEBLib.Forms"].Application.FOnImageCacheReady&&pas["WEBLib.Forms"].Application.FOnImageCacheReady(pas["WEBLib.Forms"].Application)),null!=this.FOnChange&&this.FOnChange(this),null!=this.FLoaded&&(this.FLoaded(),this.FLoaded=null)},this.SetURL=function(t){this.LoadFromURL(t,null)},this.GetWidth=function(){var t=0;return t=0,null!=this.FImage&&(t=this.FImage.width),t},this.GetHeight=function(){var t=0;return t=0,null!=this.FImage&&(t=this.FImage.height),t},this.RecreateCanvas=function(){null==this.FCanvasElement&&(this.FCanvasElement=document.createElement("CANVAS")),null!=this.FCanvasElement&&(this.FCanvasElement.height=this.GetHeight(),this.FCanvasElement.width=this.GetWidth(),null==this.FCanvas&&(this.FCanvas=t.TCanvas.$create("Create$1",[this.FCanvasElement]),this.FCanvas.FOnBeginScene=rtl.createCallback(this,"DoBeginScene"),this.FCanvas.FOnEndScene=rtl.createCallback(this,"DoEndScene")))},this.DoBeginScene=function(t){this.FCanvas.Clear()},this.DoEndScene=function(t){this.FAddToQueue=!1,this.CaptureCanvas(),this.FAddToQueue=!0},this.AssignEvents=function(){var t=this;this.FImage.onload=function(){t.DoChange()}},this.CreateImage=function(){this.FImage=new Image},this.LoadFromCache=function(t,i){var s="",o=null,n="",a=!1;this.FData=t,pas.System.Pos("DATA:",pas.SysUtils.UpperCase(t))>0&&(this.FDataBin=pas["WEBLib.WebTools"].HexImageEncodeFromBase64(t)),""!==(s=t)&&(this.FLoaded=i,this.FUsedCanvas=!1,e.FCache.Find(s,{get:function(){return o},set:function(t){o=t}})?(this.FImage=o,this.DoChange()):(!1,n="",(a=""!=(n=this.FImage.src)&&s!==n)&&(this.CreateImage(),this.AssignEvents()),!a&&-1===e.FQueue.IndexOf(s)||a?(this.FImage.src=s,s=this.FImage.src,this.FData=s,pas.System.Pos("DATA:",pas.SysUtils.UpperCase(s))>0&&(this.FDataBin=pas["WEBLib.WebTools"].HexImageEncodeFromBase64(s)),e.FCacheCount+=1,this.FAddToQueue&&e.FQueue.Add(s)):a||-1===e.FQueue.IndexOf(s)||(this.FImage.src=s)),this.FImage&&(this.FEmpty=""==this.FImage.src))},this.CreateFromResource=function(t){return this.CreateFromResource$1(t,0)},this.CreateFromResource$1=function(e,i){var s=null;return(s=t.TGraphic.$create("Create$3")).LoadFromResource(e),s},this.CreateFromURL=function(t){return this.CreateFromURL$1(t,0)},this.CreateFromURL$1=function(e,i){var s=null;return(s=t.TGraphic.$create("Create$3")).LoadFromURL(e,null),s},this.Image=function(){return this.FImage},this.Empty=function(){return this.FEmpty},this.Create$3=function(){return this.FAddToQueue=!0,this.FEmpty=!0,this.FData="",this.FDataBin="",this.FUsedCanvas=!1,this.CreateImage(),this.AssignEvents(),this},this.CaptureCanvas=function(){null!=this.FCanvas&&null!=this.FCanvas.FElementCanvas&&this.LoadFromResource(this.FCanvas.FElementCanvas.toDataURL())},this.LoadFromCanvas=function(t){null!=t&&null!=t.FElementCanvas&&this.LoadFromResource(t.FElementCanvas.toDataURL())},this.SetSize=function(t,e){this.SetWidth(t),this.SetHeight(e)},this.Assign=function(e){var i="";null!=e&&t.TGraphic.isPrototypeOf(e)&&null!=rtl.as(e,t.TGraphic).FCanvas?this.LoadFromCanvas(rtl.as(e,t.TGraphic).FCanvas):null!=e&&t.TGraphic.isPrototypeOf(e)&&null!=rtl.as(e,t.TGraphic).FImage&&!rtl.as(e,t.TGraphic).Empty()?(i=e.FImage.src,this.LoadFromURL(i,null)):null==e&&(this.CreateImage(),this.DoChange())},this.LoadFromURL=function(t,e){this.LoadFromURL$1(t,0,e)},this.LoadFromURL$1=function(t,e,i){this.FEmpty=!0,this.LoadFromCache(t,i)},this.LoadFromFile=function(t,e){this.LoadFromURL$1(t,0,e)},this.LoadFromResource=function(t){this.LoadFromResource$1(t,0)},this.LoadFromResource$1=function(t,e){this.FEmpty=!0,this.LoadFromCache(t,null)};var i=this.$rtti;i.addMethod("Create$3",2,[]),i.addProperty("OnChange",0,pas.Classes.$rtti.TNotifyEvent,"FOnChange","FOnChange"),i.addProperty("URL",2,rtl.string,"FURL","SetURL"),i.addProperty("Data",3,t.$rtti.TBinaryString,"GetData","SetData")})),rtl.createClass(this,"TBitmap",this.TGraphic,(function(){})),rtl.recNewT(this,"TMatrix",(function(){this.m11=0,this.m12=0,this.m13=0,this.m21=0,this.m22=0,this.m23=0,this.m31=0,this.m32=0,this.m33=0,this.$eq=function(t){return this.m11===t.m11&&this.m12===t.m12&&this.m13===t.m13&&this.m21===t.m21&&this.m22===t.m22&&this.m23===t.m23&&this.m31===t.m31&&this.m32===t.m32&&this.m33===t.m33},this.$assign=function(t){return this.m11=t.m11,this.m12=t.m12,this.m13=t.m13,this.m21=t.m21,this.m22=t.m22,this.m23=t.m23,this.m31=t.m31,this.m32=t.m32,this.m33=t.m33,this}})),rtl.createClass(this,"TCanvas",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FElementCanvas=null,this.FContext=null,this.FPen=null,this.FBrush=null,this.FFont=null,this.FPathOpen=!1,this.FPathX=0,this.FPathY=0,this.FClipRect=t.TCanvasRectF.$new(),this.FOnEndScene=null,this.FOnBeginScene=null,this.FApplyPixelRatio=!1},this.$final=function(){this.FElementCanvas=void 0,this.FContext=void 0,this.FPen=void 0,this.FBrush=void 0,this.FFont=void 0,this.FClipRect=void 0,this.FOnEndScene=void 0,this.FOnBeginScene=void 0,pas.System.TObject.$final.call(this)},this.SetClipRect=function(t){this.FClipRect.$assign(t),null!=this.FContext&&(this.FContext.beginPath(),this.FContext.rect(this.FClipRect.Left,this.FClipRect.Top,this.FClipRect.Right-this.FClipRect.Left,this.FClipRect.Bottom-this.FClipRect.Top),this.FContext.clip())},this.GetAccuOffset=function(t,e,i,s){i.set(0),s.set(0),1===this.FPen.FWidth&&5!==this.FPen.FStyle&&0===pas.System.Frac(t)&&i.set(.5),1===this.FPen.FWidth&&5!==this.FPen.FStyle&&0===pas.System.Frac(e)&&s.set(.5)},this.ApplyStroke=function(){if(null!=this.FContext){this.FContext.lineWidth=this.FPen.FWidth,this.FContext.strokeStyle=t.ColorToHTML(this.FPen.FColor);var e=this.FPen.FStyle;0===e?this.FContext.setLineDash([]):2===e?this.FContext.setLineDash([1,2]):1===e?this.FContext.setLineDash([8,2]):3===e?this.FContext.setLineDash([6,2,2,2]):4===e?this.FContext.setLineDash([6,2,2,2,2,2]):5===e&&this.FContext.setLineDash([0,65535])}},this.ApplyFill=function(){null!=this.FContext&&(this.FContext.fillStyle=t.ColorToHTML(this.FBrush.FColor))},this.ApplyBrush=function(e,i,s,o){var n=0,a=0,r=0,l=null,h=0,F="",p=0,C=0;if(this.GetAccuOffset(e,i,{get:function(){return n},set:function(t){n=t}},{get:function(){return a},set:function(t){a=t}}),this.FBrush.FStyle in rtl.createSet(2,6))for(r=i+a,this.FContext.lineWidth=1,this.FContext.strokeStyle=t.ColorToHTML(this.FBrush.FColor);r<o;)this.FContext.moveTo(e,r),this.FContext.lineTo(s,r),r+=8;if(this.FBrush.FStyle in rtl.createSet(3,6))for(r=e+n,this.FContext.lineWidth=1,this.FContext.strokeStyle=t.ColorToHTML(this.FBrush.FColor);r<s;)this.FContext.moveTo(r,i),this.FContext.lineTo(r,o),r+=8;if(this.FBrush.FStyle in rtl.createSet(4,7))for(r=e+n-(s-e),this.FContext.lineWidth=1,this.FContext.strokeStyle=t.ColorToHTML(this.FBrush.FColor);r<s;)this.FContext.moveTo(r,i),this.FContext.lineTo(r+(o-i),o),r+=8;if(this.FBrush.FStyle in rtl.createSet(5,7))for(r=e+n,this.FContext.lineWidth=1,this.FContext.strokeStyle=t.ColorToHTML(this.FBrush.FColor);r<s+(s-e);)this.FContext.moveTo(r,i),this.FContext.lineTo(r-(o-i),o),r+=8;if(0===this.FBrush.FGradient)this.FContext.stroke();else{var u=this.FBrush.FGradient;2===u?l=this.FContext.createLinearGradient(e,i,s,i):1===u?l=this.FContext.createLinearGradient(e,i,e,o):3===u&&(l=this.FContext.createRadialGradient(e+(s-e)/2,i+(o-i)/2,0,e+(s-e)/2,i+(o-i)/2,(s-e)/2)),F=t.ColorToHTML(t.ColorToRGB(this.FBrush.FColor)),l.addColorStop(0,F);for(var d=0,c=this.FBrush.GradientCount()-1;d<=c;d++)h=d,this.FBrush.GetGradientColor(h,{get:function(){return p},set:function(t){p=t}},{get:function(){return C},set:function(t){C=t}}),F=t.ColorToHTML(t.ColorToRGB(p)),l.addColorStop(C,F);this.FContext.fillStyle=l}},this.Create$1=function(e){return this.FElementCanvas=e,-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")?this.FContext=e.getContext("2d"):this.FContext=e.getContext("2d",{willReadFrequently:!0}),this.FPen=t.TPen.$create("Create$1"),this.FBrush=t.TBrush.$create("Create$1"),this.FPathOpen=!1,this.FFont=t.TFont.$create("Create$1"),this.FApplyPixelRatio=!1,this},this.Destroy=function(){pas.System.TObject.Destroy.call(this)},this.SetTransform=function(i,s,o,n,a,r){var l=t.TMatrix.$new(),h=0;null!=this.FContext&&(l.$assign(e.MatrixIdentity()),l.m11=i,l.m12=s,l.m21=o,l.m22=n,l.m31=a,l.m32=r,this.FApplyPixelRatio&&(h=e.GetPixelRatio(this),l.$assign(e.MatrixMultiply(l,e.MatrixCreateScaling(h,h)))),this.FContext.setTransform(l.m11,l.m12,l.m21,l.m22,l.m31,l.m32))},this.Transform=function(t,e,i,s,o,n){null!=this.FContext&&this.FContext.transform(t,e,i,s,o,n)},this.AngleArc$1=function(t,e,i,s,o){null!=this.FContext&&(this.FContext.beginPath(),this.ApplyStroke(),this.FContext.arc(t,e,i,s,s+o),this.FContext.stroke())},this.MoveTo$1=function(t,e){var i=0,s=0;null!=this.FContext&&(this.FPathOpen=!0,this.FContext.beginPath(),this.ApplyStroke(),i=0,s=0,this.GetAccuOffset(t,e,{get:function(){return i},set:function(t){i=t}},{get:function(){return s},set:function(t){s=t}}),this.FContext.moveTo(t+i,e+s))},this.LineTo$1=function(e,i){var s=0,o=0,n=0;if(null!=this.FContext){s=0,o=0,this.GetAccuOffset(e,i,{get:function(){return s},set:function(t){s=t}},{get:function(){return o},set:function(t){o=t}});var a=this.FPen.FMode;0===a?this.FContext.strokeStyle=t.ColorToHTML(0):1===a?this.FContext.strokeStyle=t.ColorToHTML(16777215):14===a?this.FContext.globalCompositeOperation="xor":12===a?this.FContext.globalCompositeOperation="source-atop":5===a?(n=4294967295^t.ColorToRGB(this.FPen.FColor),this.FContext.strokeStyle=t.ColorToHTML(n)):15===a&&(n=4294967295^t.ColorToRGB(this.FPen.FColor),this.FContext.strokeStyle=t.ColorToHTML(n),this.FContext.globalCompositeOperation="xor"),this.FPathOpen||(this.FContext.beginPath(),this.ApplyStroke(),this.FContext.moveTo(this.FPathX+s,this.FPathY+o)),this.FContext.lineTo(e+s,i+o),this.FContext.stroke(),this.FPathX=e,this.FPathY=i,this.FPathOpen=!1,this.FContext.globalCompositeOperation="source-over"}},this.Rectangle=function(t,e,i,s){var o=0,n=0;if(null!=this.FContext){this.FContext.save(),this.FContext.beginPath(),this.ApplyStroke(),this.ApplyFill(),this.GetAccuOffset(t,e,{get:function(){return o},set:function(t){o=t}},{get:function(){return n},set:function(t){n=t}});let a=new Path2D;a.rect(t,e,i-t+1,s-e+1),this.FContext.clip(a,"evenodd"),this.ApplyBrush(t,e,i,s),this.FBrush.FStyle in rtl.createSet(1,2,3,6,4,5,7)||(this.FContext.rect(t+o,e+n,i-t,s-e),this.FContext.fill()),5!==this.FPen.FStyle&&(this.ApplyStroke(),this.FContext.beginPath(),this.FContext.rect(t+o,e+n,i-t,s-e),this.FContext.stroke()),this.FContext.restore()}},this.Rectangle$3=function(t){this.Rectangle(t.Left,t.Top,t.Right,t.Bottom)},this.RoundRect$1=function(t,e,i,s,o,n){var a=0,r=0;if(null!=this.FContext){this.FContext.beginPath(),this.ApplyStroke(),this.ApplyFill(),this.GetAccuOffset(t,e,{get:function(){return a},set:function(t){a=t}},{get:function(){return r},set:function(t){r=t}}),this.FContext.moveTo(t+o/2,e+r),this.FContext.lineTo(i-o/2,e+r),this.FContext.quadraticCurveTo(i+a,e+r,i+a,e+r+n/2),this.FContext.lineTo(i+a,s-n/2),this.FContext.quadraticCurveTo(i+a,s+r,i-o/2-a,s+r),this.FContext.lineTo(t+o/2,s+r),this.FContext.quadraticCurveTo(t+a,s+r,t+a,s-n/2),this.FContext.lineTo(t+a,e+n/2+r),this.FContext.quadraticCurveTo(t+a,e+r,t+o/2+a,e+r),0===this.FBrush.FStyle&&this.FContext.fill(),5!==this.FPen.FStyle&&this.FContext.stroke(),this.FContext.save();let l=new Path2D;l.moveTo(t+o/2,e+r),l.lineTo(i-o/2,e+r),l.quadraticCurveTo(i+a,e+r,i+a,e+r+n/2),l.lineTo(i+a,s-n/2),l.quadraticCurveTo(i+a,s+r,i-o/2-a,s+r),l.lineTo(t+o/2,s+r),l.quadraticCurveTo(t+a,s+r,t+a,s-n/2),l.lineTo(t+a,e+n/2+r),l.quadraticCurveTo(t+a,e+r,t+o/2+a,e+r),this.FContext.clip(l,"evenodd"),this.ApplyBrush(t,e,i,s),this.FContext.restore()}},this.RoundRect$3=function(t,e,i){this.RoundRect$1(t.Left,t.Top,t.Right,t.Bottom,e,i)},this.Ellipse$1=function(t,e,i,s){var o=0,n=0,a=0,r=0,l=0,h=0,F=0,p=0,C=0;if(null!=this.FContext){r=(o=i-t)/2*(a=.5522848),l=(n=s-e)/2*a,h=t+o,F=e+n,p=t+o/2,C=e+n/2,this.FContext.save();let u=new Path2D;u.moveTo(t,C),u.bezierCurveTo(t,C-l,p-r,e,p,e),u.bezierCurveTo(p+r,e,h,C-l,h,C),u.bezierCurveTo(h,C+l,p+r,F,p,F),u.bezierCurveTo(p-r,F,t,C+l,t,C),u.closePath(),this.FContext.clip(u,"evenodd"),this.FBrush.FStyle in rtl.createSet(0,1)||0!==this.FBrush.FGradient||this.ApplyBrush(t,e,i,s),this.FContext.restore(),this.FContext.beginPath(),this.ApplyStroke(),0!==this.FBrush.FGradient?this.ApplyBrush(t,e,i,s):this.ApplyFill(),this.FContext.moveTo(t,C),this.FContext.bezierCurveTo(t,C-l,p-r,e,p,e),this.FContext.bezierCurveTo(p+r,e,h,C-l,h,C),this.FContext.bezierCurveTo(h,C+l,p+r,F,p,F),this.FContext.bezierCurveTo(p-r,F,t,C+l,t,C),this.FContext.closePath(),0!==this.FBrush.FStyle&&0===this.FBrush.FGradient||this.FContext.fill(),5!==this.FPen.FStyle&&this.FContext.stroke()}},this.Ellipse$3=function(t){this.Ellipse$1(t.Left,t.Top,t.Right,t.Bottom)},this.Polyline$1=function(t){var e=0,i=0;if(null!=this.FContext){if(0===(e=rtl.length(t)))return;for(this.FContext.beginPath(),this.ApplyStroke(),i=0,this.FContext.moveTo(t[i].X,t[i].Y);i<e-1;)i+=1,this.FContext.lineTo(t[i].X,t[i].Y);5!==this.FPen.FStyle&&this.FContext.stroke()}},this.Polygon$1=function(t){var e=0,i=0,s=0,o=0,n=0,a=0;if(null!=this.FContext){if(0===(e=rtl.length(t)))return;this.FContext.beginPath(),this.ApplyStroke(),s=65535,o=65535,n=0,a=0;for(var r=0,l=rtl.length(t)-1;r<=l;r++)t[i=r].X<s&&(s=t[i].X),t[i].Y<o&&(o=t[i].Y),t[i].X>n&&(n=t[i].X),t[i].Y>a&&(a=t[i].Y);for(0!==this.FBrush.FGradient?this.ApplyBrush(s,o,n,a):this.ApplyFill(),i=0,this.FContext.moveTo(t[i].X,t[i].Y);i<e-1;)i+=1,this.FContext.lineTo(t[i].X,t[i].Y);this.FContext.closePath(),1!==this.FBrush.FStyle&&this.FContext.fill(),5!==this.FPen.FStyle&&this.FContext.stroke()}},this.TextOut$1=function(e,i,s){var o=null,n="";null!=this.FContext&&(n=s.replace("\0",""),this.FContext.fillStyle=t.ColorToHTML(this.FFont.FColor),this.FContext.font=this.FFont.ToString(),this.FContext.textBaseline="top",this.FContext.fillText(n,e,i),3 in this.FFont.FStyle&&(o=this.FContext.measureText(n),this.FContext.fillRect(e,i+1.4*this.FFont.FSize,o.width,1)),2 in this.FFont.FStyle&&(o=this.FContext.measureText(n),this.FContext.fillRect(e,i+.7*this.FFont.FSize,o.width,1)))},this.StretchDraw$1=function(t,e){var i=null;null!=this.FContext&&(i=e.Image(),this.FContext.drawImage(i,0,0,e.GetWidth(),e.GetHeight(),t.Left,t.Top,t.Right-t.Left,t.Bottom-t.Top))},this.BeginScene=function(){null!=this.FOnBeginScene&&this.FOnBeginScene(this)},this.EndScene=function(){null!=this.FOnEndScene&&this.FOnEndScene(this)},this.PathBegin=function(){null!=this.FContext&&this.FContext.beginPath()},this.PathClose=function(){null!=this.FContext&&this.FContext.closePath()},this.PathStroke=function(){null!=this.FContext&&(this.ApplyStroke(),this.FContext.stroke())},this.PathFill=function(){null!=this.FContext&&(this.ApplyFill(),this.ApplyBrush(10,10,50,50),this.FContext.fill())},this.PathMoveTo$1=function(t,e){var i=0,s=0;null!=this.FContext&&(i=0,s=0,this.GetAccuOffset(t,e,{get:function(){return i},set:function(t){i=t}},{get:function(){return s},set:function(t){s=t}}),this.FContext.moveTo(t+i,e+s))},this.PathLineTo$1=function(t,e){var i=0,s=0;null!=this.FContext&&(i=0,s=0,this.GetAccuOffset(t,e,{get:function(){return i},set:function(t){i=t}},{get:function(){return s},set:function(t){s=t}}),this.FContext.lineTo(t+i,e+s))},this.Save=function(){null!=this.FContext&&this.FContext.save()},this.Restore=function(){null!=this.FContext&&this.FContext.restore()},this.Refresh=function(){},this.Clear=function(){null!=this.FContext&&null!=this.FElementCanvas&&this.FContext.clearRect(0,0,this.FElementCanvas.width,this.FElementCanvas.height)},this.TextRect$1=function(e,i,s,o,n,a){var r,l=this,h=t.TCanvasRectF.$new(),F=0,p="",C="",u="",d=0,c=0,S=0,T=!1,m=0,g=0,M=0,f=0,b=t.TCanvasRectF.$new(),y=0,B=0,E=!1,L=!1;function D(t,i,s){if(E){var o=n;2===o?l.TextOut$1(e.Left+(e.Right-e.Left-i)/2,e.Top,t):0===o?l.TextOut$1(e.Left,e.Top,t):1===o&&l.TextOut$1(e.Right-i,e.Top,t)}else{var r=n;if(2===r){var h=a;0===h?l.TextOut$1(e.Left+(e.Right-e.Left-i)/2,e.Top,t):2===h?l.TextOut$1(e.Left+(e.Right-e.Left-i)/2,e.Top+(e.Bottom-e.Top-s)/2,t):1===h&&l.TextOut$1(e.Left+(e.Right-e.Left-i)/2,e.Bottom-s,t)}else if(0===r){var F=a;0===F?l.TextOut$1(e.Left,e.Top,t):2===F?l.TextOut$1(e.Left,e.Top+(e.Bottom-e.Top-s)/2,t):1===F&&l.TextOut$1(e.Left,e.Bottom-s,t)}else if(1===r){var p=a;0===p?l.TextOut$1(e.Right-i,e.Top,t):2===p?l.TextOut$1(e.Right-i,e.Top+(e.Bottom-e.Top-s)/2,t):1===p&&l.TextOut$1(e.Right-i,e.Bottom-s,t)}}}function N(t,e){var i,s="",o=0;if(s="",i=t.length,e.get()>i)return s;for(o=e.get();;){if("\n"===t.charAt(o-1)&&"\r"===t.charAt(o-1-1)||"\r"===t.charAt(o-1)&&"\n"===t.charAt(o-1-1)||" "===t.charAt(o-1)){s=" "===t.charAt(o-1)?pas.System.Copy(t,e.get(),o-(e.get()-1)):pas.System.Copy(t,e.get(),o-e.get());break}if("\n"===t.charAt(o-1)||"\r"===t.charAt(o-1)||" "===t.charAt(o-1)){s=pas.System.Copy(t,e.get(),o-(e.get()-1));break}if(o>=i){s=pas.System.Copy(t,e.get(),o-(e.get()-1));break}o+=1}return e.set(o+1),s}if(E=s||pas.System.Pos("\r",i)>0||pas.System.Pos("\n",i)>0,r=!s&&(pas.System.Pos("\r",i)>0||pas.System.Pos("\n",i)>0),E){for(b.$assign(e),S=0,F=1,B=.5*this.FFont.FSize,f=0,y=0,g=0,p=N(i,{get:function(){return F},set:function(t){F=t}}),c=this.TextWidth(p),M=this.TextHeight(p)+B,S+=c,p.length>0&&" "===p.charAt(p.length-1)&&(S+=y),L=!1;F<=i.length&&((d=p.length)>=2&&("\n"===p.charAt(d-1)&&"\r"===p.charAt(d-1-1)||"\r"===p.charAt(d-1)&&"\n"===p.charAt(d-1-1))?(p=pas.System.Copy(p,1,d-2),T=!0):d>=1&&("\n"===p.charAt(d-1)||"\r"===p.charAt(d-1))?(p=pas.System.Copy(p,1,d-1),T=!0):T=!1,C=N(i,{get:function(){return F},set:function(t){F=t}}),c=this.TextWidth(C),M=Math.max(M,this.TextHeight(C)+B),!((e.Left+S+c>e.Right||T)&&(""===p||L||(m=p.length,u=pas.System.Copy(p,1,m),f+=1,S>g&&(g=S),o||D(u,S,M),S=0),p="",L=!1,r&&T||!r?e.Top=e.Top+M:r&&!T&&(L=!0),pas.System.Trunc(e.Top)>pas.System.Trunc(e.Bottom-M+B)&&!o)));)S+=c,C.length>0&&" "===C.charAt(C.length-1)&&(S+=y),p+=C;""!==p&&(m=p.length,u=pas.System.Copy(p,1,m),f+=1,S>g&&(g=S),o||D(u,S,M)),h.$assign(t.CreateCanvasRectF(b.Left,b.Top,b.Left+g,b.Top+f*M))}else c=this.TextWidth(i),M=this.TextHeight(i),o||D(i,c,M),h.$assign(t.CreateCanvasRectF(e.Left,e.Top,e.Left+c,e.Top+M));return h},this.TextWidth=function(t){var e=0,i="";return null!=this.FContext&&(i=this.FFont.ToString(),this.FContext.font=i,e=this.FContext.measureText(t).width),e},this.TextHeight=function(e){return t.FontSizeToPx(this.FFont.FSize)}})),rtl.createClass(this,"TURLPicture",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FOnChange=null,this.FFilename="",this.FData="",this.FOnDataChange=null},this.$final=function(){this.FOnChange=void 0,this.FOnDataChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetData=function(t){this.FData!==t&&(this.FData=t,this.DataChanged())},this.GetData=function(){return this.FData},this.Changed=function(){null!=this.FOnChange&&this.FOnChange(this)},this.DataChanged=function(){null!=this.FOnDataChange&&this.FOnDataChange(this)},this.LoadFromFile=function(t){this.FFilename=t,this.Changed()},this.Assign=function(e){t.TURLPicture.isPrototypeOf(e)?(this.FFilename=rtl.as(e,t.TURLPicture).FFilename,this.Changed()):pas.Classes.TPersistent.Assign.apply(this,arguments)};var e=this.$rtti;e.addProperty("OnChange",0,pas.Classes.$rtti.TNotifyEvent,"FOnChange","FOnChange"),e.addProperty("Data",3,t.$rtti.TBinaryString,"GetData","SetData")})),this.ColorToRGB=function(t){return t},this.ColorToHex=function(t){var e="";for(e=t.toString(16);e.length<6;)e="0"+e;return pas.System.Copy(e,5,2)+pas.System.Copy(e,3,2)+pas.System.Copy(e,1,2)},this.ColorToHTML=function(e){return 0!=(4278190080&e)?"#"+t.ColorToHex(16777215&e)+pas.SysUtils.IntToHex(255&Math.floor((4278190080&e)/16777216),2):"#"+t.ColorToHex(e)},this.FontSizeToHTML=function(t){var e="";return e=pas.SysUtils.FloatToStr(t)+"px",e=pas.SysUtils.StringReplace(e,",",".",rtl.createSet(0))},this.HexToColor=function(t){var e="",i=0;e="";for(var s=1,o=t.length;s<=o;s++)i=s,(t.charAt(i-1)>="0"&&t.charAt(i-1)<="9"||t.charAt(i-1)>="A"&&t.charAt(i-1)<="F"||t.charAt(i-1)>="a"&&t.charAt(i-1)<="f")&&(e+=t.charAt(i-1));return e=e.length>6?"$"+pas.System.Copy(e,1,2)+pas.System.Copy(e,7,2)+pas.System.Copy(e,5,2)+pas.System.Copy(e,3,2):3===e.length?"$"+pas.System.Copy(e,3,1)+pas.System.Copy(e,3,1)+pas.System.Copy(e,2,1)+pas.System.Copy(e,2,1)+pas.System.Copy(e,1,1)+pas.System.Copy(e,1,1):"$"+pas.System.Copy(e,5,2)+pas.System.Copy(e,3,2)+pas.System.Copy(e,1,2),pas.SysUtils.StrToInt64(e)},this.FontSizeToPx=function(t){return 96*t/72},this.GetRValue=function(t){return 255&t},this.GetGValue=function(t){return 255&Math.floor(t/256)},this.GetBValue=function(t){return 255&Math.floor(t/65536)},this.CreateCanvasRectF=function(e,i,s,o){var n=t.TCanvasRectF.$new();return n.Left=e,n.Top=i,n.Right=s,n.Bottom=o,n},this.CreateCanvasPointF=function(e,i){var s=t.TCanvasPointF.$new();return s.X=e,s.Y=i,s},this.RGB=function(t,e,i){return t|e<<8|i<<16},t.$implcode=function(){rtl.createClass(e,"TGraphicCache",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FImage=null,this.FID=""},this.$final=function(){this.FImage=void 0,pas.System.TObject.$final.call(this)},this.Create$1=function(t,e){return this.FImage=t,this.FID=e,this}})),rtl.createClass(e,"TGraphicCacheList",pas.contnrs.TObjectList,(function(){this.Find=function(t,i){var s=!1,o=0,n=null;s=!1;for(var a=0,r=this.GetCount()-1;a<=r;a++)if(o=a,(n=rtl.as(this.GetItem(o),e.TGraphicCache)).FID===t&&null!=n.FImage){i.set(n.FImage),s=!0;break}return s},this.Exists=function(t){var i=!1,s=0,o=null;i=!1;for(var n=0,a=this.GetCount()-1;n<=a;n++)if(s=n,(o=rtl.as(this.GetItem(s),e.TGraphicCache)).FID===t&&null!=o.FImage){i=!0;break}return i}})),e.FCache=null,e.FQueue=null,e.FCacheCount=0,e.MatrixIdentity=function(){var e=t.TMatrix.$new();return e.m11=1,e.m12=0,e.m13=0,e.m21=0,e.m22=1,e.m23=0,e.m31=0,e.m32=0,e.m33=1,e},e.GetPixelRatio=function(t){var e=t.FContext;return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)},e.MatrixCreateScaling=function(i,s){var o=t.TMatrix.$new();return o.$assign(e.MatrixIdentity()),o.m11=i,o.m22=s,o},e.MatrixMultiply=function(e,i){var s=t.TMatrix.$new();return s.m11=e.m11*i.m11+e.m12*i.m21+e.m13*i.m31,s.m12=e.m11*i.m12+e.m12*i.m22+e.m13*i.m32,s.m13=e.m11*i.m13+e.m12*i.m23+e.m13*i.m33,s.m21=e.m21*i.m11+e.m22*i.m21+e.m23*i.m31,s.m22=e.m21*i.m12+e.m22*i.m22+e.m23*i.m32,s.m23=e.m21*i.m13+e.m22*i.m23+e.m23*i.m33,s.m31=e.m31*i.m11+e.m32*i.m21+e.m33*i.m31,s.m32=e.m31*i.m12+e.m32*i.m22+e.m33*i.m32,s.m33=e.m31*i.m13+e.m32*i.m23+e.m33*i.m33,s}},t.$init=function(){e.FCache=e.TGraphicCacheList.$create("Create$2"),e.FQueue=pas.Classes.TStringList.$create("Create$1")}}),["WEBLib.Forms","WEBLib.WebTools","Math","SysUtils","contnrs"]),rtl.module("WEBLib.Lang",["System"],(function(){"use strict";this.TUILanguage={0:"lNone",lNone:0,1:"lAfar",lAfar:1,2:"lAbkhazian",lAbkhazian:2,3:"lAvestan",lAvestan:3,4:"lAfrikaans",lAfrikaans:4,5:"lAkan",lAkan:5,6:"lAmharic",lAmharic:6,7:"lAragonese",lAragonese:7,8:"lArabic",lArabic:8,9:"lAssamese",lAssamese:9,10:"lAvaric",lAvaric:10,11:"lAymara",lAymara:11,12:"lAzerbaijani",lAzerbaijani:12,13:"lBashkir",lBashkir:13,14:"lBelarusian",lBelarusian:14,15:"lBulgarian",lBulgarian:15,16:"lBihari",lBihari:16,17:"lBislama",lBislama:17,18:"lBambara",lBambara:18,19:"lBengali",lBengali:19,20:"lTibetan",lTibetan:20,21:"lBreton",lBreton:21,22:"lBosnian",lBosnian:22,23:"lCatalan",lCatalan:23,24:"lChechen",lChechen:24,25:"lChamorro",lChamorro:25,26:"lCorsican",lCorsican:26,27:"lCree",lCree:27,28:"lCzech",lCzech:28,29:"lOldSlavic",lOldSlavic:29,30:"lChuvash",lChuvash:30,31:"lWelsh",lWelsh:31,32:"lDanish",lDanish:32,33:"lGerman",lGerman:33,34:"lDivehi",lDivehi:34,35:"lDzongkha",lDzongkha:35,36:"lEwe",lEwe:36,37:"lEnglish",lEnglish:37,38:"lEsperanto",lEsperanto:38,39:"lSpanish",lSpanish:39,40:"lEstonian",lEstonian:40,41:"lBasque",lBasque:41,42:"lPersian",lPersian:42,43:"lFulah",lFulah:43,44:"lFinnish",lFinnish:44,45:"lFijian",lFijian:45,46:"lFaroese",lFaroese:46,47:"lFrench",lFrench:47,48:"lWesternFrisian",lWesternFrisian:48,49:"lIrish",lIrish:49,50:"lGaelic",lGaelic:50,51:"lGalician",lGalician:51,52:"lGuarani",lGuarani:52,53:"lGujarati",lGujarati:53,54:"lManx",lManx:54,55:"lHausa",lHausa:55,56:"lHebrew",lHebrew:56,57:"lHindi",lHindi:57,58:"lHiriMotu",lHiriMotu:58,59:"lCroatian",lCroatian:59,60:"lHaitian",lHaitian:60,61:"lHungarian",lHungarian:61,62:"lArmenian",lArmenian:62,63:"lHerero",lHerero:63,64:"lInterlingua",lInterlingua:64,65:"lIndonesian",lIndonesian:65,66:"lInterlingue",lInterlingue:66,67:"lIgbo",lIgbo:67,68:"lSichuanYi",lSichuanYi:68,69:"lInupiaq",lInupiaq:69,70:"lIdo",lIdo:70,71:"lIcelandic",lIcelandic:71,72:"lItalian",lItalian:72,73:"lInuktitut",lInuktitut:73,74:"lJapanese",lJapanese:74,75:"lJavanese",lJavanese:75,76:"lGeorgian",lGeorgian:76,77:"lKongo",lKongo:77,78:"lKikuyu",lKikuyu:78,79:"lKuanyama",lKuanyama:79,80:"lKazakh",lKazakh:80,81:"lKalaallisut",lKalaallisut:81,82:"lCentralKhmer",lCentralKhmer:82,83:"lKannada",lKannada:83,84:"lKorean",lKorean:84,85:"lKanuri",lKanuri:85,86:"lKashmiri",lKashmiri:86,87:"lKurdish",lKurdish:87,88:"lKomi",lKomi:88,89:"lCornish",lCornish:89,90:"lKirghiz",lKirghiz:90,91:"lLatin",lLatin:91,92:"lLuxembourgish",lLuxembourgish:92,93:"lGanda",lGanda:93,94:"lLimburgan",lLimburgan:94,95:"lLingala",lLingala:95,96:"lLao",lLao:96,97:"lLithuanian",lLithuanian:97,98:"lLubaKatanga",lLubaKatanga:98,99:"lLatvian",lLatvian:99,100:"lMalagasy",lMalagasy:100,101:"lMarshallese",lMarshallese:101,102:"lMaori",lMaori:102,103:"lMacedonian",lMacedonian:103,104:"lMalayalam",lMalayalam:104,105:"lMongolian",lMongolian:105,106:"lMarathi",lMarathi:106,107:"lMalay",lMalay:107,108:"lMaltese",lMaltese:108,109:"lBurmese",lBurmese:109,110:"lNauru",lNauru:110,111:"lNdebele",lNdebele:111,112:"lNepali",lNepali:112,113:"lNdonga",lNdonga:113,114:"lDutch",lDutch:114,115:"lNorwegian",lNorwegian:115,116:"lNavajo",lNavajo:116,117:"lChichewa",lChichewa:117,118:"lOccitan",lOccitan:118,119:"lOjibwa",lOjibwa:119,120:"lOromo",lOromo:120,121:"lOriya",lOriya:121,122:"lOssetian",lOssetian:122,123:"lPanjabi",lPanjabi:123,124:"lPali",lPali:124,125:"lPolish",lPolish:125,126:"lPushto",lPushto:126,127:"lPortuguese",lPortuguese:127,128:"lQuechua",lQuechua:128,129:"lRomansh",lRomansh:129,130:"lRundi",lRundi:130,131:"lRomanian",lRomanian:131,132:"lRussian",lRussian:132,133:"lKinyarwanda",lKinyarwanda:133,134:"lSanskrit",lSanskrit:134,135:"lSardinian",lSardinian:135,136:"lSindhi",lSindhi:136,137:"lNorthernSami",lNorthernSami:137,138:"lSango",lSango:138,139:"lSinhala",lSinhala:139,140:"lSlovak",lSlovak:140,141:"lSlovenian",lSlovenian:141,142:"lSamoan",lSamoan:142,143:"lShona",lShona:143,144:"lSomali",lSomali:144,145:"lAlbanian",lAlbanian:145,146:"lSerbian",lSerbian:146,147:"lSwati",lSwati:147,148:"lSotho",lSotho:148,149:"lSundanese",lSundanese:149,150:"lSwedish",lSwedish:150,151:"lSwahili",lSwahili:151,152:"lTamil",lTamil:152,153:"lTelugu",lTelugu:153,154:"lTajik",lTajik:154,155:"lThai",lThai:155,156:"lTigrinya",lTigrinya:156,157:"lTurkmen",lTurkmen:157,158:"lTagalog",lTagalog:158,159:"lTswana",lTswana:159,160:"lTonga",lTonga:160,161:"lTurkish",lTurkish:161,162:"lTsonga",lTsonga:162,163:"lTatar",lTatar:163,164:"lTwi",lTwi:164,165:"lTahitian",lTahitian:165,166:"lUighur",lUighur:166,167:"lUkrainian",lUkrainian:167,168:"lUrdu",lUrdu:168,169:"lUzbek",lUzbek:169,170:"lVenda",lVenda:170,171:"lVietnamese",lVietnamese:171,172:"lWalloon",lWalloon:172,173:"lWolof",lWolof:173,174:"lXhosa",lXhosa:174,175:"lYiddish",lYiddish:175,176:"lYoruba",lYoruba:176,177:"lZhuang",lZhuang:177,178:"lChinese",lChinese:178,179:"lZulu",lZulu:179},this.GetLanguageISO639_1Code=function(t){var e="";return 0===t?e="":1===t?e="aa":2===t?e="ab":3===t?e="ae":4===t?e="af":5===t?e="ak":6===t?e="am":7===t?e="an":8===t?e="ar":9===t?e="as":10===t?e="av":11===t?e="ay":12===t?e="az":13===t?e="ba":14===t?e="be":15===t?e="bg":16===t?e="bh":17===t?e="bi":18===t?e="bm":19===t?e="bn":20===t?e="bo":21===t?e="br":22===t?e="bd":23===t?e="ca":24===t?e="ce":25===t?e="ch":26===t?e="co":27===t?e="cr":28===t?e="cs":29===t?e="cu":30===t?e="cv":31===t?e="cy":32===t?e="da":33===t?e="de":34===t?e="dv":35===t?e="dz":36===t?e="ee":37===t?e="en":38===t?e="eo":39===t?e="es":40===t?e="et":41===t?e="eu":42===t?e="fa":43===t?e="ff":44===t?e="fi":45===t?e="fj":46===t?e="fo":47===t?e="fr":48===t?e="fy":49===t?e="ga":50===t?e="gd":51===t?e="gl":52===t?e="gn":53===t?e="gu":54===t?e="gv":55===t?e="ha":56===t?e="he":57===t?e="hi":58===t?e="ho":59===t?e="hr":60===t?e="ht":61===t?e="hu":62===t?e="hy":63===t?e="hz":64===t?e="ia":65===t?e="id":66===t?e="ie":67===t?e="ig":68===t?e="ii":69===t?e="ik":70===t?e="id":71===t?e="is":72===t?e="it":73===t?e="iu":74===t?e="ja":75===t?e="jv":76===t?e="ka":77===t?e="kg":78===t?e="ki":79===t?e="kj":80===t?e="kk":81===t?e="kl":82===t?e="km":83===t?e="kn":84===t?e="ko":85===t?e="kr":86===t?e="ks":87===t?e="ku":88===t?e="kv":89===t?e="kw":90===t?e="ky":91===t?e="la":92===t?e="lb":93===t?e="lg":94===t?e="li":95===t?e="ln":96===t?e="lo":97===t?e="lt":98===t?e="lu":99===t?e="lv":100===t?e="mg":101===t?e="mh":102===t?e="mi":103===t?e="mk":104===t?e="ml":105===t?e="mn":106===t?e="mr":107===t?e="ms":108===t?e="mt":109===t?e="my":110===t?e="na":111===t?e="nb":112===t?e="nd":113===t?e="ng":114===t?e="nl":115===t?e="no":116===t?e="nv":117===t?e="ny":118===t?e="oc":119===t?e="oj":120===t?e="om":121===t?e="or":122===t?e="os":123===t?e="pa":124===t?e="pi":125===t?e="pl":126===t?e="ps":127===t?e="pt":128===t?e="qu":129===t?e="rm":130===t?e="rn":131===t?e="ro":132===t?e="ru":133===t?e="rw":134===t?e="sa":135===t?e="sc":136===t?e="sd":137===t?e="se":138===t?e="sg":139===t?e="si":140===t?e="sk":141===t?e="sl":142===t?e="sm":143===t?e="sn":144===t?e="so":145===t?e="sq":146===t?e="sr":147===t?e="ss":148===t?e="st":149===t?e="su":150===t?e="sv":151===t?e="sw":152===t?e="ta":153===t?e="te":154===t?e="tg":155===t?e="th":156===t?e="ti":157===t?e="tk":158===t?e="tl":159===t?e="tn":160===t?e="to":161===t?e="tr":162===t?e="ts":163===t?e="tt":164===t?e="tw":165===t?e="ty":166===t?e="ug":167===t?e="uk":168===t?e="ur":169===t?e="uz":170===t?e="ve":171===t?e="vi":172===t?e="wa":173===t?e="wo":174===t?e="xh":175===t?e="yi":176===t?e="yo":177===t?e="za":178===t?e="zh":179===t&&(e="zu"),e}})),rtl.module("WEBLib.Menus",["System","Classes","SysUtils","WEBLib.Controls","WEBLib.Graphics","Web"],(function(){"use strict";var t=this,e=t.$impl;this.$rtti.$Class("TMainMenu"),this.$rtti.$Class("TMenuItem"),this.$rtti.$Class("TCustomMainMenu"),this.TMenuItemAutoFlag={0:"maAutomatic",maAutomatic:0,1:"maManual",maManual:1,2:"maParent",maParent:2},this.$rtti.$Enum("TMenuItemAutoFlag",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TMenuItemAutoFlag}),this.TMenuBreak={0:"mbNone",mbNone:0,1:"mbBreak",mbBreak:1,2:"mbBarBreak",mbBarBreak:2},this.$rtti.$Enum("TMenuBreak",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TMenuBreak}),this.$rtti.$Int("THelpContext",{minvalue:-2147483647,maxvalue:2147483647,ordtype:4}),this.$rtti.$inherited("TShortCut",rtl.word,{}),this.TMainMenuHamburgerMenuVisible={0:"hmAlways",hmAlways:0,1:"hmNever",hmNever:1,2:"hmResponsive",hmResponsive:2},this.$rtti.$Enum("TMainMenuHamburgerMenuVisible",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TMainMenuHamburgerMenuVisible}),this.$rtti.$MethodVar("TMainMenuChangeEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Source",this.$rtti.TMenuItem],["Rebuild",rtl.boolean]]),methodkind:0}),rtl.createClass(this,"TMenuItemList",pas.Classes.TList,(function(){this.GetItem=function(t){return rtl.getObject(this.Get(t))}})),rtl.createClass(this,"TMenuItem",pas.Classes.TComponent,(function(){this.$init=function(){pas.Classes.TComponent.$init.call(this),this.FOwner$1=null,this.FCaption="",this.FItems=null,this.FParentItem=null,this.FOnClick=null,this.FChecked=!1,this.FEnabled=!1,this.FDefault=!1,this.FAutoCheck=!1,this.FHint="",this.FAutoHotkeys=0,this.FRadioItem=!1,this.FGroupIndex=0,this.FVisible=!1,this.FShortCut=0,this.FBreak=0,this.FImageIndex=0,this.FAutoLineReduction=0,this.FHelpContext=0,this.FElementClassName="",this.FParentMenu=null},this.$final=function(){this.FOwner$1=void 0,this.FItems=void 0,this.FParentItem=void 0,this.FOnClick=void 0,this.FParentMenu=void 0,pas.Classes.TComponent.$final.call(this)},this.SetChecked=function(e){var i=null,s=null,o=null,n=null,a=0;if(this.FChecked!==e){if(this.FChecked=e,null!=(n=this.FParentMenu)){if(t.TMenuItem.isPrototypeOf(n)&&e)for(var r=0,l=(s=n).FItems.GetCount()-1;r<=l;r++)a=r,(o=s.FItems.GetItem(a)).FRadioItem&&o!==this&&o.SetChecked(!1);for(;!t.TCustomMainMenu.isPrototypeOf(n)&&null!=n;)n=n.FOwner}null!=(i=this.GetParentMenu())&&i.UpdateElement()}},this.SetCaption=function(t){var e=null;this.FCaption=t,null!=(e=this.GetParentMenu())&&e.UpdateElement()},this.SetImageIndex=function(t){var e=null;this.FImageIndex=t,null!=(e=this.GetParentMenu())&&e.UpdateElement()},this.SetEnabled=function(t){this.FEnabled!==t&&(this.FEnabled=t,this.GetParentMenu().UpdateElement())},this.Create$1=function(e){return this.FParentMenu=null,t.TMainMenu.isPrototypeOf(e)&&(this.FParentMenu=e),pas.Classes.TComponent.Create$1.call(this,e),this.FAutoHotkeys=2,this.FAutoLineReduction=2,this.FImageIndex=-1,this.FHint="",this.FCaption="MenuItem",this.FChecked=!1,this.FEnabled=!0,this.FDefault=!1,this.FRadioItem=!1,this.FVisible=!0,this.FOwner$1=e,this},this.Destroy=function(){var t=0,e=null,i=null;if(e=this.GetParentMenu(),null!=this.FParentItem&&null!=e){e.BeginUpdate();for(var s=this.FParentItem.FItems.GetCount()-1;s>=0;s--)t=s,this.FParentItem.FItems.GetItem(t)===this&&this.FParentItem.FItems.Delete(t);e.EndUpdate()}if(null!=this.FItems)for(var o=this.FItems.GetCount()-1;o>=0;o--)t=o,(i=this.FItems.GetItem(t)).FParentItem=null,i=rtl.freeLoc(i),this.FItems.Delete(t);pas.Classes.TComponent.Destroy.call(this)},this.Assign=function(e){var i=0,s=null,o=null,n=null;if(t.TMenuItem.isPrototypeOf(e)&&(s=rtl.as(e,t.TMenuItem),this.FAutoCheck=s.FAutoCheck,this.FAutoHotkeys=s.FAutoHotkeys,this.FAutoLineReduction=s.FAutoLineReduction,this.FBreak=s.FBreak,this.FCaption=s.FCaption,this.FChecked=s.FChecked,this.FDefault=s.FDefault,this.FEnabled=s.FEnabled,this.FGroupIndex=s.FGroupIndex,this.FHelpContext=s.FHelpContext,this.FHint=s.FHint,this.FImageIndex=s.FImageIndex,this.FRadioItem=s.FRadioItem,this.FShortCut=s.FShortCut,this.FVisible=s.FVisible,this.FElementClassName=s.FElementClassName,n=this.GetParentMenu(),null!=this.FParentItem&&this.SetName(n.GetUniqueName(s.FCaption)),null!=s.FItems)){if(null!=this.FItems){for(var a=this.FItems.GetCount()-1;a>=0;a--)i=a,this.RemoveItem(this.GetParentMenu().FParent,this.FItems.GetItem(i));this.FItems.Clear()}else this.FItems=t.TMenuItemList.$create("Create$1");for(var r=0,l=s.FItems.GetCount()-1;r<=l;r++)i=r,(o=t.TMenuItem.$create("Create$1",[n.FOwner])).FParentMenu=n,o.FParentItem=this,o.Assign(s.FItems.GetItem(i)),this.FItems.Add(o)}},this.GetOwner=function(){return this.FOwner$1},this.GetParentMenu=function(){var e=null,i=null;for(e=null,i=this.FParentMenu;null!=i&&t.TMenuItem.isPrototypeOf(i);)i=i.FParentMenu;return null!=i&&(e=i),e},this.SetChildOrder=function(t,e){var i;(i=this.FItems.IndexOf(t))>=0&&e<this.FItems.GetCount()&&this.FItems.Move(i,e)},this.RemoveItem=function(t,e){var i=0;if(null!=e.FItems)for(var s=e.FItems.GetCount()-1;s>=0;s--)i=s,this.RemoveItem(t,e.FItems.GetItem(i));t.RemoveComponent(e)},this.Click=function(){null!=this.FOnClick&&this.FOnClick(this)},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]]),e.addProperty("AutoCheck",0,rtl.boolean,"FAutoCheck","FAutoCheck",{Default:!1}),e.addProperty("AutoHotkeys",0,t.$rtti.TMenuItemAutoFlag,"FAutoHotkeys","FAutoHotkeys",{Default:t.TMenuItemAutoFlag.maParent}),e.addProperty("AutoLineReduction",0,t.$rtti.TMenuItemAutoFlag,"FAutoLineReduction","FAutoLineReduction",{Default:t.TMenuItemAutoFlag.maParent}),e.addProperty("Break",0,t.$rtti.TMenuBreak,"FBreak","FBreak",{Default:t.TMenuBreak.mbNone}),e.addProperty("Caption",2,rtl.string,"FCaption","SetCaption"),e.addProperty("Checked",2,rtl.boolean,"FChecked","SetChecked",{Default:!1}),e.addProperty("Default",0,rtl.boolean,"FDefault","FDefault",{Default:!1}),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),e.addProperty("GroupIndex",0,rtl.byte,"FGroupIndex","FGroupIndex",{Default:0}),e.addProperty("HelpContext",0,t.$rtti.THelpContext,"FHelpContext","FHelpContext",{Default:0}),e.addProperty("Hint",0,rtl.string,"FHint","FHint"),e.addProperty("ImageIndex",2,rtl.longint,"FImageIndex","SetImageIndex",{Default:-1}),e.addProperty("RadioItem",0,rtl.boolean,"FRadioItem","FRadioItem",{Default:!1}),e.addProperty("ShortCut",0,t.$rtti.TShortCut,"FShortCut","FShortCut",{Default:0}),e.addProperty("Visible",0,rtl.boolean,"FVisible","FVisible",{Default:!0}),e.addProperty("ElementClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","FElementClassName"),e.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick")})),this.$rtti.$Class("TMainMenuAppearance"),rtl.createClass(this,"THamburgerMenu",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FOwner=null,this.FVisible=0,this.FCaption="",this.FBackgroundColor=0,this.FCaptionColor=0,this.FResponsiveMaxWidth=0},this.$final=function(){this.FOwner=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetVisible=function(t){this.FVisible!==t&&(this.FVisible=t,this.FOwner.FOwner.UpdateElement())},this.SetBackgroundColor=function(t){this.FBackgroundColor!==t&&(this.FBackgroundColor=t,this.FOwner.FOwner.UpdateElement())},this.SetCaption=function(t){this.FCaption!==t&&(this.FCaption=t,this.FOwner.FOwner.UpdateElement())},this.SetCaptionColor=function(t){this.FCaptionColor!==t&&(this.FCaptionColor=t,this.FOwner.FOwner.UpdateElement())},this.SetResponsiveMaxWidth=function(t){this.FResponsiveMaxWidth!==t&&(this.FResponsiveMaxWidth=t,this.FOwner.FOwner.UpdateElement())},this.Create$1=function(t){return this.FBackgroundColor=12632256,this.FCaption="Menu",this.FCaptionColor=16777215,this.FVisible=2,this.FResponsiveMaxWidth=768,this.FOwner=t,this},this.Destroy=function(){pas.System.TObject.Destroy.call(this)},this.Assign=function(e){pas.Classes.TPersistent.Assign.apply(this,arguments),t.THamburgerMenu.isPrototypeOf(e)&&(this.FBackgroundColor=rtl.as(e,t.THamburgerMenu).FBackgroundColor,this.FCaption=rtl.as(e,t.THamburgerMenu).FCaption,this.FCaptionColor=rtl.as(e,t.THamburgerMenu).FCaptionColor,this.FVisible=rtl.as(e,t.THamburgerMenu).FVisible,this.FResponsiveMaxWidth=rtl.as(e,t.THamburgerMenu).FResponsiveMaxWidth)},this.GetOwner=function(){return this.FOwner};var e=this.$rtti;e.addMethod("Create$1",2,[["AOwner",t.$rtti.TMainMenuAppearance]]),e.addProperty("Caption",2,rtl.string,"FCaption","SetCaption"),e.addProperty("CaptionColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FCaptionColor","SetCaptionColor",{Default:16777215}),e.addProperty("BackgroundColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FBackgroundColor","SetBackgroundColor",{Default:12632256}),e.addProperty("Visible",2,t.$rtti.TMainMenuHamburgerMenuVisible,"FVisible","SetVisible",{Default:t.TMainMenuHamburgerMenuVisible.hmResponsive}),e.addProperty("ResponsiveMaxWidth",2,rtl.longint,"FResponsiveMaxWidth","SetResponsiveMaxWidth",{Default:768})})),rtl.createClass(this,"TMainMenuAppearance",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FOwner=null,this.FBackgroundColor=0,this.FHoverFontColor=0,this.FHoverColor=0,this.FImageURLs=null,this.FHamburgerMenu=null,this.FImageSize=0,this.FSubmenuIndicator=""},this.$final=function(){this.FOwner=void 0,this.FImageURLs=void 0,this.FHamburgerMenu=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetBackgroundColor=function(t){this.FBackgroundColor!==t&&(this.FBackgroundColor=t,this.FOwner.UpdateElement())},this.SetHoverColor=function(t){this.FHoverColor!==t&&(this.FHoverColor=t,this.FOwner.UpdateElement())},this.SetHoverFontColor=function(t){this.FHoverFontColor!==t&&(this.FHoverFontColor=t,this.FOwner.UpdateElement())},this.SetImageURLs=function(t){this.FImageURLs.Assign(t)},this.SetImageSize=function(t){this.FImageSize!==t&&(this.FImageSize=t,this.FOwner.UpdateElement())},this.SetSubmenuIndicator=function(t){this.FSubmenuIndicator!==t&&(this.FSubmenuIndicator=t,this.FOwner.UpdateElement())},this.HandleImageURLsChanged=function(t){this.FOwner.UpdateElement()},this.Create$1=function(e){return this.FBackgroundColor=15790320,this.FHoverColor=14120960,this.FHoverFontColor=197379,this.FHamburgerMenu=t.THamburgerMenu.$create("Create$1",[this]),this.FImageURLs=pas.Classes.TStringList.$create("Create$1"),this.FImageURLs.SetSkipLastLineBreak(!0),this.FImageURLs.FOnChange=rtl.createCallback(this,"HandleImageURLsChanged"),this.FImageSize=16,this.FSubmenuIndicator="&#9658;",this.FOwner=e,this},this.Destroy=function(){rtl.free(this,"FHamburgerMenu"),rtl.free(this,"FImageURLs"),pas.System.TObject.Destroy.call(this)},this.Assign=function(e){pas.Classes.TPersistent.Assign.apply(this,arguments),t.TMainMenu.isPrototypeOf(e)&&(this.FBackgroundColor=rtl.as(e,t.TMainMenuAppearance).FBackgroundColor,this.FHoverColor=rtl.as(e,t.TMainMenuAppearance).FHoverColor,this.FHoverFontColor=rtl.as(e,t.TMainMenuAppearance).FHoverFontColor,this.FHamburgerMenu.Assign(rtl.as(e,t.TMainMenuAppearance).FHamburgerMenu),this.FImageURLs.Assign(rtl.as(e,t.TMainMenuAppearance).FImageURLs),this.FImageSize=rtl.as(e,t.TMainMenuAppearance).FImageSize,this.FSubmenuIndicator=rtl.as(e,t.TMainMenuAppearance).FSubmenuIndicator)},this.GetOwner=function(){return this.FOwner};var e=this.$rtti;e.addMethod("Create$1",2,[["AOwner",t.$rtti.TMainMenu]]),e.addProperty("BackgroundColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FBackgroundColor","SetBackgroundColor",{Default:15790320}),e.addProperty("HamburgerMenu",0,t.$rtti.THamburgerMenu,"FHamburgerMenu","FHamburgerMenu"),e.addProperty("HoverColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FHoverColor","SetHoverColor",{Default:14120960}),e.addProperty("HoverFontColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FHoverFontColor","SetHoverFontColor",{Default:197379}),e.addProperty("ImageURLs",2,pas.Classes.$rtti.TStringList,"FImageURLs","SetImageURLs"),e.addProperty("ImageSize",2,rtl.longint,"FImageSize","SetImageSize",{Default:16}),e.addProperty("SubmenuIndicator",2,rtl.string,"FSubmenuIndicator","SetSubmenuIndicator")})),rtl.createClass(this,"TCustomMainMenu",pas["WEBLib.Controls"].TCustomControl,(function(){this.$init=function(){pas["WEBLib.Controls"].TCustomControl.$init.call(this),this.FItems=null,this.FOnChange=null},this.$final=function(){this.FItems=void 0,this.FOnChange=void 0,pas["WEBLib.Controls"].TCustomControl.$final.call(this)},this.Loaded=function(){pas["WEBLib.Controls"].TCustomControl.Loaded.call(this),this.IsUpdating()||null!=this.GetElementHandle()&&this.UpdateElement()},this.UpdateElement=function(){pas["WEBLib.Controls"].TControl.UpdateElement.call(this),this.IsUpdating()},this.GetUniqueName=function(t){var i="",s=0,o=0,n=!1;o=1,""===t&&(t=this.FName+"item"),t=e.MakeValidName(t);do{i=t+pas.SysUtils.IntToStr(o),n=!0;for(var a=0,r=this.FOwner.GetComponentCount()-1;a<=r;a++)if(s=a,this.FOwner.GetComponent(s).FName===i){n=!1,o+=1;break}}while(!n);return i},this.SetName=function(t){pas["WEBLib.Controls"].TCustomControl.SetName.apply(this,arguments),this.IsUpdating()||0 in this.FComponentState||this.UpdateElement()},this.CreateInitialize=function(){pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),this.FItems=t.TMenuItem.$create("Create$1",[this]),this.FItems.FParentMenu=this,this.SetWidthStyle(2),this.SetHeight(30)},this.Destroy=function(){rtl.free(this,"FItems"),pas["WEBLib.Controls"].TCustomControl.Destroy.call(this)},this.SetChildOrder=function(t,e){var i;(i=this.FItems.FItems.IndexOf(t))>=0&&e<this.FItems.FItems.GetCount()&&this.FItems.FItems.Move(i,e)},rtl.addIntf(this,pas.System.IUnknown);var i=this.$rtti;i.addProperty("Items",0,t.$rtti.TMenuItem,"FItems",""),i.addProperty("OnChange",0,t.$rtti.TMainMenuChangeEvent,"FOnChange","FOnChange")})),rtl.createClass(this,"TMainMenu",this.TCustomMainMenu,(function(){this.$init=function(){t.TCustomMainMenu.$init.call(this),this.FMenu=null,this.FMainMenu=!1,this.FMenuIndex=0,this.FAppearance=null,this.FContainer$1=null,this.FIsPopupMenu=!1,this.FShowPopup=!1,this.FElementItemClassName=""},this.$final=function(){this.FMenu=void 0,this.FAppearance=void 0,this.FContainer$1=void 0,t.TCustomMainMenu.$final.call(this)},this.HandleChange=function(t){var e=null,i=null;return!0,this.FIsPopupMenu&&(this.FShowPopup=!1,this.UpdateElement()),(e=t.target).hasAttribute("id")||(e=e.parentElement),null!=(i=this.GetItemByName(this.FItems,e.id))&&(i.FAutoCheck&&i.SetChecked(!i.FChecked),null!=this.FOnChange&&this.FOnChange(this,i,!1),i.Click()),!0},this.Loaded=function(){t.TCustomMainMenu.Loaded.call(this),this.IsUpdating()||(null==this.FContainer$1&&pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(this.FParent)&&rtl.as(this.FParent,pas["WEBLib.Forms"].TCustomForm).FMenu===this&&(this.FContainer$1=this.FParent),null!=this.GetElementHandle()&&this.UpdateElement())},this.UpdateElement=function(){var e,i="",s="",o="",n="",a="",r=null,l=null,h=null,F=null,p=null,C=null,u=null;t.TCustomMainMenu.UpdateElement.call(this),this.IsUpdating()||null==this.GetElementHandle()&&null==this.FContainer$1||(null!=this.FContainer$1?(r=this.FContainer$1.GetElementHandle(),this.SetVisible(!1)):((r=this.GetElementHandle()).style.setProperty("top",pas.SysUtils.IntToStr(this.GetTop())+"px"),r.style.setProperty("left",pas.SysUtils.IntToStr(this.GetLeft())+"px"),4 in this.FComponentState&&null==this.FContainer$1&&this.GetElementHandle().style.setProperty("background-color","silver")),this.FMenu=r.firstChild,null!=this.FMenu&&this.FMenu.parentElement.removeChild(this.FMenu),3 in this.FComponentState||(this.FMenu=document.createElement("NAV"),this.FMenu.setAttribute("id",this.GetID()+"menu"),this.FMenu.innerHTML="",null!=this.FContainer$1&&(this.FMenu.style.setProperty("top","0"),this.FMenu.style.setProperty("left","0"),this.FMenu.style.setProperty("position","absolute"),this.FMenu.style.setProperty("width","100%"),this.FMenu.style.setProperty("z-index","999997")),r.innerHTML="",r.style.setProperty("overflow","visible"),0!==this.FAppearance.FHamburgerMenu.FVisible&&(a=this.FShowPopup?"block":"none",o="  #"+this.GetID()+"menu .main-menu {\r    display: block;\r  }\r  #"+this.GetID()+"menu #toggle-menu {\r    display: none;\r  }\r  #"+this.GetID()+"menu ul span.drop-label {\r    display: inline-block;\r  }\r  #"+this.GetID()+"menu li {\r    float: left;\r    border-width: 0 1px 0 0;\r  }\r  #"+this.GetID()+"menu .popup-menu li, \r  #"+this.GetID()+"menu .sub-menu li {\r    float: none;\r  }\r  #"+this.GetID()+"menu .sub-menu {\r    top: 100%;\r  }\r  #"+this.GetID()+"menu .popup-menu { \r    top: 0;\r  }\r  #"+this.GetID()+"menu .popup-menu, \r  #"+this.GetID()+"menu .sub-menu {\r    border-width: 0;\r    margin: 0;\r    position: absolute;\r    left: 0;\r    min-width: 12em;\r    z-index: 9999999;\r\t   white-space: nowrap;\r  }\r  #"+this.GetID()+"menu .sub-menu {\r    top: 100%;\r  }\r  #"+this.GetID()+"menu .popup-menu { \r    display: "+a+";\r  }\r  #"+this.GetID()+"menu .sub-menu,\r  #"+this.GetID()+'menu input[type="checkbox"]:checked + .popup-menu,\r  #'+this.GetID()+'menu input[type="checkbox"]:checked + .sub-menu {\r    display: none;\r  }\r  #'+this.GetID()+"menu .popup-menu li, \r  #"+this.GetID()+"menu .sub-menu li {\r    border-width: 1px;\r  }\r  #"+this.GetID()+"menu .popup-menu .sub-menu, \r  #"+this.GetID()+"menu .sub-menu .sub-menu {\r    top: 0;\r    left: 100%;\r  }\r  #"+this.GetID()+'menu li:hover > input[type="checkbox"] + .popup-menu, \r  #'+this.GetID()+'menu li:hover > input[type="checkbox"] + .sub-menu {\r    display: block;\r  }\r',2===this.FAppearance.FHamburgerMenu.FVisible&&(o="@media only screen and (min-width: "+pas.SysUtils.IntToStr(this.FAppearance.FHamburgerMenu.FResponsiveMaxWidth)+"px) {\r"+o+"}")),this.FAppearance.FImageSize>0&&(n="  width: "+pas.SysUtils.IntToStr(this.FAppearance.FImageSize)+"px;\r  height: "+pas.SysUtils.IntToStr(this.FAppearance.FImageSize)+"px;\r"),i="#"+this.GetID()+"menu ul {\r  margin: 0;\r  padding: 0;\r}\r#"+this.GetID()+"menu .main-menu {\r  display: none;\r}\r#"+this.GetID()+"menu .popup-menu {\r  display: block;\r}\r#"+this.GetID()+"menu label img.icon,#"+this.GetID()+"menu label span.checked {\r"+n+"  margin-right: 10px;\r  pointer-events: none;\r}\r#"+this.GetID()+"tm:checked + .main-menu {\r  display: block;\r}\r#"+this.GetID()+'menu input[type="checkbox"],\r#'+this.GetID()+"menu ul span.drop-label {\r  display: none;\r}\r#"+this.GetID()+"menu li,\r#"+this.GetID()+"menu #toggle-menu,\r#"+this.GetID()+"menu .popup-menu,\r#"+this.GetID()+"menu .sub-menu {\r  border-width: 1px;\r  border-style: solid;\r  border-color: rgba(0, 0, 0, .05);\r  border-bottom: 0px;\r  border-top: 0px;\r}\r#"+this.GetID()+"menu li,\r#"+this.GetID()+"menu #toggle-menu {\r  border-width: 0 0 3px;\r}\r#"+this.GetID()+"menu .popup-menu,\r#"+this.GetID()+"menu .sub-menu {\r  border-width: 1px 1px 0;\r  margin: 0 1em;\r}\r#"+this.GetID()+"menu .popup-menu li:first-child,\r#"+this.GetID()+"menu .sub-menu li:first-child {\r  border-top: 1px solid;\r  border-color: rgba(0, 0, 0, .05);\r}\r#"+this.GetID()+"menu .popup-menu li:last-child,\r#"+this.GetID()+"menu .sub-menu li:last-child {\r  border-bottom: 1px solid;\r  border-color: rgba(0, 0, 0, .05);\r}\r#"+this.GetID()+"menu li,\r#"+this.GetID()+"menu #toggle-menu,\r#"+this.GetID()+"menu li label {\r  position: relative;\r  display: block;\r}\r#"+this.GetID()+"menu #toggle-menu,\r#"+this.GetID()+"menu li label { \r  padding: 0.75em 1.5em;\r  text-decoration: none;\r}\r#"+this.GetID()+"menu li span.menu-separator { \r  display: block;\r  width: 100%;\r  height: 1px;\r  background-color: rgba(0, 0, 0, .05);\r}\r#"+this.GetID()+"menu .popup-menu, \r#"+this.GetID()+"menu .sub-menu {\r  display: none;\r}\r#"+this.GetID()+'menu input[type="checkbox"]:checked + .popup-menu,\r#'+this.GetID()+'menu input[type="checkbox"]:checked + .sub-menu {\r  display: block;\r  z-index: 3000;\r}\r#'+this.GetID()+"menu span.drop-icon {\r  margin-left: 10px;}\r#"+this.GetID()+"menu span.hamburger-icon {\r  float: right;\r  padding: 0;\r  margin: 0;\r  font-weight: 900;\r}\r@media only screen and (max-width: 64em) and (min-width: 52.01em) {\r  #"+this.GetID()+"menu li {\r    width: auto;\r  }\r  #"+this.GetID()+"menu .sub-menu li {\r    width: auto;\r  }\r}\r",s="",""===this.FElementClassName&&(s="#"+this.GetID()+"menu .popup-menu, \r#"+this.GetID()+"menu .sub-menu {\r  background-color: "+pas["WEBLib.Graphics"].ColorToHTML(this.FAppearance.FBackgroundColor)+";\r}\r@media only screen and (max-width: 64em) and (min-width: 52.01em) {\r#"+this.GetID()+"menu .sub-menu {\r  background-color: "+pas["WEBLib.Graphics"].ColorToHTML(this.FAppearance.FHamburgerMenu.FBackgroundColor)+";\r}\r}\r#"+this.GetID()+"menu li,\r#"+this.GetID()+"menu #toggle-menu,\r#"+this.GetID()+"menu li label {\r}\r#"+this.GetID()+"menu #toggle-menu {\r  background-color: "+pas["WEBLib.Graphics"].ColorToHTML(this.FAppearance.FHamburgerMenu.FBackgroundColor)+";\r  color: "+pas["WEBLib.Graphics"].ColorToHTML(this.FAppearance.FHamburgerMenu.FCaptionColor)+";\r}\r#"+this.GetID()+"menu .main-menu li label {\r  background-color: "+pas["WEBLib.Graphics"].ColorToHTML(this.FAppearance.FBackgroundColor)+";\r}\r#"+this.GetID()+"menu li label:hover {\r  background-color: "+pas["WEBLib.Graphics"].ColorToHTML(this.FAppearance.FHoverColor)+";\r  color: "+pas["WEBLib.Graphics"].ColorToHTML(this.FAppearance.FHoverFontColor)+";\r}\r#"+this.GetID()+"menu .popup-menu label:hover, \r#"+this.GetID()+"menu .sub-menu label:hover {\r  background-color: "+pas["WEBLib.Graphics"].ColorToHTML(this.FAppearance.FHoverColor)+";\r  color: "+pas["WEBLib.Graphics"].ColorToHTML(this.FAppearance.FHoverFontColor)+";\r}\r"),i=i+s+o,this.FMainMenu=!0,this.FMenuIndex=0,(C=document.createElement("STYLE")).innerHTML=i,(u=document.createElement("SCRIPT")).innerHTML="function "+this.GetID()+'MenuClick(ctrl){  el = ctrl.parentElement.parentElement;  el.style.display = "none";  setTimeout(function(){el.style.removeProperty("display")}, 25);}function '+this.GetID()+'MenuOut(ctrl){  menuel = document.getElementById("'+this.GetID()+'");  if(menuel) {     popupel = menuel.getElementsByClassName("popup-menu");    if(popupel)       setTimeout(function(){popupel[0].style.display = "none"}, 25);  }}',(l=document.createElement("LABEL")).setAttribute("for",this.GetID()+"tm"),l.setAttribute("id","toggle-menu"),l.innerHTML=this.FAppearance.FHamburgerMenu.FCaption,h=document.createElement("SPAN"),""!==this.FElementItemClassName?h.setAttribute("class",this.FElementItemClassName):h.setAttribute("class","drop-label"),l.appendChild(h),(F=document.createElement("SPAN")).setAttribute("class","hamburger-icon"),F.innerHTML="&#9776;",h.appendChild(F),(p=document.createElement("INPUT")).setAttribute("type","checkbox"),p.setAttribute("id",this.GetID()+"tm"),this.FMenu.appendChild(C),this.FMenu.appendChild(u),this.FMenu.appendChild(l),this.FMenu.appendChild(p),null!==(e=this.GetMenuSource(this.FItems))&&this.FMenu.appendChild(e),r.appendChild(this.FMenu)))},this.GetMenuSource=function(t){var i=null,s=0,o=null,n="",a=null,r=null,l=null,h=null,F=0,p="";if(i=null,null!=t.FItems&&t.FItems.GetCount()>0){i=document.createElement("UL"),this.FMainMenu?(this.FMainMenu=!1,n=this.FIsPopupMenu?"popup-menu":"main-menu"):n="sub-menu",this.FMenuIndex=this.FMenuIndex+1,i.setAttribute("class",n);for(var C=0,u=t.FItems.GetCount()-1;C<=u;C++)s=C,F+=1,""===(o=t.FItems.GetItem(s)).FName&&(p=pas.SysUtils.StringReplace(o.FCaption," ","",rtl.createSet(0)),""===(p=e.MakeValidName(p))&&(p="MenuItem"+pas.SysUtils.IntToStr(F)),o.SetName(p+pas.SysUtils.IntToStr(F))),o.FVisible&&(a=document.createElement("LI"),"-"!==o.FCaption?(r=document.createElement("LABEL"),""!==this.FElementItemClassName?r.setAttribute("class",this.FElementItemClassName):r.setAttribute("class","drop-label"),r.setAttribute("title",o.FHint),o.FImageIndex>=0&&this.FAppearance.FImageURLs.GetCount()>o.FImageIndex?r.innerHTML='<img class="icon" src="'+this.FAppearance.FImageURLs.Get(o.FImageIndex)+'">':o.FChecked&&(o.FRadioItem?r.innerHTML='<span class="checked">&#9679;</span>':r.innerHTML='<span class="checked">&#10004;</span>'),r.innerHTML=r.innerHTML+o.FCaption):((r=document.createElement("SPAN")).setAttribute("class","menu-separator"),r.innerHTML=""),null!=o.FItems&&o.FItems.GetCount()>0?((h=document.createElement("SPAN")).setAttribute("class","drop-icon"),h.innerHTML=this.FAppearance.FSubmenuIndicator,r.setAttribute("for","sm"+pas.SysUtils.IntToStr(this.FMenuIndex)),r.appendChild(h),o.FEnabled||r.style.setProperty("color","gray"),(l=document.createElement("INPUT")).setAttribute("type","checkbox"),l.setAttribute("id","sm"+pas.SysUtils.IntToStr(this.FMenuIndex)),a.appendChild(r),a.appendChild(l),o.FEnabled&&a.appendChild(this.GetMenuSource(o))):(r.setAttribute("for",this.GetID()+"tm"),r.setAttribute("id",o.FName),o.FEnabled?("sub-menu"===n&&o.FEnabled&&r.setAttribute("onMouseUp",this.GetID()+"MenuClick(this);"),r.addEventListener("click",rtl.createSafeCallback(this,"HandleChange"))):r.style.setProperty("color","gray"),a.appendChild(r)),i.appendChild(a))}return i},this.GetItemByName=function(t,e){var i=null,s=0,o=null;if(i=null,null!=t.FItems)for(var n=0,a=t.FItems.GetCount()-1;n<=a;n++){if(s=n,(o=t.FItems.GetItem(s)).FName===e)return i=o,null!=o.FOnClick&&(i.FOnClick=o.FOnClick),i;null==i&&(i=this.GetItemByName(o,e))}return i},this.CreateInitialize=function(){t.TCustomMainMenu.CreateInitialize.call(this),this.FAppearance=t.TMainMenuAppearance.$create("Create$1",[this]),this.FContainer$1=null,this.FMainMenu=!0,this.FMenuIndex=0,this.FIsPopupMenu=!1,this.FShowPopup=!1,this.SetTop(0),this.SetLeft(0),this.SetWidth(100),4 in this.FComponentState&&(this.SetElementPosition(1),this.SetWidthPercent(100),this.SetWidthStyle(0))},this.CreateElement=function(){var t=null,e=null;return 4 in this.FComponentState?(t=document.createElement("DIV"),(e=document.createElement("DIV")).innerHTML="TWebMainMenu",this.SetBorderStyle(1),e.setAttribute("align","center"),e.style.setProperty("border","1px solid gray"),e.style.setProperty("vertical-align","middle"),e.style.setProperty("display","table-cell"),t.appendChild(e)):(t=document.createElement("DIV"),this.FIsPopupMenu&&t.setAttribute("onMouseLeave",this.GetID()+"MenuOut(this);")),t},this.Destroy=function(){rtl.free(this,"FAppearance"),t.TCustomMainMenu.Destroy.call(this)},rtl.addIntf(this,pas.System.IUnknown);var i=this.$rtti;i.addProperty("Appearance",0,t.$rtti.TMainMenuAppearance,"FAppearance","FAppearance"),i.addProperty("Container",0,pas["WEBLib.Controls"].$rtti.TControl,"FContainer$1","FContainer$1"),i.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),i.addProperty("ElementClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","SetElementClassName"),i.addProperty("ElementItemClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementItemClassName","FElementItemClassName"),i.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),i.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0})})),rtl.createClass(this,"TPopupMenu",this.TMainMenu,(function(){this.$init=function(){t.TMainMenu.$init.call(this),this.FOnPopup=null},this.$final=function(){this.FOnPopup=void 0,t.TMainMenu.$final.call(this)},this.Create$1=function(t){return pas["WEBLib.Controls"].TControl.Create$1.apply(this,arguments),pas["WEBLib.Controls"].TControl.isPrototypeOf(t)&&this.SetParent(t),this},this.CreateInitialize=function(){t.TMainMenu.CreateInitialize.call(this),this.FAppearance.FHamburgerMenu.SetVisible(1),this.FIsPopupMenu=!0},this.Popup=function(t,e){null!=this.FOnPopup&&this.FOnPopup(this),this.SetTop(e),this.SetLeft(t),this.FShowPopup=!0,this.UpdateElement(),this.FShowPopup=!1},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]]),e.addProperty("OnPopup",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnPopup","FOnPopup")})),rtl.createClass(this,"TWebCustomControl",pas["WEBLib.Controls"].TCustomControl,(function(){this.$init=function(){pas["WEBLib.Controls"].TCustomControl.$init.call(this),this.FPopupMenu=null},this.$final=function(){this.FPopupMenu=void 0,pas["WEBLib.Controls"].TCustomControl.$final.call(this)},this.HandleDoContextMenu=function(t){var e=!1,i=pas.Types.TPoint.$new(),s=null,o=null;return pas["WEBLib.Controls"].TControl.HandleDoContextMenu.apply(this,arguments),null!=this.FPopupMenu&&(t.stopPropagation(),t.preventDefault(),i.$assign(pas.Types.Point(Math.round(t.clientX),Math.round(t.clientY))),null!=(s=pas["WEBLib.Forms"].GetParentForm(this))&&null!=s.GetContainer()&&(o=s.GetContainer().getBoundingClientRect(),i.x=i.x-Math.round(o.left),i.y=i.y-Math.round(o.top)),this.FPopupMenu.Popup(i.x,i.y),e=!0),e},this.Notification=function(t,e){pas.Classes.TComponent.Notification.apply(this,arguments),1===e&&t===this.FPopupMenu&&(this.FPopupMenu=null)},rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TWebGraphicControl",pas["WEBLib.Controls"].TGraphicControl,(function(){this.$init=function(){pas["WEBLib.Controls"].TGraphicControl.$init.call(this),this.FPopupMenu=null},this.$final=function(){this.FPopupMenu=void 0,pas["WEBLib.Controls"].TGraphicControl.$final.call(this)},this.HandleDoContextMenu=function(t){var e=!1,i=pas.Types.TPoint.$new(),s=null,o=null;return pas["WEBLib.Controls"].TControl.HandleDoContextMenu.apply(this,arguments),null!=this.FPopupMenu&&(t.stopPropagation(),t.preventDefault(),i.$assign(pas.Types.Point(Math.round(t.clientX),Math.round(t.clientY))),null!=(s=pas["WEBLib.Forms"].GetParentForm(this))&&s.FPopup&&null!=s.GetContainer()&&(o=s.GetContainer().getBoundingClientRect(),i.x=i.x-Math.round(o.left),i.y=i.y-Math.round(o.top)),this.FPopupMenu.Popup(i.x,i.y),e=!0),e},this.Notification=function(t,e){pas.Classes.TComponent.Notification.apply(this,arguments),1===e&&t===this.FPopupMenu&&(this.FPopupMenu=null)},rtl.addIntf(this,pas.System.IUnknown)})),t.$implcode=function(){var t=rtl.createSet(null,65,90,null,97,122,95),i=rtl.unionSet(t,rtl.createSet(null,48,57));e.MakeValidName=function(t){var e="",s=0;e="";for(var o=1,n=t.length;o<=n;o++)s=o,t.charCodeAt(s-1)in i&&(e+=t.charAt(s-1));return e}}}),["Types","WEBLib.Forms"]),rtl.module("Rtl.BrowserLoadHelper",["System","Classes","SysUtils","JS","Web"],(function(){"use strict";var t=this;rtl.createClass(this,"TBrowserLoadHelper",pas.Classes.TLoadHelper,(function(){})),t.$init=function(){pas.Classes.SetLoadHelperClass(t.TBrowserLoadHelper)}})),rtl.module("WEBLib.Forms",["System","Classes","Types","SysUtils","WEBLib.Graphics","WEBLib.Controls","WEBLib.Lang","WEBLib.Menus","Web","JS","Rtl.BrowserLoadHelper"],(function(){"use strict";var t=this,e=t.$impl;this.idOK=1,this.idCancel=2,this.idAbort=3,this.idRetry=4,this.idIgnore=5,this.idYes=6,this.idNo=7,this.idClose=8,this.idHelp=9,this.idContinue=11,this.mrNone=0,this.mrOk=1,this.mrCancel=2,this.mrAbort=3,this.mrRetry=4,this.mrIgnore=5,this.mrYes=6,this.mrNo=7,this.mrClose=8,this.mrHelp=9,this.mrContinue=11,this.mrAll=12,this.mrNoToAll=13,this.mrYesToAll=14,this.rgiFirst=-1024,this.igiLast=511,this.clTMSBlue=14917120,this.$rtti.$Int("TConstraintSize",{minvalue:0,maxvalue:2147483647,ordtype:5}),this.TCloseAction={0:"caNone",caNone:0,1:"caHide",caHide:1,2:"caFree",caFree:2,3:"caMinimize",caMinimize:3},this.$rtti.$Enum("TCloseAction",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TCloseAction}),this.TFormStyle={0:"fsNormal",fsNormal:0,1:"fsStayOnTop",fsStayOnTop:1},this.$rtti.$Enum("TFormStyle",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TFormStyle}),this.$rtti.$Int("TGestureID",{minvalue:-1024,maxvalue:511,ordtype:2}),this.TInteractiveGestureFlag={0:"gfBegin",gfBegin:0,1:"gfInertia",gfInertia:1,2:"gfEnd",gfEnd:2},this.$rtti.$Enum("TInteractiveGestureFlag",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TInteractiveGestureFlag}),this.$rtti.$Set("TInteractiveGestureFlags",{comptype:this.$rtti.TInteractiveGestureFlag}),this.TMouseActivate={0:"maDefault",maDefault:0,1:"maActivate",maActivate:1,2:"maActivateAndEat",maActivateAndEat:2,3:"maNoActivate",maNoActivate:3,4:"maNoActivateAndEat",maNoActivateAndEat:4},this.$rtti.$Enum("TMouseActivate",{minvalue:0,maxvalue:4,ordtype:1,enumtype:this.TMouseActivate}),this.TScreenOrientation={0:"soPortrait",soPortrait:0,1:"soLandscape",soLandscape:1},this.$rtti.$Enum("TScreenOrientation",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TScreenOrientation}),this.TApplicationColorScheme={0:"csNoScheme",csNoScheme:0,1:"csLight",csLight:1,2:"csDark",csDark:2},rtl.recNewT(this,"TSmallPoint",(function(){this.x=0,this.y=0,this.$eq=function(t){return this.x===t.x&&this.y===t.y},this.$assign=function(t){return this.x=t.x,this.y=t.y,this};var e=t.$rtti.$Record("TSmallPoint",{});e.addField("x",rtl.smallint),e.addField("y",rtl.smallint)})),rtl.recNewT(this,"TAlignInfo",(function(){this.AlignList=null,this.ControlIndex=0,this.Align=0,this.Scratch=0,this.$eq=function(t){return this.AlignList===t.AlignList&&this.ControlIndex===t.ControlIndex&&this.Align===t.Align&&this.Scratch===t.Scratch},this.$assign=function(t){return this.AlignList=t.AlignList,this.ControlIndex=t.ControlIndex,this.Align=t.Align,this.Scratch=t.Scratch,this};var e=t.$rtti.$Record("TAlignInfo",{});e.addField("AlignList",pas.Classes.$rtti.TList),e.addField("ControlIndex",rtl.longint),e.addField("Align",pas["WEBLib.Controls"].$rtti.TAlign),e.addField("Scratch",rtl.longint)})),rtl.recNewT(this,"TGestureEventInfo",(function(){this.GestureID=0,this.Angle=0,this.Distance=0,this.$new=function(){var e=Object.create(this);return e.Location=pas.Types.TPoint.$new(),e.Flags={},e.InertiaVector=t.TSmallPoint.$new(),e.TapLocation=t.TSmallPoint.$new(),e},this.$eq=function(t){return this.GestureID===t.GestureID&&this.Location.$eq(t.Location)&&rtl.eqSet(this.Flags,t.Flags)&&this.Angle===t.Angle&&this.InertiaVector.$eq(t.InertiaVector)&&this.Distance===t.Distance&&this.TapLocation.$eq(t.TapLocation)},this.$assign=function(t){return this.GestureID=t.GestureID,this.Location.$assign(t.Location),this.Flags=rtl.refSet(t.Flags),this.Angle=t.Angle,this.InertiaVector.$assign(t.InertiaVector),this.Distance=t.Distance,this.TapLocation.$assign(t.TapLocation),this};var e=t.$rtti.$Record("TGestureEventInfo",{});e.addField("GestureID",t.$rtti.TGestureID),e.addField("Location",pas.Types.$rtti.TPoint),e.addField("Flags",t.$rtti.TInteractiveGestureFlags),e.addField("Angle",rtl.double),e.addField("InertiaVector",t.$rtti.TSmallPoint),e.addField("Distance",rtl.longint),e.addField("TapLocation",t.$rtti.TSmallPoint)})),this.$rtti.$MethodVar("TCloseEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Action",this.$rtti.TCloseAction,1]]),methodkind:0}),this.$rtti.$MethodVar("TCloseQueryEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["CanClose",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TOrientationChangeEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AOrientation",this.$rtti.TScreenOrientation]]),methodkind:0}),this.$rtti.$MethodVar("TBeforeUnloadEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AMessage",rtl.string,1]]),methodkind:0}),this.$rtti.$MethodVar("TAlignInsertBeforeEvent",{procsig:rtl.newTIProcSig([["Sender",pas["WEBLib.Controls"].$rtti.TWinControl],["C1",pas["WEBLib.Controls"].$rtti.TControl],["C2",pas["WEBLib.Controls"].$rtti.TControl]],rtl.boolean),methodkind:1}),this.$rtti.$MethodVar("TAlignPositionEvent",{procsig:rtl.newTIProcSig([["Sender",pas["WEBLib.Controls"].$rtti.TWinControl],["Control",pas["WEBLib.Controls"].$rtti.TControl],["NewLeft",rtl.longint,1],["NewTop",rtl.longint,1],["NewWidth",rtl.longint,1],["NewHeight",rtl.longint,1],["AlignRect",pas.Types.$rtti.TRect,1],["AlignInfo",this.$rtti.TAlignInfo]]),methodkind:0}),this.$rtti.$MethodVar("TCanResizeEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["NewWidth",rtl.longint,1],["NewHeight",rtl.longint,1],["Resize",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TConstrainedResizeEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["MinWidth",rtl.longint,1],["MinHeight",rtl.longint,1],["MaxWidth",rtl.longint,1],["MaxHeight",rtl.longint,1]]),methodkind:0}),this.$rtti.$MethodVar("TContextPopupEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["MousePos",pas.Types.$rtti.TPoint],["Handled",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TDockDropEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Source",this.$rtti.TDragDockObject],["X",rtl.longint],["Y",rtl.longint]]),methodkind:0}),this.$rtti.$MethodVar("TDockOverEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Source",this.$rtti.TDragDockObject],["X",rtl.longint],["Y",rtl.longint],["State",pas["WEBLib.Controls"].$rtti.TDragState],["Accept",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TGestureEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["EventInfo",this.$rtti.TGestureEventInfo,2],["Handled",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TGetSiteInfoEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["DockClient",pas["WEBLib.Controls"].$rtti.TControl],["InfluenceRect",pas.Types.$rtti.TRect,1],["MousePos",pas.Types.$rtti.TPoint],["CanDock",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TMouseActivateEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Button",pas["WEBLib.Controls"].$rtti.TMouseButton],["Shift",pas.Classes.$rtti.TShiftState],["X",rtl.longint],["Y",rtl.longint],["HitTest",rtl.longint],["MouseActivate",this.$rtti.TMouseActivate,1]]),methodkind:0}),this.$rtti.$MethodVar("TMouseWheelUpDownEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Shift",pas.Classes.$rtti.TShiftState],["MousePos",pas.Types.$rtti.TPoint],["Handled",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TStartDockEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["DragObject",this.$rtti.TDragDockObject,1]]),methodkind:0}),this.$rtti.$MethodVar("TUnDockEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Client",pas["WEBLib.Controls"].$rtti.TControl],["NewTarget",pas["WEBLib.Controls"].$rtti.TWinControl],["Allow",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("THashChangeEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["oldURL",rtl.string],["newURL",rtl.string]]),methodkind:0}),this.TPopupMode={0:"pmNone",pmNone:0,1:"pmAuto",pmAuto:1,2:"pmExplicit",pmExplicit:2},this.TPopupClose={0:"pcOnDeactivate",pcOnDeactivate:0,1:"pcNever",pcNever:1},this.TPosition={0:"poDesigned",poDesigned:0,1:"poDefault",poDefault:1,2:"poDefaultPosOnly",poDefaultPosOnly:2,3:"poDefaultSizeOnly",poDefaultSizeOnly:3,4:"poScreenCenter",poScreenCenter:4,5:"poDesktopCenter",poDesktopCenter:5,6:"poMainFormCenter",poMainFormCenter:6,7:"poOwnerFormCenter",poOwnerFormCenter:7},this.TApplicationErrorType={0:"aeSilent",aeSilent:0,1:"aeDialog",aeDialog:1,2:"aeAlert",aeAlert:2,3:"aeFooter",aeFooter:3},this.TFormBorderStyle={0:"fbNone",fbNone:0,1:"fbSingle",fbSingle:1,2:"fbSizeable",fbSizeable:2,3:"fbDialog",fbDialog:3,4:"fbDialogSizeable",fbDialogSizeable:4},this.TCSSLibrary={0:"cssNone",cssNone:0,1:"cssBootstrap",cssBootstrap:1},this.$rtti.$Enum("TCSSLibrary",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TCSSLibrary}),rtl.createClass(this,"TCustomSizeConstraints",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FControl=null,this.FMaxHeight=0,this.FMaxWidth=0,this.FMinHeight=0,this.FMinWidth=0,this.FOnChange=null},this.$final=function(){this.FControl=void 0,this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetConstraints=function(t,e){var i=t;0===i?e!==this.FMaxHeight&&(this.FMaxHeight=e,e>0&&e<this.FMinHeight&&(this.FMinHeight=e),this.Change()):1===i?e!==this.FMaxWidth&&(this.FMaxWidth=e,e>0&&e<this.FMinWidth&&(this.FMinWidth=e),this.Change()):2===i?e!==this.FMinHeight&&(this.FMinHeight=e,this.FMaxHeight>0&&e>this.FMaxHeight&&(this.FMaxHeight=e),this.Change()):3===i&&e!==this.FMinWidth&&(this.FMinWidth=e,this.FMaxWidth>0&&e>this.FMaxWidth&&(this.FMaxWidth=e),this.Change())},this.Change=function(){null!=this.FOnChange&&this.FOnChange(this)},this.AssignTo=function(e){t.TCustomSizeConstraints.isPrototypeOf(e)?(e.FMinHeight=this.FMinHeight,e.FMaxHeight=this.FMaxHeight,e.FMinWidth=this.FMinWidth,e.FMaxWidth=this.FMaxWidth,e.Change()):pas.Classes.TPersistent.AssignTo.call(this,e)},this.Create$1=function(t){return pas.System.TObject.Create.call(this),this.FControl=t,this},this.$rtti.addMethod("Create$1",2,[["AControl",pas["WEBLib.Controls"].$rtti.TControl]])})),rtl.createClass(this,"TSizeConstraints",this.TCustomSizeConstraints,(function(){var e=this.$rtti;e.addProperty("MaxHeight",18,t.$rtti.TConstraintSize,"FMaxHeight","SetConstraints",{index:0,Default:0}),e.addProperty("MaxWidth",18,t.$rtti.TConstraintSize,"FMaxWidth","SetConstraints",{index:1,Default:0}),e.addProperty("MinHeight",18,t.$rtti.TConstraintSize,"FMinHeight","SetConstraints",{index:2,Default:0}),e.addProperty("MinWidth",18,t.$rtti.TConstraintSize,"FMinWidth","SetConstraints",{index:3,Default:0})})),rtl.createClass(this,"TDragDockObject",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FBrush=null},this.$final=function(){this.FBrush=void 0,pas.System.TObject.$final.call(this)},this.Destroy=function(){rtl.free(this,"FBrush"),pas.System.TObject.Destroy.call(this)}})),rtl.createClass(this,"TCustomForm",pas["WEBLib.Controls"].TWinControl,(function(){this.$init=function(){pas["WEBLib.Controls"].TWinControl.$init.call(this),this.FDesignContainer=null,this.FLayer$1=null,this.FPopup=!1,this.FPopupElement=null,this.FFormFileName="",this.FFormContainer="",this.FFormElement="",this.FFormStyle=0,this.FOnCreate=null,this.FOnShow=null,this.FModalResult=0,this.FOnPaint=null,this.FOnDeactivate=null,this.FOnCloseQuery=null,this.FOnClose=null,this.FModalProc=null,this.FCreatedProc=null,this.FCaption="",this.FIsResizing$1=!1,this.FOnScroll=null,this.FOnUnload=null,this.FOnBeforeUnload=null,this.FPopupMode=0,this.FPopupClose=0,this.FPosition=0,this.FMdx=0,this.FMdy=0,this.FDlgX=0,this.FDlgY=0,this.FCaptured$1=!1,this.FDown=!1,this.FHasCaption=!1,this.FMoveSpan=null,this.FCaptionElement=null,this.FCaptionCloseElement=null,this.FBorder=0,this.FShadow=!1,this.FTimerID=0,this.FOrigWidth=0,this.FOrigHeight=0,this.FOldWidth=0,this.FOldHeight=0,this.FOnDestroy=null,this.FPopupOpacity=0,this.FCreating=!1,this.FShown=!1,this.FLoadedPtr=null,this.FDOMContentLoadedPtr=null,this.FUnloadPtr=null,this.FBeforeUnloadPtr=null,this.FResizePtr=null,this.FScrollPtr=null,this.FDocMouseUpPtr=null,this.FDocMouseMovePtr=null,this.FTitleDownPtr=null,this.FDoClickPtr=null,this.FKeyDownPtr$1=null,this.FOrientationChangePtr=null,this.FHashChangePtr=null,this.FCSSLibrary=0,this.FNoHTML=!1,this.FPrevActiveForm=null,this.FElementCaptionClassName="",this.FElementPopupClassName="",this.FMenu=null,this.FResizeObserver=null,this.FOnOrientationChange=null,this.FOnDOMContentLoaded=null,this.FShowClose=!1,this.FOnHashChange=null},this.$final=function(){this.FDesignContainer=void 0,this.FLayer$1=void 0,this.FPopupElement=void 0,this.FOnCreate=void 0,this.FOnShow=void 0,this.FOnPaint=void 0,this.FOnDeactivate=void 0,this.FOnCloseQuery=void 0,this.FOnClose=void 0,this.FModalProc=void 0,this.FCreatedProc=void 0,this.FOnScroll=void 0,this.FOnUnload=void 0,this.FOnBeforeUnload=void 0,this.FMoveSpan=void 0,this.FCaptionElement=void 0,this.FCaptionCloseElement=void 0,this.FOnDestroy=void 0,this.FPrevActiveForm=void 0,this.FMenu=void 0,this.FResizeObserver=void 0,this.FOnOrientationChange=void 0,this.FOnDOMContentLoaded=void 0,this.FOnHashChange=void 0,pas["WEBLib.Controls"].TWinControl.$final.call(this)},this.SetModalResult=function(t){this.FModalResult=t,0!==this.FModalResult&&this.Close()},this.GetFormStyle=function(){return this.FFormStyle},this.SetFormStyle=function(t){this.FFormStyle=t},this.SetCaption=function(t){this.FCaption!==t&&(this.FCaption=t,this.UpdateElement())},this.SetShadow=function(t){this.FShadow!==t&&(this.FShadow=t,this.UpdateElement())},this.SetBorder=function(t){this.FBorder!==t&&(this.FBorder=t,null!=this.GetContainer()&&this.AlignControl(this))},this.SetFormContainer=function(t){var e,i=null,s=0;if(e=this.GetContainer(),4 in this.FComponentState?this.FFormContainer=t:"BODY"===pas.SysUtils.UpperCase(t)?this.FFormContainer="":this.FFormContainer=t,(!(0 in this.FComponentState)||4 in this.FComponentState)&&(null!=this.FLayer$1?i=this.FLayer$1:(""===t||null==(i=document.getElementById(t)))&&(i=document.body),null!=i&&(this.FContainer=i,null!=e)))for(var o=0,n=this.GetControlsCount()-1;o<=n;o++)s=o,this.GetControls(s).FParentElement===e&&(this.GetControls(s).FParentElement=i),null!=this.GetControls(s).GetElementHandle()&&this.GetControls(s).GetElementHandle().parentElement===e&&i.appendChild(this.GetControls(s).GetElementHandle())},this.SetWidth=function(t){var e=null;0 in this.FComponentState&&""!==this.FFormContainer||!this.FPopup&&null==this.GetElementHandle()?this.SetWidthInt(t):(pas["WEBLib.Controls"].TControl.SetWidth.apply(this,arguments),this.FPopup&&null!=(e=this.FPopupElement)&&e.style.setProperty("width",pas.SysUtils.IntToStr(t)+"px"))},this.SetHeight=function(t){var e=null;if(0 in this.FComponentState&&""!==this.FFormContainer||!this.FPopup&&null==this.GetElementHandle())return this.SetHeightInt(t),void(null!=this.FormContainerElement()&&("BODY"===pas.SysUtils.UpperCase(this.FormContainerElement().tagName)||this.GetIsLinked()||this.FormContainerElement().style.setProperty("height",pas.SysUtils.IntToStr(t)+"px")));pas["WEBLib.Controls"].TControl.SetHeight.apply(this,arguments),""!==this.FFormContainer&&null!=this.FormContainerElement()&&(this.FormContainerElement().style.setProperty("height",pas.SysUtils.IntToStr(t)+"px"),this.Realign()),this.FPopup&&null!=(e=this.FPopupElement)&&e.style.setProperty("height",pas.SysUtils.IntToStr(t)+"px")},this.SetPosition=function(t){this.FPosition=t},this.GetClientHeight=function(){return this.FBorder in rtl.createSet(3,4)?this.GetHeight()-t.Application.FFormCaptionHeight:pas["WEBLib.Controls"].TControl.GetClientHeight.call(this)},this.HandleHashChange=function(e){var i,s,o="",n=null,a=null;return i=e.oldURL,s=e.newURL,null!=this.FOnHashChange&&this.FOnHashChange(this,i,s),t.Application.FRouting&&(o=pas.System.Copy(s,pas.System.Pos("#",s)+1,s.length),null!=(n=pas.Classes.GetClass("T"+this.FName))&&t.LastHash!==o&&(0!==pas.System.Pos("#"+this.FName+"_",i+"_")&&0===pas.System.Pos("#"+this.FName+"_",s+"_")&&this.Close(),this.FPopup||null!=(n=pas.Classes.GetClass("T"+o))&&t.Application.AutoCreateForm(n,{get:function(){return a},set:function(t){a=t}}))),!0,!0},this.HandleLoaded=function(t){return this.Resize$1(),this.InitAnchoring(),!0,!0},this.HandleDOMContentLoaded=function(t){return null!=this.FOnDOMContentLoaded&&this.FOnDOMContentLoaded(this),!0,!0},this.HandleScroll=function(t){return null!=this.FOnScroll&&this.FOnScroll(this),!0,!0},this.HandleUnload=function(t){return null!=this.FOnUnload&&this.FOnUnload(this),!0,!0},this.HandleBeforeUnload=function(t){var e="";return e="",null!=this.FOnBeforeUnload&&this.FOnBeforeUnload(this,{get:function(){return e},set:function(t){e=t}}),""!==e?(t.returnValue=e,e):(!0,!0)},this.HandleObserver=function(){return this.Resize$1(),!0,!0},this.HandleResize=function(t){return this.FVisible&&!(3 in this.FComponentState)&&(null==this.GetContainer()&&this.CreateControl(),this.Resize$1(),this.GetElementHandle()===document.body&&window.setTimeout(rtl.createSafeCallback(this,"Resize$1"),25)),!0,!0},this.HandleDocMouseMove=function(t){var e=0,i=0,s=null,o=0,n=0;return this.FDown&&null!=this.GetContainer()&&(e=t.clientX-this.FMdx,i=t.clientY-this.FMdy,(s=this.FHasCaption&&""!==this.FFormFileName?this.GetContainer().parentNode:this.GetContainer()).style.setProperty("transform",""),s.style.setProperty("position","absolute"),o=Math.round(this.FDlgX+e),n=Math.round(this.FDlgY+i),s.style.setProperty("left",pas.SysUtils.IntToStr(o)+"px"),s.style.setProperty("top",pas.SysUtils.IntToStr(n)+"px"),this.FLeft=o,this.FTop=n),!0,!0},this.HandleDocMouseUp=function(t){return this.FDown&&(this.FCaptured$1=!1,this.FDown=!1,document.body.removeEventListener("mousemove",this.FDocMouseMovePtr),document.body.removeEventListener("mouseup",this.FDocMouseUpPtr),null!=this.FMoveSpan&&document.body.removeChild(this.FMoveSpan),this.FEventStopPropagation=rtl.unionSet(this.FEventStopPropagation,rtl.createSet(3,2)),this.FMoveSpan=null),!0,!0},this.HandleTitleDown=function(t){var e=null;return t.stopPropagation(),t.preventDefault(),this.FPopupClose=1,this.FMdx=Math.round(t.clientX),this.FMdy=Math.round(t.clientY),e=this.FHasCaption&&""!==this.FFormFileName?this.GetContainer().parentNode.getBoundingClientRect():this.GetContainer().getBoundingClientRect(),this.FDlgX=Math.round(pas.System.Int(e.left)),this.FDlgY=Math.round(pas.System.Int(e.top)),this.FDown=!0,this.FCaptured$1||(this.FCaptured$1=!0,this.FMoveSpan=document.createElement("SPAN"),this.FMoveSpan.style.setProperty("top","0"),this.FMoveSpan.style.setProperty("left","0"),this.FMoveSpan.style.setProperty("right","0"),this.FMoveSpan.style.setProperty("bottom","0"),this.FMoveSpan.style.setProperty("position","absolute"),document.body.appendChild(this.FMoveSpan),this.FEventStopPropagation=rtl.diffSet(this.FEventStopPropagation,rtl.createSet(3,2)),document.body.addEventListener("mousemove",this.FDocMouseMovePtr),document.body.addEventListener("mouseup",this.FDocMouseUpPtr)),!0,!0},this.HandleCloseClick=function(t){var e=!1;return e=!0,null!=this.FOnCloseQuery&&this.FOnCloseQuery(this,{get:function(){return e},set:function(t){e=t}}),e&&this.Close(),!0,!0},this.SetLeft=function(t){var e=null;pas["WEBLib.Controls"].TControl.SetLeft.apply(this,arguments),this.FPopup&&null!=(e=this.FPopupElement)&&e.style.setProperty("left",pas.SysUtils.IntToStr(t)+"px")},this.SetTop=function(t){var e=null;pas["WEBLib.Controls"].TControl.SetTop.apply(this,arguments),this.FPopup&&null!=(e=this.FPopupElement)&&e.style.setProperty("top",pas.SysUtils.IntToStr(t)+"px")},this.ClearMethodPointers=function(){pas["WEBLib.Controls"].TControl.ClearMethodPointers.call(this),this.FLoadedPtr=null,this.FDOMContentLoadedPtr=null,this.FUnloadPtr=null,this.FBeforeUnloadPtr=null,this.FResizePtr=null,this.FScrollPtr=null,this.FDocMouseUpPtr=null,this.FDocMouseMovePtr=null,this.FTitleDownPtr=null,this.FDoClickPtr=null,this.FKeyDownPtr$1=null,this.FOrientationChangePtr=null,this.FHashChangePtr=null},this.GetMethodPointers=function(){pas["WEBLib.Controls"].TControl.GetMethodPointers.call(this),null===this.FLoadedPtr&&(this.FLoadedPtr=rtl.createCallback(this,"HandleLoaded"),this.FDOMContentLoadedPtr=rtl.createCallback(this,"HandleDOMContentLoaded"),this.FUnloadPtr=rtl.createCallback(this,"HandleUnload"),this.FBeforeUnloadPtr=rtl.createCallback(this,"HandleBeforeUnload"),this.FResizePtr=rtl.createCallback(this,"HandleResize"),this.FScrollPtr=rtl.createCallback(this,"HandleScroll"),this.FDocMouseUpPtr=rtl.createCallback(this,"HandleDocMouseUp"),this.FDocMouseMovePtr=rtl.createCallback(this,"HandleDocMouseMove"),this.FTitleDownPtr=rtl.createCallback(this,"HandleTitleDown"),this.FDoClickPtr=rtl.createCallback(this,"HandleDoClick$1"),this.FKeyDownPtr$1=rtl.createCallback(this,"HandleKeyDown"),this.FOrientationChangePtr=rtl.createCallback(this,"HandleOrientationChange"),this.FHashChangePtr=rtl.createCallback(this,"HandleHashChange"))},this.VisibleChanged=function(){var t=!1;pas["WEBLib.Controls"].TControl.VisibleChanged.call(this),null!=this.FLayer$1?this.FVisible?this.FLayer$1.style.setProperty("display",""):this.FLayer$1.style.setProperty("display","none"):(t=pas.SysUtils.LowerCase(this.GetID())===pas["WEBLib.WebTools"].cBodyTag,null==this.GetContainer()||""===this.FFormContainer||t||(this.FVisible?this.GetContainer().style.setProperty("display",""):this.GetContainer().style.setProperty("display","none")))},this.Resize$1=function(){var t=0,e=0,i=0,s=0,o=null;if(!(3 in this.FComponentState)&&(this.FIsResizing$1=!0,this.FPopup&&null!=this.FPopupElement?(o=this.FPopupElement.getBoundingClientRect(),i=Math.round(o.right-o.left-2),this.FBorder in rtl.createSet(3,4)?(e=this.GetCaptionHeight(),s=Math.round(o.bottom-o.top-e-2)):s=Math.round(o.bottom-o.top-2)):(i=window.innerWidth,s=window.innerHeight),this.UpdateControlSize(i,s),pas["WEBLib.Controls"].IsAndroid()&&"INPUT"===document.activeElement.tagName||this.AlignControl(this),this.DoResize(),this.FIsResizing$1=!1,!this.IsUpdating())){-1===this.FOrigRect.Left&&-1===this.FOrigRect.Top&&this.InitAnchoring();for(var n=0,a=this.GetControlsCount()-1;n<=a;n++)t=n,this.GetControls(t).UpdateAnchoring()}},this.CreateControl=function(){(this.FVisible||this.FPopup)&&(pas["WEBLib.Controls"].TControl.CreateControl.call(this),this.UpdateSize())},this.DoClose=function(t){null!=this.FModalProc&&0!==t.get()&&(this.FModalProc(this.FModalResult),this.FModalProc=null)},this.BindEvents=function(){var e="";pas["WEBLib.Controls"].TControl.BindEvents.call(this),"loading"!==document.readyState&&null!=this.FOnDOMContentLoaded&&this.FOnDOMContentLoaded(this),window.addEventListener("resize",this.FResizePtr),window.addEventListener("load",this.FLoadedPtr),window.addEventListener("DOMContentLoaded",this.FDOMContentLoadedPtr),document.addEventListener("scroll",this.FScrollPtr),window.addEventListener("unload",this.FUnloadPtr),window.addEventListener("beforeunload",this.FBeforeUnloadPtr),window.addEventListener("keydown",this.FKeyDownPtr$1),window.addEventListener("orientationchange",this.FOrientationChangePtr),window.addEventListener("hashchange",this.FHashChangePtr),null!=pas.Classes.GetClass(this.$classname)&&!this.FPopup&&t.Application.FRouting&&(e=this.$classname,pas.System.Delete({get:function(){return e},set:function(t){e=t}},1,1),t.LastHash=e,window.location.hash=e)},this.UnbindEvents=function(){pas["WEBLib.Controls"].TControl.UnbindEvents.call(this),null!=this.FLayer$1&&0===this.FPopupClose&&this.FLayer$1.removeEventListener("click",this.FDoClickPtr),null!=this.FResizeObserver&&this.FResizeObserver.disconnect(),window.removeEventListener("resize",this.FResizePtr),window.removeEventListener("load",this.FLoadedPtr),window.removeEventListener("DOMContentLoaded",this.FDOMContentLoadedPtr),document.removeEventListener("scroll",this.FScrollPtr),window.removeEventListener("unload",this.FUnloadPtr),window.removeEventListener("beforeunload",this.FBeforeUnloadPtr),window.removeEventListener("keydown",this.FKeyDownPtr$1),window.removeEventListener("orientationchange",this.FOrientationChangePtr),window.removeEventListener("hashchange",this.FHashChangePtr)},this.DoCreate=function(){this.BeginUpdate(),this.LoadDFMValues(),this.Loaded(),null!=this.FOnCreate&&this.FOnCreate(this),this.FCreating=!1,this.EndUpdate(),this.UpdateChildren(this),this.Realign(),this.DoResize()},this.Realign=function(){var t=null,e=null,i=pas.Types.TRect.$new();""!==this.FFormContainer&&0!==this.FAlign&&null!=(t=document.getElementById(this.FFormContainer))&&(0===(e=t.getBoundingClientRect()).width&&0===e.height&&"absolute"===t.style.getPropertyValue("position")?i.$assign(pas["WEBLib.Controls"].GetHTMLElementAbsoluteRect(t)):i.$assign(pas.Types.Rect(Math.round(e.left),Math.round(e.top),Math.round(e.right),Math.round(e.bottom))),this.SetBoundsInt(i.Left,i.Top,i.Right-i.Left,i.Bottom-i.Top)),pas["WEBLib.Controls"].TControl.Realign.call(this)},this.DoResize=function(){var t,e;t=this.GetWidth(),e=this.GetHeight(),t===this.FOldWidth&&e===this.FOldHeight||(this.FOldWidth=t,this.FOldHeight=e,null!=this.FOnResize&&this.FOnResize(this))},this.DoShow=function(){null==this.FOnShow||this.FShown||(this.FShown=!0,this.FOnShow(this))},this.Paint=function(){},this.HandleDoClick$1=function(t){return t.stopPropagation(),0===this.FPopupClose&&this.Close(),!0,!0},this.HandleKeyDown=function(t){var e,i=!1;return e=this.GetKeyCode(t.key,!0),pas.System.Assigned(e)?(27===e&&!(4 in this.FComponentState)&&this.FPopup&&this.Close(),i=!0):i},this.HandleOrientationChange=function(t){var e=0;(this.Resize$1(),this.Realign(),!0,null!=this.FOnOrientationChange)&&(e=window.matchMedia("(orientation: portrait)").matches?1:0,this.FOnOrientationChange(this,e));return null!=this.FOnResize&&this.FOnResize(this),!0},this.HandleDoResize=function(){var t,e,i=null;i=this.GetContainer().getBoundingClientRect(),t=Math.round(i.right-i.left),e=Math.round(i.bottom-i.top),t===this.FOrigWidth&&e===this.FOrigHeight||(this.SetWidth(t),this.SetHeight(e),i=this.GetContainer().getBoundingClientRect(),this.FOrigWidth=Math.round(i.right-i.left),this.FOrigHeight=Math.round(i.bottom-i.top),this.AlignControl(this))},this.KeyPreview=function(e,i){var s=0,o=0,n=0,a=0,r=0;o=-1,n=65535;for(var l=0,h=this.GetControlsCount()-1;l<=h;l++)s=l,!this.GetControls(s).FVisible&&this.GetControls(s).FEnabled||(this.GetControls(s).FTabOrder<n&&(n=this.GetControls(s).FTabOrder,r=s),this.GetControls(s).FTabOrder>o&&(o=this.GetControls(s).FTabOrder,a=s),13!==e.get()&&27!==e.get()||this.GetControls(s).HandleKeyPreview(e.get()));t.Application.FMainForm!==this&&(9===e.get()&&!(0 in i)&&a<this.GetControlsCount()&&r>=0&&r!==a&&this.GetControls(a).Focused()&&(this.GetControls(r).SetFocus(),e.set(0)),9===e.get()&&0 in i&&r>=0&&a<this.GetControlsCount()&&r!==a&&this.GetControls(r).Focused()&&(this.GetControls(a).SetFocus(),e.set(0)))},this.GetWidth=function(){var t=0,e=null,i=null;return""!==this.FFormElement&&null!=(i=document.getElementById(this.FFormElement))?(e=i.getBoundingClientRect(),t=Math.round(e.right-e.left)):(this.GetElementHandle()===document.body?(t=window.innerWidth,e=document.documentElement.getBoundingClientRect(),(t=Math.round(e.width))>window.innerWidth&&(t=window.innerWidth)):this.FPopup?t=pas["WEBLib.Controls"].TControl.GetWidth.call(this):0===(t=Math.round(this.GetElementHandle().offsetWidth))&&(t=""!==this.FFormContainer?pas["WEBLib.Controls"].TControl.GetWidth.call(this):window.innerWidth),t)},this.GetHeight=function(){var t=0,e=0,i="",s=null,o=null;return""!==this.FFormElement&&null!=(s=document.getElementById(this.FFormElement))?(o=s.getBoundingClientRect(),t=Math.round(o.bottom-o.top)):(this.GetElementHandle()===document.body?(i=window.getComputedStyle(this.GetElementHandle()).getPropertyValue("margin-top"),i=pas.System.Copy(i,1,i.length-2),e=Math.round(pas.SysUtils.StrToFloat$1(i,pas.SysUtils.TFormatSettings.Invariant())-2),o=document.documentElement.getBoundingClientRect(),(t=Math.round(o.height))>window.innerHeight&&(t=window.innerHeight-Math.max(0,e))):this.FPopup?t=pas["WEBLib.Controls"].TControl.GetHeight.call(this):0===(t=Math.round(this.GetElementHandle().offsetHeight))&&(t=""!==this.FFormContainer?pas["WEBLib.Controls"].TControl.GetHeight.call(this):window.innerHeight),t)},this.GetLeft=function(){var t=0,e=null,i=null;return this.FPopup?t=pas["WEBLib.Controls"].TControl.GetLeft.call(this):""!==this.FFormElement?null!=(e=document.getElementById(this.FFormElement))&&(i=e.getBoundingClientRect(),t=Math.round(i.left)):(e=null,""!==this.FFormContainer&&(e=document.getElementById(this.FFormContainer)),null==e&&(e=this.GetElementHandle()),t=Math.round(e.offsetLeft)),t},this.GetTop=function(){var t=0,e=null,i=null;return this.FPopup?t=pas["WEBLib.Controls"].TControl.GetTop.call(this):""!==this.FFormElement?null!=(e=document.getElementById(this.FFormElement))&&(i=e.getBoundingClientRect(),t=Math.round(i.top)):(e=null,""!==this.FFormContainer&&(e=document.getElementById(this.FFormContainer)),null==e&&(e=this.GetElementHandle()),t=Math.round(e.offsetTop)),t},this.GetClientRect=function(){var t=pas.Types.TRect.$new();return t.$assign(pas["WEBLib.Controls"].TControl.GetClientRect.call(this)),t},this.CreateElement=function(){var e=null,i=null,s=null;return this.FPopup||null==this.FormContainerElement()?(e=document.createElement("DIV"),this.FLayer$1=this.CreateLayer(),document.body.appendChild(this.FLayer$1),i=this.FLayer$1,0===this.FPopupClose&&(this.GetMethodPointers(),i.addEventListener("click",this.FDoClickPtr)),i.style.setProperty(pas["WEBLib.Controls"].CSSZIndex,t.Application.MaxZIndexStr()),2===this.FBorder&&(e.style.setProperty("resize","both"),e.style.setProperty("overflow","auto")),this.FHasCaption=!1,this.FBorder in rtl.createSet(2,3,4)&&(s=this.CreateCaption(),e.appendChild(s)),e):e=this.FormContainerElement()},this.UpdateElement=function(){var t="",e=null;this.FCreating||(pas["WEBLib.Controls"].TControl.UpdateElement.call(this),this.IsUpdating()||(null==this.GetElementHandle()&&null==this.GetContainer()||""!==this.FCaption&&(this.FPopup?null!=this.FCaptionElement&&(null!=(e=this.FCaptionElement.childNodes.item(0))&&(e.nodeValue=this.FCaption),this.FShowClose&&null==this.FCaptionCloseElement&&(this.FCaptionCloseElement=document.createElement("SPAN"),this.FCaptionCloseElement.style.setProperty("float","right"),this.FCaptionCloseElement.style.setProperty("cursor","default"),this.FCaptionCloseElement.style.setProperty("margin-right","8px"),this.FCaptionCloseElement.innerHTML="&#x2716;",this.FCaptionElement.appendChild(this.FCaptionCloseElement),this.FCaptionCloseElement.addEventListener("click",rtl.createSafeCallback(this,"HandleCloseClick"))),pas["WEBLib.Controls"].SetHTMLElementFont(this.FCaptionElement,this.FFont,!(""===this.FElementCaptionClassName&&0===this.FElementFont))):window.document.title=this.FCaption),null!=this.GetContainer()&&(t=pas["WEBLib.Graphics"].ColorToHTML(this.FColor),null!=this.GetContainer()&&(-1===this.FColor||16777215===this.FColor||this.FPopup||""!==this.FElementClassName||this.GetContainer().style.setProperty(pas["WEBLib.Controls"].CSSBackground,t),(""!==this.FElementClassName||-1===this.FColor||16777215===this.FColor&&!this.FPopup)&&this.GetContainer().style.removeProperty(pas["WEBLib.Controls"].CSSBackground),""!==this.FElementClassName||this.FPopup||document.documentElement.style.setProperty("height","100%"),pas["WEBLib.Controls"].SetHTMLElementFont(this.GetContainer(),this.FFont,!(""===this.FElementClassName&&0===this.FElementFont))),this.FPopup?(null==this.FPopupElement&&(this.FPopupElement=this.GetContainer()),""!==this.FElementPopupClassName?(this.GetContainer().style.removeProperty("border"),this.FPopupElement.setAttribute("class",this.FElementPopupClassName)):(this.FShadow?this.FPopupElement.style.setProperty("box-shadow","3px 3px 3px silver"):this.FPopupElement.style.removeProperty("box-shadow"),this.FPopupElement.style.setProperty("border","1px solid gray"))):this.GetContainer().style.removeProperty("box-shadow"))))},this.ContainerElement=function(){return this.FormContainerElement()},this.FormContainerElement=function(){var t=null;return 4 in this.FComponentState&&null!=this.FDesignContainer&&(t=this.FDesignContainer),""!==this.FFormContainer?null==(t=document.getElementById(this.FFormContainer))&&(t=document.body):t=document.body,t},this.GetElementBindHandle=function(){return 4 in this.FComponentState||""!==this.FFormContainer?window:this.FPopup?pas["WEBLib.Controls"].TControl.GetElementBindHandle.call(this):window},this.GetElementHandle=function(){return this.FPopup?pas["WEBLib.Controls"].TControl.GetElementHandle.call(this):this.FormContainerElement()},this.SetElementClassName=function(t){pas["WEBLib.Controls"].TControl.SetElementClassName.apply(this,arguments),this.FPopup&&null!=this.FPopupElement&&this.FPopupElement.setAttribute("class",t)},this.CloseQuery=function(){var t=!1;return t=!0,null!=this.FOnCloseQuery&&this.FOnCloseQuery(this,{get:function(){return t},set:function(e){t=e}}),t},this.LoadDFMValues=function(){},this.Init=function(){},this.IsFocused=function(){return!1,!1},this.CreateLayer=function(){var e=null;return(e=document.createElement("SPAN")).style.setProperty("top","0"),e.style.setProperty("left","0"),e.style.setProperty("right","0"),e.style.setProperty("bottom","0"),e.style.setProperty("webkit-user-select","none"),e.style.setProperty("moz-user-select","none"),e.style.setProperty("khtml-user-select","none"),e.style.setProperty("ms-user-select","none"),e.style.setProperty("user-select","none"),e.style.setProperty("position","absolute"),e.style.setProperty("z-index",t.Application.MaxZIndexStr()),e},this.CreateCaption=function(){var e;return e=pas.SysUtils.IntToStr(t.Application.FFormCaptionHeight),this.FCaptionElement=document.createElement("DIV"),this.FCaptionElement.innerHTML=this.FCaption,this.FCaptionElement.style.setProperty(pas["WEBLib.Controls"].CSSBackground,pas["WEBLib.Graphics"].ColorToHTML(t.Application.FThemeColor)),this.FCaptionElement.style.setProperty("color",pas["WEBLib.Graphics"].ColorToHTML(t.Application.FThemeTextColor)),this.FCaptionElement.style.setProperty("cursor","move"),this.FCaptionElement.style.setProperty("height",e+"px"),this.FCaptionElement.style.setProperty("line-height",e+"px"),this.FCaptionElement.style.setProperty("border-bottom","1px solid black"),this.FCaptionElement.style.setProperty("padding-left","4px"),this.FCaptionElement.style.setProperty("-moz-user-select","none"),this.FCaptionElement.style.setProperty("-webkit-user-select","none"),this.FCaptionElement.style.setProperty("-ms-user-select","none"),this.FCaptionElement.style.setProperty("user-select","none"),this.FCaptionElement.style.setProperty("-o-user-select","none"),""!==this.FElementCaptionClassName&&this.FCaptionElement.setAttribute("class",this.FElementCaptionClassName),pas["WEBLib.Controls"].SetHTMLElementFont(this.FCaptionElement,this.FFont,!(""===this.FElementCaptionClassName&&0===this.FElementFont)),null==this.FTitleDownPtr&&this.GetMethodPointers(),this.FCaptionElement.innerHTML=this.FCaption,this.FCaptionElement.addEventListener("mousedown",this.FTitleDownPtr),this.FHasCaption=!0,this.FCaptionElement},this.GetCaptionHeight=function(){var t=0,e=null;return t=0,null!=this.FCaptionElement&&this.FBorder in rtl.createSet(3,4)&&(e=this.FCaptionElement.getBoundingClientRect(),t=Math.round(e.bottom-e.top)),t},this.SetColorScheme=function(e){var i="";if(t.Application.FThemed){var s=e;2===s?(this.SetColor(2105636),i="label,option,td,table,ul,li {background-color: #202124; color: #BEC1C6;}\r\nbody,input,textarea,select,fieldset {background-color: #202124; color: #BEC1C6; border: 1px solid gray;}\r\ninput:focus, textarea:focus, select:focus, span:focus { border: 1px solid silver; outline: none !important;}",this.AddCSS("appscheme",i)):1===s&&(this.SetColor(16777215),this.RemoveCSS("appscheme"))}},this.SetFormPos=function(){null!=this.GetContainer()&&(4===this.FPosition&&(this.FLeft=Math.round((t.WinWidth()-this.GetWidth())/2)+window.scrollX,this.FTop=Math.round((t.WinHeight()-this.GetHeight())/2)+window.scrollY),this.GetContainer().style.setProperty("position","absolute"),this.GetContainer().style.setProperty("width",pas.SysUtils.IntToStr(this.GetWidth())+"px"),this.GetContainer().style.setProperty("height",pas.SysUtils.IntToStr(this.GetHeight())+"px"),this.GetContainer().style.setProperty("left",pas.SysUtils.IntToStr(this.GetLeft())+"px"),this.GetContainer().style.setProperty("top",pas.SysUtils.IntToStr(this.GetTop())+"px"))},this.GetHTMLFileName=function(){return this.$module.$name+t.Application.GetFormExtension()},this.LoadedDone=function(){t.Application.TriggerNotification()},this.Loaded=function(){pas["WEBLib.Controls"].TControl.Loaded.call(this),this.LoadedDone()},this.ColorChanging=function(){pas["WEBLib.Controls"].TControl.ColorChanging.call(this),null!=this.GetContainer()&&this.GetContainer().style.setProperty(pas["WEBLib.Controls"].CSSBackground,pas["WEBLib.Graphics"].ColorToHTML(this.FColor))},this.CreateInitialize=function(){pas["WEBLib.Controls"].TControl.CreateInitialize.call(this),this.FAllowTouch=!0,this.FModalResult=0,this.FFormStyle=0,this.FBorder=2,this.FShadow=!0,this.FShowClose=!0,this.FTimerID=-1,this.FCaptionElement=null,this.FColor=16777215,window.addEventListener("load",this.FLoadedPtr)},this.Create$2=function(t){return this.FNoHTML=!1,this.FCreating=!0,this.FFormContainer=t,""===t?pas["WEBLib.Controls"].TControl.Create$2.call(this,pas["WEBLib.WebTools"].cBodyTag):pas["WEBLib.Controls"].TControl.Create$2.call(this,t),this.FFormElement="",this.FModalResult=0,this.FFormStyle=0,this.DoCreate(),this},this.Create$5=function(t,e){return this.FCreating=!0,this.FFormContainer=t,pas["WEBLib.Controls"].TControl.Create$2.call(this,t),e.set(this),this.FFormElement="",this.FModalResult=0,this.FFormStyle=0,this.DoCreate(),this},this.Create$1=function(t){return this.FNoHTML=!1,this.FCreating=!0,this.FResizeObserver=null,pas["WEBLib.Controls"].TControl.Create$1.apply(this,arguments),this.FBorder=1,this.FFormFileName="",this.FPopupMode=0,this.FPopupClose=0,this.FPopup=!0,this.FPosition=4,this.FPopupOpacity=1,this},this.CreateNew=function(t,e){return this.Create$1(t),this},this.Destroy=function(){this.FVisible&&this.Close(),null!=this.FOnDestroy&&this.FOnDestroy(this),pas["WEBLib.Controls"].TControl.Destroy.call(this),null!=this.FLayer$1&&(this.FormContainerElement()===this.FLayer$1.parentNode&&this.FormContainerElement().removeChild(this.FLayer$1),this.FLayer$1=null)},this.Close=function(){var i=0,s=null;this.CloseQuery()&&(this.UnbindEvents(),i=1,-1!==this.FTimerID&&(window.clearInterval(this.FTimerID),this.FTimerID=-1),null!=this.FOnClose&&this.FOnClose(this,{get:function(){return i},set:function(t){i=t}}),0!==i&&(null!=this.FLayer$1&&(this.GetContainer().parentNode===this.FLayer$1?this.FLayer$1.removeChild(this.GetContainer()):this.GetContainer().parentNode.parentNode===this.FLayer$1&&this.FLayer$1.removeChild(this.GetContainer().parentNode),this.FContainer=null,this.FormContainerElement()===this.FLayer$1.parentNode&&(this.FormContainerElement().removeChild(this.FLayer$1),t.Application.ChangeMaxZIndex(-1)),this.FLayer$1=null),""===this.FFormFileName?""!==this.FFormElement&&null!=this.GetContainer()?(this.GetContainer().innerHTML="",this.FContainer=null):null!=this.GetContainer()&&(this.FormContainerElement()===this.GetContainer().parentNode&&this.FormContainerElement().removeChild(this.GetContainer()),this.FContainer=null):""!==this.FFormElement&&(this.GetContainer().innerHTML="",this.FContainer=null),this.FFormElement!==this.FFormContainer&&""!==this.FFormElement&&null!=(s=document.getElementById(this.FFormElement))&&(s.innerHTML=""),this.DoClose({get:function(){return i},set:function(t){i=t}}),2!==i||3 in this.FComponentState||(this.SetVisible(!1),e.ReleaseForm(this),t.Application.FMainForm===this&&(t.Application.FMainForm=null)),t.Application.FActiveForm=this.FPrevActiveForm,this.SetVisible(!1)))},this.IsMiletus=function(){var t=!1,e=null;e=this.$class.ClassType(),t=!1;do{if(null!=(e=e.$ancestor)&&"TMiletusForm"===e.$classname){t=!0;break}}while(null!=e&&"TForm"!==e.$classname);return t},this.SetBounds=function(t,e,i,s){4 in this.FComponentState?(this.Resize$1(),this.SetBoundsInt(t,e,i,s)):pas["WEBLib.Controls"].TControl.SetBounds.call(this,t,e,i,s)},this.Show$1=function(){var e=0,i=null;this.FCreating&&this.FPopup&&(t.Application.ChangeMaxZIndex(1),this.FCreating=!1,this.UpdateElement()),""===this.FFormFileName&&(null==this.GetContainer()?this.FPopup?(this.FContainer=this.CreateElement(),this.FPopupElement=this.GetContainer(),this.SetFormPos(),this.UpdateElement(),this.FLayer$1.appendChild(this.GetContainer())):(this.FContainer=this.CreateLayer(),this.GetContainer().style.setProperty(pas["WEBLib.Controls"].CSSBackground,pas["WEBLib.Graphics"].ColorToHTML(this.FColor)),document.body.appendChild(this.GetContainer())):this.FPopup?(this.SetFormPos(),this.FLayer$1.appendChild(this.GetContainer())):null!=this.FLayer$1?this.FLayer$1.appendChild(this.GetContainer()):document.body.appendChild(this.GetContainer()),this.FPopup&&(2===this.FBorder?(i=this.GetContainer().getBoundingClientRect(),this.FOrigWidth=Math.round(i.right-i.left),this.FOrigHeight=Math.round(i.bottom-i.top),this.FTimerID=window.setInterval(rtl.createSafeCallback(this,"HandleDoResize"),100)):(this.GetContainer().style.setProperty("resize",""),this.GetContainer().style.setProperty("overflow","")))),this.SetVisible(!0),this.DoShow();for(var s=0,o=this.GetControlsCount()-1;s<=o;s++)e=s,0===this.GetControls(e).FTabOrder&&this.GetControls(e).FTabStop&&this.GetControls(e).SetFocus()},this.ShowModal=function(){return this.ShowModal$1(null)},this.ShowModal$1=function(e){return(this.FNoHTML||""===this.FFormFileName)&&(this.FPrevActiveForm=t.Application.FActiveForm,t.Application.FActiveForm=this,t.Application.CreateNewForm(this,"")),0,this.FNoHTML=!1,this.FModalProc=e,this.SetModalResult(0),this.Show$1(),0},this.AddCSS=function(t,e){var i,s,o;i=t,s=e,(o=document.getElementById(i))?o.innerHTML=s:((o=document.createElement("style")).type="text/css",o.id=i,o.innerHTML=s,document.getElementsByTagName("head")[0].appendChild(o))},this.RemoveCSS=function(t){var e;null!=(e=document.getElementById(t))&&document.head.removeChild(e)},rtl.addIntf(this,pas.System.IUnknown);var i=this.$rtti;i.addMethod("Create$2",2,[["id",rtl.string]]),i.addMethod("Create$5",2,[["id",rtl.string],["AReference",null,1]]),i.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]]),i.addMethod("CreateNew",2,[["AOwner",pas.Classes.$rtti.TComponent],["Dummy",rtl.longint]])})),rtl.createClass(this,"TForm",this.TCustomForm,(function(){rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),e.addProperty("Caption",2,rtl.string,"FCaption","SetCaption"),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor"),e.addProperty("CSSLibrary",0,t.$rtti.TCSSLibrary,"FCSSLibrary","FCSSLibrary",{Default:t.TCSSLibrary.cssNone}),e.addProperty("ElementClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","SetElementClassName"),e.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),e.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),e.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),e.addProperty("FormContainer",2,pas["WEBLib.Controls"].$rtti.TElementID,"FFormContainer","SetFormContainer"),e.addProperty("FormStyle",3,t.$rtti.TFormStyle,"GetFormStyle","SetFormStyle"),e.addProperty("Menu",0,pas["WEBLib.Controls"].$rtti.TCustomControl,"FMenu","FMenu"),e.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0}),e.addProperty("Shadow",2,rtl.boolean,"FShadow","SetShadow",{Default:!0}),e.addProperty("ShowClose",0,rtl.boolean,"FShowClose","FShowClose",{Default:!0}),e.addProperty("TabOrder",2,rtl.longint,"FTabOrder","SetTabOrder"),e.addProperty("TabStop",2,rtl.boolean,"FTabStop","SetTabStop",{Default:!0}),e.addProperty("OnBeforeUnload",0,t.$rtti.TBeforeUnloadEvent,"FOnBeforeUnload","FOnBeforeUnload"),e.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),e.addProperty("OnClose",0,t.$rtti.TCloseEvent,"FOnClose","FOnClose"),e.addProperty("OnCloseQuery",0,t.$rtti.TCloseQueryEvent,"FOnCloseQuery","FOnCloseQuery"),e.addProperty("OnCreate",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnCreate","FOnCreate"),e.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),e.addProperty("OnDeactivate",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDeactivate","FOnDeactivate"),e.addProperty("OnDestroy",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDestroy","FOnDestroy"),e.addProperty("OnDOMContentLoaded",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDOMContentLoaded","FOnDOMContentLoaded"),e.addProperty("OnHashChange",0,t.$rtti.THashChangeEvent,"FOnHashChange","FOnHashChange"),e.addProperty("OnResize",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnResize","FOnResize"),e.addProperty("OnShow",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnShow","FOnShow"),e.addProperty("OnScroll",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnScroll","FOnScroll"),e.addProperty("OnOrientationChange",0,t.$rtti.TOrientationChangeEvent,"FOnOrientationChange","FOnOrientationChange"),e.addProperty("OnPaint",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnPaint","FOnPaint"),e.addProperty("OnTouchStart",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchStart","FOnTouchStart"),e.addProperty("OnTouchMove",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchMove","FOnTouchMove"),e.addProperty("OnTouchEnd",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchEnd","FOnTouchEnd"),e.addProperty("OnUnload",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnUnload","FOnUnload")})),rtl.createClass(this,"TCustomFrame",pas["WEBLib.Controls"].TCustomHTMLDiv,(function(){this.$init=function(){pas["WEBLib.Controls"].TCustomHTMLDiv.$init.call(this),this.FAutoScroll=!1,this.FAutoSize=!1,this.FBiDiMode$1=0,this.FConstraints=null,this.FCtl3D$1=!1,this.FDockSite=!1,this.FDragCursor=0,this.FDragKind=0,this.FDragMode$1=0,this.FOnAlignInsertBefore=null,this.FOnAlignPosition=null,this.FOnCanResize=null,this.FOnConstrainedResize=null,this.FOnContextPopup=null,this.FOnDockDrop=null,this.FOnDockOver=null,this.FOnEndDock=null,this.FOnGesture=null,this.FOnGetSiteInfo=null,this.FOnMouseActivate=null,this.FOnMouseWheelDown$1=null,this.FOnMouseWheelUp$1=null,this.FOnStartDock=null,this.FOnUnDock=null,this.FPadding=null,this.FParentBackground=!1,this.FParentCtl3D$1=!1,this.FPopupMenu=null},this.$final=function(){this.FConstraints=void 0,this.FOnAlignInsertBefore=void 0,this.FOnAlignPosition=void 0,this.FOnCanResize=void 0,this.FOnConstrainedResize=void 0,this.FOnContextPopup=void 0,this.FOnDockDrop=void 0,this.FOnDockOver=void 0,this.FOnEndDock=void 0,this.FOnGesture=void 0,this.FOnGetSiteInfo=void 0,this.FOnMouseActivate=void 0,this.FOnMouseWheelDown$1=void 0,this.FOnMouseWheelUp$1=void 0,this.FOnStartDock=void 0,this.FOnUnDock=void 0,this.FPadding=void 0,this.FPopupMenu=void 0,pas["WEBLib.Controls"].TCustomHTMLDiv.$final.call(this)};this.LoadHTMLFile=function(t){var e,i=null;""!==(e=this.$class.GetHTMLFileName())&&((i=new XMLHttpRequest).addEventListener("load",rtl.createSafeCallback(null,(function(e){var i;return null!==e&&(i=e.target.responseText,document.getElementById(t).innerHTML=i,!0,!0)}))),i.open("GET",e),i.send())},this.SetConstraints=function(t){this.FConstraints.Assign(t)},this.SetPopupMenu=function(t){this.FPopupMenu=t},this.SetPadding=function(t){this.FPadding.Assign(t)},this.GetHTMLFileName=function(){return this.$module.$name+t.Application.GetFormExtension()},this.UpdateElement=function(){var t;pas["WEBLib.Controls"].TControl.UpdateElement.call(this),t=this.FColor in rtl.createSet(15790320,-1,16777215,16711422),null!=this.GetElementHandle()&&!this.IsUpdating()&&4 in this.FComponentState&&t&&this.GetElementHandle().style.setProperty("background-color",pas["WEBLib.Graphics"].ColorToHTML(15790320))},this.Create$2=function(t){return pas["WEBLib.Controls"].TControl.Create$2.call(this,t),this.FPadding=pas["WEBLib.Controls"].TPadding.$create("Create$1"),this.LoadHTMLFile(t),this},this.Create$1=function(e){return pas["WEBLib.Controls"].TControl.Create$1.call(this,e),this.FPadding=pas["WEBLib.Controls"].TPadding.$create("Create$1"),this.FConstraints=t.TSizeConstraints.$create("Create$1",[this]),this},this.Destroy=function(){rtl.free(this,"FConstraints"),rtl.free(this,"FPadding"),pas["WEBLib.Controls"].TCustomControl.Destroy.call(this)},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addMethod("Create$2",2,[["AId",rtl.string]]),e.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),rtl.createClass(this,"TFrame",this.TCustomFrame,(function(){rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),e.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),e.addProperty("AutoScroll",0,rtl.boolean,"FAutoScroll","FAutoScroll",{Default:!1}),e.addProperty("AutoSize",0,rtl.boolean,"FAutoSize","FAutoSize",{Default:!1}),e.addProperty("BiDiMode",4,pas["WEBLib.Controls"].$rtti.TBiDiMode,"FBiDiMode$1","FBiDiMode$1"),e.addProperty("Constraints",2,t.$rtti.TSizeConstraints,"FConstraints","SetConstraints"),e.addProperty("DockSite",0,rtl.boolean,"FDockSite","FDockSite",{Default:!1}),e.addProperty("DoubleBuffered",0,rtl.boolean,"FDoubleBuffered","FDoubleBuffered",{Default:!1}),e.addProperty("DragCursor",0,pas["WEBLib.Controls"].$rtti.TCursor,"FDragCursor","FDragCursor",{Default:12}),e.addProperty("DragKind",0,pas["WEBLib.Controls"].$rtti.TDragKind,"FDragKind","FDragKind",{Default:pas["WEBLib.Controls"].TDragKind.dkDrag}),e.addProperty("DragMode",0,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode$1","FDragMode$1",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor"),e.addProperty("Ctl3D",4,rtl.boolean,"FCtl3D$1","FCtl3D$1"),e.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),e.addProperty("Padding",2,pas["WEBLib.Controls"].$rtti.TPadding,"FPadding","SetPadding"),e.addProperty("ParentBackground",0,rtl.boolean,"FParentBackground","FParentBackground",{Default:!0}),e.addProperty("ParentBiDiMode",0,rtl.boolean,"FParentBiDiMode","FParentBiDiMode",{Default:!0}),e.addProperty("ParentColor",2,rtl.boolean,"FParentColor","SetParentColor",{Default:!1}),e.addProperty("ParentCtl3D",0,rtl.boolean,"FParentCtl3D$1","FParentCtl3D$1",{Default:!0}),e.addProperty("ParentDoubleBuffered",0,rtl.boolean,"FParentDoubleBuffered","FParentDoubleBuffered",{Default:!0}),e.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0}),e.addProperty("ParentShowHint",0,rtl.boolean,"FParentShowHint","FParentShowHint"),e.addProperty("PopupMenu",2,pas["WEBLib.Menus"].$rtti.TPopupMenu,"FPopupMenu","SetPopupMenu"),e.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),e.addProperty("TabOrder",2,rtl.longint,"FTabOrder","SetTabOrder"),e.addProperty("TabStop",2,rtl.boolean,"FTabStop","SetTabStop",{Default:!0}),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("OnAlignInsertBefore",0,t.$rtti.TAlignInsertBeforeEvent,"FOnAlignInsertBefore","FOnAlignInsertBefore"),e.addProperty("OnAlignPosition",0,t.$rtti.TAlignPositionEvent,"FOnAlignPosition","FOnAlignPosition"),e.addProperty("OnCanResize",0,t.$rtti.TCanResizeEvent,"FOnCanResize","FOnCanResize"),e.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),e.addProperty("OnConstrainedResize",0,t.$rtti.TConstrainedResizeEvent,"FOnConstrainedResize","FOnConstrainedResize"),e.addProperty("OnContextPopup",0,t.$rtti.TContextPopupEvent,"FOnContextPopup","FOnContextPopup"),e.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),e.addProperty("OnDockDrop",0,t.$rtti.TDockDropEvent,"FOnDockDrop","FOnDockDrop"),e.addProperty("OnDockOver",0,t.$rtti.TDockOverEvent,"FOnDockOver","FOnDockOver"),e.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),e.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),e.addProperty("OnEndDock",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FOnEndDock","FOnEndDock"),e.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag"),e.addProperty("OnEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnEnter","FOnEnter"),e.addProperty("OnExit",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnExit","FOnExit"),e.addProperty("OnGesture",0,t.$rtti.TGestureEvent,"FOnGesture","FOnGesture"),e.addProperty("OnGetSiteInfo",0,t.$rtti.TGetSiteInfoEvent,"FOnGetSiteInfo","FOnGetSiteInfo"),e.addProperty("OnMouseActivate",0,t.$rtti.TMouseActivateEvent,"FOnMouseActivate","FOnMouseActivate"),e.addProperty("OnMouseDown",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseDown","FOnMouseDown"),e.addProperty("OnMouseEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseEnter","FOnMouseEnter"),e.addProperty("OnMouseLeave",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseLeave","FOnMouseLeave"),e.addProperty("OnMouseMove",0,pas["WEBLib.Controls"].$rtti.TMouseMoveEvent,"FOnMouseMove","FOnMouseMove"),e.addProperty("OnMouseUp",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseUp","FOnMouseUp"),e.addProperty("OnMouseWheel",0,pas["WEBLib.Controls"].$rtti.TMouseWheelEvent,"FOnMouseWheel","FOnMouseWheel"),e.addProperty("OnMouseWheelDown",0,t.$rtti.TMouseWheelUpDownEvent,"FOnMouseWheelDown$1","FOnMouseWheelDown$1"),e.addProperty("OnMouseWheelUp",0,t.$rtti.TMouseWheelUpDownEvent,"FOnMouseWheelUp$1","FOnMouseWheelUp$1"),e.addProperty("OnResize",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnResize","FOnResize"),e.addProperty("OnStartDock",0,t.$rtti.TStartDockEvent,"FOnStartDock","FOnStartDock"),e.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag"),e.addProperty("OnUnDock",0,t.$rtti.TUnDockEvent,"FOnUnDock","FOnUnDock")})),rtl.recNewT(this,"TApplicationError",(function(){this.AMessage="",this.AFile="",this.ALineNumber=0,this.AColNumber=0,this.AStack="",this.AError=null,this.$eq=function(t){return this.AMessage===t.AMessage&&this.AFile===t.AFile&&this.ALineNumber===t.ALineNumber&&this.AColNumber===t.AColNumber&&this.AStack===t.AStack&&this.AError===t.AError},this.$assign=function(t){return this.AMessage=t.AMessage,this.AFile=t.AFile,this.ALineNumber=t.ALineNumber,this.AColNumber=t.AColNumber,this.AStack=t.AStack,this.AError=t.AError,this}})),this.THintPosition={0:"hpLeft",hpLeft:0,1:"hpTop",hpTop:1,2:"hpRight",hpRight:2,3:"hpBottom",hpBottom:3},this.TOnlineStatus={0:"osOnline",osOnline:0,1:"osOffline",osOffline:1},rtl.createClass(this,"TApplication",pas["WEBLib.Controls"].TControl,(function(){this.$init=function(){pas["WEBLib.Controls"].TControl.$init.call(this),this.FAppContainer="",this.FMainFormOnTaskBar=!1,this.FCanCreateForm=!1,this.FAppInitializing=!1,this.FLastReq=null,this.FFormCaptionHeight=0,this.FActiveForm=null,this.FMainForm=null,this.FInitFormClassName="",this.FFormStack=null,this.FParameters=null,this.FIsRedirect=!1,this.FLanguage=0,this.FOnImageCacheReady=null,this.FOnError=null,this.FOnHashChange=null,this.FAutoFormRoute=!1,this.FErrorType=0,this.FOnOnlineChange=null,this.FOnActivate=null,this.FThemeTextColor=0,this.FThemeColor=0,this.FThemed=!1,this.FThemeButtonClassName="",this.FOnOAuthToken=null,this.FOnOAuthCallBack=null,this.FOnPopState=null,this.FMaxZIndex=0,this.FHandleOAuth=!1,this.FHintPause=0,this.FHintHidePause=0,this.FHintPosition=0,this.FHintClassName="",this.FOnExit$1=null,this.FOnException=null,this.FOnAutoCreateForm=null,this.FRouting=!1},this.$final=function(){this.FLastReq=void 0,this.FActiveForm=void 0,this.FMainForm=void 0,this.FFormStack=void 0,this.FParameters=void 0,this.FOnImageCacheReady=void 0,this.FOnError=void 0,this.FOnHashChange=void 0,this.FOnOnlineChange=void 0,this.FOnActivate=void 0,this.FOnOAuthToken=void 0,this.FOnOAuthCallBack=void 0,this.FOnPopState=void 0,this.FOnExit$1=void 0,this.FOnException=void 0,this.FOnAutoCreateForm=void 0,pas["WEBLib.Controls"].TControl.$final.call(this)},this.DoHandleError=function(e){var i,s=!1,o=t.TApplicationError.$new(),n=null,a=null,r=null,l="",h=!1,F=void 0,p=null;if(h=!0,null==e.message&&(h=!1),"ResizeObserver loop limit exceeded"===e.message)return s;if("ResizeObserver loop completed with undelivered notifications."===e.message)return s;if(!h)return o.AMessage="Undefined JavaScript exception",o.AFile="",o.ALineNumber=0,o.AColNumber=0,o.AError=null,null!=this.FOnError&&this.FOnError(this,t.TApplicationError.$clone(o),{get:function(){return s},set:function(t){s=t}}),s;if(o.AMessage=e.message,o.AFile=e.filename,o.ALineNumber=e.lineno,o.AColNumber=e.colno,o.AError=e.error,o.AStack="",l="",F=null,null!=e.error){e.error.stack&&(o.AStack=e.error.stack),e.error.fMessage&&(o.AMessage=e.error.fMessage),e.error.hasOwnProperty("FJSError")&&(F=e.error.FJSError),l=function(t){var e="";for(var i in t)t.hasOwnProperty(i)&&(e+=i+"::"+t[i]+"\n");return e}(e.error)}pas.System.Assigned(F)&&(p=e.error,null!=this.FOnException&&this.FOnException(this,p)),s=!1,i="ERROR<br>"+o.AMessage+" | "+l+o.AStack+"<BR> at "+o.AFile+" ["+pas.SysUtils.IntToStr(o.ALineNumber)+":"+pas.SysUtils.IntToStr(o.AColNumber)+"]";var C=this.FErrorType;return 3===C?null!=(n=document.getElementById("tmserrormessage"))?rtl.asExt(n.firstChild,HTMLElement).innerHTML=i:((n=document.createElement("DIV")).setAttribute("id","tmserrormessage"),n.style.setProperty("position","absolute"),n.style.setProperty("font-family","Courier"),n.style.setProperty("font-size","8pt"),n.style.setProperty("bottom","0"),n.style.setProperty("width","100%"),n.style.setProperty("height","100px"),n.style.setProperty("background","#ff0000"),n.style.setProperty("color","#ffffff"),document.body.style.setProperty("padding","0"),document.body.style.setProperty("margin","0"),(a=document.createElement("SPAN")).style.setProperty("margin-left","4px"),a.style.setProperty("float","left"),a.style.setProperty("overflow","hidden"),a.style.setProperty("display","block"),a.innerHTML=i,n.appendChild(a),(r=document.createElement("SPAN")).style.setProperty("font-family","Courier"),r.style.setProperty("font-size","8pt"),r.style.setProperty("font-weight","bold"),r.style.setProperty("position","absolute"),r.style.setProperty("width","20px"),r.style.setProperty("vertical-align","top"),r.style.setProperty("cursor","pointer"),r.style.setProperty("text-align","right"),r.style.setProperty("right","4px"),r.style.setProperty("display","block"),r.innerHTML="X",r.onclick=rtl.createSafeCallback(this,"DoErrorClose"),n.appendChild(r),document.body.appendChild(n)):2===C?window.alert(i):1===C&&(this.AddControlLink("googlematerial","https://fonts.googleapis.com/icon?family=Material+Icons"),pas["WEBLib.Dialogs"].MessageDlg(i,1,rtl.createSet(2),null)),null!=this.FOnError&&this.FOnError(this,t.TApplicationError.$clone(o),{get:function(){return s},set:function(t){s=t}}),s},this.DoHandleExit=function(t){return!0,null!=this.FOnExit$1&&this.FOnExit$1(this),!0},this.DoHashChange=function(t){var e="",i=null,s=null,o=null,n=!1;return!0,!this.FAutoFormRoute||(e=location.hash,pas.System.Delete({get:function(){return e},set:function(t){e=t}},1,1),n=!1,null!=this.FOnHashChange&&this.FOnHashChange(this,e,{get:function(){return n},set:function(t){n=t}}),n||(""===e&&(e=this.FInitFormClassName),""!==e&&(""===this.FInitFormClassName&&(this.FInitFormClassName=this.FActiveForm.$classname),null!=(i=pas.Classes.GetClass(e))&&(o=document.body,this.CreateForm$6(i,o,{get:function(){return s},set:function(t){s=t}})))),!0)},this.DoPopState=function(t){return null!=this.FOnPopState&&this.FOnPopState(this,t.state),!0,!0},this.DoErrorClose=function(t){return document.body.removeChild(t.target.parentElement),!0,!0},this.DoUpdateOnlineStatus=function(t){return!0,null!=this.FOnOnlineChange&&(window.navigator.onLine?this.FOnOnlineChange(this,0):this.FOnOnlineChange(this,1)),!0},this.DoVisibilityChange=function(t){var e;return!0,e="visible"===document.visibilityState,null!=this.FOnActivate&&this.FOnActivate(this,e),!0},this.CreateNewForm=function(e,i){var s=null,o=null,n=null,a=null,r=null,l=0,h=0,F=0,p=0,C=null,u=null,d=0,c=null;if(null===this.FMainForm&&(this.FMainForm=e),n=null,r=null,d=0,e.FPopup||""===e.FFormElement){if(e.ClearControls(),e.FLayer$1=e.CreateLayer(),document.body.appendChild(e.FLayer$1),s=e.FLayer$1,e.FPopup&&e.FPopupOpacity<1&&((o=e.CreateLayer()).style.setProperty(pas["WEBLib.Controls"].CSSBackground,"black"),o.style.setProperty("opacity",pas["WEBLib.WebTools"].DoubleToHTML(e.FPopupOpacity)),o.style.setProperty(pas["WEBLib.Controls"].CSSZIndex,t.Application.MaxZIndexStr()),s.appendChild(o)),t.Application.ChangeMaxZIndex(1),(n=document.createElement("DIV")).style.setProperty(pas["WEBLib.Controls"].CSSZIndex,t.Application.MaxZIndexStr()),e.FPopupElement=n,4===e.FBorder){n.style.setProperty("resize","both"),n.style.setProperty("overflow","auto"),c=null;try{var S=e;(c=new ResizeObserver((function(t){window.requestAnimationFrame(()=>{Array.isArray(t)&&t.length&&t.forEach((function(t){S.HandleObserver()}))})}))).observe(n)}catch(t){n.style.removeProperty("resize"),n.style.removeProperty("overflow")}e.FResizeObserver=c}""!==e.FElementClassName&&n.setAttribute("class",e.FElementClassName),e.FShadow&&e.FPopup&&n.style.setProperty("box-shadow","3px 3px 3px silver"),s.appendChild(n),e.GetMethodPointers(),e.FBorder in rtl.createSet(3,4)?(u=e.CreateCaption(),n.appendChild(u),(a=document.createElement("DIV")).style.setProperty("position","absolute"),a.style.setProperty("width","100%"),a.setAttribute("id","childspan"),n.appendChild(a),r=a,d=t.Application.FFormCaptionHeight):r=n,r.innerHTML=i,e.FContainer=r}else e.FLayer$1=null,null!=(s=document.getElementById(e.FFormElement))&&(s.innerHTML=i,""===e.FElementClassName&&s.style.setProperty(pas["WEBLib.Controls"].CSSBackground,pas["WEBLib.Graphics"].ColorToHTML(e.FColor)));e.Init(),e.LoadDFMValues(),e.FBorder in rtl.createSet(3,4)&&""!==e.FElementCaptionClassName&&(u.classList.add(e.FElementCaptionClassName),u.style.removeProperty("background-color"),u.style.removeProperty("color")),null!=e.FLayer$1&&(e.FPopup||(""===e.FElementClassName?-1!==e.FColor?s.style.setProperty(pas["WEBLib.Controls"].CSSBackground,pas["WEBLib.Graphics"].ColorToHTML(e.FColor)):s.style.setProperty(pas["WEBLib.Controls"].CSSBackground,"white"):s.setAttribute("class",e.FElementClassName))),null!=n&&""===e.FFormContainer&&e.FPopup&&(n.style.setProperty("position","absolute"),l=Math.max(0,Math.round((t.WinWidth()-e.GetWidth())/2))+window.scrollX,h=Math.max(0,Math.round((t.WinHeight()-e.GetHeight())/2))+window.scrollY,F=e.GetWidth(),p=e.GetClientHeight()+d,""===e.FElementClassName&&(n.style.setProperty(pas["WEBLib.Controls"].CSSBackground,pas["WEBLib.Graphics"].ColorToHTML(e.FColor)),n.style.setProperty("border","1px Black solid")),n.style.setProperty("top",pas.SysUtils.IntToStr(h)+"px"),n.style.setProperty("left",pas.SysUtils.IntToStr(l)+"px"),n.style.setProperty("width",pas.SysUtils.IntToStr(F)+"px"),n.style.setProperty("height",pas.SysUtils.IntToStr(p)+"px")),null!=r&&this.ActivateChildScripts(r),null!=e.FCreatedProc&&(C=e.FCreatedProc,e.FCreatedProc=null,C(e)),null!=e.FOnCreate&&e.FOnCreate(e),e.Loaded(),e.InitAnchoring(),e.UpdateChildAnchoring(),e.FCreating=!1,e.UpdateElement(),e.EventsBound()||e.BindEvents(),e.Resize$1(),e.DoShow()},this.GetFormExtension=function(){return 0!==this.FLanguage?"_"+pas["WEBLib.Lang"].GetLanguageISO639_1Code(this.FLanguage)+pas["WEBLib.WebTools"].cHTMLExt:pas["WEBLib.WebTools"].cHTMLExt};this.GetAuthorizationPageHTML=function(t){function e(t,e){var i=0,s="";s='<!doctype html>\r\n<html lang="en">\r\n<head>\r\n  <title>Authentication Result</title>\r\n  <meta name="viewport" content="width=device-width, initial-scale=1">\r\n</head>\r\n<body>\r\n<style>\r\n  hr\r\n  {\r\n    border: none;\r\n    height: 1px;\r\n    background-color: rgb(171, 171, 171);\r\n  }\r\n  div.container\r\n  {\r\n    position: fixed;\r\n    font-family: Arial;\r\n    font-size: 12pt;\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n  }\r\n  div.section\r\n  {\r\n    display: inline-block;\r\n    margin: 15px;\r\n    padding: 5px;\r\n    float: left;\r\n  }\r\n  div.image img\r\n  {\r\n    height: 100%;\r\n  }\r\n  div.text\r\n  {\r\n    padding-top: 15px;\r\n  }\r\n  div.text2\r\n  {\r\n    font-size: 18pt;\r\n    color: #PLACEHOLDERCOLOR#;\r\n  }\r\n  span.title\r\n  {\r\n    font-size: 26px;\r\n  }\r\n</style>\r\n  <div class="container">\r\n  <div class="section image">\r\n    <img src="#PLACEHOLDERIMAGE#">\r\n  </div>\r\n  <div class="section text">\r\n  #PLACEHOLDERTEXT#\r\n  </div>\r\n  </div>\r\n </body>\r\n</html>';for(var o=0,n=rtl.length(t)-1;o<=n;o++)i=o,s=pas.SysUtils.StringReplace(s,t[i],e[i],rtl.createSet(0));return s}return e(["#PLACEHOLDERIMAGE#","#PLACEHOLDERTEXT#","#PLACEHOLDERCOLOR#"],t?["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACC0lEQVR4nO2Zv3GDMBSHv+QyQEbICM4EOW+Q9BS4o2QTU9LZBQNkg6zgETyCR0iRkOMIAv3Xk0+/zsiI931nI3iCkpKSkpKSkpKSkpJ7SDN0x2bo3nW//xCymNhphu4E1MAN2PdVe9k6524ETODHXIHXvmpva+c9BqwpWhbgAV6Ar61zsxeggB+z+x1XJmsBG/Bj6mboWtVgtvcATfhpPvqq/ZwfzFKABTwoVobsBFjCj7kyWxmyugc4wsPCypCNAA/wY/L7C3iEP/dVe5geEC8gJDwIFxAaHgQLiAEPQgXEggeBAmLCgzABseFBkIAU8CBEQCp4ECAgJTwYChibCzYXWpmv9jCVFTwYCJgVa31BxXwucapFS4CiWOsLS4EHDQEbxRoXIAkeNgRoFqtdiDR4WBFgWOxmQRLhQdEQsSi2bobuqBqUCg8LvwDHYg991Z49zjeNd3iYCfBU7J8E6fAAT7PPOw9znpqhA3hDODz8F7Dnp2vqKmJ1O8ogQeFh+R7wjB8JrgkOD4plUICEKPCw/hyQSkI0eNh+EowtISo86L0LxJIQHR703wZDS0gCD2b9gFASksGDeUfIt4Sk8GDRE/QoITk8WDZFPUgQAQ8OXWEHCWLgwbEtbiFBFDx42BcwkCAOHjxtjGhIEAkPHneGViSIhQfPW2MLEkTDQ4C9wYmEi3T4kpKSkm+5ax+YhPsUTQAAAABJRU5ErkJggg==",'<div class="text2">Application succesfully authorized</div>You can close this browser window',"rgb(104, 164, 144)"]:["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABtElEQVR4nO2bUY7CMAxEhz0NB+EgrDjXCg6yB+E4+9NKCAiN7XHcjf1+ED+Z6ahNHScFiqIoBNwvp+v9crpG+3hG6+sgFQFwXv7ejj+/31JBDyy+ugN4ElkJD8HqqyuAhohYjA3D12YAGyIiMSYsXx8D6BTpFmPB9NUMQCjSJcaA7ettAEqRTTErHr5eAjCKfBSz4OXryzhgizOzWCJd/Fs8HoFHzHeCtxf2JNgt3MMID8zXoMpAtDarEDIbidJklMJUQ6MDty6GNDSNRdxtluWwhReDUfONKADAx2jkZCsOAOAaXn4pY2let6oAAN/qTIG61lAHAOwmBFO1aQoACA/BXGqbAwDCQqCsOCkBAMNDoC23aQEAw0Kg9hqoAQDuIdAbLfQAALcQXFptLgEA9BDc+oxeLbF/Qz0C7AFTT4KpX4OpC6HUpXDqxVDq5fBOLn5lbEMkdUssdVM0dVs89cZI6q2x1JujqbfHUx+Q2MPFj/LidUqsKajB05NXS4y6Zl/GurHGe6QOSpLF5jgqqxSb67C0UGzO4/KdYnN/MLEhluOTmYZY+MWvDPU122dzRVHk5g+X6Lw5aVkK9AAAAABJRU5ErkJggg==",'<div class="text2">Application authorization failed</div><br/>Please try again.',"rgb(216, 99, 68)"])},this.GetColorScheme=function(){var t=0;return t=0,"not all"!==window.matchMedia("(prefers-color-scheme)").media&&(t=window.matchMedia("(prefers-color-scheme: dark)").matches?2:1),t},this.ActivateChildScripts=function(t){!function t(e){if(!0===function(t){return"SCRIPT"===t.tagName}(e))e.parentNode.replaceChild(function(t){var e=document.createElement("script");e.async=!1,e.text=t.innerHTML;for(var i=t.attributes.length-1;i>=0;i--)e.setAttribute(t.attributes[i].name,t.attributes[i].value);return e}(e),e);else for(var i=0,s=e.childNodes;i<s.length;)t(s[i++]);return e}(t)},this.ChangeMaxZIndex=function(t){this.FMaxZIndex=this.FMaxZIndex+t},this.TriggerNotification=function(){},this.AutoCreateForm=function(t,e){null!=this.FOnAutoCreateForm?this.FOnAutoCreateForm(this,t,e):this.CreateForm(t,e)},this.LockForm=function(t){for(var e=0,i=0,s=t.GetControlsCount()-1;i<=s;i++)e=i,t.GetControls(e).DisableTab()},this.UnLockForm=function(t){for(var e=0,i=0,s=t.GetControlsCount()-1;i<=s;i++)e=i,t.GetControls(e).EnableTab()},this.Create$1=function(t){return this.FFormStack=pas.Classes.TList.$create("Create$1"),this.FParameters=pas.Classes.TStringList.$create("Create$1"),this.FAppContainer=pas["WEBLib.WebTools"].cBodyTag,this.FMainForm=null,this.FActiveForm=null,this.FInitFormClassName="",this.FIsRedirect=!1,this.FAutoFormRoute=!1,this.FThemed=!1,this.FThemeColor=14917120,this.FThemeTextColor=16777215,this.FFormCaptionHeight=22,this.FMaxZIndex=999998,this.FHandleOAuth=!0,this.FHintPause=200,this.FHintHidePause=250,this.FHintPosition=1,this.FHintClassName="",window.addEventListener("error",rtl.createCallback(this,"DoHandleError")),window.addEventListener("unhandledrejection",rtl.createCallback(this,"DoHandleError")),window.addEventListener("beforeunload",rtl.createSafeCallback(this,"DoHandleExit")),this.FErrorType=0,this},this.Destroy=function(){rtl.free(this,"FFormStack"),rtl.free(this,"FParameters"),pas["WEBLib.Controls"].TControl.Destroy.call(this)},this.MaxZIndexStr=function(){return pas.SysUtils.IntToStr(this.FMaxZIndex)},this.CreateForm=function(t,e){this.CreateForm$2(t,this.FAppContainer,e,null)},this.CreateForm$2=function(t,e,i,s){this.CreateForm$3(t,e,i,s,!0)},this.CreateForm$3=function(e,i,s,o,n){var a=this,r="";function l(n){var l,h=null,F=null,p="",C=!1;return(l=null!=n)?(p=n.target.responseText,(h=(C=pas.SysUtils.LowerCase(i)===pas["WEBLib.WebTools"].cBodyTag)?document.body:document.getElementById(i)).innerHTML=p):h=document.body,(F=e.$create("Create$5",[i,s])).FFormFileName=r,""===F.FFormContainer&&F.SetFormContainer(i),C||(F.FFormElement=i,F.FContainer=h),F.CreateControl(),F.Init(),F.SetColorScheme(t.Application.GetColorScheme()),F.FPrevActiveForm=a.FActiveForm,a.FActiveForm=F,null===a.FMainForm&&(a.FMainForm=F),null!=o&&o(F),!0,l&&a.ActivateChildScripts(h),a.FActiveForm.DoShow(),a.FActiveForm.Resize$1(),!0}if(!this.FIsRedirect){if(this.FAppInitializing){if(!this.FCanCreateForm)return;this.FCanCreateForm=!1}""!==(r=e.GetHTMLFileName())&&n?(this.FLastReq=new XMLHttpRequest,this.FLastReq.addEventListener("load",rtl.createSafeCallback(null,l)),this.FLastReq.open("GET",r),this.FLastReq.send()):l(null)}},this.CreateForm$6=function(t,e,i){this.CreateForm$2(t,e.id,i,null)},this.HasCSS=function(t){var e=!1,i=null,s=0,o="";e=!1;for(var n=0,a=(i=document.querySelectorAll("head > link")).length-1;n<=a;n++)if(s=n,o=i.item(s).href,0===pas.SysUtils.CompareText(o,t)){e=!0;break}return e},this.Initialize=function(){var t,e,i="",s="";if(this.FCanCreateForm=!0,this.FAppInitializing=!0,this.FParameters.Clear(),i=window.location.href,this.InitFormatSettings(pas["WEBLib.WebTools"].GetBrowserLocale()),this.FParameters.SetDelimiter("&"),this.FParameters.FStrictDelimiter=!0,(t=pas.System.Pos("?",i))>0&&(i=pas.System.Copy(i,t+1,i.length)),this.FParameters.SetDelimitedText(i),e="Authentication"==window.name,null!=this.FOnOAuthCallBack&&(-1!==this.FParameters.IndexOfName("oauthcallback")||e))return this.FOnOAuthCallBack(this,i),this.FIsRedirect=!0,void(document.body.innerHTML=this.GetAuthorizationPageHTML(!0));-1!==this.FParameters.IndexOfName("code")&&this.FHandleOAuth&&(null!=this.FOnOAuthToken&&this.FOnOAuthToken(this,i),this.FIsRedirect=!0,s=this.FParameters.GetValue("code"),window.opener&&window.opener.processAuthData&&(window.opener.processAuthData(s),window.close())),window.addEventListener("hashchange",rtl.createSafeCallback(this,"DoHashChange")),window.addEventListener("online",rtl.createSafeCallback(this,"DoUpdateOnlineStatus")),window.addEventListener("offline",rtl.createSafeCallback(this,"DoUpdateOnlineStatus")),window.addEventListener("popstate",rtl.createCallback(this,"DoPopState")),document.addEventListener("visibilitychange",rtl.createSafeCallback(this,"DoVisibilityChange")),null!==window.opener&&-1!==this.FParameters.IndexOfName("access_token")&&(this.FIsRedirect=!0,s=this.FParameters.GetValue("access_token"),window.opener&&window.opener.processAuthData&&(window.opener.processAuthData(s),window.close()))},this.InitFormatSettings=function(t){var e,i,s=0;i=t,pas.SysUtils.FormatSettings.ShortDateFormat=pas["WEBLib.WebTools"].GetLocaleShortDateFormat(i),pas.System.Pos("/",pas.SysUtils.FormatSettings.ShortDateFormat)>0&&(pas.SysUtils.FormatSettings.DateSeparator="/"),pas.System.Pos(".",pas.SysUtils.FormatSettings.ShortDateFormat)>0&&(pas.SysUtils.FormatSettings.DateSeparator="."),pas.System.Pos("-",pas.SysUtils.FormatSettings.ShortDateFormat)>0&&(pas.SysUtils.FormatSettings.DateSeparator="-");var o=new Date("Jan 1, 1980 06:07:08 GMT+00:00"),n="";for(n=""==i?navigator.language:i,e=o.toLocaleTimeString(n),pas.System.Pos(":",e)>0&&(pas.SysUtils.FormatSettings.TimeSeparator=":"),pas.System.Pos(".",e)>0&&(pas.SysUtils.FormatSettings.TimeSeparator="."),pas.System.Pos("-",e)>0&&(pas.SysUtils.FormatSettings.TimeSeparator="-"),s=1;s<=7;s++)pas.SysUtils.FormatSettings.ShortDayNames[s-1]=pas["WEBLib.WebTools"].GetLocaleShortDayName(s,i),pas.SysUtils.FormatSettings.LongDayNames[s-1]=pas["WEBLib.WebTools"].GetLocaleLongDayName(s,i);for(s=1;s<=12;s++)pas.SysUtils.FormatSettings.ShortMonthNames[s-1]=pas["WEBLib.WebTools"].GetLocaleShortMonthName(s,i),pas.SysUtils.FormatSettings.LongMonthNames[s-1]=pas["WEBLib.WebTools"].GetLocaleLongMonthName(s,i);pas.SysUtils.FormatSettings.DecimalSeparator=pas["WEBLib.WebTools"].GetLocaleDecimalSeparator(""),"."===pas.SysUtils.FormatSettings.DecimalSeparator?pas.SysUtils.FormatSettings.ThousandSeparator=",":pas.SysUtils.FormatSettings.ThousandSeparator="."},this.Run=function(){this.FCanCreateForm=!0,this.FAppInitializing=!1},rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),this.GetParentForm=function(e){var i=null,s=null;for(i=null,s=e;null!=s&&!t.TCustomForm.isPrototypeOf(s);)s=s===e&&null===s.FOwner?e.FParent:s.FOwner;return null!=s&&t.TCustomForm.isPrototypeOf(s)&&(i=rtl.as(s,t.TCustomForm)),i},this.WinWidth=function(){return null!=t.VSIDE?pas["WEBLib.Forms"].VSIDE.clientWidth():window.innerWidth},this.WinHeight=function(){return null!=t.VSIDE?pas["WEBLib.Forms"].VSIDE.clientHeight():window.innerHeight},this.Application=null,this.HandShakeScript=null,this.VSIDE=null,this.LastHash="",t.$implcode=function(){e.ReleaseForm=function(t){t=rtl.freeLoc(t),t=null}},t.$init=function(){t.HandShakeScript=document.createElement("script"),t.HandShakeScript.id="HandShakeScript",t.HandShakeScript.type="text/javascript",t.HandShakeScript.innerHTML='var IDE = null;\r\nvar TMSWEBCoreClientIdentifier = "unknown";\r\nvar TMSWEBCoreOAuthCallback = "unknown";\r\nfunction HandShake(cid){\r\n  TMSWEBCoreClientIdentifier = cid;\r\n}',document.body.appendChild(t.HandShakeScript),t.Application=t.TApplication.$create("Create$1",[null])}}),["WEBLib.Dialogs","WEBLib.WebTools","WEBLib.Utils","Math"]),rtl.module("WEBLib.StdCtrls",["System","Classes","WEBLib.Controls","SysUtils","Web","WEBLib.Graphics","Types","WEBLib.WebTools","WEBLib.Forms","WEBLib.Menus"],(function(){"use strict";var t=this;this.TEditCharCase={0:"wecLowerCase",wecLowerCase:0,1:"wecNormal",wecNormal:1,2:"wecMixedCase",wecMixedCase:2,3:"wecUpperCase",wecUpperCase:3},this.$rtti.$Enum("TEditCharCase",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TEditCharCase}),this.TCheckBoxState={0:"cbChecked",cbChecked:0,1:"cbGrayed",cbGrayed:1,2:"cbUnchecked",cbUnchecked:2},this.$rtti.$Enum("TCheckBoxState",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TCheckBoxState}),this.TDateTimeKind={0:"dtkDate",dtkDate:0,1:"dtkTime",dtkTime:1},this.$rtti.$Enum("TDateTimeKind",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TDateTimeKind}),this.TEllipsisPosition={0:"epEndEllipsis",epEndEllipsis:0,1:"epNone",epNone:1,2:"epPathEllipsis",epPathEllipsis:2,3:"epWordEllipsis",epWordEllipsis:3},this.$rtti.$Enum("TEllipsisPosition",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TEllipsisPosition}),this.TTextLayout={0:"tlTop",tlTop:0,1:"tlCenter",tlCenter:1,2:"tlBottom",tlBottom:2},this.$rtti.$Enum("TTextLayout",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TTextLayout}),this.TAutoCompletion={0:"acOff",acOff:0,1:"acHonorificPrefix",acHonorificPrefix:1,2:"acGivenName",acGivenName:2,3:"acAdditionalName",acAdditionalName:3,4:"acFamilyName",acFamilyName:4,5:"acHonorificSuffix",acHonorificSuffix:5,6:"acNickName",acNickName:6,7:"acEmail",acEmail:7,8:"acUserName",acUserName:8,9:"acNewPassword",acNewPassword:9,10:"acCurrentPassword",acCurrentPassword:10,11:"acOrganizationTitle",acOrganizationTitle:11,12:"acOrganization",acOrganization:12,13:"acStreetAddress",acStreetAddress:13,14:"acAddressLine1",acAddressLine1:14,15:"acAddressLine2",acAddressLine2:15,16:"acAddressLine3",acAddressLine3:16,17:"acAddressLevel1",acAddressLevel1:17,18:"acAddressLevel2",acAddressLevel2:18,19:"acAddressLevel3",acAddressLevel3:19,20:"acAddressLevel4",acAddressLevel4:20,21:"acCountry",acCountry:21,22:"acCountryName",acCountryName:22,23:"acPostalCode",acPostalCode:23,24:"acCCName",acCCName:24,25:"acCCGivenName",acCCGivenName:25,26:"acCCAdditionalName",acCCAdditionalName:26,27:"acCCFamilyName",acCCFamilyName:27,28:"acCCNumber",acCCNumber:28,29:"acExpiry",acExpiry:29,30:"acExpiryMonth",acExpiryMonth:30,31:"acExpiryYear",acExpiryYear:31,32:"acCSC",acCSC:32,33:"acType",acType:33,34:"acTransactionCurrency",acTransactionCurrency:34,35:"acTransactionAmount",acTransactionAmount:35,36:"acLanguage",acLanguage:36,37:"acBirthday",acBirthday:37,38:"acBirthdayDay",acBirthdayDay:38,39:"acBirthDayMonth",acBirthDayMonth:39,40:"acBirthDayYear",acBirthDayYear:40,41:"acSex",acSex:41,42:"acTelephone",acTelephone:42,43:"acTelephoneCountryCode",acTelephoneCountryCode:43,44:"acTelephoneNational",acTelephoneNational:44,45:"acTelephoneAreaCode",acTelephoneAreaCode:45,46:"acTelephoneLocal",acTelephoneLocal:46,47:"acTelephoneExtension",acTelephoneExtension:47,48:"acIMPP",acIMPP:48,49:"acURL",acURL:49,50:"acPhoto",acPhoto:50,51:"acNone",acNone:51,52:"acNope",acNope:52},this.$rtti.$Enum("TAutoCompletion",{minvalue:0,maxvalue:52,ordtype:1,enumtype:this.TAutoCompletion}),this.TEditType={0:"weString",weString:0,1:"weFloat",weFloat:1,2:"weHex",weHex:2,3:"weNumeric",weNumeric:3,4:"weSignedFloat",weSignedFloat:4,5:"weSignedNumeric",weSignedNumeric:5,6:"weSearch",weSearch:6},this.$rtti.$Enum("TEditType",{minvalue:0,maxvalue:6,ordtype:1,enumtype:this.TEditType}),this.THTMLType={0:"tLABELTAG",tLABELTAG:0,1:"tSPAN",tSPAN:1,2:"tDIV",tDIV:2,3:"tH1",tH1:3,4:"tH2",tH2:4,5:"tH3",tH3:5,6:"tH4",tH4:6,7:"tH5",tH5:7,8:"tH6",tH6:8,9:"tP",tP:9},this.$rtti.$Enum("THTMLType",{minvalue:0,maxvalue:9,ordtype:1,enumtype:this.THTMLType}),rtl.createClass(this,"TCustomLabel",pas["WEBLib.Menus"].TWebCustomControl,(function(){this.$init=function(){pas["WEBLib.Menus"].TWebCustomControl.$init.call(this),this.FContent=null,this.FAutoSize=!1,this.FEllipsisPosition=0,this.FWordWrap=!1,this.FAlignment=0,this.FLayout=0,this.FTransparent=!1,this.FHTMLType=0,this.FFocusControl=null,this.FShowAccelChar=!1,this.FColor$1=0,this.FHasAccel=!1,this.FHasHTML=!1,this.FElementLabelClassName="",this.FOrigWidth=0,this.FOldWidth=0,this.FOldHeight=0,this.FHTML=""},this.$final=function(){this.FContent=void 0,this.FFocusControl=void 0,pas["WEBLib.Menus"].TWebCustomControl.$final.call(this)},this.SetLayout=function(t){this.FLayout!==t&&(this.FLayout=t,this.UpdateElementVisual())},this.SetAlignment=function(t){this.FAlignment!==t&&(this.FAlignment=t,this.UpdateElementVisual())},this.GetContentHandle=function(){return this.FContent},this.SetTransparent=function(t){this.FTransparent!==t&&(this.FTransparent=t,this.UpdateElementVisual())},this.SetHTMLType=function(t){var e=null;this.FHTMLType!==t&&(this.FHTMLType=t,this.FHTMLType in rtl.createSet(null,3,8)&&this.SetElementFont(1),null!=this.GetElementHandle()&&null!=this.FContent&&null!=(e=this.GetElementHandle().firstChild)&&"lbl"===e.getAttribute("data-lbl")&&(this.GetElementHandle().removeChild(this.FContent),this.FContent=this.CreateLabelElement(),this.GetElementHandle().appendChild(this.FContent),this.UpdateElement()))},this.SetColorEx=function(t){this.FColor$1=t,4 in this.FComponentState&&16777215!==this.FColor$1&&this.SetTransparent(!1),this.UpdateElement()},this.SetElementLabelClassName=function(t){this.FElementLabelClassName!==t&&(this.FElementLabelClassName=t,this.UpdateElement())},this.SetHTML=function(t){this.FHTML!==t&&(this.FHTML=t,this.UpdateElementData())},this.SetWidth=function(t){-1!==t&&0 in this.FComponentState&&(this.FOrigWidth=t),pas["WEBLib.Controls"].TControl.SetWidth.apply(this,arguments)},this.CreateElement=function(){var t=null;return t=document.createElement("DIV"),this.FContent=this.CreateLabelElement(),t.appendChild(this.FContent),t},this.CreateLabelElement=function(){var t=null;t=null;var e=this.FHTMLType;return 1===e?t=document.createElement("SPAN"):2===e?t=document.createElement("DIV"):3===e?t=document.createElement("H1"):4===e?t=document.createElement("H2"):5===e?t=document.createElement("H3"):6===e?t=document.createElement("H4"):7===e?t=document.createElement("H5"):8===e?t=document.createElement("H6"):0===e?t=document.createElement("LABEL"):9===e&&(t=document.createElement("P")),t.setAttribute("data-lbl","lbl"),t},this.GetDisplayText=function(){return this.FCaption},this.CanShowFocus=function(){return!1,!1},this.SetParent=function(t){pas["WEBLib.Controls"].TControl.SetParent.apply(this,arguments),this.FAutoSize&&0!==this.FAlignment&&-1!==this.FOrigWidth&&(this.SetLeft(this.GetLeft()+this.FOrigWidth-this.GetWidth()),this.FOrigWidth=-1)},this.BindElement=function(){this.FContent=this.GetContainer().firstElementChild},this.Loaded=function(){pas["WEBLib.Controls"].TCustomControl.Loaded.call(this),this.FShowAccelChar&&null!=this.FFocusControl&&this.UpdateElementData()},this.UpdateAutoSize=function(){this.FAutoSize&&0===this.FAlign&&(null!=this.GetElementHandle()&&pas["WEBLib.WebTools"].ElementVisible(this.GetElementHandle())&&(this.SetWidth(-1),this.SetHeight(-1)),this.FEllipsisPosition=1)},this.UpdateElementData=function(){var t="",e="",i=!1,s=null;pas["WEBLib.Controls"].TControl.UpdateElementData.call(this),e="",t=this.GetDisplayText(),t=this.FShowAccelChar&&pas.System.Pos("&",t)>0?pas["WEBLib.WebTools"].ProcessAccelerator(t,{get:function(){return e},set:function(t){e=t}}):""===this.FHTML?pas["WEBLib.WebTools"].HTMLToString(t):this.FHTML,i=!1,pas.System.Pos("\r",t)>0?(i=!0,pas.System.Pos("\n",t)>0&&(t=pas.SysUtils.StringReplace(t,"\n","",rtl.createSet(0,1))),t=pas.SysUtils.StringReplace(t,"\r","<BR>",rtl.createSet(0,1))):pas.System.Pos("\n",t)>0&&(i=!0,t=pas.SysUtils.StringReplace(t,"\n","<BR>",rtl.createSet(0,1))),this.GetIsLinked()&&""===t&&0 in this.FComponentState||(null!=this.GetContentHandle()?this.GetIsLinked()?(s=this.GetContentHandle(),""!==this.GetID()&&(s=document.getElementById(this.GetID())),null!=s&&(pas.System.Assigned(this.GetContentHandle().nodeValue)?s.nodeValue=t:0===s.childElementCount&&(s.innerHTML=t))):this.GetContentHandle().childElementCount>0&&pas.System.Assigned(this.GetContentHandle().nodeValue)&&!this.FHasAccel&&!this.FHasHTML&&!i?this.GetContentHandle().nodeValue=t:this.GetContentHandle().innerHTML=t:this.GetElementHandle().innerHTML=t,this.FHasHTML=pas.System.Pos("</",t)>0,this.FHasAccel=""!==e,""!==e&&null!=this.FFocusControl&&(this.GetContentHandle().setAttribute("accesskey",e),this.GetContentHandle().setAttribute("for",this.FFocusControl.GetID())))},this.UpdateElementVisual=function(){var t=0,e=0;if(pas["WEBLib.Controls"].TCustomControl.UpdateElementVisual.call(this),!this.IsUpdating()&&(null!=this.GetElementHandle()&&(e=Math.round(this.GetElementHandle().offsetHeight),t=Math.round(this.GetElementHandle().offsetWidth),e>0&&(this.FOldHeight=e),t>0&&(this.FOldWidth=t),!this.FVisible||this.FAutoSize&&0===this.FAlign||0===this.FAlignment&&0===this.FLayout||this.GetElementHandle().style.setProperty("display","table"),this.GetElementHandle().setAttribute("zindex","1"),this.FAutoSize&&0===this.FAlign&&!(4 in this.FComponentState)?this.GetElementHandle().style.setProperty("overflow",""):this.GetElementHandle().style.setProperty("overflow","hidden")),null!=this.GetContentHandle())){var i=this.FLayout;0===i?this.GetContentHandle().style.setProperty("vertical-align","top"):1===i?this.GetContentHandle().style.setProperty("vertical-align","middle"):2===i&&this.GetContentHandle().style.setProperty("vertical-align","bottom");var s=this.FAlignment;0===s?this.GetContentHandle().style.removeProperty("text-align"):2===s?this.GetContentHandle().style.setProperty("text-align","center"):1===s&&this.GetContentHandle().style.setProperty("text-align","right"),pas["WEBLib.Controls"].SetHTMLElementColor(this.GetElementHandle(),this.FColor$1,this.FTransparent||-1===this.FColor$1||16711422===this.FColor$1),pas["WEBLib.Controls"].SetHTMLElementColor(this.GetContentHandle(),this.FColor$1,this.FTransparent||-1===this.FColor$1||16711422===this.FColor$1),this.GetContentHandle().style.setProperty("display","table-cell"),""===this.FElementClassName?(this.FEnabled&&0===this.FElementFont&&!this.GetIsLinked()?this.GetContentHandle().style.setProperty("color",pas["WEBLib.Graphics"].ColorToHTML(this.FFont.FColor)):this.GetContentHandle().style.removeProperty("color"),this.SetElementPointer(this.GetContentHandle(),this.FCursor),pas["WEBLib.Controls"].SetHTMLElementFont(this.GetContentHandle(),this.FFont,!(0===this.FElementFont&&!this.GetIsLinked()))):(this.GetContentHandle().style.removeProperty("color"),pas["WEBLib.Controls"].SetHTMLElementFont(this.GetContentHandle(),this.FFont,!0)),""!==this.FElementLabelClassName?this.GetContentHandle().setAttribute("class",this.FElementLabelClassName):this.GetContentHandle().removeAttribute("class"),0===this.FElementPosition||1===this.FWidthStyle?1===this.FEllipsisPosition?this.GetContentHandle().style.setProperty("text-overflow","clip"):this.GetContentHandle().style.setProperty("text-overflow","ellipsis"):this.GetContentHandle().style.removeProperty("text-overflow"),this.FWordWrap?this.GetContentHandle().style.setProperty("white-space","normal"):this.GetContentHandle().style.setProperty("white-space","nowrap"),this.GetElementHandle().style.setProperty("user-select",""),0===this.FCursor&&this.GetElementHandle().style.setProperty("cursor",""),this.FAutoSize&&0===this.FAlign&&!(4 in this.FComponentState)&&(this.GetElementHandle().style.removeProperty("width"),this.GetElementHandle().style.removeProperty("height"))}},this.UpdateElementSize=function(){pas["WEBLib.Controls"].TControl.UpdateElementSize.call(this),this.FAutoSize&&0===this.FAlign&&null!=this.GetElementHandle()&&(4 in this.FComponentState||(this.GetElementHandle().style.removeProperty("width"),this.GetElementHandle().style.removeProperty("height"))),null!=this.GetContentHandle()&&this.FAlign in rtl.createSet(3,4,5)&&!this.FAutoSize&&this.FLayout in rtl.createSet(1,2)&&this.GetContentHandle().style.setProperty("height",pas.SysUtils.TIntegerHelper.ToString$1.call({p:this.GetHeight(),get:function(){return this.p},set:function(t){this.p=t}})+"px")},this.SetAutoSize=function(t){this.FAutoSize!==t&&(this.FAutoSize=t,this.UpdateAutoSize(),this.UpdateElement())},this.SetCaption=function(t){var e=0;this.FCaption!==t&&(e=this.GetWidth(),pas["WEBLib.Controls"].TCustomControl.SetCaption.call(this,t),this.UpdateAutoSize(),this.UpdateElement(),e-=this.GetWidth(),this.FAutoSize&&0!==this.FAlignment&&0!==e&&2 in this.FAnchors&&!this.IsUpdating()&&this.SetLeft(this.GetLeft()+e))},this.SetControlCursor=function(t){pas["WEBLib.Controls"].TControl.SetControlCursor.apply(this,arguments),""===this.FElementClassName&&null!=this.GetContentHandle()&&this.SetElementPointer(this.GetContentHandle(),this.FCursor)},this.SetEllipsisPosition=function(t){this.FEllipsisPosition!==t&&(this.FEllipsisPosition=t,1!==this.FEllipsisPosition&&(this.FAutoSize=!1),this.UpdateElement())},this.GetWidth=function(){var t=0;return this.FAutoSize&&null!=this.GetElementHandle()&&null!=this.FParent?(0===(t=Math.round(this.GetElementHandle().offsetWidth))&&(t=pas["WEBLib.Controls"].TControl.GetWidth.call(this)),0===t&&""!==this.FCaption&&4 in this.FComponentState&&(t=this.FOldWidth)):t=pas["WEBLib.Controls"].TControl.GetWidth.call(this),t},this.GetHeight=function(){var t=0;return this.FAutoSize&&null!=this.GetElementHandle()&&null!=this.FParent?(0===(t=Math.round(this.GetElementHandle().offsetHeight))&&(t=pas["WEBLib.Controls"].TControl.GetHeight.call(this)),0===t&&""!==this.FCaption&&4 in this.FComponentState&&(t=this.FOldHeight)):t=pas["WEBLib.Controls"].TControl.GetHeight.call(this),t},this.CreateInitialize=function(){pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),this.FAutoSize=!0,this.FLayout=0,this.FEllipsisPosition=1,this.FColor$1=16777215,this.FTransparent=!0,this.FAlignment=0,this.SetTabStop(!1),this.FShowAccelChar=!0},rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TLabel",this.TCustomLabel,(function(){rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),e.addProperty("Alignment",2,pas.Classes.$rtti.TAlignment,"FAlignment","SetAlignment",{Default:pas.Classes.TAlignment.taLeftJustify}),e.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),e.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),e.addProperty("AutoSize",2,rtl.boolean,"FAutoSize","SetAutoSize",{Default:!0}),e.addProperty("Caption",2,rtl.string,"FCaption","SetCaption"),e.addProperty("ChildOrder",2,rtl.longint,"FChildOrder","SetChildOrderEx",{Default:0}),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor$1","SetColorEx",{Default:16777215}),e.addProperty("DragMode",2,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode","SetDragMode",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),e.addProperty("EllipsisPosition",2,t.$rtti.TEllipsisPosition,"FEllipsisPosition","SetEllipsisPosition",{Default:t.TEllipsisPosition.epNone}),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),e.addProperty("ElementClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","SetElementClassName"),e.addProperty("ElementLabelClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementLabelClassName","SetElementLabelClassName"),e.addProperty("ElementID",3,pas["WEBLib.Controls"].$rtti.TElementID,"GetID","SetID"),e.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),e.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),e.addProperty("FocusControl",0,pas["WEBLib.Controls"].$rtti.TWinControl,"FFocusControl","FFocusControl"),e.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),e.addProperty("Height",3,rtl.longint,"GetHeight","SetHeight"),e.addProperty("HeightPercent",2,rtl.double,"FHeightPercent","SetHeightPercent",{Default:100}),e.addProperty("HeightStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FHeightStyle","SetHeightStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("Hint",2,rtl.string,"FHint","SetHint"),e.addProperty("HTML",2,rtl.string,"FHTML","SetHTML"),e.addProperty("HTMLType",2,t.$rtti.THTMLType,"FHTMLType","SetHTMLType",{Default:t.THTMLType.tLABELTAG}),e.addProperty("Layout",2,t.$rtti.TTextLayout,"FLayout","SetLayout",{Default:t.TTextLayout.tlTop}),e.addProperty("Left",3,rtl.longint,"GetLeft","SetLeft"),e.addProperty("Margins",2,pas["WEBLib.Controls"].$rtti.TMargins,"FMargins","SetMargins"),e.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0}),e.addProperty("PopupMenu",0,pas["WEBLib.Menus"].$rtti.TPopupMenu,"FPopupMenu","FPopupMenu"),e.addProperty("ShowAccelChar",0,rtl.boolean,"FShowAccelChar","FShowAccelChar",{Default:!0}),e.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),e.addProperty("TextDirection",0,pas["WEBLib.Controls"].$rtti.TTextDirection,"FTextDirection","FTextDirection",{Default:pas["WEBLib.Controls"].TTextDirection.tdDefault}),e.addProperty("Top",3,rtl.longint,"GetTop","SetTop"),e.addProperty("Transparent",2,rtl.boolean,"FTransparent","SetTransparent",{Default:!0}),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("Width",3,rtl.longint,"GetWidth","SetWidth"),e.addProperty("WidthPercent",2,rtl.double,"FWidthPercent","SetWidthPercent",{Default:100}),e.addProperty("WidthStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FWidthStyle","SetWidthStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("WordWrap",0,rtl.boolean,"FWordWrap","FWordWrap",{Default:!1}),e.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),e.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),e.addProperty("OnTouchStart",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchStart","FOnTouchStart"),e.addProperty("OnTouchEnd",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchEnd","FOnTouchEnd"),e.addProperty("OnTouchMove",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchMove","FOnTouchMove"),e.addProperty("OnTouchCancel",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchCancel","FOnTouchCancel"),e.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),e.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),e.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag"),e.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag")})),rtl.createClass(this,"TCustomInput",pas["WEBLib.Menus"].TWebCustomControl,(function(){this.IsInputControl=function(){return!0,!0},this.GetInputType=function(){return"EDIT","EDIT"},this.CreateElement=function(){var t=null;return(t=document.createElement("INPUT")).setAttribute("type",this.GetInputType()),t},this.UpdateElementVisual=function(){pas["WEBLib.Controls"].TCustomControl.UpdateElementVisual.call(this),null==this.GetContainer()||this.GetIsLinked()||(this.GetContainer().style.setProperty("-moz-box-sizing","border-box"),this.GetContainer().style.setProperty("-webkit-box-sizing","border-box"),this.GetContainer().style.setProperty("box-sizing","border-box"))},this.CreateInitialize=function(){pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),this.SetShowFocus(!0),this.FNoUserSelect=!1},rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TCustomEdit",this.TCustomInput,(function(){this.$init=function(){t.TCustomInput.$init.call(this),this.FCharCase=0,this.FMaxLength=0,this.FReadOnly=!1,this.FText="",this.FTextHint="",this.FSelStart=0,this.FAlignment=0,this.FHideSelection=!1,this.FPasswordChar="",this.FOnChange=null,this.FAutoSize=!1,this.FAutoSelect=!1,this.FSelLength=0,this.FNumeric=!1,this.FAutoCompletion=0,this.FEditType=0,this.FRequired=!1,this.FAutoFocus=!1,this.FPattern="",this.FHandlePastePtr=null,this.FHandleCutPtr=null,this.FHandleChangePtr=null,this.FHandleInvalidPtr=null,this.FSpellCheck=!1,this.FRequiredText=""},this.$final=function(){this.FOnChange=void 0,t.TCustomInput.$final.call(this)},this.SetAlignment=function(t){this.FAlignment=t,this.UpdateElement()},this.SetHideSelection=function(t){this.FHideSelection!==t&&(this.FHideSelection=t,this.UpdateElement())},this.SetAutoSelect=function(t){this.FAutoSelect!==t&&(this.FAutoSelect=t,this.UpdateElement())},this.SetAutoSize=function(t){this.FAutoSize!==t&&(this.FAutoSize=t,this.UpdateElement())},this.SetSelLength=function(t){this.FSelLength=t,this.UpdateElement()},this.SetSelStart=function(t){this.FSelStart=t,this.UpdateElement()},this.SetPasswordChar=function(t){this.FPasswordChar=t,this.UpdateElement()},this.SetAutoCompletion=function(t){this.FAutoCompletion!==t&&(this.FAutoCompletion=t,this.UpdateElement())},this.SetAutoFocus=function(t){this.FAutoFocus!==t&&(this.FAutoFocus=t,this.UpdateElement())},this.SetRequired=function(t){this.FRequired=t,this.UpdateElement()},this.SetPattern=function(t){this.FPattern!==t&&(this.FPattern=t,this.UpdateElement())},this.GetSelLength=function(){var t=0;return t=-1,null!=this.GetElementInputHandle()&&(t=this.GetElementInputHandle().selectionEnd-this.GetElementInputHandle().selectionStart),t},this.GetSelStart=function(){var t=0;return t=-1,null!=this.GetElementInputHandle()&&(t=this.GetElementInputHandle().selectionStart),t},this.SetEditType=function(t){this.FEditType!==t&&(this.FEditType=t,this.UpdateElement())},this.SetSpellCheck=function(t){this.FSpellCheck!==t&&(this.FSpellCheck=t,this.UpdateElement())},this.GetElementInputHandle=function(){return this.GetContainer()},this.DoHandlePaste=function(t){var e="",i=!1;i=!1;var s=t.clipboardData||window.clipboardData;return s&&(e=s.getData("Text"),i=!0),!i||this.CanPaste(e)&&this.Validate(e)||(t.preventDefault(),t.stopPropagation()),!1,!1},this.DoHandleCut=function(t){return this.CanCut()||(t.preventDefault(),t.stopPropagation()),!1,!1},this.DoHandleChange=function(t){return this.Change(),!0,""!==this.FRequiredText&&this.GetElementInputHandle().setCustomValidity(""),!0},this.DoHandleInvalid=function(t){return this.GetElementInputHandle().setCustomValidity(this.FRequiredText),!0,!0},this.IsCustomEditor=function(){return!1,!1},this.KeyPress=function(t){var e=!1;pas["WEBLib.Controls"].TControl.KeyPress.call(this,t),e=!0;var i=this.FEditType;3===i?e=t.get().charCodeAt()in rtl.createSet(null,48,57):5===i?e=t.get().charCodeAt()in rtl.createSet(null,48,57,43,45):1===i?e=t.get().charCodeAt()in rtl.createSet(null,48,57,44,46):4===i?e=t.get().charCodeAt()in rtl.createSet(null,48,57,44,46,43,45):2===i&&(e=t.get().charCodeAt()in rtl.createSet(null,48,57,null,65,70)),e||t.set("\0")},this.DoEnter=function(){pas["WEBLib.Controls"].TControl.DoEnter.call(this),this.FAutoSelect&&null!=this.GetElementInputHandle()&&this.GetElementInputHandle().select()},this.GetInputType=function(){return"\0"!==this.FPasswordChar?"PASSWORD":this.FNumeric?"NUMBER":this.FEditType in rtl.createSet(1,3)?"TEL":6===this.FEditType?"SEARCH":"TEXT"},this.GetText=function(){var t="";return t=this.FText,null!=this.GetElementInputHandle()&&(t=this.GetElementInputHandle().value),3===this.FCharCase&&(t=pas.SysUtils.UpperCase(t)),0===this.FCharCase&&(t=pas.SysUtils.LowerCase(t)),t},this.GetDisplayText=function(){return this.FText},this.IsReadOnly=function(){return this.FReadOnly},this.Validate=function(t){var e=!1,i=0,s="",o=!1;e=!0;for(var n=1,a=t.length;n<=a;n++){i=n,s=t.charAt(i-1),o=!0;var r=this.FEditType;if(3===r?o=s.charCodeAt()in rtl.createSet(null,48,57):5===r?o=s.charCodeAt()in rtl.createSet(null,48,57,43,45):1===r?o=s.charCodeAt()in rtl.createSet(null,48,57,44,46):4===r?o=s.charCodeAt()in rtl.createSet(null,48,57,44,46,43,45):2===r&&(o=s.charCodeAt()in rtl.createSet(null,48,57,null,65,70)),!o){e=!1;break}}return e},this.ClearMethodPointers=function(){pas["WEBLib.Controls"].TControl.ClearMethodPointers.call(this),this.FHandlePastePtr=null,this.FHandleCutPtr=null,this.FHandleChangePtr=null,this.FHandleInvalidPtr=null},this.GetMethodPointers=function(){pas["WEBLib.Controls"].TControl.GetMethodPointers.call(this),this.FHandlePastePtr=rtl.createCallback(this,"DoHandlePaste"),this.FHandleCutPtr=rtl.createCallback(this,"DoHandleCut"),this.FHandleChangePtr=rtl.createCallback(this,"DoHandleChange"),this.FHandleInvalidPtr=rtl.createCallback(this,"DoHandleInvalid")},this.BindEvents=function(){pas["WEBLib.Controls"].TCustomControl.BindEvents.call(this),null!=this.GetElementInputHandle()&&(this.GetElementInputHandle().addEventListener("input",this.FHandleChangePtr),this.GetElementInputHandle().addEventListener("paste",this.FHandlePastePtr),this.GetElementInputHandle().addEventListener("cut",this.FHandleCutPtr),this.GetElementInputHandle().addEventListener("invalid",this.FHandleInvalidPtr))},this.UnbindEvents=function(){pas["WEBLib.Controls"].TControl.UnbindEvents.call(this),null!=this.GetElementInputHandle()&&(this.GetElementInputHandle().removeEventListener("input",this.FHandleChangePtr),this.GetElementInputHandle().removeEventListener("paste",this.FHandlePastePtr),this.GetElementInputHandle().removeEventListener("cut",this.FHandleCutPtr),this.GetElementInputHandle().removeEventListener("invalid",this.FHandleInvalidPtr))},this.UpdateElementData=function(){var e=null,i=0,s=0,o=!1,n=!1;if(pas["WEBLib.Controls"].TControl.UpdateElementData.call(this),null!=this.GetElementInputHandle()){if(!this.GetIsLinked()){var a=this.FCharCase;3===a?this.GetElementInputHandle().style.setProperty("text-transform","uppercase"):0===a?this.GetElementInputHandle().style.setProperty("text-transform","lowercase"):2===a?this.GetElementInputHandle().style.setProperty("text-transform","capitalize"):1===a&&this.GetElementInputHandle().style.setProperty("text-transform","initial")}if(this.GetElementInputHandle().readOnly=this.IsReadOnly(),""!==this.FTextHint&&(this.GetElementInputHandle().placeholder=this.FTextHint),n=!0,this.GetIsLinked()&&(n=!this.GetElementInputHandle().hasAttribute("autocomplete")),n&&(52===this.FAutoCompletion?(this.GetElementInputHandle().setAttribute("autocomplete","nope"),this.GetIsLinked()||this.GetElementInputHandle().removeAttribute("name")):51===this.FAutoCompletion?(this.GetElementInputHandle().setAttribute("autocomplete","off"),this.GetIsLinked()||this.GetElementInputHandle().removeAttribute("name")):0!==this.FAutoCompletion?(this.GetElementInputHandle().setAttribute("autocomplete","on"),this.GetIsLinked()||this.GetElementInputHandle().setAttribute("name",t.GetAutoCompletionName(this.FAutoCompletion))):(this.GetElementInputHandle().removeAttribute("autocomplete"),this.GetIsLinked()||this.GetElementInputHandle().removeAttribute("name"))),!this.GetIsLinked()){this.GetElementInputHandle().setAttribute("type",this.GetInputType()),this.GetElementInputHandle().setAttribute("role","textbox");var r=this.FAlignment;0===r?this.GetElementInputHandle().style.removeProperty("text-align"):2===r?this.GetElementInputHandle().style.setProperty("text-align","center"):1===r&&this.GetElementInputHandle().style.setProperty("text-align","right")}this.FRequired?this.GetElementInputHandle().setAttribute("required",""):this.GetIsLinked()||this.GetElementInputHandle().removeAttribute("required"),this.FAutoFocus?this.GetElementInputHandle().setAttribute("autofocus",""):this.GetIsLinked()||this.GetElementInputHandle().removeAttribute("autofocus"),""!==this.FPattern?this.GetElementInputHandle().setAttribute("pattern",this.FPattern):this.GetElementInputHandle().removeAttribute("pattern"),this.FMaxLength<=0?this.GetElementInputHandle().removeAttribute("maxLength"):this.GetElementInputHandle().maxLength=this.FMaxLength,this.GetElementInputHandle().value=this.GetDisplayText(),o="NUMBER"===pas.SysUtils.UpperCase(this.GetInputType()),this.FSpellCheck?this.GetElementInputHandle().removeAttribute("spellcheck"):this.GetElementInputHandle().setAttribute("spellcheck","false"),o||this.GetIsLinked()||this.IsCustomEditor()||(i=this.FSelStart,s=this.FSelStart+this.FSelLength,e=this.GetElementInputHandle(),setTimeout((function(){e.setSelectionRange(i,s)}),1))}},this.SetCharCase=function(t){this.FCharCase!==t&&(this.FCharCase=t,this.UpdateElement())},this.SetMaxLength=function(t){this.FMaxLength!==t&&(this.FMaxLength=t,this.UpdateElementData())},this.SetReadOnly=function(t){this.FReadOnly!==t&&(this.FReadOnly=t,this.UpdateElement())},this.SetText=function(t){this.FText=t,null!=this.GetElementInputHandle()&&(this.GetElementInputHandle().value=this.GetDisplayText(),this.GetElementInputHandle().readOnly=this.IsReadOnly())},this.SetTextHint=function(t){this.FTextHint=t,this.UpdateElement()},this.CanPaste=function(t){return!0,!0},this.CanCut=function(){return!0,!0},this.CreateInitialize=function(){t.TCustomInput.CreateInitialize.call(this),this.FAutoCompletion=0,this.FEditType=0,this.FText="",this.FCharCase=1,this.FMaxLength=0,this.FReadOnly=!1,this.FTextHint="",this.FPasswordChar="\0",this.FSpellCheck=!0,this.FAutoSelect=!0,this.SetHeight(25)},this.Change=function(){null!=this.GetElementHandle()&&(this.FText=this.GetElementInputHandle().value),null!=this.FOnChange&&this.FOnChange(this)},this.SelectAll=function(){null!=this.GetElementInputHandle()&&this.GetElementInputHandle().select()},rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TEdit",this.TCustomEdit,(function(){rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Alignment",2,pas.Classes.$rtti.TAlignment,"FAlignment","SetAlignment"),e.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),e.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),e.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),e.addProperty("AutoCompletion",2,t.$rtti.TAutoCompletion,"FAutoCompletion","SetAutoCompletion",{Default:t.TAutoCompletion.acOff}),e.addProperty("AutoFocus",2,rtl.boolean,"FAutoFocus","SetAutoFocus",{Default:!1}),e.addProperty("AutoSize",2,rtl.boolean,"FAutoSize","SetAutoSize",{Default:!1}),e.addProperty("AutoSelect",2,rtl.boolean,"FAutoSelect","SetAutoSelect",{Default:!0}),e.addProperty("BiDiMode",2,pas["WEBLib.Controls"].$rtti.TBiDiMode,"FBiDiMode","SetBiDiMode",{Default:pas["WEBLib.Controls"].TBiDiMode.bdLeftToRight}),e.addProperty("BorderStyle",2,pas["WEBLib.Controls"].$rtti.TBorderStyle,"FBorderStyle","SetBorderStyle",{Default:pas["WEBLib.Controls"].TBorderStyle.bsSingle}),e.addProperty("CharCase",2,t.$rtti.TEditCharCase,"FCharCase","SetCharCase",{Default:t.TEditCharCase.wecNormal}),e.addProperty("ChildOrder",2,rtl.longint,"FChildOrder","SetChildOrderEx",{Default:0}),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor"),e.addProperty("DragMode",2,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode","SetDragMode",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),e.addProperty("EditType",2,t.$rtti.TEditType,"FEditType","SetEditType",{Default:t.TEditType.weString}),e.addProperty("ElementClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","SetElementClassName"),e.addProperty("ElementID",3,pas["WEBLib.Controls"].$rtti.TElementID,"GetID","SetID"),e.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),e.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),e.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),e.addProperty("Height",3,rtl.longint,"GetHeight","SetHeight"),e.addProperty("HeightPercent",2,rtl.double,"FHeightPercent","SetHeightPercent",{Default:100}),e.addProperty("HeightStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FHeightStyle","SetHeightStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("Hint",2,rtl.string,"FHint","SetHint"),e.addProperty("HideSelection",2,rtl.boolean,"FHideSelection","SetHideSelection"),e.addProperty("Left",3,rtl.longint,"GetLeft","SetLeft"),e.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0}),e.addProperty("PasswordChar",2,rtl.char,"FPasswordChar","SetPasswordChar",{Default:"\0"}),e.addProperty("Pattern",2,rtl.string,"FPattern","SetPattern"),e.addProperty("Margins",2,pas["WEBLib.Controls"].$rtti.TMargins,"FMargins","SetMargins"),e.addProperty("MaxLength",2,rtl.longint,"FMaxLength","SetMaxLength",{Default:0}),e.addProperty("PopupMenu",0,pas["WEBLib.Menus"].$rtti.TPopupMenu,"FPopupMenu","FPopupMenu"),e.addProperty("ReadOnly",2,rtl.boolean,"FReadOnly","SetReadOnly",{Default:!1}),e.addProperty("Required",2,rtl.boolean,"FRequired","SetRequired",{Default:!1}),e.addProperty("RequiredText",0,rtl.string,"FRequiredText","FRequiredText"),e.addProperty("ShowFocus",2,rtl.boolean,"FShowFocus","SetShowFocus",{Default:!1}),e.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),e.addProperty("SpellCheck",2,rtl.boolean,"FSpellCheck","SetSpellCheck",{Default:!0}),e.addProperty("TabOrder",2,rtl.longint,"FTabOrder","SetTabOrder"),e.addProperty("TabStop",2,rtl.boolean,"FTabStop","SetTabStop",{Default:!0}),e.addProperty("Text",3,rtl.string,"GetText","SetText"),e.addProperty("TextDirection",0,pas["WEBLib.Controls"].$rtti.TTextDirection,"FTextDirection","FTextDirection",{Default:pas["WEBLib.Controls"].TTextDirection.tdDefault}),e.addProperty("TextHint",2,rtl.string,"FTextHint","SetTextHint"),e.addProperty("Top",3,rtl.longint,"GetTop","SetTop"),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("Width",3,rtl.longint,"GetWidth","SetWidth"),e.addProperty("WidthPercent",2,rtl.double,"FWidthPercent","SetWidthPercent",{Default:100}),e.addProperty("WidthStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FWidthStyle","SetWidthStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("OnChange",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnChange","FOnChange"),e.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),e.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),e.addProperty("OnKeyDown",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyDown","FOnKeyDown"),e.addProperty("OnKeyPress",0,pas["WEBLib.Controls"].$rtti.TKeyPressEvent,"FOnKeyPress","FOnKeyPress"),e.addProperty("OnKeyUp",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyUp","FOnKeyUp"),e.addProperty("OnMouseDown",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseDown","FOnMouseDown"),e.addProperty("OnMouseUp",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseUp","FOnMouseUp"),e.addProperty("OnMouseMove",0,pas["WEBLib.Controls"].$rtti.TMouseMoveEvent,"FOnMouseMove","FOnMouseMove"),e.addProperty("OnMouseLeave",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseLeave","FOnMouseLeave"),e.addProperty("OnMouseEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseEnter","FOnMouseEnter"),e.addProperty("OnEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnEnter","FOnEnter"),e.addProperty("OnExit",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnExit","FOnExit"),e.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),e.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),e.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag"),e.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag")})),rtl.createClass(this,"TSpinEdit",this.TCustomInput,(function(){this.$init=function(){t.TCustomInput.$init.call(this),this.FIncrement=0,this.FMaxValue=0,this.FMinValue=0,this.FValue=0,this.FAutoSize=!1,this.FOnChange=null,this.FReadOnly=!1,this.FHandleChangePtr=null,this.FHandleInvalidPtr=null,this.FRequiredText="",this.FRequired=!1},this.$final=function(){this.FOnChange=void 0,t.TCustomInput.$final.call(this)},this.GetText=function(){return pas.SysUtils.IntToStr(this.GetValue())},this.SetText=function(t){var e=0;e=0,pas.SysUtils.TryStrToInt(t,{get:function(){return e},set:function(t){e=t}})?this.SetValue(e):this.SetValue(0)},this.GetElementInputHandle=function(){return this.GetContainer()},this.SetReadOnly=function(t){this.FReadOnly!==t&&(this.FReadOnly=t,this.UpdateElement())},this.SetRequired=function(t){this.FRequired!==t&&(this.FRequired=t,this.UpdateElement())},this.KeyPress=function(t){t.get().charCodeAt()in rtl.createSet(null,48,57)||(t.set("\0"),this.PreventDefault(),this.StopPropagation()),pas["WEBLib.Controls"].TControl.KeyPress.apply(this,arguments)},this.GetInputType=function(){return"NUMBER","NUMBER"},this.UpdateElementData=function(){pas["WEBLib.Controls"].TControl.UpdateElementData.call(this),null!=this.GetContainer()&&(this.GetContainer().setAttribute("inputmode","numeric"),this.GetContainer().setAttribute("pattern","[0-9]*"),this.GetContainer().value=this.GetDisplayText(),this.GetElementInputHandle().readOnly=this.IsReadOnly(),this.FRequired?this.GetElementInputHandle().setAttribute("required",""):this.GetElementInputHandle().removeAttribute("required"))},this.GetValue=function(){var t,e=0;return e=this.FValue,null==this.GetContainer()||""!==(t=this.GetContainer().value)&&(e=pas.SysUtils.StrToInt(t)),e},this.SetIncrement=function(t){this.FIncrement=t,null!=this.GetContainer()&&this.GetContainer().setAttribute("step",pas.SysUtils.IntToStr(t))},this.SetMaxValue=function(t){this.FMaxValue=t,null!=this.GetContainer()&&this.GetContainer().setAttribute("max",pas.SysUtils.IntToStr(t))},this.SetMinValue=function(t){this.FMinValue=t,null!=this.GetContainer()&&this.GetContainer().setAttribute("min",pas.SysUtils.IntToStr(t))},this.SetValue=function(t){this.FValue=t,this.UpdateElement()},this.DoHandleChange=function(t){return this.Change(),!0,""!==this.FRequiredText&&this.GetElementInputHandle().setCustomValidity(""),!0},this.DoHandleInvalid=function(t){return this.GetElementInputHandle().setCustomValidity(this.FRequiredText),!0,!0},this.IsReadOnly=function(){return this.FReadOnly},this.GetDisplayText=function(){return pas.SysUtils.IntToStr(this.FValue)},this.BindEvents=function(){pas["WEBLib.Controls"].TCustomControl.BindEvents.call(this),null!=this.GetElementInputHandle()&&(this.GetElementInputHandle().addEventListener("input",this.FHandleChangePtr),this.GetElementInputHandle().addEventListener("invalid",this.FHandleInvalidPtr))},this.UnbindEvents=function(){pas["WEBLib.Controls"].TControl.UnbindEvents.call(this),null!=this.GetElementInputHandle()&&(this.GetElementInputHandle().removeEventListener("input",this.FHandleChangePtr),this.GetElementInputHandle().removeEventListener("invalid",this.FHandleInvalidPtr))},this.Change=function(){this.FValue=this.GetValue(),null!=this.FOnChange&&this.FOnChange(this)},this.ClearMethodPointers=function(){pas["WEBLib.Controls"].TControl.ClearMethodPointers.call(this),this.FHandleChangePtr=null,this.FHandleInvalidPtr=null},this.GetMethodPointers=function(){pas["WEBLib.Controls"].TControl.GetMethodPointers.call(this),this.FHandleChangePtr=rtl.createCallback(this,"DoHandleChange"),this.FHandleInvalidPtr=rtl.createCallback(this,"DoHandleInvalid")},this.CreateInitialize=function(){t.TCustomInput.CreateInitialize.call(this),this.FIncrement=1,this.FMaxValue=100,this.FMinValue=0,this.SetShowFocus(!0),this.SetHeight(25),this.AddControlStyle('input[type="number"]::-webkit-inner-spin-button { opacity: 1 !important; }')},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),e.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),e.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),e.addProperty("AutoSize",0,rtl.boolean,"FAutoSize","FAutoSize"),e.addProperty("BiDiMode",2,pas["WEBLib.Controls"].$rtti.TBiDiMode,"FBiDiMode","SetBiDiMode",{Default:pas["WEBLib.Controls"].TBiDiMode.bdLeftToRight}),e.addProperty("BorderStyle",2,pas["WEBLib.Controls"].$rtti.TBorderStyle,"FBorderStyle","SetBorderStyle",{Default:pas["WEBLib.Controls"].TBorderStyle.bsSingle}),e.addProperty("ChildOrder",2,rtl.longint,"FChildOrder","SetChildOrderEx",{Default:0}),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor"),e.addProperty("DragMode",2,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode","SetDragMode",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),e.addProperty("ElementClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","SetElementClassName"),e.addProperty("ElementID",3,pas["WEBLib.Controls"].$rtti.TElementID,"GetID","SetID"),e.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),e.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),e.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),e.addProperty("Height",3,rtl.longint,"GetHeight","SetHeight"),e.addProperty("HeightPercent",2,rtl.double,"FHeightPercent","SetHeightPercent",{Default:100}),e.addProperty("HeightStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FHeightStyle","SetHeightStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("Hint",2,rtl.string,"FHint","SetHint"),e.addProperty("Increment",2,rtl.longint,"FIncrement","SetIncrement"),e.addProperty("Left",3,rtl.longint,"GetLeft","SetLeft"),e.addProperty("Margins",2,pas["WEBLib.Controls"].$rtti.TMargins,"FMargins","SetMargins"),e.addProperty("MaxValue",2,rtl.longint,"FMaxValue","SetMaxValue",{Default:100}),e.addProperty("MinValue",2,rtl.longint,"FMinValue","SetMinValue",{Default:0}),e.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0}),e.addProperty("ReadOnly",2,rtl.boolean,"FReadOnly","SetReadOnly",{Default:!1}),e.addProperty("Required",2,rtl.boolean,"FRequired","SetRequired",{Default:!1}),e.addProperty("RequiredText",0,rtl.string,"FRequiredText","FRequiredText"),e.addProperty("Role",3,rtl.string,"GetRole","SetRole"),e.addProperty("ShowFocus",2,rtl.boolean,"FShowFocus","SetShowFocus",{Default:!1}),e.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),e.addProperty("TabStop",2,rtl.boolean,"FTabStop","SetTabStop",{Default:!0}),e.addProperty("TabOrder",2,rtl.longint,"FTabOrder","SetTabOrder"),e.addProperty("TextDirection",0,pas["WEBLib.Controls"].$rtti.TTextDirection,"FTextDirection","FTextDirection",{Default:pas["WEBLib.Controls"].TTextDirection.tdDefault}),e.addProperty("Value",3,rtl.longint,"GetValue","SetValue"),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("Width",3,rtl.longint,"GetWidth","SetWidth"),e.addProperty("WidthPercent",2,rtl.double,"FWidthPercent","SetWidthPercent",{Default:100}),e.addProperty("WidthStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FWidthStyle","SetWidthStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("OnChange",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnChange","FOnChange"),e.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),e.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),e.addProperty("OnKeyDown",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyDown","FOnKeyDown"),e.addProperty("OnKeyPress",0,pas["WEBLib.Controls"].$rtti.TKeyPressEvent,"FOnKeyPress","FOnKeyPress"),e.addProperty("OnKeyUp",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyUp","FOnKeyUp"),e.addProperty("OnMouseDown",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseDown","FOnMouseDown"),e.addProperty("OnMouseUp",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseUp","FOnMouseUp"),e.addProperty("OnMouseMove",0,pas["WEBLib.Controls"].$rtti.TMouseMoveEvent,"FOnMouseMove","FOnMouseMove"),e.addProperty("OnMouseLeave",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseLeave","FOnMouseLeave"),e.addProperty("OnMouseEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseEnter","FOnMouseEnter"),e.addProperty("OnEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnEnter","FOnEnter"),e.addProperty("OnExit",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnExit","FOnExit"),e.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),e.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),e.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag"),e.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag")})),rtl.createClass(this,"TDateTimePicker",this.TCustomInput,(function(){this.$init=function(){t.TCustomInput.$init.call(this),this.FDate=0,this.FTime=0,this.FKind=0,this.FOnChange=null,this.FReadOnly=!1,this.FElementCheck=null,this.FElementPicker=null,this.FShowCheckBox=!1,this.FClickPtr$1=null,this.FHandleChangePtr=null,this.FFocusPtr=null,this.FBlurPtr=null,this.FChecked=!1,this.FShowSeconds=!1,this.FAutoDropDown=!1,this.FIsBootstrap=!1},this.$final=function(){this.FOnChange=void 0,this.FElementCheck=void 0,this.FElementPicker=void 0,t.TCustomInput.$final.call(this)},this.SetDate=function(t){this.FDate!==t&&(this.FDate=pas.System.Int(t),this.FTime=0,this.UpdateElementData())},this.GetDate=function(){var t,e=0;return e=pas.System.Int(this.FDate)+pas.System.Frac(this.FTime),null==this.GetElementPicker()?e:(t=this.GetElementPicker().value,e=0===this.FKind?pas["WEBLib.WebTools"].PickerDateToDate(t)+pas.System.Frac(this.FTime):this.FTime)},this.SetTime=function(t){this.FTime!==t&&(this.FDate=0,this.FTime=t,this.UpdateElementData())},this.GetTime=function(){var t,e=0;return e=this.FDate>0?pas.System.Frac(this.FTime)+pas.System.Int(this.FDate):pas.System.Frac(this.FTime),null==this.GetElementPicker()?e:(t=this.GetElementPicker().value,e=1===this.FKind?pas["WEBLib.WebTools"].PickerTimeToTime(t)+pas.System.Int(this.FDate):this.FTime)},this.SetKind=function(t){var e=0;this.FKind=t,null!=this.GetElementPicker()&&(e=pas.System.Int(this.FDate)+pas.System.Frac(this.FTime),0===t?this.GetElementPicker().setAttribute("type","DATE"):this.GetElementPicker().setAttribute("type","TIME"),this.SetDate(e),this.SetTime(e),this.UpdateElement())},this.SetText=function(t){this.GetElementPicker()},this.GetText=function(){var t="";return t="",null==this.GetElementPicker()?t:t=this.GetElementPicker().value},this.SetReadOnly=function(t){this.FReadOnly=t,this.UpdateElement()},this.SetShowCheckBox=function(t){this.FShowCheckBox!==t&&(this.FShowCheckBox=t,this.UpdateElementVisual())},this.SetChecked=function(t){this.FChecked!==t&&(this.FChecked=t,this.UpdateElementVisual())},this.SetDateTime=function(t){this.FDate=pas.System.Int(t),this.FTime=pas.System.Frac(t),this.UpdateElementData()},this.SetShowSeconds=function(t){this.FShowSeconds!==t&&(this.FShowSeconds=t,this.UpdateElement())},this.DoCheckClick=function(t){return this.FChecked=this.FElementCheck.checked,this.FChecked?this.GetElementPicker().removeAttribute("disabled"):this.GetElementPicker().setAttribute("disabled","true"),!0,!0},this.DoPickerFocus=function(t){return this.GetIsLinked()||this.FIsBootstrap||this.GetElementHandle().style.setProperty("outline","auto"),!0,this.DoEnter(),!0},this.DoPickerBlur=function(t){return this.GetIsLinked()||this.FIsBootstrap||this.GetElementHandle().style.setProperty("outline","none"),!0,this.DoExit(),!0},this.DoHandleChange=function(t){return this.Change(),!0,!0},this.HandleDoEnter=function(t){var e;return e=pas["WEBLib.Controls"].TControl.HandleDoEnter.call(this,t),this.FAutoDropDown&&this.GetElementPicker().showPicker(),e},this.GetElementBindHandle=function(){return this.GetElementPicker()},this.BindEvents=function(){pas["WEBLib.Controls"].TCustomControl.BindEvents.call(this),null!=this.FElementCheck&&this.FElementCheck.addEventListener("click",this.FClickPtr$1),null!=this.GetElementPicker()&&(this.GetElementPicker().addEventListener("input",this.FHandleChangePtr),this.GetElementPicker().addEventListener("focus",this.FFocusPtr),this.GetElementPicker().addEventListener("blur",this.FBlurPtr))},this.UnbindEvents=function(){pas["WEBLib.Controls"].TControl.UnbindEvents.call(this),null!=this.FElementCheck&&this.FElementCheck.removeEventListener("click",this.FClickPtr$1),null!=this.GetElementPicker()&&(this.GetElementPicker().removeEventListener("input",this.FHandleChangePtr),this.GetElementPicker().removeEventListener("focus",this.FFocusPtr),this.GetElementPicker().removeEventListener("blur",this.FBlurPtr))},this.UpdateElementData=function(){var t=null,e="",i=0;if(pas["WEBLib.Controls"].TControl.UpdateElementData.call(this),null!=(t=this.GetElementPicker())){t.setAttribute("step","1");var s=this.FKind;if(1===s){for(var o=1,n=(e=pas.SysUtils.FormatDateTime("HH:MM:SS",this.FTime)).length;o<=n;o++)i=o,e.charCodeAt(i-1)in rtl.createSet(null,48,57)||(e=rtl.setCharAt(e,i-1,":"));t.value=e,this.FShowSeconds||t.setAttribute("step","60")}else if(0===s)if(0===this.FDate)t.value="";else{for(var a=1,r=(e=pas.SysUtils.FormatDateTime("yyyy-MM-dd",this.FDate)).length;a<=r;a++)i=a,e.charCodeAt(i-1)in rtl.createSet(null,48,57)||(e=rtl.setCharAt(e,i-1,"-"));t.value=e}this.FTabStop?t.setAttribute("tabindex",pas.SysUtils.IntToStr(this.FTabOrder)):t.setAttribute("tabindex","-1"),t.readOnly=this.IsReadOnly(),this.IsEnabled()?t.removeAttribute("disabled"):t.setAttribute("disabled","")}},this.UpdateElementVisual=function(){var e;t.TCustomInput.UpdateElementVisual.call(this),e=pas["WEBLib.Forms"].GetParentForm(this),this.FIsBootstrap=null!=e&&1===e.FCSSLibrary&&""!==this.FElementClassName,null!=this.GetElementPicker()&&null!=this.GetElementHandle()&&null!=this.FElementCheck&&(this.FElementCheck.setAttribute("type","CHECKBOX"),0===this.FKind?this.GetElementPicker().setAttribute("type","DATE"):this.GetElementPicker().setAttribute("type","TIME"),""===this.FElementClassName?(this.GetElementPicker().style.setProperty("border","none"),this.GetElementPicker().style.setProperty("border-width","0px"),this.GetElementPicker().style.setProperty("outline","none"),this.GetElementPicker().style.setProperty("font-family","inherit"),this.GetElementPicker().style.setProperty("font-size","inherit"),this.GetElementPicker().style.setProperty("width","100%"),this.GetElementPicker().style.setProperty("height","100%")):this.FIsBootstrap&&(this.GetElementPicker().setAttribute("class",this.FElementClassName),this.GetElementHandle().removeAttribute("class")),this.GetIsLinked()||(this.GetElementHandle().style.setProperty("padding","1px"),this.GetElementHandle().style.setProperty("outline","none")),1===this.FBorderStyle&&""===this.FElementClassName?(this.FEnabled?this.GetElementHandle().style.setProperty("border","1px solid"):this.GetElementHandle().style.setProperty("border","1px silver solid"),this.GetElementHandle().style.setProperty("border-radius","3px")):this.FIsBootstrap&&(this.GetElementHandle().style.removeProperty("border"),this.GetElementHandle().style.removeProperty("box-sizing")),null!=this.FElementCheck&&(this.FShowCheckBox?this.FElementCheck.style.setProperty("display",""):this.FElementCheck.style.setProperty("display","none")),this.FShowCheckBox&&(this.FChecked?this.GetElementPicker().removeAttribute("disabled"):this.GetElementPicker().setAttribute("disabled","true")))},this.CreateElement=function(){var t=null;return t=document.createElement("DIV"),this.FElementCheck=document.createElement("INPUT"),this.FElementPicker=document.createElement("INPUT"),t.appendChild(this.FElementCheck),t.appendChild(this.FElementPicker),t},this.GetInputType=function(){return 0===this.FKind?"DATE":"TIME"},this.Change=function(){this.FTime=this.GetTime(),this.FDate=this.GetDate(),null!=this.FOnChange&&this.FOnChange(this)},this.IsReadOnly=function(){return this.FReadOnly},this.ClearMethodPointers=function(){pas["WEBLib.Controls"].TControl.ClearMethodPointers.call(this),this.FHandleChangePtr=null,this.FBlurPtr=null,this.FFocusPtr=null,this.FClickPtr$1=null},this.GetMethodPointers=function(){pas["WEBLib.Controls"].TControl.GetMethodPointers.call(this),this.FHandleChangePtr=rtl.createCallback(this,"DoHandleChange"),this.FClickPtr$1=rtl.createCallback(this,"DoCheckClick"),this.FFocusPtr=rtl.createCallback(this,"DoPickerFocus"),this.FBlurPtr=rtl.createCallback(this,"DoPickerBlur")},this.GetElementPicker=function(){return this.GetIsLinked()?this.GetElementHandle():this.FElementPicker},this.SetEnabled=function(t){var e=null;pas["WEBLib.Controls"].TControl.SetEnabled.apply(this,arguments),null!=(e=this.GetElementPicker())&&(t?e.removeAttribute("disabled"):e.setAttribute("disabled",""))},this.CreateInitialize=function(){t.TCustomInput.CreateInitialize.call(this),this.SetDate(pas.SysUtils.Now()),this.SetShowFocus(!0),4 in this.FComponentState&&(this.SetWidth(170),this.SetHeight(25)),this.FDate=pas.System.Int(pas.SysUtils.Now()),this.FTime=0,this.FReadOnly=!1,this.FShowSeconds=!0,this.FIsBootstrap=!1},this.SetFocus=function(){null!=this.GetElementPicker()&&this.GetElementPicker().focus()},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),e.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),e.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),e.addProperty("AutoDropDown",0,rtl.boolean,"FAutoDropDown","FAutoDropDown",{Default:!1}),e.addProperty("BorderStyle",2,pas["WEBLib.Controls"].$rtti.TBorderStyle,"FBorderStyle","SetBorderStyle",{Default:pas["WEBLib.Controls"].TBorderStyle.bsSingle}),e.addProperty("Checked",2,rtl.boolean,"FChecked","SetChecked",{Default:!1}),e.addProperty("ChildOrder",2,rtl.longint,"FChildOrder","SetChildOrderEx",{Default:0}),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor"),e.addProperty("Date",3,pas.System.$rtti.TDate,"GetDate","SetDate"),e.addProperty("DragMode",2,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode","SetDragMode",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),e.addProperty("ElementClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","SetElementClassName"),e.addProperty("ElementID",3,pas["WEBLib.Controls"].$rtti.TElementID,"GetID","SetID"),e.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),e.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),e.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),e.addProperty("Height",3,rtl.longint,"GetHeight","SetHeight"),e.addProperty("HeightPercent",2,rtl.double,"FHeightPercent","SetHeightPercent",{Default:100}),e.addProperty("HeightStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FHeightStyle","SetHeightStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("Hint",2,rtl.string,"FHint","SetHint"),e.addProperty("Kind",2,t.$rtti.TDateTimeKind,"FKind","SetKind"),e.addProperty("Left",3,rtl.longint,"GetLeft","SetLeft"),e.addProperty("Margins",2,pas["WEBLib.Controls"].$rtti.TMargins,"FMargins","SetMargins"),e.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0}),e.addProperty("ReadOnly",2,rtl.boolean,"FReadOnly","SetReadOnly",{Default:!1}),e.addProperty("Role",3,rtl.string,"GetRole","SetRole"),e.addProperty("ShowCheckBox",2,rtl.boolean,"FShowCheckBox","SetShowCheckBox",{Default:!1}),e.addProperty("ShowFocus",2,rtl.boolean,"FShowFocus","SetShowFocus",{Default:!1}),e.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),e.addProperty("ShowSeconds",2,rtl.boolean,"FShowSeconds","SetShowSeconds",{Default:!0}),e.addProperty("TabStop",2,rtl.boolean,"FTabStop","SetTabStop",{Default:!0}),e.addProperty("TabOrder",2,rtl.longint,"FTabOrder","SetTabOrder"),e.addProperty("Text",3,rtl.string,"GetText","SetText"),e.addProperty("TextDirection",0,pas["WEBLib.Controls"].$rtti.TTextDirection,"FTextDirection","FTextDirection",{Default:pas["WEBLib.Controls"].TTextDirection.tdDefault}),e.addProperty("Time",3,pas.System.$rtti.TTime,"GetTime","SetTime"),e.addProperty("Top",3,rtl.longint,"GetTop","SetTop"),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("Width",3,rtl.longint,"GetWidth","SetWidth"),e.addProperty("WidthPercent",2,rtl.double,"FWidthPercent","SetWidthPercent",{Default:100}),e.addProperty("WidthStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FWidthStyle","SetWidthStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),e.addProperty("OnChange",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnChange","FOnChange"),e.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),e.addProperty("OnKeyDown",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyDown","FOnKeyDown"),e.addProperty("OnKeyPress",0,pas["WEBLib.Controls"].$rtti.TKeyPressEvent,"FOnKeyPress","FOnKeyPress"),e.addProperty("OnKeyUp",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyUp","FOnKeyUp"),e.addProperty("OnMouseDown",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseDown","FOnMouseDown"),e.addProperty("OnMouseUp",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseUp","FOnMouseUp"),e.addProperty("OnMouseMove",0,pas["WEBLib.Controls"].$rtti.TMouseMoveEvent,"FOnMouseMove","FOnMouseMove"),e.addProperty("OnMouseLeave",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseLeave","FOnMouseLeave"),e.addProperty("OnMouseEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseEnter","FOnMouseEnter"),e.addProperty("OnEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnEnter","FOnEnter"),e.addProperty("OnExit",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnExit","FOnExit"),e.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),e.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),e.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag"),e.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag")})),rtl.createClass(this,"TButton",pas["WEBLib.Menus"].TWebCustomControl,(function(){this.$init=function(){pas["WEBLib.Menus"].TWebCustomControl.$init.call(this),this.FModalResult=0,this.FDefault=!1,this.FCancel=!1,this.FButtonType=""},this.SetButtonType=function(t){this.FButtonType=t,this.UpdateElementData()},this.SetDefault=function(t){this.FDefault=t,this.FDefault&&this.SetFocus()},this.CreateElement=function(){var t=null;return(t=document.createElement("BUTTON")).setAttribute("type","BUTTON"),t},this.SetCaption=function(t){this.FCaption!==t&&(pas["WEBLib.Controls"].TCustomControl.SetCaption.call(this,t),this.UpdateElementData())},this.UpdateElementData=function(){var t="";pas["WEBLib.Controls"].TControl.UpdateElementData.call(this),this.GetIsLinked()&&""===this.FCaption||null!=this.GetElementHandle()&&((0===this.GetElementHandle().childElementCount||pas.System.Pos("</",this.FCaption)>0||!this.GetIsLinked())&&(this.GetElementHandle().innerHTML=pas["WEBLib.WebTools"].ProcessAccelerator(this.FCaption,{get:function(){return t},set:function(e){t=e}})),""!==t&&this.GetElementHandle().setAttribute("accesskey",t),this.GetElementHandle().setAttribute("role","button"),this.GetElementHandle().setAttribute("aria-label",this.FCaption),""!==this.FButtonType?this.GetElementHandle().setAttribute("type",this.FButtonType):this.GetElementHandle().setAttribute("type","BUTTON"))},this.UpdateElementVisual=function(){var t="";pas["WEBLib.Controls"].TCustomControl.UpdateElementVisual.call(this),null!=this.GetElementHandle()&&(this.GetElementHandle().style.removeProperty("outline"),this.GetElementHandle().style.removeProperty("user-select"),"BTN"===(t=pas.SysUtils.UpperCase(this.FElementClassName))||pas.System.Pos("BTN ",t))},this.HandleKeyPreview=function(t){pas["WEBLib.Controls"].TControl.HandleKeyPreview.apply(this,arguments),this.FDefault&&13===t&&this.Click(),this.FCancel&&27===t&&this.Click()},this.CreateInitialize=function(){pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),4 in this.FComponentState&&""===this.FCaption&&this.SetCaption(this.FName),this.SetColor(-1),this.FModalResult=0},this.Click=function(){var t=null;pas["WEBLib.Controls"].TControl.Click.call(this),0!==this.FModalResult&&null!=(t=pas["WEBLib.Forms"].GetParentForm(this))&&t.SetModalResult(this.FModalResult)},rtl.addIntf(this,pas.System.IUnknown);var t=this.$rtti;t.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),t.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),t.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),t.addProperty("BiDiMode",2,pas["WEBLib.Controls"].$rtti.TBiDiMode,"FBiDiMode","SetBiDiMode",{Default:pas["WEBLib.Controls"].TBiDiMode.bdLeftToRight}),t.addProperty("BorderStyle",2,pas["WEBLib.Controls"].$rtti.TBorderStyle,"FBorderStyle","SetBorderStyle",{Default:pas["WEBLib.Controls"].TBorderStyle.bsSingle}),t.addProperty("ButtonType",2,rtl.string,"FButtonType","SetButtonType"),t.addProperty("Caption",2,rtl.string,"FCaption","SetCaption"),t.addProperty("Cancel",0,rtl.boolean,"FCancel","FCancel",{Default:!1}),t.addProperty("ChildOrder",2,rtl.longint,"FChildOrder","SetChildOrderEx",{Default:0}),t.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor"),t.addProperty("Default",2,rtl.boolean,"FDefault","SetDefault",{Default:!1}),t.addProperty("DragMode",2,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode","SetDragMode",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),t.addProperty("ElementClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","SetElementClassName"),t.addProperty("ElementID",3,pas["WEBLib.Controls"].$rtti.TElementID,"GetID","SetID"),t.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),t.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),t.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),t.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),t.addProperty("Height",3,rtl.longint,"GetHeight","SetHeight"),t.addProperty("HeightPercent",2,rtl.double,"FHeightPercent","SetHeightPercent",{Default:100}),t.addProperty("HeightStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FHeightStyle","SetHeightStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),t.addProperty("Hint",2,rtl.string,"FHint","SetHint"),t.addProperty("Left",3,rtl.longint,"GetLeft","SetLeft"),t.addProperty("Margins",2,pas["WEBLib.Controls"].$rtti.TMargins,"FMargins","SetMargins"),t.addProperty("ModalResult",0,rtl.longint,"FModalResult","FModalResult",{Default:0}),t.addProperty("PopupMenu",0,pas["WEBLib.Menus"].$rtti.TPopupMenu,"FPopupMenu","FPopupMenu"),t.addProperty("Role",3,rtl.string,"GetRole","SetRole"),t.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0}),t.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),t.addProperty("TabOrder",2,rtl.longint,"FTabOrder","SetTabOrder"),t.addProperty("TabStop",2,rtl.boolean,"FTabStop","SetTabStop",{Default:!0}),t.addProperty("TextDirection",0,pas["WEBLib.Controls"].$rtti.TTextDirection,"FTextDirection","FTextDirection",{Default:pas["WEBLib.Controls"].TTextDirection.tdDefault}),t.addProperty("Top",3,rtl.longint,"GetTop","SetTop"),t.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),t.addProperty("Width",3,rtl.longint,"GetWidth","SetWidth"),t.addProperty("WidthPercent",2,rtl.double,"FWidthPercent","SetWidthPercent",{Default:100}),t.addProperty("WidthStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FWidthStyle","SetWidthStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),t.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),t.addProperty("OnKeyDown",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyDown","FOnKeyDown"),t.addProperty("OnKeyPress",0,pas["WEBLib.Controls"].$rtti.TKeyPressEvent,"FOnKeyPress","FOnKeyPress"),t.addProperty("OnKeyUp",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyUp","FOnKeyUp"),t.addProperty("OnMouseDown",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseDown","FOnMouseDown"),t.addProperty("OnMouseUp",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseUp","FOnMouseUp"),t.addProperty("OnMouseMove",0,pas["WEBLib.Controls"].$rtti.TMouseMoveEvent,"FOnMouseMove","FOnMouseMove"),t.addProperty("OnMouseLeave",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseLeave","FOnMouseLeave"),t.addProperty("OnMouseEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseEnter","FOnMouseEnter"),t.addProperty("OnEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnEnter","FOnEnter"),t.addProperty("OnExit",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnExit","FOnExit"),t.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),t.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),t.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag"),t.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag")})),rtl.createClass(this,"TCheckBox",pas["WEBLib.Menus"].TWebCustomControl,(function(){this.$init=function(){pas["WEBLib.Menus"].TWebCustomControl.$init.call(this),this.FChecked=!1,this.FState=0,this.FElementButtonClassName="",this.FElementLabelClassName="",this.FOnCheckClick=null,this.FAlignment=0},this.$final=function(){this.FOnCheckClick=void 0,pas["WEBLib.Menus"].TWebCustomControl.$final.call(this)},this.SetAlignment=function(t){this.FAlignment!==t&&(this.FAlignment=t,this.UpdateElementVisual())},this.Loaded=function(){pas["WEBLib.Controls"].TCustomControl.Loaded.call(this),null!=this.GetContainer()&&(this.GetIsLinked()||(this.GetContainer().children.item(1).onclick=rtl.createSafeCallback(this,"HandleLabelClick")))},this.UpdateElementData=function(){var t=null;pas["WEBLib.Controls"].TControl.UpdateElementData.call(this),null!=this.GetContainer()&&((t=this.GetCheckElement()).disabled=!this.IsEnabled(),t.checked=this.FChecked,t.indeterminate=1===this.GetState(),this.GetIsLinked()||(""!==this.FCaption&&(this.GetContainer().lastElementChild.innerHTML=this.FCaption),this.GetElementHandle().setAttribute("tabindex","-1"),this.GetElementHandle().firstChild.setAttribute("tabindex","-1")),this.FTabStop&&this.GetContainer().setAttribute("tabindex",pas.SysUtils.IntToStr(this.FTabOrder)))},this.UpdateElementSize=function(){pas["WEBLib.Controls"].TControl.UpdateElementSize.call(this),null==this.GetContainer()||this.GetIsLinked()||0!==this.FElementPosition||(2!==this.FHeightStyle?this.GetContainer().firstElementChild.style.setProperty("height","100%"):this.GetContainer().firstElementChild.style.removeProperty("height"))},this.UpdateElementVisual=function(){var e=null,i=null,s=null,o=!1;pas["WEBLib.Controls"].TCustomControl.UpdateElementVisual.call(this),null!=this.GetElementHandle()&&(null!=(e=this.GetElementHandle().firstChild)&&(null!=e.style&&e.style.setProperty("margin-right","4px"),""!==this.FElementButtonClassName?e.setAttribute("class",this.FElementButtonClassName):e.removeAttribute("class")),null!=(i=this.GetElementHandle().lastElementChild)&&(""!==this.FElementLabelClassName?i.setAttribute("class",this.FElementLabelClassName):i.removeAttribute("class")),this.FTabStop&&this.FShowFocus&&""===this.FElementClassName||this.GetElementHandle().style.setProperty("outline","none"),this.GetIsLinked()||(this.GetElementHandle().style.setProperty("user-select","none"),0===this.FElementPosition&&(""===this.FElementButtonClassName&&(1===this.FAlignment?e.style.setProperty("float","left"):e.style.setProperty("float","right"),2===this.FHeightStyle?e.style.removeProperty("height"):0===this.FElementPosition&&e.style.setProperty("height","100%"),e.style.setProperty("vertical-align","middle"),t.TCheckGroup.isPrototypeOf(this.FParent)||(e.style.setProperty("margin-top","0px"),e.style.setProperty("margin-bottom","0px"))),o=null!=(s=pas["WEBLib.Forms"].GetParentForm(this))&&1===s.FCSSLibrary,(""===this.FElementLabelClassName||o)&&((i=this.GetContainer().lastElementChild).style.setProperty("vertical-align","middle"),i.style.setProperty("min-height","100%"),i.style.setProperty("height","100%"),i.style.setProperty("position","absolute"),i.style.setProperty("overflow","hidden"),i.style.setProperty("display","inline-flex"),i.style.setProperty("align-items","center")))))},this.CreateElement=function(){var t=null,e=null,i=null;return t=document.createElement("SPAN"),e=document.createElement("INPUT"),i=document.createElement("SPAN"),e.setAttribute("TYPE","CHECKBOX"),e.setAttribute("id",this.GetID()),e.setAttribute("role","checkbox"),i.setAttribute("id",this.GetID()+"lbl"),i.setAttribute("value",this.GetID()),t.appendChild(e),t.appendChild(i),rtl.asExt(e,HTMLInputElement).onclick=rtl.createSafeCallback(this,"HandleCheckClick"),t},this.SetChecked=function(t){this.FChecked=t,this.FState=t?0:2,this.UpdateElement()},this.GetChecked=function(){return null!=this.GetContainer()&&(this.FChecked=this.GetCheckElement().checked),this.FChecked},this.SetState=function(t){this.FState=t,this.FChecked=0===this.FState,this.UpdateElement()},this.GetState=function(){return this.FState},this.SetCaption=function(t){this.FCaption!==t&&(pas["WEBLib.Controls"].TCustomControl.SetCaption.call(this,t),null!=this.GetContainer()&&(this.GetIsLinked()?null!=this.GetContainer().lastElementChild&&"SPAN"===this.GetContainer().lastElementChild.tagName&&(this.GetContainer().lastElementChild.innerHTML=t):null!=this.GetContainer().lastElementChild&&(this.GetContainer().lastElementChild.innerHTML=t)))},this.SetEnabled=function(t){pas["WEBLib.Controls"].TControl.SetEnabled.apply(this,arguments),null!=this.GetContainer()&&(this.GetCheckElement().disabled=!t)},this.HandleLabelClick=function(t){var e=null;return null!=this.GetContainer()&&this.FEnabled&&((e=this.GetCheckElement()).checked=!e.checked,this.SetChecked(e.checked)),this.DoCheckClick(),!0,!0},this.HandleCheckClick=function(t){return this.DoCheckClick(),!0,!0},this.Click=function(){pas["WEBLib.Controls"].TControl.Click.call(this),this.FChecked=this.GetChecked(),this.FChecked?this.FState=0:this.FState=2,this.SetFocus()},this.DoCheckClick=function(){null!=this.FOnCheckClick&&this.FOnCheckClick(this)},this.GetCheckElement=function(){return this.GetIsLinked()&&"INPUT"===this.GetElementHandle().tagName?this.GetElementHandle():this.GetContainer().firstElementChild},this.KeyPress=function(t){var e=null;pas["WEBLib.Controls"].TControl.KeyPress.apply(this,arguments)," "===t.get()&&null!=this.GetContainer()&&((e=this.GetCheckElement()).checked=!e.checked)},this.CreateInitialize=function(){pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),this.SetColor(-1),this.FChecked=!1,this.FState=2,this.SetAlignment(1),4 in this.FComponentState&&""===this.FCaption&&this.SetCaption(this.FName),this.SetShowFocus(!0)},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),e.addProperty("Alignment",2,pas.Classes.$rtti.TAlignment,"FAlignment","SetAlignment",{Default:pas.Classes.TAlignment.taRightJustify}),e.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),e.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),e.addProperty("Caption",2,rtl.string,"FCaption","SetCaption"),e.addProperty("Checked",3,rtl.boolean,"GetChecked","SetChecked",{Default:!1}),e.addProperty("ChildOrder",2,rtl.longint,"FChildOrder","SetChildOrderEx",{Default:0}),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor",{Default:-1}),e.addProperty("DragMode",2,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode","SetDragMode",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),e.addProperty("ElementClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","SetElementClassName"),e.addProperty("ElementButtonClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementButtonClassName","FElementButtonClassName"),e.addProperty("ElementLabelClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementLabelClassName","FElementLabelClassName"),e.addProperty("ElementID",3,pas["WEBLib.Controls"].$rtti.TElementID,"GetID","SetID"),e.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),e.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),e.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),e.addProperty("Height",3,rtl.longint,"GetHeight","SetHeight"),e.addProperty("HeightPercent",2,rtl.double,"FHeightPercent","SetHeightPercent",{Default:100}),e.addProperty("HeightStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FHeightStyle","SetHeightStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("Hint",2,rtl.string,"FHint","SetHint"),e.addProperty("Left",3,rtl.longint,"GetLeft","SetLeft"),e.addProperty("Margins",2,pas["WEBLib.Controls"].$rtti.TMargins,"FMargins","SetMargins"),e.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0}),e.addProperty("PopupMenu",0,pas["WEBLib.Menus"].$rtti.TPopupMenu,"FPopupMenu","FPopupMenu"),e.addProperty("Role",3,rtl.string,"GetRole","SetRole"),e.addProperty("ShowFocus",2,rtl.boolean,"FShowFocus","SetShowFocus",{Default:!1}),e.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),e.addProperty("State",3,t.$rtti.TCheckBoxState,"GetState","SetState",{Default:t.TCheckBoxState.cbUnchecked}),e.addProperty("TabOrder",2,rtl.longint,"FTabOrder","SetTabOrder"),e.addProperty("TabStop",2,rtl.boolean,"FTabStop","SetTabStop",{Default:!0}),e.addProperty("Top",3,rtl.longint,"GetTop","SetTop"),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("Width",3,rtl.longint,"GetWidth","SetWidth"),e.addProperty("WidthPercent",2,rtl.double,"FWidthPercent","SetWidthPercent",{Default:100}),e.addProperty("WidthStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FWidthStyle","SetWidthStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),e.addProperty("OnKeyDown",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyDown","FOnKeyDown"),e.addProperty("OnKeyPress",0,pas["WEBLib.Controls"].$rtti.TKeyPressEvent,"FOnKeyPress","FOnKeyPress"),e.addProperty("OnKeyUp",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyUp","FOnKeyUp"),e.addProperty("OnMouseDown",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseDown","FOnMouseDown"),e.addProperty("OnMouseUp",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseUp","FOnMouseUp"),e.addProperty("OnMouseMove",0,pas["WEBLib.Controls"].$rtti.TMouseMoveEvent,"FOnMouseMove","FOnMouseMove"),e.addProperty("OnMouseLeave",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseLeave","FOnMouseLeave"),e.addProperty("OnMouseEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseEnter","FOnMouseEnter"),e.addProperty("OnEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnEnter","FOnEnter"),e.addProperty("OnExit",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnExit","FOnExit"),e.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),e.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),e.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag"),e.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag")})),rtl.createClass(this,"TRadioButton",pas["WEBLib.Menus"].TWebCustomControl,(function(){this.$init=function(){pas["WEBLib.Menus"].TWebCustomControl.$init.call(this),this.FChecked=!1,this.FGroupName="",this.FElementButtonClassName="",this.FElementLabelClassName=""},this.CreateElement=function(){var t=null,e=null,i=null;return t=document.createElement("SPAN"),e=document.createElement("INPUT"),i=document.createElement("SPAN"),t.addEventListener("click",rtl.createCallback(this,"HandleLabelClick")),e.setAttribute("TYPE","RADIO"),e.setAttribute("id",this.GetID()+"rd"),e.setAttribute("name",this.FGroupName),e.setAttribute("role","radio"),e.setAttribute("tabindex","-1"),e.addEventListener("click",rtl.createCallback(this,"HandleRadioClick")),i.setAttribute("id",this.GetID()+"lbl"),i.setAttribute("value",this.GetID()),t.appendChild(e),t.appendChild(i),t},this.SetChecked=function(t){this.FChecked=t,null!=this.GetContainer()&&(this.GetRadioElement().checked=t)},this.GetChecked=function(){var t=!1;return t=this.FChecked,null!=this.GetContainer()&&(t=this.GetRadioElement().checked),t},this.SetEnabled=function(t){pas["WEBLib.Controls"].TControl.SetEnabled.apply(this,arguments),null!=this.GetContainer()&&(this.GetRadioElement().disabled=!t)},this.SetCaption=function(t){this.FCaption!==t&&(pas["WEBLib.Controls"].TCustomControl.SetCaption.call(this,t),null==this.GetContainer()||this.GetIsLinked()||(this.GetContainer().lastElementChild.innerHTML=t))},this.SetGroupName=function(t){this.FGroupName=t,this.UpdateElementData()},this.HandleLabelClick=function(t){return null!=this.GetContainer()&&this.FEnabled&&(this.GetRadioElement().checked=!0),!0,!0},this.HandleRadioClick=function(t){return this.SetFocus(),!0,!0},this.UpdateElementSize=function(){pas["WEBLib.Controls"].TControl.UpdateElementSize.call(this),null==this.GetContainer()||this.GetIsLinked()||(2!==this.FHeightStyle?this.GetContainer().firstElementChild.style.setProperty("height","100%"):this.GetContainer().firstElementChild.style.removeProperty("height"))},this.UpdateElementData=function(){var t=null;pas["WEBLib.Controls"].TControl.UpdateElementData.call(this),null!=this.GetContainer()&&(this.GetIsLinked()?this.GetElementHandle().setAttribute("name",this.FGroupName):(this.GetContainer().firstElementChild.setAttribute("name",this.FGroupName),(t=this.GetElementHandle().firstChild).disabled=!this.FEnabled),this.GetIsLinked()||(""!==this.FCaption&&(this.GetContainer().lastElementChild.innerHTML=this.FCaption),this.GetElementHandle().setAttribute("tabindex","-1"),this.FTabStop&&null!=t&&t.setAttribute("tabindex","-1")),this.FTabStop&&this.GetContainer().setAttribute("tabindex",pas.SysUtils.IntToStr(this.FTabOrder)))},this.UpdateElementVisual=function(){var e=null,i=null,s=!1,o=null;pas["WEBLib.Controls"].TCustomControl.UpdateElementVisual.call(this),null!=this.GetElementHandle()&&(this.GetIsLinked()||((e=this.GetElementHandle().firstChild).style.setProperty("margin-right","4px"),null!=e&&(""!==this.FElementButtonClassName?e.setAttribute("class",this.FElementButtonClassName):e.removeAttribute("class")),null!=(i=this.GetElementHandle().lastElementChild)&&(""!==this.FElementLabelClassName?i.setAttribute("class",this.FElementLabelClassName):i.removeAttribute("class"))),this.FTabStop&&this.FShowFocus&&""===this.FElementClassName||this.GetElementHandle().style.setProperty("outline","none"),this.GetIsLinked()||(this.GetElementHandle().style.setProperty("user-select","none"),this.GetElementHandle().style.setProperty("white-space","normal"),0===this.FElementPosition&&(""===this.FElementButtonClassName&&(e.style.setProperty("float","left"),2!==this.FHeightStyle?e.style.setProperty("height","100%"):e.style.removeProperty("height"),e.style.setProperty("vertical-align","middle"),t.TRadioGroup.isPrototypeOf(this.FParent)||(e.style.setProperty("margin-top","0px"),e.style.setProperty("margin-bottom","0px"))),s=null!=(o=pas["WEBLib.Forms"].GetParentForm(this))&&1===o.FCSSLibrary,(""===this.FElementLabelClassName||s)&&((i=this.GetContainer().lastElementChild).style.setProperty("vertical-align","middle"),i.style.setProperty("min-height","100%"),i.style.setProperty("height","100%"),t.TRadioGroup.isPrototypeOf(this.FParent)||i.style.setProperty("position","absolute"),i.style.setProperty("overflow","hidden"),i.style.setProperty("display","inline-flex"),i.style.setProperty("align-items","center")))))},this.GetRadioElement=function(){return this.GetIsLinked()?this.GetElementHandle():this.GetContainer().firstElementChild},this.KeyPress=function(t){pas["WEBLib.Controls"].TControl.KeyPress.apply(this,arguments)," "===t.get()&&(this.GetRadioElement().checked=!0)},this.CreateInitialize=function(){pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),this.SetColor(-1),4 in this.FComponentState&&""===this.FCaption&&this.SetCaption(this.FName),this.FGroupName="",this.SetShowFocus(!0)},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),e.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),e.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),e.addProperty("Caption",2,rtl.string,"FCaption","SetCaption"),e.addProperty("Checked",3,rtl.boolean,"GetChecked","SetChecked",{Default:!1}),e.addProperty("ChildOrder",2,rtl.longint,"FChildOrder","SetChildOrderEx",{Default:0}),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor",{Default:-1}),e.addProperty("DragMode",2,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode","SetDragMode",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),e.addProperty("ElementClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","SetElementClassName"),e.addProperty("ElementButtonClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementButtonClassName","FElementButtonClassName"),e.addProperty("ElementLabelClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementLabelClassName","FElementLabelClassName"),e.addProperty("ElementID",3,pas["WEBLib.Controls"].$rtti.TElementID,"GetID","SetID"),e.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),e.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),e.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),e.addProperty("GroupName",2,rtl.string,"FGroupName","SetGroupName"),e.addProperty("Height",3,rtl.longint,"GetHeight","SetHeight"),e.addProperty("HeightPercent",2,rtl.double,"FHeightPercent","SetHeightPercent",{Default:100}),e.addProperty("HeightStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FHeightStyle","SetHeightStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("Hint",2,rtl.string,"FHint","SetHint"),e.addProperty("Left",3,rtl.longint,"GetLeft","SetLeft"),e.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0}),e.addProperty("PopupMenu",0,pas["WEBLib.Menus"].$rtti.TPopupMenu,"FPopupMenu","FPopupMenu"),e.addProperty("Role",3,rtl.string,"GetRole","SetRole"),e.addProperty("ShowFocus",2,rtl.boolean,"FShowFocus","SetShowFocus",{Default:!1}),e.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),e.addProperty("TabOrder",2,rtl.longint,"FTabOrder","SetTabOrder"),e.addProperty("TabStop",2,rtl.boolean,"FTabStop","SetTabStop",{Default:!0}),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("Width",3,rtl.longint,"GetWidth","SetWidth"),e.addProperty("WidthPercent",2,rtl.double,"FWidthPercent","SetWidthPercent",{Default:100}),e.addProperty("WidthStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FWidthStyle","SetWidthStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),e.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),e.addProperty("OnKeyDown",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyDown","FOnKeyDown"),e.addProperty("OnKeyPress",0,pas["WEBLib.Controls"].$rtti.TKeyPressEvent,"FOnKeyPress","FOnKeyPress"),e.addProperty("OnKeyUp",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyUp","FOnKeyUp"),e.addProperty("OnMouseDown",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseDown","FOnMouseDown"),e.addProperty("OnMouseUp",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseUp","FOnMouseUp"),e.addProperty("OnMouseMove",0,pas["WEBLib.Controls"].$rtti.TMouseMoveEvent,"FOnMouseMove","FOnMouseMove"),e.addProperty("OnMouseLeave",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseLeave","FOnMouseLeave"),e.addProperty("OnMouseEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseEnter","FOnMouseEnter"),e.addProperty("OnEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnEnter","FOnEnter"),e.addProperty("OnExit",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnExit","FOnExit"),e.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),e.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),e.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag"),e.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag")})),rtl.createClass(this,"TListBox",pas["WEBLib.Menus"].TWebCustomControl,(function(){this.$init=function(){pas["WEBLib.Menus"].TWebCustomControl.$init.call(this),this.FItems=null,this.FItemIndex=0,this.FMultiSelect=!1,this.FSelected=null,this.FItemHeight=0,this.FSorted=!1,this.FOnChange=null,this.FHandleChangePtr=null,this.FElementItemClassName=""},this.$final=function(){this.FItems=void 0,this.FSelected=void 0,this.FOnChange=void 0,pas["WEBLib.Menus"].TWebCustomControl.$final.call(this)},this.SetItemHeight=function(t){this.FItemHeight=t},this.SetSorted=function(t){this.FSorted=t,this.FItems.SetSorted(t)},this.GetCount=function(){return this.FItems.GetCount()},this.GetElementSelectHandle=function(){return this.GetContainer()},this.DoHandleChange=function(t){return this.Change(),!0,!0},this.DoItemsChange=function(t){this.DoUpdateList()},this.DoUpdateList=function(){var t=0,e=0,i=null,s="",o="",n="";if(null!=this.GetContainer()&&!this.IsUpdating()&&"SELECT"===this.GetElementHandle().tagName){for(var a=this.GetContainer().options.length-1;a>=0;a--)t=a,this.GetContainer().remove(t);for(var r=0,l=this.FItems.GetCount()-1;r<=l;r++)t=r,s=n=this.FItems.Get(t),o=n,(e=pas.System.Pos(this.FItems.GetNameValueSeparator(),n))>0?(o=pas.System.Copy(n,1,e-1),s=pas.System.Copy(n,e+1,65535)):s="",i=new Option(o),""!==s&&i.setAttribute("value",s),i.setAttribute("role","listitem"),""!==this.FElementItemClassName&&i.setAttribute("class",this.FElementItemClassName),1===this.FDragMode&&i.setAttribute("draggable","true"),this.GetContainer().add(i),this.SetSelected(t,!1);this.UpdateElementData()}},this.GetItemIndex=function(){var t=0;return t=this.FItemIndex,null!=this.GetContainer()&&(t=this.GetContainer().selectedIndex),t},this.CreateElement=function(){var t=null;return(t=document.createElement("SELECT")).setAttribute("Size","2"),t},this.SetSelected=function(t,e){for(;t>=this.FSelected.GetCount();)this.FSelected.Add(!1);this.FSelected.Put(t,e),null!=this.GetContainer()&&(this.GetContainer().options.item(t).selected=e)},this.SetItems=function(t){this.FItems.Assign(t)},this.SetItemIndex=function(t){this.FItemIndex!==t&&(this.FItemIndex=t,this.UpdateElement())},this.SetMultiSelect=function(t){this.FMultiSelect=t,null!=this.GetContainer()&&(this.GetContainer().multiple=t)},this.Loaded=function(){pas["WEBLib.Controls"].TCustomControl.Loaded.call(this),this.DoUpdateList(),this.UpdateElement()},this.UpdateElementData=function(){pas["WEBLib.Controls"].TControl.UpdateElementData.call(this),null!=this.GetElementSelectHandle()&&(this.GetElementSelectHandle().style.setProperty("overflow","auto"),this.GetElementSelectHandle().selectedIndex=this.FItemIndex)},this.UpdateElementVisual=function(){pas["WEBLib.Controls"].TCustomControl.UpdateElementVisual.call(this),null!=this.GetElementSelectHandle()&&(this.GetElementSelectHandle().style.setProperty("overflow","auto"),this.GetElementSelectHandle().setAttribute("role","listbox"),this.GetElementSelectHandle().setAttribute("aria-busy","true"))},this.UpdateParent=function(){pas["WEBLib.Controls"].TControl.UpdateParent.call(this),this.DoUpdateList()},this.BindEvents=function(){pas["WEBLib.Controls"].TCustomControl.BindEvents.call(this),null!=this.GetElementHandle()&&this.GetElementHandle().addEventListener("change",this.FHandleChangePtr)},this.UnbindEvents=function(){pas["WEBLib.Controls"].TControl.UnbindEvents.call(this),null!=this.GetElementHandle()&&this.GetElementHandle().removeEventListener("change",this.FHandleChangePtr)},this.Change=function(){null!=this.FOnChange&&this.FOnChange(this)},this.EnableDrag=function(){var t=0;if(null!=this.GetContainer())for(var e=0,i=this.GetContainer().options.length-1;e<=i;e++)t=e,this.GetContainer().options.item(t).setAttribute("draggable","true")},this.DisableDrag=function(){var t=0;if(null!=this.GetContainer())for(var e=0,i=this.GetContainer().options.length-1;e<=i;e++)t=e,this.GetContainer().options.item(t).setAttribute("draggable","false")},this.ClearMethodPointers=function(){pas["WEBLib.Controls"].TControl.ClearMethodPointers.call(this),this.FHandleChangePtr=null},this.GetMethodPointers=function(){pas["WEBLib.Controls"].TControl.GetMethodPointers.call(this),this.FHandleChangePtr=rtl.createCallback(this,"DoHandleChange")},this.CreateInitialize=function(){pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),this.FItems=pas.Classes.TStringList.$create("Create$1"),this.FItems.SetSkipLastLineBreak(!0),this.FItems.FOnChange=rtl.createCallback(this,"DoItemsChange"),this.FMultiSelect=!1,this.FSelected=pas.Classes.TList.$create("Create$1"),this.FItemIndex=-1,this.SetShowFocus(!0),4 in this.FComponentState&&(this.SetWidth(160),this.SetHeight(180))},this.Destroy=function(){rtl.free(this,"FItems"),rtl.free(this,"FSelected"),pas["WEBLib.Controls"].TCustomControl.Destroy.call(this)},this.EndUpdate=function(){pas["WEBLib.Controls"].TCustomControl.EndUpdate.call(this),this.DoUpdateList()},rtl.addIntf(this,pas.System.IUnknown);var t=this.$rtti;t.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),t.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),t.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),t.addProperty("BiDiMode",2,pas["WEBLib.Controls"].$rtti.TBiDiMode,"FBiDiMode","SetBiDiMode",{Default:pas["WEBLib.Controls"].TBiDiMode.bdLeftToRight}),t.addProperty("BorderStyle",2,pas["WEBLib.Controls"].$rtti.TBorderStyle,"FBorderStyle","SetBorderStyle",{Default:pas["WEBLib.Controls"].TBorderStyle.bsSingle}),t.addProperty("ChildOrder",2,rtl.longint,"FChildOrder","SetChildOrderEx",{Default:0}),t.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor"),t.addProperty("DragMode",2,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode","SetDragMode",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),t.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),t.addProperty("ElementClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","SetElementClassName"),t.addProperty("ElementItemClassName",0,rtl.string,"FElementItemClassName","FElementItemClassName"),t.addProperty("ElementID",3,pas["WEBLib.Controls"].$rtti.TElementID,"GetID","SetID"),t.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),t.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),t.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),t.addProperty("Height",3,rtl.longint,"GetHeight","SetHeight"),t.addProperty("HeightPercent",2,rtl.double,"FHeightPercent","SetHeightPercent",{Default:100}),t.addProperty("HeightStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FHeightStyle","SetHeightStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),t.addProperty("Hint",2,rtl.string,"FHint","SetHint"),t.addProperty("ItemHeight",2,rtl.longint,"FItemHeight","SetItemHeight"),t.addProperty("ItemIndex",3,rtl.longint,"GetItemIndex","SetItemIndex",{Default:-1}),t.addProperty("Items",2,pas.Classes.$rtti.TStrings,"FItems","SetItems"),t.addProperty("Left",3,rtl.longint,"GetLeft","SetLeft"),t.addProperty("MultiSelect",2,rtl.boolean,"FMultiSelect","SetMultiSelect"),t.addProperty("ParentColor",2,rtl.boolean,"FParentColor","SetParentColor",{Default:!1}),t.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0}),t.addProperty("PopupMenu",0,pas["WEBLib.Menus"].$rtti.TPopupMenu,"FPopupMenu","FPopupMenu"),t.addProperty("Role",3,rtl.string,"GetRole","SetRole"),t.addProperty("ShowFocus",2,rtl.boolean,"FShowFocus","SetShowFocus",{Default:!1}),t.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),t.addProperty("TabOrder",2,rtl.longint,"FTabOrder","SetTabOrder"),t.addProperty("TabStop",2,rtl.boolean,"FTabStop","SetTabStop",{Default:!0}),t.addProperty("TextDirection",0,pas["WEBLib.Controls"].$rtti.TTextDirection,"FTextDirection","FTextDirection",{Default:pas["WEBLib.Controls"].TTextDirection.tdDefault}),t.addProperty("Top",3,rtl.longint,"GetTop","SetTop"),t.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),t.addProperty("Width",3,rtl.longint,"GetWidth","SetWidth"),t.addProperty("WidthPercent",2,rtl.double,"FWidthPercent","SetWidthPercent",{Default:100}),t.addProperty("WidthStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FWidthStyle","SetWidthStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),t.addProperty("OnChange",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnChange","FOnChange"),t.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),t.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),t.addProperty("OnKeyDown",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyDown","FOnKeyDown"),t.addProperty("OnKeyPress",0,pas["WEBLib.Controls"].$rtti.TKeyPressEvent,"FOnKeyPress","FOnKeyPress"),t.addProperty("OnKeyUp",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyUp","FOnKeyUp"),t.addProperty("OnMouseDown",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseDown","FOnMouseDown"),t.addProperty("OnMouseUp",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseUp","FOnMouseUp"),t.addProperty("OnMouseMove",0,pas["WEBLib.Controls"].$rtti.TMouseMoveEvent,"FOnMouseMove","FOnMouseMove"),t.addProperty("OnMouseLeave",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseLeave","FOnMouseLeave"),t.addProperty("OnMouseEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseEnter","FOnMouseEnter"),t.addProperty("OnMouseWheel",0,pas["WEBLib.Controls"].$rtti.TMouseWheelEvent,"FOnMouseWheel","FOnMouseWheel"),t.addProperty("OnEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnEnter","FOnEnter"),t.addProperty("OnExit",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnExit","FOnExit"),t.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),t.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),t.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag"),t.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag")})),this.TComboBoxStyle={0:"csDropDownList",csDropDownList:0,1:"csDropDown",csDropDown:1},this.$rtti.$Enum("TComboBoxStyle",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TComboBoxStyle}),rtl.createClass(this,"TCustomComboBox",pas["WEBLib.Menus"].TWebCustomControl,(function(){this.$init=function(){pas["WEBLib.Menus"].TWebCustomControl.$init.call(this),this.FItems=null,this.FItemIndex=0,this.FStyle=0,this.FDroppedDown=!1,this.FOnChange=null,this.FTextHint="",this.FListName="",this.FText="",this.FHandleChangePtr=null,this.FHandleInputPtr=null,this.FHandleFocusInPtr=null,this.FHandleFocusOutPtr=null,this.FOnFocusOut=null,this.FOnFocusIn=null},this.$final=function(){this.FItems=void 0,this.FOnChange=void 0,this.FOnFocusOut=void 0,this.FOnFocusIn=void 0,pas["WEBLib.Menus"].TWebCustomControl.$final.call(this)},this.GetText=function(){var t="",e=null,i="",s="";return t="",1===this.FStyle?null!=this.GetElementHandle()&&(t=this.GetElementHandle().value):this.GetItemIndex()>=0&&(this.GetItemIndex()<this.FItems.GetCount()?(this.FItems.GetNameValue(this.GetItemIndex(),{get:function(){return i},set:function(t){i=t}},{get:function(){return s},set:function(t){s=t}}),t=""!==i&&""!==s?i:this.FItems.Get(this.GetItemIndex())):this.GetIsLinked()&&this.GetItemIndex()<this.GetElementHandle().childElementCount&&"OPTION"===(e=this.GetElementHandle().children.item(this.GetItemIndex())).tagName&&(t=e.innerHTML)),t},this.SetText=function(t){var e=0,i="",s="";if(1===this.FStyle)this.FText=t,this.UpdateElement();else for(var o=0,n=this.FItems.GetCount()-1;o<=n;o++)e=o,this.FItems.GetNameValue(e,{get:function(){return i},set:function(t){i=t}},{get:function(){return s},set:function(t){s=t}}),t!==this.FItems.Get(e)&&t!==i||this.SetItemIndex(e)},this.SetStyle=function(t){this.FStyle!==t&&(this.FStyle=t,this.GetIsLinked()||this.RecreateElement())},this.SetDroppedDown=function(t){this.FDroppedDown=t},this.GetElementSelectHandle=function(){return this.GetContainer()},this.SetTextHint=function(t){this.FTextHint!==t&&(this.FTextHint=t,this.DoUpdateList())},this.DoHandleChange=function(t){return this.Change(),!0,!0},this.DoHandleInput=function(t){return 1===this.FStyle&&this.Change(),!0,!0},this.DoHandleFocusIn=function(t){return null!=this.FOnFocusIn&&this.FOnFocusIn(this),!0,!0},this.DoHandleFocusOut=function(t){return null!=this.FOnFocusOut&&this.FOnFocusOut(this),!0,!0},this.DoItemsChange=function(t){this.DoUpdateList()},this.ClearMethodPointers=function(){pas["WEBLib.Controls"].TControl.ClearMethodPointers.call(this),this.FHandleChangePtr=null,this.FHandleInputPtr=null},this.GetMethodPointers=function(){pas["WEBLib.Controls"].TControl.GetMethodPointers.call(this),this.FHandleChangePtr=rtl.createCallback(this,"DoHandleChange"),this.FHandleInputPtr=rtl.createCallback(this,"DoHandleInput"),this.FHandleFocusInPtr=rtl.createCallback(this,"DoHandleFocusIn"),this.FHandleFocusOutPtr=rtl.createCallback(this,"DoHandleFocusOut")},this.AddTextHint=function(){var t=null;""!==this.FTextHint&&0===this.FStyle&&((t=document.createElement("OPTION")).setAttribute("value",""),t.setAttribute("disabled","true"),t.setAttribute("selected","true"),t.setAttribute("hidden","true"),t.innerHTML=this.FTextHint,this.GetContainer().appendChild(t))},this.DoUpdateList=function(){var t=0,e=0,i="",s="",o="",n=null,a=null;if(null!=this.GetContainer()){if("INPUT"===this.GetElementHandle().tagName){this.GetElementHandle().value=this.GetText(),null!=(a=document.getElementById(this.FName+"_LIST"))&&a.parentNode.removeChild(a),""!==this.FTextHint&&(this.GetElementHandle().placeholder=this.FTextHint),(a=document.createElement("DATALIST")).setAttribute("id",this.FListName),document.body.appendChild(a);for(var r=0,l=this.FItems.GetCount()-1;r<=l;r++)t=r,i=this.FItems.Get(t),n=document.createElement("OPTION"),s=i,o=i,(e=pas.System.Pos(this.FItems.GetNameValueSeparator(),i))>0&&(o=pas.System.Copy(i,1,e-1),s=pas.System.Copy(i,e+1,65535)),n.setAttribute("value",s),n.innerHTML=o,a.appendChild(n)}else{if("SELECT"!==this.GetElementHandle().tagName)return;for(var h=this.GetContainer().options.length-1;h>=0;h--)t=h,this.GetContainer().remove(t);this.AddTextHint();for(var F=0,p=this.FItems.GetCount()-1;F<=p;F++)t=F,i=this.FItems.Get(t),n=document.createElement("OPTION"),s=i,o=i,(e=pas.System.Pos(this.FItems.GetNameValueSeparator(),i))>0&&(o=pas.System.Copy(i,1,e-1),s=pas.System.Copy(i,e+1,65535)),n.setAttribute("value",s),n.innerHTML=o,this.GetContainer().appendChild(n)}this.UpdateElement()}},this.GetItemIndex=function(){var t=0;return 1===this.FStyle?t=this.FItems.IndexOf(this.GetText()):(t=this.FItemIndex,null!=this.GetContainer()&&(t=this.GetContainer().selectedIndex,""!==this.FTextHint&&(t-=1))),t},this.CreateElement=function(){var t=null;return 0===this.FStyle?t=document.createElement("SELECT"):(t=document.createElement("INPUT"),this.FListName=this.FName+"_LIST",t.setAttribute("list",this.FListName)),t},this.BindEvents=function(){pas["WEBLib.Controls"].TCustomControl.BindEvents.call(this),null!=this.GetElementHandle()&&(this.GetElementHandle().addEventListener("input",this.FHandleInputPtr),this.GetElementHandle().addEventListener("change",this.FHandleChangePtr),this.GetElementHandle().addEventListener("focusin",this.FHandleFocusInPtr),this.GetElementHandle().addEventListener("focusout",this.FHandleFocusOutPtr))},this.UnbindEvents=function(){pas["WEBLib.Controls"].TControl.UnbindEvents.call(this),null!=this.GetElementHandle()&&(this.GetElementHandle().removeEventListener("input",this.FHandleInputPtr),this.GetElementHandle().removeEventListener("change",this.FHandleChangePtr),this.GetElementHandle().removeEventListener("focusin",this.FHandleFocusInPtr),this.GetElementHandle().removeEventListener("focusout",this.FHandleFocusOutPtr))},this.UpdateElementData=function(){var t=0;pas["WEBLib.Controls"].TControl.UpdateElementData.call(this),1===this.FStyle?null!=this.GetElementHandle()&&(this.GetElementHandle().value=this.FText,this.FListName=this.FName+"_LIST",this.GetElementHandle().setAttribute("list",this.FListName)):null!=this.GetElementSelectHandle()&&(t=0,""!==this.FTextHint&&(t=1),this.GetElementSelectHandle().selectedIndex=this.FItemIndex+t,this.GetElementSelectHandle().setAttribute("role","combobox"))},this.UpdateParent=function(){pas["WEBLib.Controls"].TControl.UpdateParent.call(this),this.DoUpdateList()},this.SetItems=function(t){this.FItems.Assign(t)},this.SetItemIndex=function(t){this.FItemIndex!==t&&(this.FItemIndex=t,t>=0&&this.FStyle in rtl.createSet(1,0)&&t<this.FItems.GetCount()&&(this.FText=this.FItems.Get(t)),this.UpdateElement())},this.Loaded=function(){pas["WEBLib.Controls"].TCustomControl.Loaded.call(this),this.DoUpdateList()},this.Change=function(){this.FItemIndex=this.GetItemIndex(),null!=this.FOnChange&&this.FOnChange(this)},this.CreateInitialize=function(){pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),this.FItems=pas.Classes.TStringList.$create("Create$1"),this.FItems.FOnChange=rtl.createCallback(this,"DoItemsChange"),this.FItemIndex=-1,this.FStyle=0,this.SetShowFocus(!0),this.SetHeight(25)},this.Destroy=function(){rtl.free(this,"FItems"),pas["WEBLib.Controls"].TCustomControl.Destroy.call(this)},rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TComboBox",this.TCustomComboBox,(function(){rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),e.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),e.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),e.addProperty("BiDiMode",2,pas["WEBLib.Controls"].$rtti.TBiDiMode,"FBiDiMode","SetBiDiMode",{Default:pas["WEBLib.Controls"].TBiDiMode.bdLeftToRight}),e.addProperty("ChildOrder",2,rtl.longint,"FChildOrder","SetChildOrderEx",{Default:0}),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor"),e.addProperty("DragMode",2,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode","SetDragMode",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),e.addProperty("ElementClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","SetElementClassName"),e.addProperty("ElementID",3,pas["WEBLib.Controls"].$rtti.TElementID,"GetID","SetID"),e.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),e.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),e.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),e.addProperty("Height",3,rtl.longint,"GetHeight","SetHeight"),e.addProperty("HeightPercent",2,rtl.double,"FHeightPercent","SetHeightPercent",{Default:100}),e.addProperty("HeightStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FHeightStyle","SetHeightStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("Hint",2,rtl.string,"FHint","SetHint"),e.addProperty("ItemIndex",3,rtl.longint,"GetItemIndex","SetItemIndex",{Default:-1}),e.addProperty("Items",2,pas.Classes.$rtti.TStrings,"FItems","SetItems"),e.addProperty("Left",3,rtl.longint,"GetLeft","SetLeft"),e.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0}),e.addProperty("Role",3,rtl.string,"GetRole","SetRole"),e.addProperty("ShowFocus",2,rtl.boolean,"FShowFocus","SetShowFocus",{Default:!1}),e.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),e.addProperty("Style",2,t.$rtti.TComboBoxStyle,"FStyle","SetStyle"),e.addProperty("TabOrder",2,rtl.longint,"FTabOrder","SetTabOrder"),e.addProperty("TabStop",2,rtl.boolean,"FTabStop","SetTabStop",{Default:!0}),e.addProperty("Text",3,rtl.string,"GetText","SetText"),e.addProperty("TextDirection",0,pas["WEBLib.Controls"].$rtti.TTextDirection,"FTextDirection","FTextDirection",{Default:pas["WEBLib.Controls"].TTextDirection.tdDefault}),e.addProperty("TextHint",2,rtl.string,"FTextHint","SetTextHint"),e.addProperty("Top",3,rtl.longint,"GetTop","SetTop"),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("Width",3,rtl.longint,"GetWidth","SetWidth"),e.addProperty("WidthPercent",2,rtl.double,"FWidthPercent","SetWidthPercent",{Default:100}),e.addProperty("WidthStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FWidthStyle","SetWidthStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("OnChange",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnChange","FOnChange"),e.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),e.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),e.addProperty("OnKeyDown",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyDown","FOnKeyDown"),e.addProperty("OnKeyPress",0,pas["WEBLib.Controls"].$rtti.TKeyPressEvent,"FOnKeyPress","FOnKeyPress"),e.addProperty("OnKeyUp",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyUp","FOnKeyUp"),e.addProperty("OnMouseDown",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseDown","FOnMouseDown"),e.addProperty("OnMouseUp",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseUp","FOnMouseUp"),e.addProperty("OnMouseMove",0,pas["WEBLib.Controls"].$rtti.TMouseMoveEvent,"FOnMouseMove","FOnMouseMove"),e.addProperty("OnMouseLeave",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseLeave","FOnMouseLeave"),e.addProperty("OnMouseEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseEnter","FOnMouseEnter"),e.addProperty("OnEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnEnter","FOnEnter"),e.addProperty("OnExit",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnExit","FOnExit"),e.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),e.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),e.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag"),e.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag")})),rtl.createClass(this,"TCustomMemo",pas["WEBLib.Menus"].TWebCustomControl,(function(){this.$init=function(){pas["WEBLib.Menus"].TWebCustomControl.$init.call(this),this.FWordWrap=!1,this.FBlockChange=!1,this.FLines=null,this.FSelStart=0,this.FSelLength=0,this.FCaretPosition=pas.Types.TPoint.$new(),this.FAutoSize=!1,this.FOnChange=null,this.FReadOnly=!1,this.FTextHint="",this.FHandleChangePtr=null,this.FHandlePastePtr=null,this.FHandleCutPtr=null,this.FHandleInputPtr=null,this.FWantTabs=!1,this.FAutoCompletion=0,this.FSpellCheck=!1,this.FModified=!1,this.FScrollbars=0},this.$final=function(){this.FLines=void 0,this.FCaretPosition=void 0,this.FOnChange=void 0,pas["WEBLib.Menus"].TWebCustomControl.$final.call(this)},this.GetText=function(){return null!=this.GetElementInputHandle()&&(this.FBlockChange=!0,this.FLines.SetTextStr(this.GetElementInputHandle().value),this.FBlockChange=!1),this.FLines.GetTextStr()},this.SetText=function(t){this.FLines.SetTextStr(t)},this.SetSelLength=function(t){this.FSelLength!==t&&(this.FSelLength=t,this.UpdateElement())},this.SetSelStart=function(t){this.FSelStart!==t&&(this.FSelStart=t,this.UpdateElement())},this.SetAutoSize=function(t){this.FAutoSize!==t&&(this.FAutoSize=t,this.UpdateElement())},this.GetElementInputHandle=function(){return this.GetContainer()},this.SetReadOnly=function(t){this.FReadOnly!==t&&(this.FReadOnly=t,this.UpdateElement())},this.GetSelLength=function(){var t=0;return t=-1,null!=this.GetElementInputHandle()&&(t=this.GetElementInputHandle().selectionEnd-this.GetElementInputHandle().selectionStart),t},this.GetSelStart=function(){var t=0;return t=-1,null!=this.GetElementInputHandle()&&(t=this.GetElementInputHandle().selectionStart),t},this.SetSpellCheck=function(t){this.FSpellCheck!==t&&(this.FSpellCheck=t,this.UpdateElement())},this.IsInputControl=function(){return!0,!0},this.HandleDoKeyDown=function(t){var e=!1,i=null;if(9===this.GetKeyCode(t.key,!0)&&this.FWantTabs){var s=(i=this.GetElementInputHandle()).selectionStart,o=i.selectionEnd;i.value=i.value.substring(0,s)+"\t"+i.value.substring(o),i.selectionStart=i.selectionEnd=s+1,t.stopPropagation(),t.preventDefault()}else pas["WEBLib.Controls"].TControl.HandleDoKeyDown.apply(this,arguments);return e},this.CreateElement=function(){return document.createElement("TEXTAREA")},this.DoHandlePaste=function(t){var e="",i=!1;i=!1;var s=t.clipboardData||window.clipboardData;return s&&(e=s.getData("Text"),i=!0),i&&!this.CanPaste(e)&&(t.preventDefault(),t.stopPropagation()),!1,!1},this.DoHandleCut=function(t){return this.CanCut()||(t.preventDefault(),t.stopPropagation()),!1,!1},this.DoHandleInput=function(t){return this.GetText(),this.Change(),this.FAutoSize&&this.DoAutoSize(),!0,!0},this.DoHandleChange=function(t){return this.FModified=!0,this.Change(),!0,!0},this.IsReadOnly=function(){return this.FReadOnly},this.GetDisplayText=function(){return this.FLines.GetTextStr()},this.DoAutoSize=function(){var t,e=0;this.GetElementInputHandle().style.setProperty("overflow","hidden"),this.GetElementInputHandle().style.setProperty("height","auto"),t=this.GetElementInputHandle(),e=t.scrollHeight,this.GetElementInputHandle().style.setProperty("height",pas.SysUtils.TIntegerHelper.ToString$1.call({get:function(){return e},set:function(t){e=t}})+"px")},this.BindEvents=function(){pas["WEBLib.Controls"].TCustomControl.BindEvents.call(this),null!=this.GetElementInputHandle()&&(this.GetElementInputHandle().addEventListener("input",this.FHandleInputPtr),this.GetElementInputHandle().addEventListener("change",this.FHandleChangePtr),this.GetElementInputHandle().addEventListener("paste",this.FHandlePastePtr),this.GetElementInputHandle().addEventListener("cut",this.FHandleCutPtr))},this.UnbindEvents=function(){pas["WEBLib.Controls"].TControl.UnbindEvents.call(this),null!=this.GetElementInputHandle()&&(this.GetElementInputHandle().removeEventListener("input",this.FHandleInputPtr),this.GetElementInputHandle().removeEventListener("change",this.FHandleChangePtr),this.GetElementInputHandle().removeEventListener("paste",this.FHandlePastePtr),this.GetElementInputHandle().removeEventListener("cut",this.FHandleCutPtr))},this.UpdateElementData=function(){var e=0,i=0,s=null;pas["WEBLib.Controls"].TControl.UpdateElementData.call(this),null==this.GetElementInputHandle()||this.FBlockChange||(this.GetElementInputHandle().value=this.GetDisplayText(),"TEXTAREA"===this.GetElementInputHandle().tagName&&this.GetElementInputHandle().setSelectionRange(this.GetSelStart(),this.GetSelStart()+this.GetSelLength()),this.GetIsLinked()||this.GetElementInputHandle().style.setProperty("resize","none"),this.GetElementInputHandle().readOnly=this.IsReadOnly(),""!==this.FTextHint&&(this.GetElementInputHandle().placeholder=this.FTextHint),this.GetIsLinked()||(51===this.FAutoCompletion?(this.GetElementInputHandle().setAttribute("autocomplete","none"),this.GetIsLinked()||this.GetElementInputHandle().removeAttribute("name")):0!==this.FAutoCompletion?(this.GetElementInputHandle().setAttribute("autocomplete","on"),this.GetIsLinked()||this.GetElementInputHandle().setAttribute("name",t.GetAutoCompletionName(this.FAutoCompletion))):(this.GetElementInputHandle().removeAttribute("autocomplete"),this.GetIsLinked()||this.GetElementInputHandle().removeAttribute("name")),e=this.FSelStart,i=this.FSelStart+this.FSelLength,s=this.GetElementInputHandle(),setTimeout((function(){s.setSelectionRange(e,i)}),1)))},this.UpdateElementVisual=function(){if(pas["WEBLib.Controls"].TCustomControl.UpdateElementVisual.call(this),null!=this.GetElementInputHandle()&&!this.FBlockChange&&!this.GetIsLinked()){if(this.FAutoSize)this.GetElementInputHandle().style.setProperty("overflow","hidden"),this.GetElementInputHandle().style.setProperty("height","auto");else{this.GetElementInputHandle().style.setProperty("overflow","auto");var t=this.FScrollbars;0===t?this.GetElementInputHandle().style.setProperty("overflow","hidden"):2===t?(this.GetElementInputHandle().style.removeProperty("overflow"),this.GetElementInputHandle().style.setProperty("overflow-x","hidden"),this.GetElementInputHandle().style.setProperty("overflow-y","auto")):1===t?(this.GetElementInputHandle().style.removeProperty("overflow"),this.GetElementInputHandle().style.setProperty("overflow-x","auto"),this.GetElementInputHandle().style.setProperty("overflow-y","hidden")):3===t&&this.GetElementInputHandle().style.setProperty("overflow","auto")}this.GetElementInputHandle().style.setProperty("margin","0"),-1!==this.FColor&&16711422!==this.FColor?this.GetElementInputHandle().style.setProperty("background-color",pas["WEBLib.Graphics"].ColorToHTML(this.FColor)):this.GetElementInputHandle().style.removeProperty("background-color"),this.FSpellCheck?this.GetElementInputHandle().hasAttribute("spellcheck")&&this.GetElementInputHandle().removeAttribute("spellcheck"):this.GetElementInputHandle().setAttribute("spellcheck","false"),this.FWordWrap?this.GetElementInputHandle().hasAttribute("wrap")&&this.GetElementInputHandle().removeAttribute("wrap"):this.GetElementInputHandle().setAttribute("wrap","off")}},this.UpdateElementSize=function(){pas["WEBLib.Controls"].TControl.UpdateElementSize.call(this),this.FAutoSize&&this.DoAutoSize()},this.SetLines=function(t){this.FLines.Assign(t)},this.ClearMethodPointers=function(){pas["WEBLib.Controls"].TControl.ClearMethodPointers.call(this),this.FHandleChangePtr=null,this.FHandleInputPtr=null,this.FHandlePastePtr=null,this.FHandleCutPtr=null},this.GetMethodPointers=function(){pas["WEBLib.Controls"].TControl.GetMethodPointers.call(this),this.FHandleChangePtr=rtl.createCallback(this,"DoHandleChange"),this.FHandleInputPtr=rtl.createCallback(this,"DoHandleInput"),this.FHandlePastePtr=rtl.createCallback(this,"DoHandlePaste"),this.FHandleCutPtr=rtl.createCallback(this,"DoHandleCut")},this.DoLinesChange=function(t){null==this.GetElementInputHandle()||this.FBlockChange||(this.GetElementInputHandle().value=this.GetDisplayText(),this.GetElementInputHandle().readOnly=this.IsReadOnly())},this.CanPaste=function(t){return!0,!0},this.CanCut=function(){return!0,!0},this.Change=function(){null!=this.FOnChange&&this.FOnChange(this)},this.CreateInitialize=function(){pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),this.FSpellCheck=!0,this.FLines=pas.Classes.TStringList.$create("Create$1"),this.FLines.SetSkipLastLineBreak(!0),this.FLines.FOnChange=rtl.createCallback(this,"DoLinesChange"),4 in this.FComponentState&&(this.SetWidth(400),this.SetHeight(300)),this.SetShowFocus(!0),this.SetClipChildren(!1),this.FWantTabs=!1,this.FAutoSize=!1,this.FAutoCompletion=0,this.FWordWrap=!0,this.FScrollbars=3,this.FNoUserSelect=!1},this.Destroy=function(){rtl.free(this,"FLines"),pas["WEBLib.Controls"].TCustomControl.Destroy.call(this)},rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TMemo",this.TCustomMemo,(function(){rtl.addIntf(this,pas.System.IUnknown);var t=this.$rtti;t.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),t.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),t.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),t.addProperty("AutoSize",2,rtl.boolean,"FAutoSize","SetAutoSize"),t.addProperty("BiDiMode",2,pas["WEBLib.Controls"].$rtti.TBiDiMode,"FBiDiMode","SetBiDiMode",{Default:pas["WEBLib.Controls"].TBiDiMode.bdLeftToRight}),t.addProperty("BorderStyle",2,pas["WEBLib.Controls"].$rtti.TBorderStyle,"FBorderStyle","SetBorderStyle",{Default:pas["WEBLib.Controls"].TBorderStyle.bsSingle}),t.addProperty("ChildOrder",2,rtl.longint,"FChildOrder","SetChildOrderEx",{Default:0}),t.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor"),t.addProperty("DragMode",2,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode","SetDragMode",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),t.addProperty("ElementClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","SetElementClassName"),t.addProperty("ElementID",3,pas["WEBLib.Controls"].$rtti.TElementID,"GetID","SetID"),t.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),t.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),t.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),t.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),t.addProperty("Height",3,rtl.longint,"GetHeight","SetHeight"),t.addProperty("HeightPercent",2,rtl.double,"FHeightPercent","SetHeightPercent",{Default:100}),t.addProperty("HeightStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FHeightStyle","SetHeightStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),t.addProperty("Hint",2,rtl.string,"FHint","SetHint"),t.addProperty("Left",3,rtl.longint,"GetLeft","SetLeft"),t.addProperty("Lines",2,pas.Classes.$rtti.TStrings,"FLines","SetLines"),t.addProperty("Margins",2,pas["WEBLib.Controls"].$rtti.TMargins,"FMargins","SetMargins"),t.addProperty("ParentColor",2,rtl.boolean,"FParentColor","SetParentColor",{Default:!1}),t.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0}),t.addProperty("PopupMenu",0,pas["WEBLib.Menus"].$rtti.TPopupMenu,"FPopupMenu","FPopupMenu"),t.addProperty("ReadOnly",2,rtl.boolean,"FReadOnly","SetReadOnly"),t.addProperty("Role",3,rtl.string,"GetRole","SetRole"),t.addProperty("SelStart",3,rtl.longint,"GetSelStart","SetSelStart"),t.addProperty("SelLength",3,rtl.longint,"GetSelLength","SetSelLength"),t.addProperty("ShowFocus",2,rtl.boolean,"FShowFocus","SetShowFocus",{Default:!1}),t.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),t.addProperty("Spellcheck",2,rtl.boolean,"FSpellCheck","SetSpellCheck",{Default:!0}),t.addProperty("TabOrder",2,rtl.longint,"FTabOrder","SetTabOrder"),t.addProperty("TabStop",2,rtl.boolean,"FTabStop","SetTabStop",{Default:!0}),t.addProperty("TextDirection",0,pas["WEBLib.Controls"].$rtti.TTextDirection,"FTextDirection","FTextDirection",{Default:pas["WEBLib.Controls"].TTextDirection.tdDefault}),t.addProperty("Top",3,rtl.longint,"GetTop","SetTop"),t.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),t.addProperty("Width",3,rtl.longint,"GetWidth","SetWidth"),t.addProperty("WidthPercent",2,rtl.double,"FWidthPercent","SetWidthPercent",{Default:100}),t.addProperty("WidthStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FWidthStyle","SetWidthStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),t.addProperty("OnChange",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnChange","FOnChange"),t.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),t.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),t.addProperty("OnKeyDown",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyDown","FOnKeyDown"),t.addProperty("OnKeyPress",0,pas["WEBLib.Controls"].$rtti.TKeyPressEvent,"FOnKeyPress","FOnKeyPress"),t.addProperty("OnKeyUp",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyUp","FOnKeyUp"),t.addProperty("OnMouseDown",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseDown","FOnMouseDown"),t.addProperty("OnMouseUp",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseUp","FOnMouseUp"),t.addProperty("OnMouseMove",0,pas["WEBLib.Controls"].$rtti.TMouseMoveEvent,"FOnMouseMove","FOnMouseMove"),t.addProperty("OnMouseLeave",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseLeave","FOnMouseLeave"),t.addProperty("OnMouseEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseEnter","FOnMouseEnter"),t.addProperty("OnMouseWheel",0,pas["WEBLib.Controls"].$rtti.TMouseWheelEvent,"FOnMouseWheel","FOnMouseWheel"),t.addProperty("OnEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnEnter","FOnEnter"),t.addProperty("OnExit",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnExit","FOnExit"),t.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),t.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),t.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag"),t.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag")})),rtl.createClass(this,"TControlGroup",pas["WEBLib.Menus"].TWebCustomControl,(function(){this.$init=function(){pas["WEBLib.Menus"].TWebCustomControl.$init.call(this),this.FControls$1=null,this.FOldCount=0,this.FColumns=0,this.FItems=null,this.FOnChange=null,this.FElementButtonClassName="",this.FElementLabelClassName="",this.FElementGroupClassName="",this.FControlPosition=0,this.FElementLegendClassName=""},this.$final=function(){this.FControls$1=void 0,this.FItems=void 0,this.FOnChange=void 0,pas["WEBLib.Menus"].TWebCustomControl.$final.call(this)},this.SetControlPosition=function(t){this.FControlPosition!==t&&(this.FControlPosition=t,this.DoUpdateList())},this.CreateElement=function(){var t=null,e=null;return t=document.createElement("FIELDSET"),e=document.createElement("LEGEND"),t.appendChild(e),e.innerHTML=this.FCaption,e.setAttribute("class","w-auto "+this.FElementLegendClassName),""===this.FCaption?e.style.setProperty("display","none"):e.style.setProperty("display",""),e.style.setProperty("float","none"),t.style.setProperty("display","inline-block"),t.style.setProperty("-webkit-padding-before","0px"),t.style.setProperty("-webkit-padding-after","0px"),t.style.setProperty("-webkit-padding-end","0px"),t.style.setProperty("-webkit-padding-start","0px"),t.style.setProperty("border","1px"),t},this.DoHandleClick=function(t){this.Change()},this.DoItemsChange=function(t){this.DoUpdateList()},this.DoControlClick=function(t){this.DoHandleClick(rtl.as(t,pas["WEBLib.Controls"].TCustomControl))},this.SetCaption=function(t){var e=null;pas["WEBLib.Controls"].TCustomControl.SetCaption.call(this,t),null!=this.GetContainer()&&null!=(e=this.GetContainer().firstElementChild)&&(e.innerHTML=t,""===t?e.style.setProperty("display","none"):e.style.setProperty("display",""))},this.SetColumns=function(t){this.FColumns>0&&this.FColumns!==t&&(this.FColumns=t,this.DoUpdateList())},this.SetItems=function(t){this.FItems.Assign(t),this.DoUpdateList()},this.DoUpdateList=function(){var e,i,s=0,o="",n=null,a=0,r=0,l=0,h=0,F=null,p=[];if(null!=this.GetContainer()&&0!==this.FItems.GetCount()){i=Math.round(2.5*this.FFont.FSize),e=rtl.trunc(this.GetWidth()/this.FColumns),a=""!==this.FCaption?this.FFont.FSize:4,r=0,l=0,this.FOldCount>0&&(p=rtl.arraySetLength(p,!1,this.FOldCount));for(var C=0,u=this.FOldCount-1;C<=u;C++)s=C,n=rtl.getObject(this.FControls$1.Get(s)),t.TRadioButton.isPrototypeOf(n)&&(p[s]=rtl.as(n,t.TRadioButton).GetChecked()),t.TCheckBox.isPrototypeOf(n)&&(p[s]=rtl.as(n,t.TCheckBox).GetChecked()),n=rtl.freeLoc(n);for(this.FControls$1.Clear();this.GetContainer().childElementCount>0;)this.GetContainer().removeChild(this.GetContainer().firstChild);""!==this.FCaption&&(F=document.createElement("LEGEND"),this.GetElementHandle().appendChild(F),F.innerHTML=this.FCaption,F.setAttribute("class","w-auto "+this.FElementLegendClassName),F.style.setProperty("float","none"),pas["WEBLib.Controls"].SetHTMLElementFont(F,this.FFont,!(0===this.FElementFont&&""===this.FElementClassName))),""!==this.FElementGroupClassName?this.GetElementHandle().setAttribute("class",this.FElementGroupClassName):this.GetElementHandle().setAttribute("class","border p-2"),this.GetContainer().style.setProperty("margin","0px");for(var d=0,c=this.FItems.GetCount()-1;d<=c;d++)s=d,h=a+l*i,o=this.FItems.Get(s),(n=this.CreateGroupControl(4+r*e,h,s,o,this.FControlPosition,this.GetGroupControlState(s),!0)).SetEnabled(this.FEnabled),this.FControls$1.Add(n),s<=this.FOldCount&&(t.TRadioButton.isPrototypeOf(n)&&rtl.as(n,t.TRadioButton).SetChecked(p[s]),t.TCheckBox.isPrototypeOf(n)&&rtl.as(n,t.TCheckBox).SetChecked(p[s])),this.GetIsLinked()||(n.GetContainer().style.setProperty("float","left"),n.GetContainer().style.setProperty("width",pas.SysUtils.IntToStr(pas.System.Trunc(100/this.FColumns)-5)+"%"),this.FTabStop?(n.GetContainer().setAttribute("tabindex",pas.SysUtils.TIntegerHelper.ToString$1.call({p:this,get:function(){return this.p.FTabOrder},set:function(t){this.p.FTabOrder=t}})),this.GetContainer().setAttribute("tabindex","-1")):n.GetContainer().setAttribute("tabindex","-1")),s%this.FColumns==0&&n.GetContainer().style.setProperty("clear","left"),this.GetElementHandle().appendChild(n.GetContainer()),r<this.FColumns-1?r+=1:(r=0,l+=1);this.FOldCount=this.FItems.GetCount()}},this.Change=function(){null!=this.FOnChange&&this.FOnChange(this)},this.Loaded=function(){pas["WEBLib.Controls"].TCustomControl.Loaded.call(this),this.DoUpdateList()},this.FontChanged=function(){pas["WEBLib.Controls"].TControl.FontChanged.call(this),this.DoUpdateList()},this.CreateGroupControl=function(t,e,i,s,o,n,a){return null,null},this.GetGroupControlState=function(t){return!1,!1},this.GetGroupControl=function(t){return rtl.getObject(this.FControls$1.Get(t))},this.SetEnabled=function(t){var e=0;pas["WEBLib.Controls"].TControl.SetEnabled.apply(this,arguments);for(var i=0,s=this.FControls$1.GetCount()-1;i<=s;i++)e=i,rtl.getObject(this.FControls$1.Get(e)).SetEnabled(t)},this.CreateInitialize=function(){pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),this.FColumns=1,this.FControls$1=pas.Classes.TList.$create("Create$1"),this.FItems=pas.Classes.TStringList.$create("Create$1"),this.FItems.FOnChange=rtl.createCallback(this,"DoItemsChange"),this.FOldCount=-1,this.FControlPosition=0,4 in this.FComponentState&&(this.SetWidth(200),this.SetHeight(200))},this.Destroy=function(){rtl.free(this,"FControls$1"),rtl.free(this,"FItems"),pas["WEBLib.Controls"].TCustomControl.Destroy.call(this)},this.EndUpdate=function(){pas["WEBLib.Controls"].TCustomControl.EndUpdate.call(this),this.DoUpdateList()},this.SetHeight=function(t){pas["WEBLib.Controls"].TControl.SetHeight.apply(this,arguments),this.DoUpdateList()},this.SetWidth=function(t){pas["WEBLib.Controls"].TControl.SetWidth.apply(this,arguments),this.DoUpdateList()},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),e.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),e.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),e.addProperty("Caption",2,rtl.string,"FCaption","SetCaption"),e.addProperty("ChildOrder",2,rtl.longint,"FChildOrder","SetChildOrderEx",{Default:0}),e.addProperty("Columns",2,rtl.longint,"FColumns","SetColumns"),e.addProperty("ControlPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FControlPosition","SetControlPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),e.addProperty("DragMode",2,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode","SetDragMode",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),e.addProperty("ElementClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","SetElementClassName"),e.addProperty("ElementButtonClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementButtonClassName","FElementButtonClassName"),e.addProperty("ElementGroupClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementGroupClassName","FElementGroupClassName"),e.addProperty("ElementLabelClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementLabelClassName","FElementLabelClassName"),e.addProperty("ElementLegendClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementLegendClassName","FElementLegendClassName"),e.addProperty("ElementID",3,pas["WEBLib.Controls"].$rtti.TElementID,"GetID","SetID"),e.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),e.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),e.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),e.addProperty("Height",3,rtl.longint,"GetHeight","SetHeight"),e.addProperty("HeightPercent",2,rtl.double,"FHeightPercent","SetHeightPercent",{Default:100}),e.addProperty("HeightStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FHeightStyle","SetHeightStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("Items",2,pas.Classes.$rtti.TStrings,"FItems","SetItems"),e.addProperty("Margins",2,pas["WEBLib.Controls"].$rtti.TMargins,"FMargins","SetMargins"),e.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0}),e.addProperty("PopupMenu",0,pas["WEBLib.Menus"].$rtti.TPopupMenu,"FPopupMenu","FPopupMenu"),e.addProperty("Role",3,rtl.string,"GetRole","SetRole"),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("Width",3,rtl.longint,"GetWidth","SetWidth"),e.addProperty("WidthPercent",2,rtl.double,"FWidthPercent","SetWidthPercent",{Default:100}),e.addProperty("WidthStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FWidthStyle","SetWidthStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("OnChange",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnChange","FOnChange"),e.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),e.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),e.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag"),e.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag")})),rtl.createClass(this,"TRadioGroup",this.TControlGroup,(function(){this.$init=function(){t.TControlGroup.$init.call(this),this.FItemIndex=0,this.FOldItemIndex=0},this.DoHandleClick=function(t){this.GetItemIndex()!==this.FOldItemIndex&&(this.Change(),this.FOldItemIndex=this.GetItemIndex())},this.GetItemIndex=function(){var t=0,e=null,i=0;t=this.FItemIndex;for(var s=0,o=this.FItems.GetCount()-1;s<=o;s++)i=s,null!=(e=document.getElementById(this.GetID()+pas.SysUtils.IntToStr(i)+"rd"))&&e.checked&&(t=i);return t},this.SetItemIndex=function(t){var e=null;-1===t&&this.GetItemIndex()>=0?(null!=(e=document.getElementById(this.GetID()+pas.SysUtils.IntToStr(this.GetItemIndex())+"rd"))&&(e.checked=!1),this.FItemIndex=-1):(this.FItemIndex=t,t>=0&&t<this.FItems.GetCount()&&null!=(e=document.getElementById(this.GetID()+pas.SysUtils.IntToStr(t)+"rd"))&&(e.checked=!0))},this.CreateGroupControl=function(e,i,s,o,n,a,r){var l=null,h="";return""===(h=this.GetID())&&(h=this.FName),(l=t.TRadioButton.$create("Create$2",[h+pas.SysUtils.IntToStr(s)])).SetElementPosition(n),l.SetElementFont(this.FElementFont),l.SetElementClassName(this.FElementClassName),l.FElementButtonClassName=this.FElementButtonClassName,l.FElementLabelClassName=this.FElementLabelClassName,l.SetHeightStyle(2),l.SetParentFont(!1),l.FFont.Assign(this.FFont),l.SetParent(this),l.SetCaption(o),l.SetGroupName(h),l.SetTop(i),l.SetLeft(e),l.SetWidthStyle(2),l.SetWidthPercent(100),l.FOnClick=rtl.createCallback(this,"DoControlClick"),l.SetChecked(a),l.SetEnabled(r),l.FTag$1=s,l.SetTabStop(!0),l},this.GetGroupControlState=function(t){return t===this.FItemIndex},this.CreateInitialize=function(){t.TControlGroup.CreateInitialize.call(this),this.FItemIndex=-1,this.FOldItemIndex=-2},this.SetFocus=function(){var t=0,e=null;0!==this.FItems.GetCount()&&((t=this.GetItemIndex())<0&&(t=0),null!=(e=this.GetGroupControl(t))&&e.SetFocus())},rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addProperty("ItemIndex",3,rtl.longint,"GetItemIndex","SetItemIndex")})),this.$rtti.$MethodVar("TCheckClickEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AIndex",rtl.longint]]),methodkind:0}),rtl.createClass(this,"TCheckGroup",this.TControlGroup,(function(){this.$init=function(){t.TControlGroup.$init.call(this),this.FOnCheckClick=null},this.$final=function(){this.FOnCheckClick=void 0,t.TControlGroup.$final.call(this)},this.DoHandleClick=function(e){t.TControlGroup.DoHandleClick.apply(this,arguments),null!=this.FOnCheckClick&&this.FOnCheckClick(this,e.FTag$1)},this.CreateGroupControl=function(e,i,s,o,n,a,r){var l=null,h="";return""===(h=this.GetID())&&(h=this.FName),(l=t.TCheckBox.$create("Create$2",[h+pas.SysUtils.IntToStr(s)])).SetCaption(o),l.SetElementPosition(n),l.SetElementFont(this.FElementFont),l.SetElementClassName(this.FElementClassName),l.FElementButtonClassName=this.FElementButtonClassName,l.FElementLabelClassName=this.FElementLabelClassName,l.SetParentFont(!1),l.FFont.Assign(this.FFont),l.SetParent(this),l.SetTop(i),l.SetLeft(e),l.SetWidthStyle(0),l.SetWidthPercent(100),l.SetHeightStyle(2),l.FOnCheckClick=rtl.createCallback(this,"DoControlClick"),l.SetChecked(a),l.SetEnabled(r),l.FTag$1=s,l.SetTabStop(!0),l},this.GetGroupControlState=function(t){return!1,!1},this.CreateInitialize=function(){t.TControlGroup.CreateInitialize.call(this)},this.SetFocus=function(){var t=null;this.FItems.GetCount()>0&&null!=(t=this.GetGroupControl(0))&&t.SetFocus()},rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addProperty("OnCheckClick",0,t.$rtti.TCheckClickEvent,"FOnCheckClick","FOnCheckClick")})),rtl.createClass(this,"TScrollBarContent",pas["WEBLib.Controls"].TCustomControl,(function(){this.CreateElement=function(){return document.createElement("SPAN")},rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TScrollBar",pas["WEBLib.Controls"].TCustomControl,(function(){this.$init=function(){pas["WEBLib.Controls"].TCustomControl.$init.call(this),this.FScrolling=!1,this.FContent=null,this.FKind=0,this.FPosition=0,this.FSmallChange=0,this.FMax=0,this.FMin=0,this.FLargeChange=0,this.FPageSize=0,this.FOnChange=null,this.FScrollPtr=null},this.$final=function(){this.FContent=void 0,this.FOnChange=void 0,pas["WEBLib.Controls"].TCustomControl.$final.call(this)},this.SetKind=function(t){if(this.FKind!==t){this.FKind=t;var e=this.FKind;0===e?this.SetBounds(this.GetLeft(),this.GetTop(),this.GetHeight(),17):1===e&&this.SetBounds(this.GetLeft(),this.GetTop(),17,this.GetWidth()),this.UpdateElement(),this.UpdateContent()}},this.SetPosition=function(t){this.FPosition!==t&&(this.FPosition=t,this.UpdateContent())},this.SetMax=function(t){this.FMax!==t&&(this.FMax=t,this.UpdateContent())},this.SetMin=function(t){this.FMin!==t&&(this.FMin=t,this.UpdateContent())},this.SetPageSize=function(t){this.FPageSize!==t&&(this.FPageSize=t,this.UpdateContent())},this.GetPosition=function(){var t=0;if(t=0,null!=this.GetElement()){var e=this.FKind;0===e?t=Math.round(this.GetValue(this.GetElement().scrollLeft)):1===e&&(t=Math.round(this.GetValue(this.GetElement().scrollTop)))}else t=this.FPosition;return t},this.GetPageSize=function(){var t=0;return 0===(t=this.FPageSize)&&(t=25),t},this.GetValue=function(t){var e=0;if(e=0,null!=this.FContent){var i=this.FKind;0===i?this.FContent.GetWidth()>0&&(e=t/this.FContent.GetWidth()*(this.FMax-this.FMin)):1===i&&this.FContent.GetHeight()>0&&(e=t/this.FContent.GetHeight()*(this.FMax-this.FMin))}return e},this.CreateElement=function(){return document.createElement("SPAN")},this.DoScroll=function(t){return this.FScrolling=!0,null!=this.FOnChange&&this.FOnChange(this),this.FScrolling=!1,!0,!0},this.BindEvents=function(){pas["WEBLib.Controls"].TCustomControl.BindEvents.call(this),null!=this.GetElementHandle()&&this.GetElementHandle().addEventListener("scroll",this.FScrollPtr)},this.UnbindEvents=function(){pas["WEBLib.Controls"].TControl.UnbindEvents.call(this),null!=this.GetElementHandle()&&this.GetElementHandle().removeEventListener("scroll",this.FScrollPtr)},this.UpdateElementVisual=function(){if(pas["WEBLib.Controls"].TCustomControl.UpdateElementVisual.call(this),null!=this.GetElementHandle()){this.GetElementHandle().style.setProperty("overflow","auto");var t=this.FKind;0===t?(this.GetElementHandle().style.setProperty("overflow-y","hidden"),this.GetElementHandle().style.setProperty("overflow-x","")):1===t&&(this.GetElementHandle().style.setProperty("overflow-y",""),this.GetElementHandle().style.setProperty("overflow-x","hidden"))}},this.UpdateContent=function(){var t,e,i=0,s=0,o=0,n=0;if(null!=this.FContent&&null!=this.GetElementHandle()&&!this.FScrolling){t=this.GetPageSize(),e=(this.FMax-this.FMin)/t;var a=this.FKind;0===a?(s=0,n=this.GetHeight(),o=Math.round(e*this.GetWidth()),i=Math.round((this.FPosition-this.FMin)/(this.FMax-this.FMin)*o)):1===a&&(i=0,o=this.GetWidth(),n=Math.round(e*this.GetHeight()),s=Math.round((this.FPosition-this.FMin)/(this.FMax-this.FMin)*n)),this.FContent.SetBounds(0,0,o,n),this.GetElementHandle().scrollLeft=i,this.GetElementHandle().scrollTop=s}},this.Loaded=function(){pas["WEBLib.Controls"].TCustomControl.Loaded.call(this),this.UpdateContent()},this.ClearMethodPointers=function(){pas["WEBLib.Controls"].TControl.ClearMethodPointers.call(this),this.FScrollPtr=null},this.GetMethodPointers=function(){pas["WEBLib.Controls"].TControl.GetMethodPointers.call(this),this.FScrollPtr=rtl.createCallback(this,"DoScroll")},this.CreateInitialize=function(){pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),this.SetTabStop(!0),this.FKind=0,this.FPosition=0,this.FMin=0,this.FMax=100,this.FSmallChange=1,this.FLargeChange=1,this.FContent=t.TScrollBarContent.$create("Create$1",[this]),this.FContent.SetParent(this),this.FContent.SetWidth(121),this.FContent.SetHeight(17),4 in this.FComponentState&&(this.SetWidth(121),this.SetHeight(17)),this.UpdateContent()},this.Destroy=function(){rtl.free(this,"FContent"),pas["WEBLib.Controls"].TCustomControl.Destroy.call(this)},this.SetBounds=function(t,e,i,s){pas["WEBLib.Controls"].TControl.SetBounds.apply(this,arguments),this.UpdateContent()},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),e.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),e.addProperty("DragMode",2,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode","SetDragMode",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),e.addProperty("Height",3,rtl.longint,"GetHeight","SetHeight"),e.addProperty("Kind",2,pas["WEBLib.Controls"].$rtti.TScrollBarKind,"FKind","SetKind"),e.addProperty("Position",3,rtl.longint,"GetPosition","SetPosition"),e.addProperty("Left",3,rtl.longint,"GetLeft","SetLeft"),e.addProperty("SmallChange",0,rtl.longint,"FSmallChange","FSmallChange"),e.addProperty("LargeChange",0,rtl.longint,"FLargeChange","FLargeChange"),e.addProperty("Max",2,rtl.longint,"FMax","SetMax"),e.addProperty("Min",2,rtl.longint,"FMin","SetMin"),e.addProperty("PageSize",3,rtl.longint,"GetPageSize","SetPageSize"),e.addProperty("Top",3,rtl.longint,"GetTop","SetTop"),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("Width",3,rtl.longint,"GetWidth","SetWidth"),e.addProperty("OnChange",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnChange","FOnChange"),e.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),e.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),e.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag"),e.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag")})),this.GetAutoCompletionName=function(t){var e="";return 0===t?e="":1===t?e="honorific-prefix":2===t?e="given-name":3===t?e="additional-name":4===t?e="family-name":5===t?e="honorific-suffix":6===t?e="nickname":7===t?e="email":8===t?e="username":9===t?e="new-password":10===t?e="current-password":11===t?e="organization-title":12===t?e="organization":13===t?e="street-address":14===t?e="address-line1":15===t?e="address-line2":16===t?e="address-line3":17===t?e="address-level1":18===t?e="address-level2":19===t?e="address-level3":20===t?e="address-level4":21===t?e="country":22===t?e="country-name":23===t?e="postal-code":24===t?e="cc-name":25===t?e="cc-given-name":26===t?e="cc-additional-name":27===t?e="cc-family-name":28===t?e="cc-number":29===t?e="cc-exp":30===t?e="cc-exp-month":31===t?e="cc-exp-year":32===t?e="cc-csc":33===t?e="cc-type":34===t?e="transaction-currency":35===t?e="transaction-amount":36===t?e="language":37===t?e="bday":38===t?e="bday-day":39===t?e="bday-month":40===t?e="bday-year":41===t?e="sex":42===t?e="tel":43===t?e="tel-country-code":44===t?e="tel-national":45===t?e="tel-area-code":46===t?e="tel-local":47===t?e="tel-extension":48===t?e="impp":49===t?e="url":50===t?e="photo":52===t&&(e="nope"),e}})),rtl.module("WEBLib.ExtCtrls",["System","Classes","SysUtils","Types","WEBLib.Controls","WEBLib.StdCtrls","WEBLib.Graphics","Web","JS","WEBLib.WebTools","WEBLib.Menus","WEBLib.REST"],(function(){"use strict";var t=this;this.TTrackBarOrientation={0:"trHorizontal",trHorizontal:0,1:"trVertical",trVertical:1},this.$rtti.$Enum("TTrackBarOrientation",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TTrackBarOrientation}),rtl.createClass(this,"TTrackBar",pas["WEBLib.StdCtrls"].TCustomInput,(function(){this.$init=function(){pas["WEBLib.StdCtrls"].TCustomInput.$init.call(this),this.FMax=0,this.FMin=0,this.FPosition=0,this.FOnChange=null,this.FOrientation=0},this.$final=function(){this.FOnChange=void 0,pas["WEBLib.StdCtrls"].TCustomInput.$final.call(this)},this.SetOrientation=function(t){var e=0,i=0;this.FOrientation!==t&&(e=this.GetWidth(),i=this.GetHeight(),this.FOrientation=t,0 in this.FComponentState||(this.SetWidth(i),this.SetHeight(e)),this.UpdateElement())},this.GetInputType=function(){return"range","range"},this.DoHandleChange=function(t){var e;return e=this.GetElementHandle(),this.FPosition=e.value,this.Change(),!0,!0},this.BindEvents=function(){pas["WEBLib.Controls"].TCustomControl.BindEvents.call(this),null!=this.GetElementHandle()&&(this.GetElementHandle().oninput=rtl.createSafeCallback(this,"DoHandleChange"))},this.SetMax=function(t){this.FMax!==t&&(this.FMax=t,this.DoUpdate())},this.SetMin=function(t){this.FMin!==t&&(this.FMin=t,this.DoUpdate())},this.SetPosition=function(t){this.FPosition!==t&&(this.FPosition=t,this.DoUpdate())},this.GetPosition=function(){var t,e=0;return e=this.FPosition,null==this.GetContainer()||""!==(t=this.GetContainer().value)&&(e=pas.SysUtils.StrToInt(t)),e},this.DoUpdate=function(){var t=null;null!=this.GetContainer()&&(this.GetContainer().setAttribute("max",pas.SysUtils.IntToStr(this.FMax)),this.GetContainer().setAttribute("min",pas.SysUtils.IntToStr(this.FMin)),(t=this.GetElementHandle()).value=this.FPosition,t.setAttribute("value",this.FPosition))},this.Change=function(){null!=this.FOnChange&&this.FOnChange(this)},this.CreateControl=function(){pas["WEBLib.Controls"].TCustomControl.CreateControl.call(this),this.DoUpdate()},this.UpdateElementVisual=function(){var t=null;pas["WEBLib.StdCtrls"].TCustomInput.UpdateElementVisual.call(this),t=this.GetElementHandle(),0===this.FOrientation?(t.removeAttribute("orient"),t.style.removeProperty("writing-mode"),t.style.removeProperty("-webkit-appearance"),t.style.removeProperty("height"),1===this.FWidthStyle&&t.style.setProperty("width",pas.SysUtils.IntToStr(this.GetWidth()))):(t.setAttribute("orient","vertical"),t.style.setProperty("writing-mode","bt-lt"),t.style.setProperty("-webkit-appearance","slider-vertical"),t.style.removeProperty("width"),1===this.FHeightStyle&&t.style.setProperty("height",pas.SysUtils.IntToStr(this.GetHeight())),t.style.setProperty("width","22px"))},this.CreateInitialize=function(){pas["WEBLib.StdCtrls"].TCustomInput.CreateInitialize.call(this),this.FMax=100,this.FMin=0,this.FPosition=0},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),e.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),e.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),e.addProperty("DragMode",2,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode","SetDragMode",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),e.addProperty("ElementClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","SetElementClassName"),e.addProperty("ElementID",3,pas["WEBLib.Controls"].$rtti.TElementID,"GetID","SetID"),e.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),e.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),e.addProperty("Height",3,rtl.longint,"GetHeight","SetHeight"),e.addProperty("HeightPercent",2,rtl.double,"FHeightPercent","SetHeightPercent",{Default:100}),e.addProperty("HeightStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FHeightStyle","SetHeightStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("Left",3,rtl.longint,"GetLeft","SetLeft"),e.addProperty("Margins",2,pas["WEBLib.Controls"].$rtti.TMargins,"FMargins","SetMargins"),e.addProperty("Max",2,rtl.longint,"FMax","SetMax",{Default:10}),e.addProperty("Min",2,rtl.longint,"FMin","SetMin",{Default:0}),e.addProperty("Orientation",2,t.$rtti.TTrackBarOrientation,"FOrientation","SetOrientation",{Default:t.TTrackBarOrientation.trHorizontal}),e.addProperty("Position",3,rtl.longint,"GetPosition","SetPosition",{Default:0}),e.addProperty("Role",3,rtl.string,"GetRole","SetRole"),e.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),e.addProperty("TabOrder",2,rtl.longint,"FTabOrder","SetTabOrder"),e.addProperty("TabStop",2,rtl.boolean,"FTabStop","SetTabStop",{Default:!0}),e.addProperty("Top",3,rtl.longint,"GetTop","SetTop"),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("Width",3,rtl.longint,"GetWidth","SetWidth"),e.addProperty("WidthPercent",2,rtl.double,"FWidthPercent","SetWidthPercent",{Default:100}),e.addProperty("WidthStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FWidthStyle","SetWidthStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),e.addProperty("OnChange",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnChange","FOnChange"),e.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),e.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),e.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag"),e.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag")})),rtl.createClass(this,"TWebTrackBar",this.TTrackBar,(function(){rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TTimer",pas.Classes.TComponent,(function(){this.$init=function(){pas.Classes.TComponent.$init.call(this),this.FInterval=0,this.FTimerID=0,this.FOnTimer=null,this.FEnabled=!1},this.$final=function(){this.FOnTimer=void 0,pas.Classes.TComponent.$final.call(this)},this.SetEnabled=function(t){this.FEnabled=t,this.DoUpdateTimer()},this.SetInterval=function(t){this.FInterval=t,this.DoUpdateTimer()},this.DoTimer=function(){null!=this.FOnTimer&&this.FOnTimer(this)},this.DoUpdateTimer=function(){this.DoClearTimer(),this.FEnabled&&(this.FTimerID=window.setInterval(rtl.createSafeCallback(this,"DoTimer"),this.FInterval))},this.DoClearTimer=function(){-1!==this.FTimerID&&(window.clearInterval(this.FTimerID),this.FTimerID=-1)},this.Create$1=function(t){return pas.Classes.TComponent.Create$1.apply(this,arguments),this.FInterval=1e3,this.FTimerID=-1,this.SetEnabled(!0),this},this.Destroy=function(){this.DoClearTimer(),pas.Classes.TComponent.Destroy.call(this)},rtl.addIntf(this,pas.System.IUnknown);var t=this.$rtti;t.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]]),t.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),t.addProperty("Interval",2,rtl.longint,"FInterval","SetInterval",{Default:1e3}),t.addProperty("OnTimer",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnTimer","FOnTimer")})),rtl.createClass(this,"TPaintBox",pas["WEBLib.Menus"].TWebGraphicControl,(function(){this.$init=function(){pas["WEBLib.Menus"].TWebGraphicControl.$init.call(this),this.FOnPaint=null},this.$final=function(){this.FOnPaint=void 0,pas["WEBLib.Menus"].TWebGraphicControl.$final.call(this)},this.Paint=function(){pas["WEBLib.Controls"].TCustomControl.Paint.call(this),null!=this.FOnPaint&&this.FOnPaint(this)},this.UpdateElementVisual=function(){pas["WEBLib.Controls"].TCustomControl.UpdateElementVisual.call(this),4 in this.FComponentState&&this.GetElementHandle().style.setProperty("border","1px dotted gray")},rtl.addIntf(this,pas.System.IUnknown);var t=this.$rtti;t.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),t.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),t.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),t.addProperty("DragMode",2,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode","SetDragMode",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),t.addProperty("ElementID",3,pas["WEBLib.Controls"].$rtti.TElementID,"GetID","SetID"),t.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),t.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),t.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),t.addProperty("HeightPercent",2,rtl.double,"FHeightPercent","SetHeightPercent",{Default:100}),t.addProperty("HeightStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FHeightStyle","SetHeightStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),t.addProperty("Margins",2,pas["WEBLib.Controls"].$rtti.TMargins,"FMargins","SetMargins"),t.addProperty("PopupMenu",0,pas["WEBLib.Menus"].$rtti.TPopupMenu,"FPopupMenu","FPopupMenu"),t.addProperty("WidthPercent",2,rtl.double,"FWidthPercent","SetWidthPercent",{Default:100}),t.addProperty("WidthStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FWidthStyle","SetWidthStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),t.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),t.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),t.addProperty("OnMouseWheel",0,pas["WEBLib.Controls"].$rtti.TMouseWheelEvent,"FOnMouseWheel","FOnMouseWheel"),t.addProperty("OnPaint",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnPaint","FOnPaint"),t.addProperty("OnTouchStart",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchStart","FOnTouchStart"),t.addProperty("OnTouchMove",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchMove","FOnTouchMove"),t.addProperty("OnTouchEnd",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchEnd","FOnTouchEnd"),t.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),t.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),t.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag"),t.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag")})),rtl.createClass(this,"TCustomPanel",pas["WEBLib.Menus"].TWebCustomControl,(function(){this.$init=function(){pas["WEBLib.Menus"].TWebCustomControl.$init.call(this),this.FAutoSize=!1,this.FIsSizing=!1,this.FPadding=null,this.FShowCaption=!1,this.FLabel=null,this.FPanelBody=null,this.FElementBodyClassName="",this.FAlignment=0},this.$final=function(){this.FPadding=void 0,this.FLabel=void 0,this.FPanelBody=void 0,pas["WEBLib.Menus"].TWebCustomControl.$final.call(this)},this.SetShowCaption=function(t){this.FShowCaption!==t&&(this.FShowCaption=t,this.UpdateElementVisual())},this.SetPadding=function(t){this.FPadding.Assign(t)},this.SetAlignment=function(t){this.FAlignment!==t&&(this.FAlignment=t,this.UpdateElement())},this.CreateElement=function(){var t=null;return t=document.createElement("SPAN"),this.FPanelBody=document.createElement("DIV"),this.FPanelBody.setAttribute("class","card-body"),t.appendChild(this.FPanelBody),t},this.SetCaption=function(t){pas["WEBLib.Controls"].TCustomControl.SetCaption.call(this,t),null!=this.GetElementHandle()&&this.FShowCaption&&(null==this.FLabel?(this.FLabel=document.createElement("SPAN"),this.FLabel.innerHTML=this.FCaption,null!=this.GetChildContainer()?this.GetChildContainer().appendChild(this.FLabel):this.GetElementHandle().appendChild(this.FLabel),this.UpdateElementVisual()):this.FLabel.innerHTML=this.FCaption)},this.SetBorderStyle=function(t){pas["WEBLib.Controls"].TCustomControl.SetBorderStyle.apply(this,arguments),this.UpdateElement()},this.SetAutoSize=function(t){this.FAutoSize=t,this.FAutoSize&&!this.IsUpdating()&&this.DoAutoSize()},this.UpdateElementVisual=function(){if(pas["WEBLib.Controls"].TCustomControl.UpdateElementVisual.call(this),null!=this.GetElementHandle()){if(this.GetIsLinked()||(this.FAutoSize?(this.GetElementHandle().style.setProperty("overflow",""),this.GetElementHandle().style.setProperty("white-space","normal"),this.FVisible&&this.GetElementHandle().style.setProperty("display","inline")):(this.GetElementHandle().style.setProperty("overflow","hidden"),this.GetElementHandle().style.setProperty("white-space","nowrap"),this.FVisible&&this.GetElementHandle().style.setProperty("display","inline-block")),this.GetElementHandle().style.setProperty("padding-left",pas.SysUtils.IntToStr(this.FPadding.FLeft)+"px"),this.GetElementHandle().style.setProperty("padding-right",pas.SysUtils.IntToStr(this.FPadding.FRight)+"px"),this.GetElementHandle().style.setProperty("padding-top",pas.SysUtils.IntToStr(this.FPadding.FTop)+"px"),this.GetElementHandle().style.setProperty("padding-bottom",pas.SysUtils.IntToStr(this.FPadding.FBottom)+"px"),this.GetElementHandle().style.setProperty("box-sizing","border-box"),""!==this.FElementBodyClassName?this.GetChildContainer().setAttribute("class",this.FElementBodyClassName):this.GetChildContainer().removeAttribute("class")),null!=this.FLabel&&(this.FShowCaption?this.FLabel.innerHTML=this.FCaption:this.FLabel.innerHTML="",this.FVisible)){this.GetElementHandle().style.setProperty("display","flex");var t=this.FAlignment;0===t?this.GetElementHandle().style.setProperty("justify-content","flex-start"):2===t?this.GetElementHandle().style.setProperty("justify-content","center"):1===t&&this.GetElementHandle().style.setProperty("justify-content","flex-end"),this.GetElementHandle().style.setProperty("align-items","center")}this.GetElementHandle().style.setProperty("user-select",""),0===this.FCursor&&this.GetElementHandle().style.setProperty("cursor","")}},this.GetOuterWidth=function(){return pas["WEBLib.Controls"].TControl.GetOuterWidth.call(this)},this.GetOuterHeight=function(){return pas["WEBLib.Controls"].TControl.GetOuterHeight.call(this)},this.GetChildContainer=function(){return null!=this.FPanelBody?this.FPanelBody:pas["WEBLib.Controls"].TControl.GetChildContainer.call(this)},this.RegisterParent=function(t){pas["WEBLib.Controls"].TControl.RegisterParent.apply(this,arguments),this.FAutoSize&&this.DoAutoSize()},this.UnRegisterParent=function(t){pas["WEBLib.Controls"].TControl.UnRegisterParent.apply(this,arguments),this.FAutoSize&&this.DoAutoSize()},this.UpdatePadding=function(t){t.Left=this.FPadding.FLeft,t.Top=this.FPadding.FTop,t.Right=t.Right-this.FPadding.FRight,t.Bottom=t.Bottom-this.FPadding.FBottom},this.DoAutoSize=function(){var t=0,e=0,i=0,s=0,o=0,n=null,a=null;if(!this.FIsSizing){if(this.FIsSizing=!0,1===this.FWidthStyle&&1===this.FHeightStyle){s=0,o=0,e=65535,i=65535;for(var r=0,l=this.GetControlsCount()-1;r<=l;r++)t=r,1===this.GetControls(t).FWidthStyle?(this.GetControls(t).GetLeft()+this.GetControls(t).GetWidth()>s&&(s=this.GetControls(t).GetLeft()+this.GetControls(t).GetWidth()),this.GetControls(t).GetLeft()<e&&(e=this.GetControls(t).GetLeft())):null!=(a=this.GetControls(t).GetElementHandle())&&((n=a.getBoundingClientRect()).x-this.GetLeft()+n.width>s&&(s=Math.round(n.x-this.GetLeft()+n.width)),e=0),1===this.GetControls(t).FHeightStyle?(this.GetControls(t).GetTop()+this.GetControls(t).GetHeight()>o&&(o=this.GetControls(t).GetTop()+this.GetControls(t).GetHeight()),this.GetControls(t).GetTop()<i&&(i=this.GetControls(t).GetTop())):null!=(a=this.GetControls(t).GetElementHandle())&&((n=a.getBoundingClientRect()).y-this.GetTop()+n.height>o&&(o=Math.round(n.y-this.GetTop()+n.height)),i=0);if(4 in this.FComponentState&&(0===this.GetControlsCount()||0===s||0===o))return;1===this.FBorderStyle&&(s+=1,o+=1);for(var h=0,F=this.GetControlsCount()-1;h<=F;h++)t=h,this.GetControls(t).SetLeft(this.GetControls(t).GetLeft()-e),this.GetControls(t).SetTop(this.GetControls(t).GetTop()-i);this.SetWidth(s-e),this.SetHeight(o-i)}else this.SetWidth(-1),this.SetHeight(-1);this.UpdateElement(),this.FIsSizing=!1}},this.AlignControl=function(t){pas["WEBLib.Controls"].TControl.AlignControl.apply(this,arguments),this.FAutoSize&&this.DoAutoSize()},this.CreateInitialize=function(){pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),4 in this.FComponentState&&(this.FEnablePropagation=!0),this.FAutoSize=!1,this.FAlignment=2,this.SetColor(15790320),this.SetTabStop(!1),this.FCustomBorder=!0,this.SetShowCaption(!0),this.FControlStyle=rtl.unionSet(this.FControlStyle,rtl.createSet(0)),this.FLabel=null,this.FPadding=pas["WEBLib.Controls"].TPadding.$create("Create$1"),4 in this.FComponentState&&(this.SetWidth(400),this.SetHeight(300))},this.Destroy=function(){rtl.free(this,"FPadding"),pas["WEBLib.Controls"].TCustomControl.Destroy.call(this)},this.EndUpdate=function(){pas["WEBLib.Controls"].TCustomControl.EndUpdate.call(this),this.FAutoSize&&this.SetAutoSize(!0)},this.SetBounds=function(t,e,i,s){pas["WEBLib.Controls"].TControl.SetBounds.apply(this,arguments),this.FAutoSize&&this.DoAutoSize()},rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TPanel",this.TCustomPanel,(function(){rtl.addIntf(this,pas.System.IUnknown);var t=this.$rtti;t.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),t.addProperty("Alignment",2,pas.Classes.$rtti.TAlignment,"FAlignment","SetAlignment",{Default:pas.Classes.TAlignment.taCenter}),t.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),t.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),t.addProperty("AutoSize",2,rtl.boolean,"FAutoSize","SetAutoSize",{Default:!1}),t.addProperty("BorderColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FBorderColor","SetBorderColor",{Default:12632256}),t.addProperty("BorderStyle",2,pas["WEBLib.Controls"].$rtti.TBorderStyle,"FBorderStyle","SetBorderStyle",{Default:pas["WEBLib.Controls"].TBorderStyle.bsSingle}),t.addProperty("Caption",2,rtl.string,"FCaption","SetCaption"),t.addProperty("ChildOrder",2,rtl.longint,"FChildOrder","SetChildOrderEx",{Default:0}),t.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor"),t.addProperty("DragMode",2,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode","SetDragMode",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),t.addProperty("ElementBodyClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementBodyClassName","FElementBodyClassName"),t.addProperty("ElementID",3,pas["WEBLib.Controls"].$rtti.TElementID,"GetID","SetID"),t.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),t.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),t.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),t.addProperty("HeightPercent",2,rtl.double,"FHeightPercent","SetHeightPercent",{Default:100}),t.addProperty("HeightStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FHeightStyle","SetHeightStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),t.addProperty("Margins",2,pas["WEBLib.Controls"].$rtti.TMargins,"FMargins","SetMargins"),t.addProperty("Padding",2,pas["WEBLib.Controls"].$rtti.TPadding,"FPadding","SetPadding"),t.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0}),t.addProperty("PopupMenu",0,pas["WEBLib.Menus"].$rtti.TPopupMenu,"FPopupMenu","FPopupMenu"),t.addProperty("Role",3,rtl.string,"GetRole","SetRole"),t.addProperty("ShowCaption",2,rtl.boolean,"FShowCaption","SetShowCaption",{Default:!0}),t.addProperty("WidthPercent",2,rtl.double,"FWidthPercent","SetWidthPercent",{Default:100}),t.addProperty("WidthStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FWidthStyle","SetWidthStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),t.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),t.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),t.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),t.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),t.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag"),t.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag"),t.addProperty("OnTouchStart",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchStart","FOnTouchStart"),t.addProperty("OnTouchMove",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchMove","FOnTouchMove"),t.addProperty("OnTouchEnd",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchEnd","FOnTouchEnd"),t.addProperty("OnTouchCancel",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchCancel","FOnTouchCancel")}))}),["WEBLib.Utils"]),rtl.module("WEBLib.TMSFNCUtils",["System","Classes","SysUtils","Types","WEBLib.Graphics","WEBLib.TMSFNCTypes","WEBLib.Controls","WEBLib.Forms","JS","WEBLib.Dialogs","Web"],(function(){"use strict";var t=this,e=t.$impl;rtl.createClass(this,"TTMSFNCUtils",pas.System.TObject,(function(){this.OpenURL=function(t){window.open(t,"_blank")},this.SetFontSize=function(t,e,i){t.SetSize(Math.round(e/96*72))},this.ScaleForCurrentDPI=function(t){},this.IsHTML=function(t){return pas.System.Pos("</",t)>0||pas.System.Pos("/>",t)>0||pas.System.Pos("<BR>",pas.SysUtils.UpperCase(t))>0},this.GetMousePos=function(){var t=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),e=pas.Types.TPoint.$new();return t.$assign(pas["WEBLib.TMSFNCTypes"].PointF(-1,-1)),e.$assign(pas["WEBLib.Controls"].GetMousePos()),t.$assign(pas["WEBLib.TMSFNCTypes"].PointF(e.x,e.y)),t},this.GetDPIScale=function(t,e){return 1,1},this.Clone=function(t){throw null,pas.SysUtils.Exception.$create("Create$1",["Implement Clone"])},this.HTMLStrip=function(t){var e="",i=0;for(e="";pas.System.Pos("<BR>",pas.SysUtils.UpperCase(t))>0;)t=pas.SysUtils.StringReplace(t,"<BR>",String.fromCharCode(13)+String.fromCharCode(10),rtl.createSet(1));for(;pas.System.Pos("<HR>",pas.SysUtils.UpperCase(t))>0;)t=pas.SysUtils.StringReplace(t,"<HR>",String.fromCharCode(13)+String.fromCharCode(10),rtl.createSet(1));for(i=0;this.VarPos("<",t,{get:function(){return i},set:function(t){rtl.rc(t,-2147483648,2147483647),i=t}})>0&&(e+=pas.System.Copy(t,1,i-1),this.VarPos(">",t,{get:function(){return i},set:function(t){rtl.rc(t,-2147483648,2147483647),i=t}})>0);)pas.System.Delete({get:function(){return t},set:function(e){t=e}},1,i);return e+=t},this.VarPos=function(t,e,i){rtl.rc(i.get(),-2147483648,2147483647);return i.set(pas.System.Pos(t,e)),rtl.rc(i.get(),-2147483648,2147483647)},this.CharInStr=function(t,e){var i="";return i="\0",e>0&&e<=t.length&&(i=t.charAt(e-1)),i},this.MulDivInt=function(t,e,i){var s,o=0;return 0===i?o=-1:o=(s=t*e/i)>=0?pas.System.Trunc(s+.5):pas.System.Trunc(s-.5),o},this.LoadBitmapFromBase64=function(t,e,i){var s="";s=t,pas.System.Pos(";base64,",s)>0||(s="data:image/png;base64,"+s),e.LoadFromResource(s)},this.MatchStrEx=function(e,i,s){var o="",n="",a=0,r=0,l=!1,h=!1,F=[];if(e=pas.SysUtils.Trim(e),e=this.StripLogicSpaces(e),a=rtl.rc(-1,-2147483648,2147483647),1===t.TTMSFNCUtils.VarPos("=",e,{get:function(){return a},set:function(t){rtl.rc(t,-2147483648,2147483647),a=t}})&&pas.System.Delete({get:function(){return e},set:function(t){e=t}},a,1),n="\0",l=!0,(F=rtl.arraySetLength(F,"",5))[0]="(",F[1]=";",F[2]="^",F[3]="&",F[4]="|",""===e)return""===i;if("*"!==e&&""===i)return!1;do{if("\0"!==(o=rtl.rcc(this.FirstChar(rtl.arrayRef(F),e,{get:function(){return a},set:function(t){rtl.rc(t,-2147483648,2147483647),a=t}}),0,65535))){if(e.length>0&&"("===rtl.rcCharAt(e,0)&&pas.System.Pos("(",e)>0?(r=rtl.rc(this.ClosingParenthesis(e),-2147483648,2147483647),h=this.MatchStrEx(pas.System.Copy(e,2,r-2),i,s),pas.System.Delete({get:function(){return e},set:function(t){e=t}},1,r)):(h=this.MatchStr(pas.System.Copy(e,1,a-1),i,s),pas.System.Delete({get:function(){return e},set:function(t){e=t}},1,a)),"\0"===n)l=h;else{";"===n||"^"===n||"|"===n?l=l||h:"&"===n&&(l=l&&h)}n=rtl.rcc(o,0,65535)}}while("\0"!==o);if(h=this.MatchStr(e,i,s),"\0"===n)l=h;else{";"===n||"^"===n||"|"===n?l=l||h:"&"===n&&(l=l&&h)}return l},this.MatchStr=function(t,e,i){return i?this.Matches(t,e):this.Matches(pas["WEBLib.TMSFNCTypes"].AnsiUpperCase(t),pas["WEBLib.TMSFNCTypes"].AnsiUpperCase(e))},this.StripLogicSpaces=function(t){var e,i="",s=0,o=0;for(o=0,s=1,e=t.length,i="";s<=e;)'"'===t.charAt(s-1)&&(o+=1)," "===t.charAt(s-1)?pas.System.Odd(o)&&(i+=t.charAt(s-1)):i+=t.charAt(s-1),s+=1;return i},this.FirstChar=function(t,e,i){var s="",o=0,n=0;for(0,o=1,n=0,i.set(-1),s="\0";o<=e.length;){if('"'===e.charAt(o-0-1)&&(n+=1),this.CharInSet(e.charAt(o-0-1),rtl.arrayRef(t))&&!pas.System.Odd(n)){i.set(o),s=e.charAt(o-0-1);break}o+=1}return s},this.CharInSet=function(t,e){var i=!1;i=!1;for(var s=0,o=rtl.length(e)-1;s<=o;s++)if(t===e[s]){i=!0;break}return i},this.CreateCharSet=function(t){var e=[],i=0;e=rtl.arraySetLength(e,"",t.length);for(var s=1,o=t.length;s<=o;s++)e[(i=s)-1]=this.CharInStr(t,i);return e},this.IsDate=function(e,i){var s,o,n,a=!1,r="",l="",h=0,F=0,p=0,C=0,u=0,d=0,c=0,S=0;if(a=!1,l="",r=pas.SysUtils.UpperCase(pas.SysUtils.FormatSettings.ShortDateFormat),s=pas.System.Pos("D",r),o=pas.System.Pos("M",r),n=pas.System.Pos("Y",r),h=0,F=0,p=0,C=0,u=0,d=0,S=-1,t.TTMSFNCUtils.VarPos(pas.SysUtils.FormatSettings.DateSeparator,e,{get:function(){return S},set:function(t){S=t}})>0){if(r=pas.System.Copy(e,1,S-1),s<o&&s<n?pas.System.val$5(r,{get:function(){return h},set:function(t){h=t}},{get:function(){return c},set:function(t){c=t}}):o<s&&o<n?pas.System.val$5(r,{get:function(){return F},set:function(t){F=t}},{get:function(){return c},set:function(t){c=t}}):n<o&&n<s&&pas.System.val$5(r,{get:function(){return p},set:function(t){p=t}},{get:function(){return c},set:function(t){c=t}}),0!==c)return a;if(pas.System.Delete({get:function(){return e},set:function(t){e=t}},1,S),t.TTMSFNCUtils.VarPos(pas.SysUtils.FormatSettings.DateSeparator,e,{get:function(){return S},set:function(t){S=t}})>0){if(r=pas.System.Copy(e,1,S-1),s>o&&s<n||s>n&&s<o?pas.System.val$5(r,{get:function(){return h},set:function(t){h=t}},{get:function(){return c},set:function(t){c=t}}):o>s&&o<n||o>n&&o<s?pas.System.val$5(r,{get:function(){return F},set:function(t){F=t}},{get:function(){return c},set:function(t){c=t}}):(n>o&&n<s||n>s&&n<o)&&pas.System.val$5(r,{get:function(){return p},set:function(t){p=t}},{get:function(){return c},set:function(t){c=t}}),0!==c)return a;if(pas.System.Delete({get:function(){return e},set:function(t){e=t}},1,S),e=pas.SysUtils.Trim(e),t.TTMSFNCUtils.VarPos(" ",e,{get:function(){return S},set:function(t){S=t}})>0&&(l=pas.System.Copy(e,S,e.length),e=pas.System.Copy(e,1,S-1)),s>o&&s>n?pas.System.val$5(e,{get:function(){return h},set:function(t){h=t}},{get:function(){return c},set:function(t){c=t}}):o>s&&o>n?pas.System.val$5(e,{get:function(){return F},set:function(t){F=t}},{get:function(){return c},set:function(t){c=t}}):n>o&&n>s&&pas.System.val$5(e,{get:function(){return p},set:function(t){p=t}},{get:function(){return c},set:function(t){c=t}}),0!==c)return a;if(h>31)return a;if(F>12)return a;if(""!==l){if(t.TTMSFNCUtils.VarPos(pas.SysUtils.FormatSettings.TimeSeparator,l,{get:function(){return S},set:function(t){S=t}})>0){if(r=pas.System.Copy(l,1,S-1),pas.System.val$5(r,{get:function(){return C},set:function(t){C=t}},{get:function(){return c},set:function(t){c=t}}),0!==c)return a;if(C>23)return a;if(pas.System.Delete({get:function(){return l},set:function(t){l=t}},1,S),t.TTMSFNCUtils.VarPos(pas.SysUtils.FormatSettings.TimeSeparator,l,{get:function(){return S},set:function(t){S=t}})>0){if(r=pas.System.Copy(l,1,S-1),pas.System.val$5(r,{get:function(){return u},set:function(t){u=t}},{get:function(){return c},set:function(t){c=t}}),0!==c)return a;if(pas.System.Delete({get:function(){return l},set:function(t){l=t}},1,S),pas.System.val$5(l,{get:function(){return d},set:function(t){d=t}},{get:function(){return c},set:function(t){c=t}}),0!==c)return a;if(d>60)return a}else if(pas.System.val$5(r,{get:function(){return u},set:function(t){u=t}},{get:function(){return c},set:function(t){c=t}}),0!==c)return a;if(u>59)return a;a=!0}}else a=!0;try{i.set(pas.SysUtils.EncodeDate(p,F,h)+pas.SysUtils.EncodeTime(C,u,d,0))}catch(t){a=!1}}}return a},this.IPos=function(t,e){return pas.System.Pos(pas.SysUtils.UpperCase(t),pas.SysUtils.UpperCase(e))},this.UnFixMarkup=function(t,i,s){var o=0;if(!s){for(;pas.System.Pos("&lt;",t)>0;)this.TagReplaceString("&lt;","<",{get:function(){return t},set:function(e){t=e}});for(;pas.System.Pos("&gt;",t)>0;)this.TagReplaceString("&gt;",">",{get:function(){return t},set:function(e){t=e}});for(;pas.System.Pos("&amp;",t)>0;)this.TagReplaceString("&amp;","&",{get:function(){return t},set:function(e){t=e}});for(;pas.System.Pos("&quot;",t)>0;)this.TagReplaceString("&quot;",'"',{get:function(){return t},set:function(e){t=e}})}if(i)for(o=4;o<=92;o++)for(;pas.System.Pos(e.HTMLSpecialChar[o-1],t)>0;)this.TagReplaceString(e.HTMLSpecialChar[o-1],e.HTMLEncodedChar[o-1],{get:function(){return t},set:function(e){t=e}});return t},this.FixMarkup=function(t,i){for(var s=0,o="",n="";pas.System.Pos("&",t)>0;)this.TagReplaceString("&","*amp;",{get:function(){return t},set:function(e){t=e}});for(;pas.System.Pos("*amp;",t)>0;)this.TagReplaceString("*amp;","&amp;",{get:function(){return t},set:function(e){t=e}});for(;pas.System.Pos('"',t)>0;)this.TagReplaceString('"',"&quot;",{get:function(){return t},set:function(e){t=e}});for(;pas.System.Pos("<",t)>0;)this.TagReplaceString("<","&lt;",{get:function(){return t},set:function(e){t=e}});for(;pas.System.Pos(">",t)>0;)this.TagReplaceString(">","&gt;",{get:function(){return t},set:function(e){t=e}});if(i){for(s=4;s<=92;s++)for(;pas.System.Pos(e.HTMLEncodedChar[s-1],t)>0;)this.TagReplaceString(e.HTMLEncodedChar[s-1],e.HTMLSpecialChar[s-1],{get:function(){return t},set:function(e){t=e}});o="";for(var a=1,r=t.length;a<=r;a++)s=a,(n=this.CharInStr(t,s)).charCodeAt()>256?o=o+"&#"+pas.SysUtils.IntToStr(n.charCodeAt())+";":o+=n;t=o}return t},this.TagReplaceString=function(t,e,i){var s,o=!1;return(s=this.IPos(t,i.get()))>0?(o=!0,pas.System.Delete(i,s,t.length),i.set(pas.System.Copy(i.get(),1,s-1)+e+pas.System.Copy(i.get(),s,i.get().length))):o=!1,o};this.Matches=function(e,i){var s=!1,o=!1,n=0,a="",r=0,l=0,h=0,F=0,p=!1,C=!1,u=!1,d="",c=!1,S=!1,T=!1,m=!1,g=0,M=0,f=0,b=0,y=0,B=0,E=0;if(0,p=!0,C=!0,c=!1,S=!1,T=!1,u=!1,m=!1,0!==(h=rtl.rc(pas.System.Pos(">",e),-2147483648,2147483647))){for(h+=1,"="===rtl.rcCharAt(e,h-0-1)&&(m=!0,h+=1);" "===rtl.rcCharAt(e,h-0-1);)h+=1;for(F=rtl.rc(h,-2147483648,2147483647),n=0,a="\0",E=0;h-0<=e.length&&" "!==rtl.rcCharAt(e,h-0-1)&&h<=e.length&&(pas.System.Odd(E)||"&"!==rtl.rcCharAt(e,h-0-1)&&"|"!==rtl.rcCharAt(e,h-0-1));)'"'===rtl.rcCharAt(e,h-0-1)&&(E+=1),0===n&&'"'===rtl.rcCharAt(e,h-0-1)?F+=1:n+=1,a=rtl.rcc(rtl.rcCharAt(e,h-0-1),0,65535),(h+=1)-0<=e.length&&" "===rtl.rcCharAt(e,h-0-1)&&pas.System.Odd(E)&&(a=rtl.rcc(rtl.rcCharAt(e,h-0-1),0,65535),h+=1);n>0&&'"'===a&&(n-=1),d=pas.System.Copy(e,F,n),pas.System.val$8(t.TTMSFNCUtils.StripThousandSep(i),{get:function(){return g},set:function(t){g=t}},{get:function(){return f},set:function(t){rtl.rc(t,-2147483648,2147483647),f=t}}),pas.System.val$8(t.TTMSFNCUtils.StripThousandSep(d),{get:function(){return M},set:function(t){M=t}},{get:function(){return b},set:function(t){rtl.rc(t,-2147483648,2147483647),b=t}}),B=0,t.TTMSFNCUtils.IsDate(d,{get:function(){return B},set:function(t){B=t}})&&(b=1),y=0,t.TTMSFNCUtils.IsDate(i,{get:function(){return y},set:function(t){y=t}})&&(f=1),C=0===f&&0===b?m?g>=M:g>M:t.TTMSFNCUtils.IsDate(d,{get:function(){return B},set:function(t){B=t}})&&t.TTMSFNCUtils.IsDate(i,{get:function(){return y},set:function(t){y=t}})?m?y>=B:y>B:m?pas.SysUtils.CompareStr(d,i)<=0:pas.SysUtils.CompareStr(d,i)<0,c=!0}if(m=!1,0!==(h=rtl.rc(pas.System.Pos("<",e),-2147483648,2147483647))){for(h+=1,"="===rtl.rcCharAt(e,h-0-1)&&(m=!0,h+=1),a="\0";h-0<=e.length&&" "===rtl.rcCharAt(e,h-0-1);)h+=1;for(F=rtl.rc(h,-2147483648,2147483647),n=0,E=0;h-0<=e.length&&" "!==rtl.rcCharAt(e,h-0-1)&&h<=e.length&&(pas.System.Odd(E)||"&"!==rtl.rcCharAt(e,h-0-1)&&"|"!==rtl.rcCharAt(e,h-0-1));)'"'===rtl.rcCharAt(e,h-0-1)&&(E+=1),0===n&&'"'===rtl.rcCharAt(e,h-0-1)?F+=1:n+=1,a=rtl.rcc(rtl.rcCharAt(e,h-0-1),0,65535),h+=1;n>0&&'"'===a&&(n-=1),d=pas.System.Copy(e,F,n),pas.System.val$8(t.TTMSFNCUtils.StripThousandSep(i),{get:function(){return g},set:function(t){g=t}},{get:function(){return f},set:function(t){rtl.rc(t,-2147483648,2147483647),f=t}}),pas.System.val$8(t.TTMSFNCUtils.StripThousandSep(d),{get:function(){return M},set:function(t){M=t}},{get:function(){return b},set:function(t){rtl.rc(t,-2147483648,2147483647),b=t}}),t.TTMSFNCUtils.IsDate(d,{get:function(){return B},set:function(t){B=t}})&&(b=1),t.TTMSFNCUtils.IsDate(i,{get:function(){return y},set:function(t){y=t}})&&(f=1),p=0===f&&0===b?m?g<=M:g<M:t.TTMSFNCUtils.IsDate(d,{get:function(){return B},set:function(t){B=t}})&&t.TTMSFNCUtils.IsDate(i,{get:function(){return y},set:function(t){y=t}})?m?y<=B:y<B:m?pas.SysUtils.CompareStr(d,i)>=0:pas.SysUtils.CompareStr(d,i)>0,S=!0}if(0!==(h=rtl.rc(pas.System.Pos("!",e),-2147483648,2147483647))){for(h+=1;" "===rtl.rcCharAt(e,h-0-1);)h+=1;for(F=rtl.rc(h,-2147483648,2147483647),n=0,a="\0",E=0;" "!==rtl.rcCharAt(e,h-0-1)&&h<=e.length&&(pas.System.Odd(E)||"&"!==rtl.rcCharAt(e,h-0-1)&&"|"!==rtl.rcCharAt(e,h-0-1));)'"'===rtl.rcCharAt(e,h-0-1)&&(E+=1),0===n&&'"'===rtl.rcCharAt(e,h-0-1)?F+=1:n+=1,a=rtl.rcc(rtl.rcCharAt(e,h-0-1),0,65535),h+=1;n>0&&'"'===a&&(n-=1),d=pas.System.Copy(e,F,n),T=!0}if(T&&(0===pas.System.Pos(">",e)&&(c=T),0===pas.System.Pos("<",e)&&(S=T)),0!==pas.System.Pos("^",e)&&(c||S))return p||C;if(0!==pas.System.Pos("&",e)&&c&&S)return p&&C;if(0!==pas.System.Pos(">",e)&&C||0!==pas.System.Pos("<",e)&&p)return!0;for(r=1,l=1,o=""===e||""===i,s=!0;!o&&s;){var L=rtl.rcCharAt(e,r-0-1);if("?"===L)(s=l<=i.length)&&(r+=1,l+=1);else if("!"===L)u=!0,r+=1;else if('"'===L)r+=1;else if("*"===L){do{r+=1}while(!(r-0>e.length||"*"!==rtl.rcCharAt(e,r-0-1)));for(l+=n=rtl.rc(i.length-l,-2147483648,2147483647),s=this.Matches(pas.System.Copy(e,r,e.length),pas.System.Copy(i,l,i.length));n>=0&&!s;)l-=1,n-=1,s=this.Matches(pas.System.Copy(e,r,e.length),pas.System.Copy(i,l,i.length));s&&(r=rtl.rc(e.length+1,-2147483648,2147483647),l=rtl.rc(i.length+1,-2147483648,2147483647))}else(s=r<=e.length&&l<=i.length&&rtl.rcCharAt(e,r-0-1)===rtl.rcCharAt(i,l-0-1))&&(r+=1,l+=1);o=r>e.length&&l>i.length}return u?!s:s},this.StripThousandSep=function(t){for(;pas.System.Pos(pas.SysUtils.FormatSettings.ThousandSeparator,t)>0;)pas.System.Delete({get:function(){return t},set:function(e){t=e}},pas.System.Pos(pas.SysUtils.FormatSettings.ThousandSeparator,t),1);return t},this.ClosingParenthesis=function(t){var e=0,i=0,s=0,o=0;for(o=0,i=0,s=0,e=1;e<=t.length;){if(")"===t.charAt(e-1)&&(s+=1),"("===t.charAt(e-1)&&(i+=1),")"===t.charAt(e-1)&&i===s){o=e;break}e+=1}return o},this.GetParentForm=function(t){var e,i=null;return i=null,null==(e=t)?i:i=pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(e.FParent)?rtl.as(e.FParent,pas["WEBLib.Forms"].TCustomForm):this.GetParentForm(e.FParent)},this.GetOwnerForm=function(t){var e,i=null;return i=null,null==(e=t)?i:i=pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(e.FOwner)?rtl.as(e.FOwner,pas["WEBLib.Forms"].TCustomForm):this.GetOwnerForm(e.FOwner)}})),rtl.createClass(this,"TTMSFNCClipBoard",pas.System.TObject,(function(){this.FClipboardData="",this.GetText=function(){return this.FClipboardData}})),this.FNCFormatSettings=pas.SysUtils.TFormatSettings.$new(),t.$implcode=function(){e.HTMLNumSpecialChar=92,e.HTMLEncodedChar=["&","<",">",'"'," ","é","è","ë","ê","ó","ò","ö","ô","í","ì","ï","î","ú","ù","ü","û","á","à","ä","â","É","È","Ë","Ê","Ó","Ò","Ö","Ô","Í","Ì","Ï","Î","Ú","Ù","Ü","Û","Á","À","Ä","Â","ç","Ç","ø","Ø","å","Å","©","®","€","«","»","ã","Ã","õ","Õ","™","§","¶","ß","£","$","§","‰","¶","'","¥","¤","¢","±","¡","°","ý","Ý","¼","½","¾","Æ","æ","Ñ","ñ","Ð","´","µ","¶","·","²","³"],e.HTMLSpecialChar=["amp;","lt;","gt;","quot;","&nbsp;","&eacute;","&egrave;","&euml;","&ecirc;","&oacute;","&ograve;","&ouml;","&ocirc;","&iacute;","&igrave;","&iuml;","&icirc;","&uacute;","&ugrave;","&uuml;","&ucirc;","&aacute;","&agrave;","&auml;","&acirc;","&Eacute;","&Egrave;","&Euml;","&Ecirc;","&Oacute;","&Ograve;","&Ouml;","&Ocirc;","&Iacute;","&Igrave;","&Iuml;","&Icirc;","&Uacute;","&Ugrave;","&Uuml;","&Ucirc;","&Aacute;","&Agrave;","&Auml;","&Acirc;","&ccedil;","&Ccedil;","&oslash;","&Oslash;","&aring;","&Aring;","&copy;","&reg;","&euro;","&laquo;","&raquo;","&atilde;","&Atilde;","&otilde;","&Otilde","&trade;","&sect;","&para;","&szlig;","&pound;","&#36;","&sect;","&permil;","&para;","&#39;","&yen;","&curren;","&cent;","&plusmn;","&iexcl;","&deg;","&#x00FD;","&#221;","&frac14;","&frac12;","&frac34;","&AElig;","&aelig;","&Ntilde;","&ntilde;","&ETH;","&acute;","&micro;","&para;","&middot","&sup2;","&sup3;"],e.FMimeTypes=null,e.RegisterMimeTypes=function(){function t(t,i){e.FMimeTypes.Add(t+e.FMimeTypes.GetNameValueSeparator()+i)}t("ez","application/andrew-inset"),t("aw","application/applixware"),t("atom","application/atom+xml"),t("atomcat","application/atomcat+xml"),t("atomsvc","application/atomsvc+xml"),t("bson","application/bson"),t("ccxml","application/ccxml+xml"),t("cdmia","application/cdmi-capability"),t("cdmic","application/cdmi-container"),t("cdmid","application/cdmi-domain"),t("cdmio","application/cdmi-object"),t("cdmiq","application/cdmi-queue"),t("cu","application/cu-seeme"),t("davmount","application/davmount+xml"),t("dbk","application/docbook+xml"),t("dssc","application/dssc+der"),t("xdssc","application/dssc+xml"),t("ecma","application/ecmascript"),t("emma","application/emma+xml"),t("epub","application/epub+zip"),t("exi","application/exi"),t("pfr","application/font-tdpfr"),t("gml","application/gml+xml"),t("gpx","application/gpx+xml"),t("gxf","application/gxf"),t("stk","application/hyperstudio"),t("ink","application/inkml+xml"),t("inkml","application/inkml+xml"),t("ipfix","application/ipfix"),t("jar","application/java-archive"),t("ser","application/java-serialized-object"),t("class","application/java-vm"),t("js","application/javascript"),t("json","application/json"),t("jsonml","application/jsonml+json"),t("lostxml","application/lost+xml"),t("hqx","application/mac-binhex40"),t("cpt","application/mac-compactpro"),t("mads","application/mads+xml"),t("mrc","application/marc"),t("mrcx","application/marcxml+xml"),t("ma","application/mathematica"),t("nb","application/mathematica"),t("mb","application/mathematica"),t("mathml","application/mathml+xml"),t("mbox","application/mbox"),t("mscml","application/mediaservercontrol+xml"),t("metalink","application/metalink+xml"),t("meta4","application/metalink4+xml"),t("mets","application/mets+xml"),t("mods","application/mods+xml"),t("m21","application/mp21"),t("mp21","application/mp21"),t("mp4s","application/mp4"),t("doc","application/msword"),t("dot","application/msword"),t("mxf","application/mxf"),t("bin","application/octet-stream"),t("bpk","application/octet-stream"),t("class","application/octet-stream"),t("deploy","application/octet-stream"),t("dist","application/octet-stream"),t("distz","application/octet-stream"),t("dmg","application/octet-stream"),t("dms","application/octet-stream"),t("dump","application/octet-stream"),t("elc","application/octet-stream"),t("iso","application/octet-stream"),t("lha","application/octet-stream"),t("lrf","application/octet-stream"),t("lzh","application/octet-stream"),t("mar","application/octet-stream"),t("pkg","application/octet-stream"),t("so","application/octet-stream"),t("oda","application/oda"),t("opf","application/oebps-package+xml"),t("ogx","application/ogg"),t("omdoc","application/omdoc+xml"),t("onetoc","application/onenote"),t("onetoc2","application/onenote"),t("onetmp","application/onenote"),t("onepkg","application/onenote"),t("oxps","application/oxps"),t("xer","application/patch-ops-error+xml"),t("pdf","application/pdf"),t("pgp","application/pgp-encrypted"),t("asc","application/pgp-signature"),t("sig","application/pgp-signature"),t("prf","application/pics-rules"),t("p10","application/pkcs10"),t("p7m","application/pkcs7-mime"),t("p7c","application/pkcs7-mime"),t("p7s","application/pkcs7-signature"),t("p8","application/pkcs8"),t("ac","application/pkix-attr-cert"),t("cer","application/pkix-cert"),t("crl","application/pkix-crl"),t("pkipath","application/pkix-pkipath"),t("pki","application/pkixcmp"),t("pls","application/pls+xml"),t("ai","application/postscript"),t("eps","application/postscript"),t("ps","application/postscript"),t("cww","application/prs.cww"),t("pskcxml","application/pskc+xml"),t("rdf","application/rdf+xml"),t("rif","application/reginfo+xml"),t("rnc","application/relax-ng-compact-syntax"),t("rl","application/resource-lists+xml"),t("rld","application/resource-lists-diff+xml"),t("rs","application/rls-services+xml"),t("gbr","application/rpki-ghostbusters"),t("mft","application/rpki-manifest"),t("roa","application/rpki-roa"),t("rsd","application/rsd+xml"),t("rss","application/rss+xml"),t("rtf","application/rtf"),t("sbml","application/sbml+xml"),t("scq","application/scvp-cv-request"),t("scs","application/scvp-cv-response"),t("spq","application/scvp-vp-request"),t("spp","application/scvp-vp-response"),t("sdp","application/sdp"),t("setpay","application/set-payment-initiation"),t("setreg","application/set-registration-initiation"),t("shf","application/shf+xml"),t("smi","application/smil+xml"),t("smil","application/smil+xml"),t("soap","application/soap+xml"),t("rq","application/sparql-query"),t("srx","application/sparql-results+xml"),t("gram","application/srgs"),t("grxml","application/srgs+xml"),t("sru","application/sru+xml"),t("ssdl","application/ssdl+xml"),t("ssml","application/ssml+xml"),t("tei","application/tei+xml"),t("teicorpus","application/tei+xml"),t("tfi","application/thraud+xml"),t("tsd","application/timestamped-data"),t("plb","application/vnd.3gpp.pic-bw-large"),t("psb","application/vnd.3gpp.pic-bw-small"),t("pvb","application/vnd.3gpp.pic-bw-var"),t("tcap","application/vnd.3gpp2.tcap"),t("pwn","application/vnd.3m.post-it-notes"),t("aso","application/vnd.accpac.simply.aso"),t("imp","application/vnd.accpac.simply.imp"),t("acu","application/vnd.acucobol"),t("atc","application/vnd.acucorp"),t("acutc","application/vnd.acucorp"),t("air","application/vnd.adobe.air-application-installer-package+zip"),t("fcdt","application/vnd.adobe.formscentral.fcdt"),t("fxp","application/vnd.adobe.fxp"),t("fxpl","application/vnd.adobe.fxp"),t("xdp","application/vnd.adobe.xdp+xml"),t("xfdf","application/vnd.adobe.xfdf"),t("ahead","application/vnd.ahead.space"),t("azf","application/vnd.airzip.filesecure.azf"),t("azs","application/vnd.airzip.filesecure.azs"),t("azw","application/vnd.amazon.ebook"),t("acc","application/vnd.americandynamics.acc"),t("ami","application/vnd.amiga.ami"),t("apk","application/vnd.android.package-archive"),t("cii","application/vnd.anser-web-certificate-issue-initiation"),t("fti","application/vnd.anser-web-funds-transfer-initiation"),t("atx","application/vnd.antix.game-component"),t("mpkg","application/vnd.apple.installer+xml"),t("m3u8","application/vnd.apple.mpegurl"),t("swi","application/vnd.aristanetworks.swi"),t("iota","application/vnd.astraea-software.iota"),t("aep","application/vnd.audiograph"),t("mpm","application/vnd.blueice.multipass"),t("bmi","application/vnd.bmi"),t("rep","application/vnd.businessobjects"),t("cdxml","application/vnd.chemdraw+xml"),t("mmd","application/vnd.chipnuts.karaoke-mmd"),t("cdy","application/vnd.cinderella"),t("cla","application/vnd.claymore"),t("rp9","application/vnd.cloanto.rp9"),t("c4g","application/vnd.clonk.c4group"),t("c4d","application/vnd.clonk.c4group"),t("c4f","application/vnd.clonk.c4group"),t("c4p","application/vnd.clonk.c4group"),t("c4u","application/vnd.clonk.c4group"),t("c11amc","application/vnd.cluetrust.cartomobile-config"),t("c11amz","application/vnd.cluetrust.cartomobile-config-pkg"),t("csp","application/vnd.commonspace"),t("cdbcmsg","application/vnd.contact.cmsg"),t("cmc","application/vnd.cosmocaller"),t("clkx","application/vnd.crick.clicker"),t("clkk","application/vnd.crick.clicker.keyboard"),t("clkp","application/vnd.crick.clicker.palette"),t("clkt","application/vnd.crick.clicker.template"),t("clkw","application/vnd.crick.clicker.wordbank"),t("wbs","application/vnd.criticaltools.wbs+xml"),t("pml","application/vnd.ctc-posml"),t("ppd","application/vnd.cups-ppd"),t("car","application/vnd.curl.car"),t("pcurl","application/vnd.curl.pcurl"),t("dart","application/vnd.dart"),t("rdz","application/vnd.data-vision.rdz"),t("uvf","application/vnd.dece.data"),t("uvvf","application/vnd.dece.data"),t("uvd","application/vnd.dece.data"),t("uvvd","application/vnd.dece.data"),t("uvt","application/vnd.dece.ttml+xml"),t("uvvt","application/vnd.dece.ttml+xml"),t("uvx","application/vnd.dece.unspecified"),t("uvvx","application/vnd.dece.unspecified"),t("uvz","application/vnd.dece.zip"),t("uvvz","application/vnd.dece.zip"),t("fe_launch","application/vnd.denovo.fcselayout-link"),t("dna","application/vnd.dna"),t("mlp","application/vnd.dolby.mlp"),t("dpg","application/vnd.dpgraph"),t("dfac","application/vnd.dreamfactory"),t("kpxx","application/vnd.ds-keypoint"),t("ait","application/vnd.dvb.ait"),t("svc","application/vnd.dvb.service"),t("geo","application/vnd.dynageo"),t("mag","application/vnd.ecowin.chart"),t("nml","application/vnd.enliven"),t("esf","application/vnd.epson.esf"),t("msf","application/vnd.epson.msf"),t("qam","application/vnd.epson.quickanime"),t("slt","application/vnd.epson.salt"),t("ssf","application/vnd.epson.ssf"),t("es3","application/vnd.eszigno3+xml"),t("et3","application/vnd.eszigno3+xml"),t("ez2","application/vnd.ezpix-album"),t("ez3","application/vnd.ezpix-package"),t("fdf","application/vnd.fdf"),t("mseed","application/vnd.fdsn.mseed"),t("seed","application/vnd.fdsn.seed"),t("dataless","application/vnd.fdsn.seed"),t("json","application/vnd.firedac.json"),t("xml","application/vnd.firedac.xml"),t("bin","application/vnd.firedac.bin"),t("gph","application/vnd.flographit"),t("ftc","application/vnd.fluxtime.clip"),t("fm","application/vnd.framemaker"),t("frame","application/vnd.framemaker"),t("maker","application/vnd.framemaker"),t("book","application/vnd.framemaker"),t("fnc","application/vnd.frogans.fnc"),t("ltf","application/vnd.frogans.ltf"),t("fsc","application/vnd.fsc.weblaunch"),t("oas","application/vnd.fujitsu.oasys"),t("oa2","application/vnd.fujitsu.oasys2"),t("oa3","application/vnd.fujitsu.oasys3"),t("fg5","application/vnd.fujitsu.oasysgp"),t("bh2","application/vnd.fujitsu.oasysprs"),t("ddd","application/vnd.fujixerox.ddd"),t("xdw","application/vnd.fujixerox.docuworks"),t("xbd","application/vnd.fujixerox.docuworks.binder"),t("fzs","application/vnd.fuzzysheet"),t("txd","application/vnd.genomatix.tuxedo"),t("ggb","application/vnd.geogebra.file"),t("ggt","application/vnd.geogebra.tool"),t("gex","application/vnd.geometry-explorer"),t("gre","application/vnd.geometry-explorer"),t("gxt","application/vnd.geonext"),t("g2w","application/vnd.geoplan"),t("g3w","application/vnd.geospace"),t("gmx","application/vnd.gmx"),t("kml","application/vnd.google-earth.kml+xml"),t("kmz","application/vnd.google-earth.kmz"),t("gqf","application/vnd.grafeq"),t("gqs","application/vnd.grafeq"),t("gac","application/vnd.groove-account"),t("ghf","application/vnd.groove-help"),t("gim","application/vnd.groove-identity-message"),t("grv","application/vnd.groove-injector"),t("gtm","application/vnd.groove-tool-message"),t("tpl","application/vnd.groove-tool-template"),t("vcg","application/vnd.groove-vcard"),t("hal","application/vnd.hal+xml"),t("zmm","application/vnd.handheld-entertainment+xml"),t("hbci","application/vnd.hbci"),t("les","application/vnd.hhe.lesson-player"),t("hpgl","application/vnd.hp-hpgl"),t("hpid","application/vnd.hp-hpid"),t("hps","application/vnd.hp-hps"),t("jlt","application/vnd.hp-jlyt"),t("pcl","application/vnd.hp-pcl"),t("pclxl","application/vnd.hp-pclxl"),t("sfd-hdstx","application/vnd.hydrostatix.sof-data"),t("mpy","application/vnd.ibm.minipay"),t("afp","application/vnd.ibm.modcap"),t("listafp","application/vnd.ibm.modcap"),t("list3820","application/vnd.ibm.modcap"),t("irm","application/vnd.ibm.rights-management"),t("sc","application/vnd.ibm.secure-container"),t("icc","application/vnd.iccprofile"),t("icm","application/vnd.iccprofile"),t("igl","application/vnd.igloader"),t("ivp","application/vnd.immervision-ivp"),t("ivu","application/vnd.immervision-ivu"),t("igm","application/vnd.insors.igm"),t("xpw","application/vnd.intercon.formnet"),t("xpx","application/vnd.intercon.formnet"),t("i2g","application/vnd.intergeo"),t("qbo","application/vnd.intu.qbo"),t("qfx","application/vnd.intu.qfx"),t("rcprofile","application/vnd.ipunplugged.rcprofile"),t("irp","application/vnd.irepository.package+xml"),t("xpr","application/vnd.is-xpr"),t("fcs","application/vnd.isac.fcs"),t("jam","application/vnd.jam"),t("rms","application/vnd.jcp.javame.midlet-rms"),t("jisp","application/vnd.jisp"),t("joda","application/vnd.joost.joda-archive"),t("ktz","application/vnd.kahootz"),t("ktr","application/vnd.kahootz"),t("karbon","application/vnd.kde.karbon"),t("chrt","application/vnd.kde.kchart"),t("kfo","application/vnd.kde.kformula"),t("flw","application/vnd.kde.kivio"),t("kon","application/vnd.kde.kontour"),t("kpr","application/vnd.kde.kpresenter"),t("kpt","application/vnd.kde.kpresenter"),t("ksp","application/vnd.kde.kspread"),t("kwd","application/vnd.kde.kword"),t("kwt","application/vnd.kde.kword"),t("htke","application/vnd.kenameaapp"),t("kia","application/vnd.kidspiration"),t("kne","application/vnd.kinar"),t("knp","application/vnd.kinar"),t("skp","application/vnd.koan"),t("skd","application/vnd.koan"),t("skt","application/vnd.koan"),t("skm","application/vnd.koan"),t("sse","application/vnd.kodak-descriptor"),t("lasxml","application/vnd.las.las+xml"),t("lbd","application/vnd.llamagraphics.life-balance.desktop"),t("lbe","application/vnd.llamagraphics.life-balance.exchange+xml"),t("123","application/vnd.lotus-1-2-3"),t("apr","application/vnd.lotus-approach"),t("pre","application/vnd.lotus-freelance"),t("nsf","application/vnd.lotus-notes"),t("org","application/vnd.lotus-organizer"),t("scm","application/vnd.lotus-screencam"),t("lwp","application/vnd.lotus-wordpro"),t("portpkg","application/vnd.macports.portpkg"),t("mcd","application/vnd.mcd"),t("mc1","application/vnd.medcalcdata"),t("cdkey","application/vnd.mediastation.cdkey"),t("mwf","application/vnd.mfer"),t("mfm","application/vnd.mfmp"),t("flo","application/vnd.micrografx.flo"),t("igx","application/vnd.micrografx.igx"),t("mif","application/vnd.mif"),t("daf","application/vnd.mobius.daf"),t("dis","application/vnd.mobius.dis"),t("mbk","application/vnd.mobius.mbk"),t("mqy","application/vnd.mobius.mqy"),t("msl","application/vnd.mobius.msl"),t("plc","application/vnd.mobius.plc"),t("txf","application/vnd.mobius.txf"),t("mpn","application/vnd.mophun.application"),t("mpc","application/vnd.mophun.certificate"),t("xul","application/vnd.mozilla.xul+xml"),t("cil","application/vnd.ms-artgalry"),t("cab","application/vnd.ms-cab-compressed"),t("xls","application/vnd.ms-excel"),t("xlm","application/vnd.ms-excel"),t("xla","application/vnd.ms-excel"),t("xlc","application/vnd.ms-excel"),t("xlt","application/vnd.ms-excel"),t("xlw","application/vnd.ms-excel"),t("xlam","application/vnd.ms-excel.addin.macroenabled.12"),t("xlsb","application/vnd.ms-excel.sheet.binary.macroenabled.12"),t("xlsm","application/vnd.ms-excel.sheet.macroenabled.12"),t("xltm","application/vnd.ms-excel.template.macroenabled.12"),t("eot","application/vnd.ms-fontobject"),t("chm","application/vnd.ms-htmlhelp"),t("ims","application/vnd.ms-ims"),t("lrm","application/vnd.ms-lrm"),t("thmx","application/vnd.ms-officetheme"),t("cat","application/vnd.ms-pki.seccat"),t("stl","application/vnd.ms-pki.stl"),t("ppt","application/vnd.ms-powerpoint"),t("pps","application/vnd.ms-powerpoint"),t("pot","application/vnd.ms-powerpoint"),t("ppam","application/vnd.ms-powerpoint.addin.macroenabled.12"),t("pptm","application/vnd.ms-powerpoint.presentation.macroenabled.12"),t("sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"),t("ppsm","application/vnd.ms-powerpoint.slideshow.macroenabled.12"),t("potm","application/vnd.ms-powerpoint.template.macroenabled.12"),t("mpp","application/vnd.ms-project"),t("mpt","application/vnd.ms-project"),t("docm","application/vnd.ms-word.document.macroenabled.12"),t("dotm","application/vnd.ms-word.template.macroenabled.12"),t("wps","application/vnd.ms-works"),t("wks","application/vnd.ms-works"),t("wcm","application/vnd.ms-works"),t("wdb","application/vnd.ms-works"),t("wpl","application/vnd.ms-wpl"),t("xps","application/vnd.ms-xpsdocument"),t("mseq","application/vnd.mseq"),t("mus","application/vnd.musician"),t("msty","application/vnd.muvee.style"),t("taglet","application/vnd.mynfc"),t("nlu","application/vnd.neurolanguage.nlu"),t("ntf","application/vnd.nitf"),t("nitf","application/vnd.nitf"),t("nnd","application/vnd.noblenet-directory"),t("nns","application/vnd.noblenet-sealer"),t("nnw","application/vnd.noblenet-web"),t("ngdat","application/vnd.nokia.n-gage.data"),t("n-gage","application/vnd.nokia.n-gage.symbian.install"),t("rpst","application/vnd.nokia.radio-preset"),t("rpss","application/vnd.nokia.radio-presets"),t("edm","application/vnd.novadigm.edm"),t("edx","application/vnd.novadigm.edx"),t("FExt","application/vnd.novadigm.FExt"),t("odc","application/vnd.oasis.opendocument.chart"),t("otc","application/vnd.oasis.opendocument.chart-template"),t("odb","application/vnd.oasis.opendocument.database"),t("odf","application/vnd.oasis.opendocument.formula"),t("odft","application/vnd.oasis.opendocument.formula-template"),t("odg","application/vnd.oasis.opendocument.graphics"),t("otg","application/vnd.oasis.opendocument.graphics-template"),t("odi","application/vnd.oasis.opendocument.image"),t("oti","application/vnd.oasis.opendocument.image-template"),t("odp","application/vnd.oasis.opendocument.presentation"),t("otp","application/vnd.oasis.opendocument.presentation-template"),t("ods","application/vnd.oasis.opendocument.spreadsheet"),t("ots","application/vnd.oasis.opendocument.spreadsheet-template"),t("odt","application/vnd.oasis.opendocument.text"),t("odm","application/vnd.oasis.opendocument.text-master"),t("ott","application/vnd.oasis.opendocument.text-template"),t("oth","application/vnd.oasis.opendocument.text-web"),t("xo","application/vnd.olpc-sugar"),t("dd2","application/vnd.oma.dd2+xml"),t("oxt","application/vnd.openofficeorg.extension"),t("pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"),t("sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"),t("ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"),t("potx","application/vnd.openxmlformats-officedocument.presentationml.template"),t("xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"),t("xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"),t("docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"),t("dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"),t("mgp","application/vnd.osgeo.mapguide.package"),t("dp","application/vnd.osgi.dp"),t("esa","application/vnd.osgi.subsystem"),t("pdb","application/vnd.palm"),t("pqa","application/vnd.palm"),t("oprc","application/vnd.palm"),t("paw","application/vnd.pawaafile"),t("str","application/vnd.pg.format"),t("ei6","application/vnd.pg.osasli"),t("efif","application/vnd.picsel"),t("wg","application/vnd.pmi.widget"),t("plf","application/vnd.pocketlearn"),t("pbd","application/vnd.powerbuilder6"),t("box","application/vnd.previewsystems.box"),t("mgz","application/vnd.proteus.magazine"),t("qps","application/vnd.publishare-delta-tree"),t("ptid","application/vnd.pvi.ptid1"),t("qxd","application/vnd.quark.quarkxpress"),t("qxt","application/vnd.quark.quarkxpress"),t("qwd","application/vnd.quark.quarkxpress"),t("qwt","application/vnd.quark.quarkxpress"),t("qxl","application/vnd.quark.quarkxpress"),t("qxb","application/vnd.quark.quarkxpress"),t("bed","application/vnd.realvnc.bed"),t("mxl","application/vnd.recordare.musicxml"),t("musicxml","application/vnd.recordare.musicxml+xml"),t("cryptonote","application/vnd.rig.cryptonote"),t("cod","application/vnd.rim.cod"),t("rm","application/vnd.rn-realmedia"),t("rmvb","application/vnd.rn-realmedia-vbr"),t("link66","application/vnd.route66.link66+xml"),t("st","application/vnd.sailingtracker.track"),t("see","application/vnd.seemail"),t("sema","application/vnd.sema"),t("semd","application/vnd.semd"),t("semf","application/vnd.semf"),t("ifm","application/vnd.shana.informed.formdata"),t("itp","application/vnd.shana.informed.formtemplate"),t("iif","application/vnd.shana.informed.interchange"),t("ipk","application/vnd.shana.informed.package"),t("twd","application/vnd.simtech-mindmapper"),t("twds","application/vnd.simtech-mindmapper"),t("mmf","application/vnd.smaf"),t("teacher","application/vnd.smart.teacher"),t("sdkm","application/vnd.solent.sdkm+xml"),t("sdkd","application/vnd.solent.sdkm+xml"),t("dxp","application/vnd.spotfire.dxp"),t("sfs","application/vnd.spotfire.sfs"),t("sdc","application/vnd.stardivision.calc"),t("sda","application/vnd.stardivision.draw"),t("sdd","application/vnd.stardivision.impress"),t("smf","application/vnd.stardivision.math"),t("sdw","application/vnd.stardivision.writer"),t("vor","application/vnd.stardivision.writer"),t("sgl","application/vnd.stardivision.writer-global"),t("smzip","application/vnd.stepmania.package"),t("sm","application/vnd.stepmania.stepchart"),t("sxc","application/vnd.sun.xml.calc"),t("stc","application/vnd.sun.xml.calc.template"),t("sxd","application/vnd.sun.xml.draw"),t("std","application/vnd.sun.xml.draw.template"),t("sxi","application/vnd.sun.xml.impress"),t("sti","application/vnd.sun.xml.impress.template"),t("sxm","application/vnd.sun.xml.math"),t("sxw","application/vnd.sun.xml.writer"),t("sxg","application/vnd.sun.xml.writer.global"),t("stw","application/vnd.sun.xml.writer.template"),t("sus","application/vnd.sus-calendar"),t("susp","application/vnd.sus-calendar"),t("svd","application/vnd.svd"),t("sis","application/vnd.symbian.install"),t("sisx","application/vnd.symbian.install"),t("xsm","application/vnd.syncml+xml"),t("bdm","application/vnd.syncml.dm+wbxml"),t("xdm","application/vnd.syncml.dm+xml"),t("tao","application/vnd.tao.intent-module-archive"),t("pcap","application/vnd.tcpdump.pcap"),t("cap","application/vnd.tcpdump.pcap"),t("dmp","application/vnd.tcpdump.pcap"),t("tmo","application/vnd.tmobile-livetv"),t("tpt","application/vnd.trid.tpt"),t("mxs","application/vnd.triscape.mxs"),t("tra","application/vnd.trueapp"),t("ufd","application/vnd.ufdl"),t("ufdl","application/vnd.ufdl"),t("utz","application/vnd.uiq.theme"),t("umj","application/vnd.umajin"),t("unityweb","application/vnd.unity"),t("uoml","application/vnd.uoml+xml"),t("vcx","application/vnd.vcx"),t("vsd","application/vnd.visio"),t("vst","application/vnd.visio"),t("vss","application/vnd.visio"),t("vsw","application/vnd.visio"),t("vis","application/vnd.visionary"),t("vsf","application/vnd.vsf"),t("wbxml","application/vnd.wap.wbxml"),t("wmlc","application/vnd.wap.wmlc"),t("wmlsc","application/vnd.wap.wmlscriptc"),t("wtb","application/vnd.webturbo"),t("nbp","application/vnd.wolfram.player"),t("wpd","application/vnd.wordperfect"),t("wqd","application/vnd.wqd"),t("stf","application/vnd.wt.stf"),t("xar","application/vnd.xara"),t("xfdl","application/vnd.xfdl"),t("hvd","application/vnd.yamaha.hv-dic"),t("hvs","application/vnd.yamaha.hv-script"),t("hvp","application/vnd.yamaha.hv-voice"),t("osf","application/vnd.yamaha.openscoreformat"),t("osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"),t("saf","application/vnd.yamaha.smaf-audio"),t("spf","application/vnd.yamaha.smaf-phrase"),t("cmp","application/vnd.yellowriver-custom-menu"),t("zir","application/vnd.zul"),t("zirz","application/vnd.zul"),t("zaz","application/vnd.zzazz.deck+xml"),t("vxml","application/voicexml+xml"),t("wgt","application/widget"),t("hlp","application/winhlp"),t("wsdl","application/wsdl+xml"),t("wspolicy","application/wspolicy+xml"),t("7z","application/x-7z-compressed"),t("abw","application/x-abiword"),t("ace","application/x-ace-compressed"),t("dmg","application/x-apple-diskimage"),t("aab","application/x-authorware-bin"),t("x32","application/x-authorware-bin"),t("u32","application/x-authorware-bin"),t("vox","application/x-authorware-bin"),t("aam","application/x-authorware-map"),t("aas","application/x-authorware-seg"),t("bcpio","application/x-bcpio"),t("torrent","application/x-bittorrent"),t("blb","application/x-blorb"),t("blorb","application/x-blorb"),t("bz","application/x-bzip"),t("bz2","application/x-bzip2"),t("boz","application/x-bzip2"),t("cbr","application/x-cbr"),t("cba","application/x-cbr"),t("cbt","application/x-cbr"),t("cbz","application/x-cbr"),t("cb7","application/x-cbr"),t("vcd","application/x-cdlink"),t("cfs","application/x-cfs-compressed"),t("chat","application/x-chat"),t("pgn","application/x-chess-pgn"),t("nsc","application/x-conference"),t("cpio","application/x-cpio"),t("csh","application/x-csh"),t("deb","application/x-debian-package"),t("udeb","application/x-debian-package"),t("dgc","application/x-dgc-compressed"),t("dir","application/x-director"),t("dcr","application/x-director"),t("dxr","application/x-director"),t("cst","application/x-director"),t("cct","application/x-director"),t("cxt","application/x-director"),t("w3d","application/x-director"),t("fgd","application/x-director"),t("swa","application/x-director"),t("wad","application/x-doom"),t("ncx","application/x-dtbncx+xml"),t("dtb","application/x-dtbook+xml"),t("res","application/x-dtbresource+xml"),t("dvi","application/x-dvi"),t("evy","application/x-envoy"),t("eva","application/x-eva"),t("bdf","application/x-font-bdf"),t("gsf","application/x-font-ghostscript"),t("psf","application/x-font-linux-psf"),t("otf","application/x-font-otf"),t("pcf","application/x-font-pcf"),t("snf","application/x-font-snf"),t("ttf","application/x-font-ttf"),t("ttc","application/x-font-ttf"),t("pfa","application/x-font-type1"),t("pfb","application/x-font-type1"),t("pfm","application/x-font-type1"),t("afm","application/x-font-type1"),t("woff","application/x-font-woff"),t("arc","application/x-freearc"),t("spl","application/x-futuresplash"),t("gca","application/x-gca-compressed"),t("ulx","application/x-glulx"),t("gnumeric","application/x-gnumeric"),t("gramps","application/x-gramps-xml"),t("gtar","application/x-gtar"),t("hdf","application/x-hdf"),t("install","application/x-install-instructions"),t("iso","application/x-iso9660-image"),t("jnlp","application/x-java-jnlp-file"),t("latex","application/x-latex"),t("lzh","application/x-lzh-compressed"),t("lha","application/x-lzh-compressed"),t("mie","application/x-mie"),t("prc","application/x-mobipocket-ebook"),t("mobi","application/x-mobipocket-ebook"),t("application","application/x-ms-application"),t("lnk","application/x-ms-shortcut"),t("wmd","application/x-ms-wmd"),t("wmz","application/x-ms-wmz"),t("xbap","application/x-ms-xbap"),t("mdb","application/x-msaccess"),t("obd","application/x-msbinder"),t("crd","application/x-mscardfile"),t("clp","application/x-msclip"),t("exe","application/x-msdownload"),t("dll","application/x-msdownload"),t("com","application/x-msdownload"),t("bat","application/x-msdownload"),t("msi","application/x-msdownload"),t("mvb","application/x-msmediaview"),t("m13","application/x-msmediaview"),t("m14","application/x-msmediaview"),t("wmf","application/x-msmetafile"),t("wmz","application/x-msmetafile"),t("emf","application/x-msmetafile"),t("emz","application/x-msmetafile"),t("mny","application/x-msmoney"),t("pub","application/x-mspublisher"),t("scd","application/x-msschedule"),t("trm","application/x-msterminal"),t("wri","application/x-mswrite"),t("nc","application/x-netcdf"),t("cdf","application/x-netcdf"),t("nzb","application/x-nzb"),t("p12","application/x-pkcs12"),t("pfx","application/x-pkcs12"),t("p7b","application/x-pkcs7-certificates"),t("spc","application/x-pkcs7-certificates"),t("p7r","application/x-pkcs7-certreqresp"),t("rar","application/x-rar-compressed"),t("ris","application/x-research-info-systems"),t("sh","application/x-sh"),t("shar","application/x-shar"),t("swf","application/x-shockwave-flash"),t("xap","application/x-silverlight-app"),t("sql","application/x-sql"),t("sit","application/x-stuffit"),t("sitx","application/x-stuffitx"),t("srt","application/x-subrip"),t("sv4cpio","application/x-sv4cpio"),t("sv4crc","application/x-sv4crc"),t("t3","application/x-t3vm-image"),t("gam","application/x-tads"),t("tar","application/x-tar"),t("tcl","application/x-tcl"),t("tex","application/x-tex"),t("tfm","application/x-tex-tfm"),t("texinfo","application/x-texinfo"),t("texi","application/x-texinfo"),t("obj","application/x-tgif"),t("ustar","application/x-ustar"),t("src","application/x-wais-source"),t("der","application/x-x509-ca-cert"),t("crt","application/x-x509-ca-cert"),t("fig","application/x-xfig"),t("xlf","application/x-xliff+xml"),t("xpi","application/x-xpinstall"),t("xz","application/x-xz"),t("z1","application/x-zmachine"),t("z2","application/x-zmachine"),t("z3","application/x-zmachine"),t("z4","application/x-zmachine"),t("z5","application/x-zmachine"),t("z6","application/x-zmachine"),t("z7","application/x-zmachine"),t("z8","application/x-zmachine"),t("xaml","application/xaml+xml"),t("xdf","application/xcap-diff+xml"),t("xenc","application/xenc+xml"),t("xhtml","application/xhtml+xml"),t("xht","application/xhtml+xml"),t("xml","application/xml"),t("xsl","application/xml"),t("dtd","application/xml-dtd"),t("xop","application/xop+xml"),t("xpl","application/xproc+xml"),t("xslt","application/xslt+xml"),t("xspf","application/xspf+xml"),t("mxml","application/xv+xml"),t("xhvml","application/xv+xml"),t("xvml","application/xv+xml"),t("xvm","application/xv+xml"),t("yang","application/yang"),t("yin","application/yin+xml"),t("zip","application/zip"),t("adp","audio/adpcm"),t("au","audio/basic"),t("snd","audio/basic"),t("mid","audio/midi"),t("midi","audio/midi"),t("kar","audio/midi"),t("rmi","audio/midi"),t("mp4a","audio/mp4"),t("mpga","audio/mpeg"),t("mp2","audio/mpeg"),t("mp2a","audio/mpeg"),t("mp3","audio/mpeg"),t("m2a","audio/mpeg"),t("m3a","audio/mpeg"),t("oga","audio/ogg"),t("ogg","audio/ogg"),t("spx","audio/ogg"),t("s3m","audio/s3m"),t("sil","audio/silk"),t("uva","audio/vnd.dece.audio"),t("uvva","audio/vnd.dece.audio"),t("eol","audio/vnd.digital-winds"),t("dra","audio/vnd.dra"),t("dts","audio/vnd.dts"),t("dtshd","audio/vnd.dts.hd"),t("lvp","audio/vnd.lucent.voice"),t("pya","audio/vnd.ms-playready.media.pya"),t("ecelp4800","audio/vnd.nuera.ecelp4800"),t("ecelp7470","audio/vnd.nuera.ecelp7470"),t("ecelp9600","audio/vnd.nuera.ecelp9600"),t("rip","audio/vnd.rip"),t("weba","audio/webm"),t("aac","audio/aac"),t("aif","audio/x-aiff"),t("aiff","audio/x-aiff"),t("aifc","audio/x-aiff"),t("caf","audio/x-caf"),t("flac","audio/x-flac"),t("mka","audio/x-matroska"),t("m3u","audio/x-mpegurl"),t("wax","audio/x-ms-wax"),t("wma","audio/x-ms-wma"),t("ram","audio/x-pn-realaudio"),t("ra","audio/x-pn-realaudio"),t("rmp","audio/x-pn-realaudio-plugin"),t("wav","audio/x-wav"),t("xm","audio/xm"),t("cdx","chemical/x-cdx"),t("cif","chemical/x-cif"),t("cmdf","chemical/x-cmdf"),t("cml","chemical/x-cml"),t("csml","chemical/x-csml"),t("xyz","chemical/x-xyz"),t("bmp","image/bmp"),t("cgm","image/cgm"),t("g3","image/g3fax"),t("gif","image/gif"),t("ief","image/ief"),t("jpeg","image/jpeg"),t("jpg","image/jpeg"),t("jpe","image/jpeg"),t("ktx","image/ktx"),t("png","image/png"),t("btif","image/prs.btif"),t("sgi","image/sgi"),t("svg","image/svg+xml");t("svgz","image/svg+xml"),t("tiff","image/tiff"),t("tif","image/tiff"),t("psd","image/vnd.adobe.photoshop"),t("uvi","image/vnd.dece.graphic"),t("uvvi","image/vnd.dece.graphic"),t("uvg","image/vnd.dece.graphic"),t("uvvg","image/vnd.dece.graphic"),t("sub","image/vnd.dvb.subtitle"),t("djvu","image/vnd.djvu"),t("djv","image/vnd.djvu"),t("dwg","image/vnd.dwg"),t("dxf","image/vnd.dxf"),t("fbs","image/vnd.fastbidsheet"),t("fpx","image/vnd.fpx"),t("fst","image/vnd.fst"),t("mmr","image/vnd.fujixerox.edmics-mmr"),t("rlc","image/vnd.fujixerox.edmics-rlc"),t("mdi","image/vnd.ms-modi"),t("wdp","image/vnd.ms-photo"),t("npx","image/vnd.net-fpx"),t("wbmp","image/vnd.wap.wbmp"),t("xif","image/vnd.xiff"),t("webp","image/webp"),t("3ds","image/x-3ds"),t("ras","image/x-cmu-raster"),t("cmx","image/x-cmx"),t("fh","image/x-freehand"),t("fhc","image/x-freehand"),t("fh4","image/x-freehand"),t("fh5","image/x-freehand"),t("fh7","image/x-freehand"),t("ico","image/x-icon"),t("sid","image/x-mrsid-image"),t("pcx","image/x-pcx"),t("pic","image/x-pict"),t("pct","image/x-pict"),t("pnm","image/x-portable-anymap"),t("pbm","image/x-portable-bitmap"),t("pgm","image/x-portable-graymap"),t("ppm","image/x-portable-pixmap"),t("rgb","image/x-rgb"),t("tga","image/x-tga"),t("xbm","image/x-xbitmap"),t("xpm","image/x-xpixmap"),t("xwd","image/x-xwindowdump"),t("eml","message/rfc822"),t("mime","message/rfc822"),t("igs","model/iges"),t("iges","model/iges"),t("msh","model/mesh"),t("mesh","model/mesh"),t("silo","model/mesh"),t("dae","model/vnd.collada+xml"),t("dwf","model/vnd.dwf"),t("gdl","model/vnd.gdl"),t("gtw","model/vnd.gtw"),t("mts","model/vnd.mts"),t("vtu","model/vnd.vtu"),t("wrl","model/vrml"),t("vrml","model/vrml"),t("x3db","model/x3d+binary"),t("x3dbz","model/x3d+binary"),t("x3dv","model/x3d+vrml"),t("x3dvz","model/x3d+vrml"),t("x3d","model/x3d+xml"),t("x3dz","model/x3d+xml"),t("appcache","text/cache-manifest"),t("ics","text/calendar"),t("ifb","text/calendar"),t("cmd","text/cmd"),t("css","text/css"),t("csv","text/csv"),t("html","text/html"),t("htm","text/html"),t("n3","text/n3"),t("txt","text/plain"),t("text","text/plain"),t("conf","text/plain"),t("def","text/plain"),t("list","text/plain"),t("log","text/plain"),t("in","text/plain"),t("js","text/plain"),t("dsc","text/prs.lines.tag"),t("rtx","text/richtext"),t("sgml","text/sgml"),t("sgm","text/sgml"),t("tsv","text/tab-separated-values"),t("t","text/troff"),t("tr","text/troff"),t("roff","text/troff"),t("man","text/troff"),t("me","text/troff"),t("ms","text/troff"),t("ttl","text/turtle"),t("uri","text/uri-list"),t("uris","text/uri-list"),t("urls","text/uri-list"),t("vcard","text/vcard"),t("curl","text/vnd.curl"),t("dcurl","text/vnd.curl.dcurl"),t("scurl","text/vnd.curl.scurl"),t("mcurl","text/vnd.curl.mcurl"),t("sub","text/vnd.dvb.subtitle"),t("fly","text/vnd.fly"),t("flx","text/vnd.fmi.flexstor"),t("gv","text/vnd.graphviz"),t("3dml","text/vnd.in3d.3dml"),t("spot","text/vnd.in3d.spot"),t("jad","text/vnd.sun.j2me.app-descriptor"),t("wml","text/vnd.wap.wml"),t("wmls","text/vnd.wap.wmlscript"),t("s","text/x-asm"),t("asm","text/x-asm"),t("c","text/x-c"),t("cc","text/x-c"),t("cxx","text/x-c"),t("cpp","text/x-c"),t("h","text/x-c"),t("hh","text/x-c"),t("dic","text/x-c"),t("f","text/x-fortran"),t("for","text/x-fortran"),t("f77","text/x-fortran"),t("f90","text/x-fortran"),t("java","text/x-java-source"),t("opml","text/x-opml"),t("p","text/x-pascal"),t("pas","text/x-pascal"),t("nfo","text/x-nfo"),t("etx","text/x-setext"),t("sfv","text/x-sfv"),t("uu","text/x-uuencode"),t("vcs","text/x-vcalendar"),t("vcf","text/x-vcard"),t("xml","text/xml"),t("xsl","text/xml"),t("dtd","text/xml-dtd"),t("3gp","video/3gpp"),t("3g2","video/3gpp2"),t("h261","video/h261"),t("h263","video/h263"),t("h264","video/h264"),t("jpgv","video/jpeg"),t("jpm","video/jpm"),t("jpgm","video/jpm"),t("mj2","video/mj2"),t("mjp2","video/mj2"),t("mp4","video/mp4"),t("mp4v","video/mp4"),t("mpg4","video/mp4"),t("mpeg","video/mpeg"),t("mpg","video/mpeg"),t("mpe","video/mpeg"),t("m1v","video/mpeg"),t("m2v","video/mpeg"),t("ogv","video/ogg"),t("qt","video/quicktime"),t("mov","video/quicktime"),t("uvh","video/vnd.dece.hd"),t("uvvh","video/vnd.dece.hd"),t("uvm","video/vnd.dece.mobile"),t("uvvm","video/vnd.dece.mobile"),t("uvp","video/vnd.dece.pd"),t("uvvp","video/vnd.dece.pd"),t("uvs","video/vnd.dece.sd"),t("uvvs","video/vnd.dece.sd"),t("uvv","video/vnd.dece.video"),t("uvvv","video/vnd.dece.video"),t("dvb","video/vnd.dvb.file"),t("fvt","video/vnd.fvt"),t("mxu","video/vnd.mpegurl"),t("m4u","video/vnd.mpegurl"),t("pyv","video/vnd.ms-playready.media.pyv"),t("uvu","video/vnd.uvvu.mp4"),t("uvvu","video/vnd.uvvu.mp4"),t("viv","video/vnd.vivo"),t("webm","video/webm"),t("f4v","video/x-f4v"),t("fli","video/x-fli"),t("flv","video/x-flv"),t("m4v","video/x-m4v"),t("mkv","video/x-matroska"),t("mk3d","video/x-matroska"),t("mks","video/x-matroska"),t("mng","video/x-mng"),t("asf","video/x-ms-asf"),t("asx","video/x-ms-asf"),t("vob","video/x-ms-vob"),t("wm","video/x-ms-wm"),t("wmv","video/x-ms-wmv"),t("wmx","video/x-ms-wmx"),t("wvx","video/x-ms-wvx"),t("avi","video/x-msvideo"),t("movie","video/x-sgi-movie"),t("smv","video/x-smv"),t("ice","x-conference/x-cooltalk")}},t.$init=function(){t.FNCFormatSettings.$assign(pas.SysUtils.TFormatSettings.Create()),t.FNCFormatSettings.DecimalSeparator=".",t.FNCFormatSettings.ThousandSeparator=",",e.FMimeTypes=pas.Classes.TStringList.$create("Create$1"),e.RegisterMimeTypes()}}),[]),rtl.module("WEBLib.TMSFNCPersistence",["System","Classes","TypInfo","SysUtils","WEBLib.TMSFNCTypes"],(function(){"use strict";var t=this;rtl.createClass(this,"TTMSFNCPersistence",pas.System.TObject,(function(){this.ClassTypeVariable="",this.IgnoreExceptions=!1})),t.$init=function(){t.TTMSFNCPersistence.ClassTypeVariable="$type",t.TTMSFNCPersistence.IgnoreExceptions=!1}}),["WEBLib.Controls","WEBLib.Graphics","WEBLib.TMSFNCUtils"]),rtl.module("WEBLib.TMSFNCTypes",["System","Types","Classes","WEBLib.Graphics","SysUtils","WEBLib.Controls","Math"],(function(){"use strict";var t=this;this.TMSPlatformsWeb=0,this.KEY_ESCAPE=27,this.KEY_INSERT=45,this.KEY_DELETE=46,this.KEY_TAB=9,this.KEY_PRIOR=33,this.KEY_NEXT=34,this.KEY_UP=38,this.KEY_DOWN=40,this.KEY_RIGHT=39,this.KEY_LEFT=37,this.KEY_HOME=36,this.KEY_END=35,this.KEY_RETURN=13,this.KEY_SPACE=32,this.KEY_MENU=18,this.KEY_BACK=8,this.KEY_F2=113,this.KEY_F4=115,rtl.recNewT(this,"TSizeF",(function(){this.cx=0,this.cy=0,this.$eq=function(t){return this.cx===t.cx&&this.cy===t.cy},this.$assign=function(t){return this.cx=t.cx,this.cy=t.cy,this}})),rtl.recNewT(this,"TPointF",(function(){this.X=0,this.Y=0,this.$eq=function(t){return this.X===t.X&&this.Y===t.Y},this.$assign=function(t){return this.X=t.X,this.Y=t.Y,this}})),rtl.recNewT(this,"TRectF",(function(){this.Left=0,this.Top=0,this.Right=0,this.Bottom=0,this.$eq=function(t){return this.Left===t.Left&&this.Top===t.Top&&this.Right===t.Right&&this.Bottom===t.Bottom},this.$assign=function(t){return this.Left=t.Left,this.Top=t.Top,this.Right=t.Right,this.Bottom=t.Bottom,this};var e=t.$rtti.$Record("TRectF",{});e.addField("Left",rtl.double),e.addField("Top",rtl.double),e.addField("Right",rtl.double),e.addField("Bottom",rtl.double)})),rtl.createClass(this,"TTMSFNCBitmap",pas["WEBLib.Graphics"].TBitmap,(function(){})),rtl.createClass(this,"TTMSFNCMargins",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FRight=0,this.FBottom=0,this.FTop=0,this.FLeft=0,this.FOnChange=null},this.$final=function(){this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetBottom=function(t){this.FBottom!==t&&(this.FBottom=t,this.Changed())},this.SetLeft=function(t){this.FLeft!==t&&(this.FLeft=t,this.Changed())},this.SetRight=function(t){this.FRight!==t&&(this.FRight=t,this.Changed())},this.SetTop=function(t){this.FTop!==t&&(this.FTop=t,this.Changed())},this.IsLeftStored=function(){return 0!==this.FLeft},this.IsTopStored=function(){return 0!==this.FTop},this.IsRightStored=function(){return 0!==this.FRight},this.IsBottomStored=function(){return 0!==this.FBottom},this.Changed=function(){null!=this.FOnChange&&this.FOnChange(this)},this.Create$1=function(){return this.FLeft=0,this.FBottom=0,this.FRight=0,this.FTop=0,this},this.Assign=function(e){t.TTMSFNCMargins.isPrototypeOf(e)&&(this.FLeft=rtl.as(e,t.TTMSFNCMargins).FLeft,this.FTop=rtl.as(e,t.TTMSFNCMargins).FTop,this.FRight=rtl.as(e,t.TTMSFNCMargins).FRight,this.FBottom=rtl.as(e,t.TTMSFNCMargins).FBottom)},this.Empty=function(){var e=t.TRectF.$new();return e.$assign(t.RectF(this.FLeft,this.FTop,this.FRight,this.FBottom)),t.RectIsEmpty(e)},this.Rect=function(){var e=t.TRectF.$new();return e.$assign(t.RectF(this.FLeft,this.FTop,this.FRight,this.FBottom)),e};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("Left",14,rtl.double,"FLeft","SetLeft",{stored:"IsLeftStored"}),e.addProperty("Top",14,rtl.double,"FTop","SetTop",{stored:"IsTopStored"}),e.addProperty("Right",14,rtl.double,"FRight","SetRight",{stored:"IsRightStored"}),e.addProperty("Bottom",14,rtl.double,"FBottom","SetBottom",{stored:"IsBottomStored"}),e.addProperty("OnChange",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnChange","FOnChange")})),rtl.createClass(this,"TTMSFNCScaledBitmap",pas.Classes.TCollectionItem,(function(){this.$init=function(){pas.Classes.TCollectionItem.$init.call(this),this.FBitmap=null,this.FScale=0,this.FBitmapName=""},this.$final=function(){this.FBitmap=void 0,pas.Classes.TCollectionItem.$final.call(this)},this.IsScaleStored=function(){return 1!==this.FScale},this.SetBitmap=function(t){this.FBitmap!==t&&(this.FBitmap.Assign(t),this.Changed(!1))},this.SetScale=function(t){this.FScale!==t&&(this.FScale=t,this.Changed(!1))},this.SetBitmapName=function(t){this.FBitmapName!==t&&(this.FBitmapName=t,this.Changed(!1))},this.BitmapChanged=function(t){this.Changed(!1)},this.Create$1=function(e){return pas.Classes.TCollectionItem.Create$1.apply(this,arguments),this.FBitmap=t.TTMSFNCBitmap.$create("Create$3"),this.FBitmap.FOnChange=rtl.createCallback(this,"BitmapChanged"),this.FScale=1,this},this.Destroy=function(){rtl.free(this,"FBitmap"),pas.Classes.TCollectionItem.Destroy.call(this)},this.Assign=function(e){t.TTMSFNCScaledBitmap.isPrototypeOf(e)&&(this.FBitmap.Assign(rtl.as(e,t.TTMSFNCScaledBitmap).FBitmap),this.FBitmapName=rtl.as(e,t.TTMSFNCScaledBitmap).FBitmapName,this.FScale=rtl.as(e,t.TTMSFNCScaledBitmap).FScale)};var e=this.$rtti;e.addMethod("Create$1",2,[["ACollection",pas.Classes.$rtti.TCollection]]),e.addProperty("Bitmap",2,t.$rtti.TTMSFNCBitmap,"FBitmap","SetBitmap"),e.addProperty("BitmapName",2,rtl.string,"FBitmapName","SetBitmapName"),e.addProperty("Scale",14,rtl.double,"FScale","SetScale",{stored:"IsScaleStored"})})),rtl.createClass(this,"TTMSFNCScaledBitmaps",pas.Classes.TOwnedCollection,(function(){this.$init=function(){pas.Classes.TOwnedCollection.$init.call(this),this.FOnChange=null},this.$final=function(){this.FOnChange=void 0,pas.Classes.TOwnedCollection.$final.call(this)},this.GetItems=function(t){return this.GetItem(t)},this.Update=function(t){pas.Classes.TCollection.Update.apply(this,arguments),null!=this.FOnChange&&this.FOnChange(this)},this.Create$3=function(e){return pas.Classes.TOwnedCollection.Create$2.call(this,e,t.TTMSFNCScaledBitmap),this},this.Add$1=function(t){var e=null;return(e=pas.Classes.TCollection.Add.call(this)).SetScale(t),e},this.AddBitmapFromResource$1=function(t,e,i){var s=null;return(s=this.Add$1(i)).FBitmap.LoadFromResource$1(t,e),s},this.AddBitmap=function(t,e){var i=null;return(i=this.Add$1(e)).FBitmap.Assign(t),i},this.AddBitmapName=function(t,e){var i=null;return(i=this.Add$1(e)).SetBitmapName(t),i},this.AddDrawBitmap=function(t,e){var i=null;return(i=this.Add$1(e)).FBitmap.Assign(t),i},this.GetItemByScale=function(t){var e=null,i=0,s=null,o=null,n=0;e=null,s=null,n=0;for(var a=0,r=this.GetCount()-1;a<=r;a++){if(i=a,(o=this.GetItems(i)).FScale===t){e=o;break}o.FScale!==t&&o.FScale>n&&(s=o,n=o.FScale)}return null===e&&(e=s),e},this.$rtti.addMethod("Create$3",2,[["AOwner",pas.Classes.$rtti.TPersistent]])})),rtl.createInterface(this,"ITMSFNCCustomEditor","{CC0C60B7-75F3-47CE-8A7F-8005A19F12E8}",["SetText","SetSelStart","SetSelLength","GetTextLength"],pas.System.IUnknown),rtl.createClass(this,"TTMSFNCOwnedCollection",pas.Classes.TOwnedCollection,(function(){})),this.InflateRectEx=function(t,e,i){t.Left=t.Left-e,t.Right=t.Right+e,t.Top=t.Top-i,t.Bottom=t.Bottom+i},this.ConvertToRectF=function(e){var i=t.TRectF.$new();return i.Left=e.Left,i.Top=e.Top,i.Right=e.Right,i.Bottom=e.Bottom,i},this.ConvertToRect=function(t){var e=pas.Types.TRect.$new();return e.Left=Math.round(t.Left),e.Top=Math.round(t.Top),e.Right=Math.round(t.Right),e.Bottom=Math.round(t.Bottom),e},this.OffsetRectEx$1=function(t,e,i){return t.Left=t.Left+e,t.Right=t.Right+e,t.Top=t.Top+i,t.Bottom=t.Bottom+i,!0,!0},this.PtInRectEx=function(t,e){return e.X>=t.Left&&e.X<t.Right&&e.Y>=t.Top&&e.Y<t.Bottom},this.IntersectRectEx=function(t,e){return t.Left<e.Right&&t.Right>e.Left&&t.Top<e.Bottom&&t.Bottom>e.Top},this.IntersectRectEx$1=function(e,i,s){var o,n=t.TRectF.$new();return n.$assign(i),s.Left>i.Left&&(n.Left=s.Left),s.Top>i.Top&&(n.Top=s.Top),s.Right<i.Right&&(n.Right=s.Right),s.Bottom<i.Bottom&&(n.Bottom=s.Bottom),(o=!t.RectIsEmpty(n))||(n.Top=0,n.Bottom=0,n.Left=0,n.Right=0),e.$assign(n),o},this.EqualRectEx=function(t,e){return t.Left===e.Left&&t.Right===e.Right&&t.Top===e.Top&&t.Bottom===e.Bottom},this.RectWidthEx$1=function(t){return t.Right-t.Left},this.RectHeightEx$1=function(t){return t.Bottom-t.Top},this.RectCenterEx$1=function(e,i){var s=t.TRectF.$new();return t.OffsetRectEx$1(e,-e.Left,-e.Top),t.OffsetRectEx$1(e,Math.round((t.RectWidthEx$1(i)-t.RectWidthEx$1(e))/2),Math.round((t.RectHeightEx$1(i)-t.RectHeightEx$1(e))/2)),t.OffsetRectEx$1(e,i.Left,i.Top),s.$assign(e),s},this.RectCenterAtEx=function(e,i){var s=t.TRectF.$new();return s.$assign(e),t.RectCenterEx$1(s,i),s},this.RectSnapToPixelEx=function(e,i,s){var o=t.TRectF.$new(),n=0,a=0;return n=i<=0?1:i,o.Left=pas.System.Trunc(e.Left*n)/n,o.Top=pas.System.Trunc(e.Top*n)/n,o.Right=o.Left+Math.round((e.Right-e.Left)*n)/n,o.Bottom=o.Top+Math.round((e.Bottom-e.Top)*n)/n,s&&(a=1/(2*n),t.OffsetRectEx$1(o,a,a)),o},this.RectFitIntoEx=function(e,i,s){var o=t.TRectF.$new();return i.Right-i.Left<=0||i.Bottom-i.Top<=0?(s.set(1),e):((e.Right-e.Left)/(i.Right-i.Left)>(e.Bottom-e.Top)/(i.Bottom-i.Top)?s.set((e.Right-e.Left)/(i.Right-i.Left)):s.set((e.Bottom-e.Top)/(i.Bottom-i.Top)),o.$assign(t.RectF(0,0,(e.Right-e.Left)/s.get(),(e.Bottom-e.Top)/s.get())),t.RectCenterEx$1(o,i),o)},this.RectFitIntoEx$1=function(e,i){var s=t.TRectF.$new(),o=0;return s.$assign(t.RectFitIntoEx(e,i,{get:function(){return o},set:function(t){o=t}})),s},this.GetPointLength=function(t){return Math.sqrt(pas.System.Sqr$1(t.X)+pas.System.Sqr$1(t.Y))},this.MakeRectF=function(e,i,s,o){var n=t.TRectF.$new();return n.Left=e,n.Top=i,n.Right=e+s,n.Bottom=i+o,n},this.CenterPointEx=function(e){var i=t.TPointF.$new();return i.X=(e.Right-e.Left)/2+e.Left,i.Y=(e.Bottom-e.Top)/2+e.Top,i},this.CompareValueEx=function(t,e,i){return pas.Math.SameValue(t,e,i)?0:t<e?-1:1},this.RectIsEmpty=function(t){return t.Right<t.Left||pas.Math.SameValue(t.Right,t.Left,0)||t.Bottom<t.Top||pas.Math.SameValue(t.Bottom,t.Top,0)},this.EmptyRect=function(){var e=t.TRectF.$new();return e.$assign(t.RectF(0,0,0,0)),e},this.RectF=function(e,i,s,o){var n=t.TRectF.$new();return n.Left=e,n.Top=i,n.Bottom=o,n.Right=s,n},this.PointF=function(e,i){var s=t.TPointF.$new();return s.X=e,s.Y=i,s},this.BitmapToDrawBitmap=function(t){var e=null;return e=null,null!=t&&(e=t),e},this.IsBitmapEmpty=function(e){var i=!1,s=null;return i=!0,null!=e&&null!=(s=t.BitmapToDrawBitmap(e))&&(i=s.Empty()),i},this.CharInArray=function(t,e){var i=!1;i=!1;for(var s=0,o=rtl.length(e)-1;s<=o;s++)if(e[s]===t)return i=!0;return i},this.CharIsNumber=function(t){return t.charCodeAt()in rtl.createSet(null,48,57)},this.CharIsLetter=function(t){return t.charCodeAt()in rtl.createSet(null,97,122)||t.charCodeAt()in rtl.createSet(null,65,90)},this.CharIsHex=function(t){return t.charCodeAt()in rtl.createSet(null,48,57)||t.charCodeAt()in rtl.createSet(null,97,102)||t.charCodeAt()in rtl.createSet(null,65,70)},this.CharIsLetterOrNumber=function(e){return t.CharIsLetter(e)||t.CharIsNumber(e)},this.VarToStr=function(t){return t},this.VarToDateTime=function(t){return pas.SysUtils.StrToDateTime(t)},this.AnsiUpperCase=function(t){return pas.SysUtils.UpperCase(t)},this.AnsiLowerCase=function(t){return pas.SysUtils.LowerCase(t)},this.HInstance=function(){return 0,0}}),["WEBLib.TMSFNCUtils","WEBLib.TMSFNCPersistence","JS"]),rtl.module("WEBLib.TMSFNCGraphicsTypes",["System","Classes","Types","WEBLib.TMSFNCTypes","WEBLib.Graphics"],(function(){"use strict";var t=this,e=t.$impl;this.PathPosition=.001,this.gcAliceblue=16775408,this.gcAntiquewhite=14150650,this.gcAqua=16776960,this.gcAquamarine=13959039,this.gcAzure=16777200,this.gcBeige=14480885,this.gcBisque=12903679,this.gcBlack=0,this.gcBlanchedalmond=13495295,this.gcBlue=16711680,this.gcBlueviolet=14822282,this.gcBrown=2763429,this.gcBurlywood=8894686,this.gcCadetblue=10526303,this.gcChartreuse=65407,this.gcChocolate=1993170,this.gcCoral=5275647,this.gcCornflowerblue=15570276,this.gcCornsilk=14481663,this.gcCrimson=3937500,this.gcCyan=16776960,this.gcDarkblue=9109504,this.gcDarkcyan=9145088,this.gcDarkgoldenrod=755384,this.gcDarkgray=11119017,this.gcDarkgreen=25600,this.gcDarkgrey=11119017,this.gcDarkkhaki=7059389,this.gcDarkmagenta=9109643,this.gcDarkolivegreen=3107669,this.gcDarkorange=36095,this.gcDarkorchid=13382297,this.gcDarkred=139,this.gcDarksalmon=8034025,this.gcDarkseagreen=9419919,this.gcDarkslateblue=9125192,this.gcDarkslategray=5197615,this.gcDarkslategrey=5197615,this.gcDarkturquoise=13749760,this.gcDarkviolet=13828244,this.gcDeeppink=9639167,this.gcDeepskyblue=16760576,this.gcDimgray=6908265,this.gcDimgrey=6908265,this.gcDodgerblue=16748574,this.gcFirebrick=2237106,this.gcFloralwhite=15792895,this.gcForestgreen=2263842,this.gcFuchsia=16711935,this.gcGainsboro=14474460,this.gcGhostwhite=16775416,this.gcGold=55295,this.gcGoldenrod=2139610,this.gcGray=8421504,this.gcGreen=32768,this.gcGreenyellow=3145645,this.gcGrey=8421504,this.gcHoneydew=15794160,this.gcHotpink=11823615,this.gcIndianred=6053069,this.gcIndigo=8519755,this.gcIvory=15794175,this.gcKhaki=9234160,this.gcLavender=16443110,this.gcLavenderblush=16118015,this.gcLawngreen=64636,this.gcLemonchiffon=13499135,this.gcLightblue=15128749,this.gcLightcoral=8421616,this.gcLightcyan=16777184,this.gcLightgoldenrodyellow=13826810,this.gcLightgray=13882323,this.gcLightgreen=9498256,this.gcLightgrey=13882323,this.gcLightpink=12695295,this.gcLightsalmon=8036607,this.gcLightseagreen=11186720,this.gcLightskyblue=16436871,this.gcLightslategray=10061943,this.gcLightslategrey=10061943,this.gcLightsteelblue=14599344,this.gcLightyellow=14745599,this.gcLime=65280,this.gcLimegreen=3329330,this.gcLinen=15134970,this.gcMagenta=16711935,this.gcMaroon=128,this.gcMediumaquamarine=11193702,this.gcMediumblue=13434880,this.gcMediumorchid=13850042,this.gcMediumpurple=14381203,this.gcMediumseagreen=7451452,this.gcMediumslateblue=15624315,this.gcMediumspringgreen=10156544,this.gcMediumturquoise=13422920,this.gcMediumvioletred=8721863,this.gcMidnightblue=7346457,this.gcMintcream=16449525,this.gcMistyrose=14804223,this.gcMoccasin=11920639,this.gcNavajowhite=11394815,this.gcNavy=8388608,this.gcOldlace=15136253,this.gcOlive=32896,this.gcOlivedrab=2330219,this.gcOrange=42495,this.gcOrangered=17919,this.gcOrchid=14053594,this.gcPalegoldenrod=11200750,this.gcPalegreen=10025880,this.gcPaleturquoise=15658671,this.gcPalevioletred=9662683,this.gcPapayawhip=14020607,this.gcPeachpuff=12180223,this.gcPeru=4163021,this.gcPink=13353215,this.gcPlum=14524637,this.gcPowderblue=15130800,this.gcPurple=8388736,this.gcRed=255,this.gcRosybrown=9408444,this.gcRoyalblue=14772545,this.gcSaddlebrown=1262987,this.gcSalmon=7504122,this.gcSandybrown=6333684,this.gcSeagreen=5737262,this.gcSeashell=15660543,this.gcSienna=2970272,this.gcSilver=12632256,this.gcSkyblue=15453831,this.gcSlateblue=13458026,this.gcSlategray=9470064,this.gcSlategrey=9470064,this.gcSnow=16448255,this.gcSpringgreen=8388352,this.gcSteelblue=11829830,this.gcTan=9221330,this.gcTeal=8421376,this.gcThistle=14204888,this.gcTomato=4678655,this.gcTurquoise=13688896,this.gcViolet=15631086,this.gcWheat=11788021,this.gcWhite=16777215,this.gcWhitesmoke=16119285,this.gcYellow=65535,this.gcYellowgreen=3329434,this.gcNull=-1,this.TTMSFNCGraphicsStrokeKind={0:"gskNone",gskNone:0,1:"gskSolid",gskSolid:1,2:"gskDash",gskDash:2,3:"gskDot",gskDot:3,4:"gskDashDot",gskDashDot:4,5:"gskDashDotDot",gskDashDotDot:5},this.$rtti.$Enum("TTMSFNCGraphicsStrokeKind",{minvalue:0,maxvalue:5,ordtype:1,enumtype:this.TTMSFNCGraphicsStrokeKind}),this.TTMSFNCGraphicsTextureMode={0:"gtmOriginal",gtmOriginal:0,1:"gtmFit",gtmFit:1,2:"gtmStretch",gtmStretch:2,3:"gtmCenter",gtmCenter:3,4:"gtmTile",gtmTile:4},this.$rtti.$Enum("TTMSFNCGraphicsTextureMode",{minvalue:0,maxvalue:4,ordtype:1,enumtype:this.TTMSFNCGraphicsTextureMode}),this.TTMSFNCGraphicsFillKind={0:"gfkNone",gfkNone:0,1:"gfkSolid",gfkSolid:1,2:"gfkGradient",gfkGradient:2,3:"gfkTexture",gfkTexture:3},this.$rtti.$Enum("TTMSFNCGraphicsFillKind",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TTMSFNCGraphicsFillKind}),this.TTMSFNCGraphicsFillGradientMode={0:"gfgmDefault",gfgmDefault:0,1:"gfgmCollection",gfgmCollection:1},this.TTMSFNCGraphicsFillGradientType={0:"gfgtLinear",gfgtLinear:0,1:"gfgtRadial",gfgtRadial:1},this.TTMSFNCGraphicsFillOrientation={0:"gfoHorizontal",gfoHorizontal:0,1:"gfoVertical",gfoVertical:1,2:"gfoCustom",gfoCustom:2},this.$rtti.$Enum("TTMSFNCGraphicsFillOrientation",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TTMSFNCGraphicsFillOrientation}),this.TTMSFNCGraphicsTextAlign={0:"gtaCenter",gtaCenter:0,1:"gtaLeading",gtaLeading:1,2:"gtaTrailing",gtaTrailing:2},this.$rtti.$Enum("TTMSFNCGraphicsTextAlign",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TTMSFNCGraphicsTextAlign}),this.TTMSFNCGraphicsTextTrimming={0:"gttNone",gttNone:0,1:"gttCharacter",gttCharacter:1,2:"gttWord",gttWord:2},this.$rtti.$Enum("TTMSFNCGraphicsTextTrimming",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TTMSFNCGraphicsTextTrimming}),this.TTMSFNCGraphicsSide={0:"gsLeft",gsLeft:0,1:"gsTop",gsTop:1,2:"gsRight",gsRight:2,3:"gsBottom",gsBottom:3},this.$rtti.$Enum("TTMSFNCGraphicsSide",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TTMSFNCGraphicsSide}),this.$rtti.$Set("TTMSFNCGraphicsSides",{comptype:this.$rtti.TTMSFNCGraphicsSide}),this.TTMSFNCGraphicsTextQuality={0:"gtqDefault",gtqDefault:0,1:"gtqAntiAliasing",gtqAntiAliasing:1,2:"gtqClearType",gtqClearType:2},this.AllSides=rtl.createSet(0,1,2,3),rtl.recNewT(this,"TTMSFNCGraphicsMatrix",(function(){this.m11=0,this.m12=0,this.m13=0,this.m21=0,this.m22=0,this.m23=0,this.m31=0,this.m32=0,this.m33=0,this.$eq=function(t){return this.m11===t.m11&&this.m12===t.m12&&this.m13===t.m13&&this.m21===t.m21&&this.m22===t.m22&&this.m23===t.m23&&this.m31===t.m31&&this.m32===t.m32&&this.m33===t.m33},this.$assign=function(t){return this.m11=t.m11,this.m12=t.m12,this.m13=t.m13,this.m21=t.m21,this.m22=t.m22,this.m23=t.m23,this.m31=t.m31,this.m32=t.m32,this.m33=t.m33,this}})),this.$rtti.$Class("TTMSFNCGraphicsStroke"),this.$rtti.$Class("TTMSFNCGraphicsFill"),this.$rtti.$Class("TTMSFNCGraphicsFont"),rtl.createClass(this,"TTMSFNCGraphicsSaveState",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FSaveDC=0,this.FFont=null,this.FStroke=null,this.FFill=null},this.$final=function(){this.FFont=void 0,this.FStroke=void 0,this.FFill=void 0,pas.Classes.TPersistent.$final.call(this)},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FFill=t.TTMSFNCGraphicsFill.$create("Create$1",[1,16777215,8421504,-1,-1]),this.FStroke=t.TTMSFNCGraphicsStroke.$create("Create$1",[1,12632256]),this.FFont=t.TTMSFNCGraphicsFont.$create("Create$2"),this},this.Destroy=function(){rtl.free(this,"FFill"),rtl.free(this,"FStroke"),rtl.free(this,"FFont"),pas.System.TObject.Destroy.call(this)},this.$rtti.addMethod("Create$1",2,[])})),rtl.createClass(this,"TTMSFNCGraphicsFillGradientItem",pas.Classes.TCollectionItem,(function(){this.$init=function(){pas.Classes.TCollectionItem.$init.call(this),this.FColor=0,this.FPosition=0,this.FOpacity=0},this.IsPositionStored=function(){return 0!==this.FPosition},this.SetColor=function(t){rtl.rc(t,-9007199254740991,9007199254740991),this.FColor!==t&&(this.FColor=rtl.rc(t,-9007199254740991,9007199254740991),this.UpdateGradient())},this.SetPosition=function(t){this.FPosition!==t&&(this.FPosition=t,this.UpdateGradient())},this.IsOpacityStored=function(){return 1!==this.FOpacity},this.SetOpacity=function(t){this.FOpacity!==t&&(this.FOpacity=t,this.UpdateGradient())},this.UpdateGradient=function(){t.TTMSFNCGraphicsFillGradientItems.isPrototypeOf(this.FCollection)&&rtl.as(this.FCollection,t.TTMSFNCGraphicsFillGradientItems).UpdateGradient()},this.Create$1=function(t){return pas.Classes.TCollectionItem.Create$1.apply(this,arguments),this.FColor=16777215,this.FPosition=0,this.FOpacity=1,this},this.Assign=function(e){t.TTMSFNCGraphicsFillGradientItem.isPrototypeOf(e)?(this.FColor=rtl.rc(rtl.as(e,t.TTMSFNCGraphicsFillGradientItem).FColor,-9007199254740991,9007199254740991),this.FOpacity=rtl.as(e,t.TTMSFNCGraphicsFillGradientItem).FOpacity,this.FPosition=rtl.as(e,t.TTMSFNCGraphicsFillGradientItem).FPosition):pas.Classes.TPersistent.Assign.apply(this,arguments)};var e=this.$rtti;e.addMethod("Create$1",2,[["ACollection",pas.Classes.$rtti.TCollection]]),e.addProperty("Opacity",14,rtl.double,"FOpacity","SetOpacity",{stored:"IsOpacityStored"}),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor",{Default:16777215}),e.addProperty("Position",14,rtl.double,"FPosition","SetPosition",{stored:"IsPositionStored"})})),rtl.createClass(this,"TTMSFNCGraphicsFillGradientItems",pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection,(function(){this.$init=function(){pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection.$init.call(this),this.FOwner$1=null},this.$final=function(){this.FOwner$1=void 0,pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection.$final.call(this)},this.UpdateGradient=function(){null!=this.FOwner$1&&this.FOwner$1.Changed()},this.GetGradientClass=function(){return t.TTMSFNCGraphicsFillGradientItem},this.Create$3=function(t){return pas.Classes.TOwnedCollection.Create$2.call(this,t,this.GetGradientClass()),this.FOwner$1=t,this},this.$rtti.addMethod("Create$3",2,[["AOwner",t.$rtti.TTMSFNCCustomGraphicsFill]])})),rtl.createClass(this,"TTMSFNCCustomGraphicsFill",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FUpdateCount=0,this.FOnChanged=null,this.FOrientation=0,this.FKind=0,this.FDefaultKind=0,this.FColor=0,this.FDefaultColor=0,this.FColorTo=0,this.FColorMirror=0,this.FColorMirrorTo=0,this.FDefaultColorTo=0,this.FDefaultColorMirror=0,this.FDefaultColorMirrorTo=0,this.FOpacity=0,this.FTexture=null,this.FTextureMode=0,this.FGradientMode=0,this.FGradientItems=null,this.FGradientType=0,this.FGradientAngle=0,this.FGradientCenterPoint=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),this.FGradientCenterColor=0,this.FGradientMatrix=t.TTMSFNCGraphicsMatrix.$new()},this.$final=function(){this.FOnChanged=void 0,this.FTexture=void 0,this.FGradientItems=void 0,this.FGradientCenterPoint=void 0,this.FGradientMatrix=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetKind=function(t){rtl.rc(t,0,3),this.FKind!==t&&(this.FKind=rtl.rc(t,0,3),this.Changed())},this.SetOrientation=function(t){rtl.rc(t,0,2),this.FOrientation!==t&&(this.FOrientation=rtl.rc(t,0,2),this.Changed())},this.SetColor=function(t){rtl.rc(t,-9007199254740991,9007199254740991),this.FColor!==t&&(this.FColor=rtl.rc(t,-9007199254740991,9007199254740991),-1===this.FColor?this.FColor=-1:536870912===this.FColor&&(this.FColor=15790320),this.Changed())},this.SetColorTo=function(t){rtl.rc(t,-9007199254740991,9007199254740991),this.FColorTo!==t&&(this.FColorTo=rtl.rc(t,-9007199254740991,9007199254740991),-1===this.FColorTo?this.FColorTo=-1:536870912===this.FColorTo&&(this.FColorTo=15790320),this.Changed())},this.SetColorMirror=function(t){rtl.rc(t,-9007199254740991,9007199254740991),this.FColorMirror!==t&&(this.FColorMirror=rtl.rc(t,-9007199254740991,9007199254740991),-1===this.FColorMirror?this.FColorMirror=-1:536870912===this.FColorMirror&&(this.FColorMirror=15790320),this.Changed())},this.SetColorMirrorTo=function(t){rtl.rc(t,-9007199254740991,9007199254740991),this.FColorMirrorTo!==t&&(this.FColorMirrorTo=rtl.rc(t,-9007199254740991,9007199254740991),-1===this.FColorMirrorTo?this.FColorMirrorTo=-1:536870912===this.FColorMirrorTo&&(this.FColorMirrorTo=15790320),this.Changed())},this.SetTexture=function(t){this.FTexture!==t&&(this.FTexture.Assign(t),this.Changed())},this.SetTextureMode=function(t){rtl.rc(t,0,4),this.FTextureMode!==t&&(this.FTextureMode=rtl.rc(t,0,4),this.Changed())},this.IsColorStored=function(){return this.FColor!==this.FDefaultColor},this.IsKindStored=function(){return this.FKind!==this.FDefaultKind},this.IsColorMirrorStored=function(){return this.FColorMirror!==this.FDefaultColorMirror},this.IsColorMirrorToStored=function(){return this.FColorMirrorTo!==this.FDefaultColorMirrorTo},this.IsColorToStored=function(){return this.FColorTo!==this.FDefaultColorTo},this.Changed=function(){null!=this.FOnChanged&&0===this.FUpdateCount&&this.FOnChanged(this)},this.TextureChanged=function(t){this.Changed()},this.Create$1=function(e,i,s,o,n){return rtl.rc(e,0,3),rtl.rc(i,-9007199254740991,9007199254740991),rtl.rc(s,-9007199254740991,9007199254740991),rtl.rc(o,-9007199254740991,9007199254740991),rtl.rc(n,-9007199254740991,9007199254740991),this.FGradientItems=t.TTMSFNCGraphicsFillGradientItems.$create("Create$3",[this]),this.FKind=rtl.rc(e,0,3),this.FDefaultKind=rtl.rc(e,0,3),this.FGradientMatrix.$assign(t.MatrixIdentity()),this.FGradientCenterColor=-1,this.FGradientMode=0,this.FGradientAngle=0,this.FGradientCenterPoint.$assign(pas["WEBLib.TMSFNCTypes"].PointF(0,0)),this.FGradientType=0,this.FColor=rtl.rc(i,-9007199254740991,9007199254740991),this.FDefaultColor=rtl.rc(i,-9007199254740991,9007199254740991),this.FOpacity=1,this.FOrientation=1,this.FColorTo=rtl.rc(s,-9007199254740991,9007199254740991),this.FColorMirror=rtl.rc(o,-9007199254740991,9007199254740991),this.FColorMirrorTo=rtl.rc(n,-9007199254740991,9007199254740991),this.FDefaultColorTo=rtl.rc(s,-9007199254740991,9007199254740991),this.FDefaultColorMirror=rtl.rc(o,-9007199254740991,9007199254740991),this.FDefaultColorMirrorTo=rtl.rc(n,-9007199254740991,9007199254740991),this.FTextureMode=2,this.FTexture=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),this.FTexture.FOnChange=rtl.createCallback(this,"TextureChanged"),this},this.Destroy=function(){rtl.free(this,"FTexture"),rtl.free(this,"FGradientItems"),pas.System.TObject.Destroy.call(this)},this.Assign=function(e){t.TTMSFNCCustomGraphicsFill.isPrototypeOf(e)?(this.FColor=rtl.rc(rtl.as(e,t.TTMSFNCCustomGraphicsFill).FColor,-9007199254740991,9007199254740991),this.FColorTo=rtl.rc(rtl.as(e,t.TTMSFNCCustomGraphicsFill).FColorTo,-9007199254740991,9007199254740991),this.FColorMirror=rtl.rc(rtl.as(e,t.TTMSFNCCustomGraphicsFill).FColorMirror,-9007199254740991,9007199254740991),this.FColorMirrorTo=rtl.rc(rtl.as(e,t.TTMSFNCCustomGraphicsFill).FColorMirrorTo,-9007199254740991,9007199254740991),this.FKind=rtl.rc(rtl.as(e,t.TTMSFNCCustomGraphicsFill).FKind,0,3),this.FOrientation=rtl.rc(rtl.as(e,t.TTMSFNCCustomGraphicsFill).FOrientation,0,2),this.FOpacity=rtl.as(e,t.TTMSFNCCustomGraphicsFill).FOpacity,this.FTexture.Assign(rtl.as(e,t.TTMSFNCCustomGraphicsFill).FTexture),this.FTextureMode=rtl.rc(rtl.as(e,t.TTMSFNCCustomGraphicsFill).FTextureMode,0,4),this.FGradientMode=rtl.rc(rtl.as(e,t.TTMSFNCCustomGraphicsFill).FGradientMode,0,1),this.FGradientAngle=rtl.as(e,t.TTMSFNCCustomGraphicsFill).FGradientAngle,this.FGradientCenterPoint.$assign(rtl.as(e,t.TTMSFNCCustomGraphicsFill).FGradientCenterPoint),this.FGradientItems.Assign(rtl.as(e,t.TTMSFNCCustomGraphicsFill).FGradientItems),this.FGradientType=rtl.rc(rtl.as(e,t.TTMSFNCCustomGraphicsFill).FGradientType,0,1),this.FGradientCenterColor=rtl.rc(rtl.as(e,t.TTMSFNCCustomGraphicsFill).FGradientCenterColor,-9007199254740991,9007199254740991)):t.TTMSFNCCustomGraphicsStroke.isPrototypeOf(e)&&(this.FColor=rtl.rc(rtl.as(e,t.TTMSFNCCustomGraphicsStroke).FColor,-9007199254740991,9007199254740991),this.FColorTo=-1,this.FColorMirror=-1,this.FColorMirrorTo=-1,this.FKind=1,this.FOrientation=1,this.FOpacity=1),this.Changed()},this.$rtti.addMethod("Create$1",2,[["AKind",t.$rtti.TTMSFNCGraphicsFillKind,2],["AColor",pas["WEBLib.Graphics"].$rtti.TColor,2],["AColorTo",pas["WEBLib.Graphics"].$rtti.TColor,2],["AColorMirror",pas["WEBLib.Graphics"].$rtti.TColor,2],["AColorMirrorTo",pas["WEBLib.Graphics"].$rtti.TColor,2]])})),rtl.createClass(this,"TTMSFNCGraphicsFill",this.TTMSFNCCustomGraphicsFill,(function(){var e=this.$rtti;e.addProperty("OnChanged",0,pas.Classes.$rtti.TNotifyEvent,"FOnChanged","FOnChanged"),e.addProperty("Kind",14,t.$rtti.TTMSFNCGraphicsFillKind,"FKind","SetKind",{stored:"IsKindStored"}),e.addProperty("Orientation",2,t.$rtti.TTMSFNCGraphicsFillOrientation,"FOrientation","SetOrientation",{Default:t.TTMSFNCGraphicsFillOrientation.gfoVertical}),e.addProperty("Color",14,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor",{stored:"IsColorStored"}),e.addProperty("ColorTo",14,pas["WEBLib.Graphics"].$rtti.TColor,"FColorTo","SetColorTo",{stored:"IsColorToStored"}),e.addProperty("ColorMirror",14,pas["WEBLib.Graphics"].$rtti.TColor,"FColorMirror","SetColorMirror",{stored:"IsColorMirrorStored"}),e.addProperty("ColorMirrorTo",14,pas["WEBLib.Graphics"].$rtti.TColor,"FColorMirrorTo","SetColorMirrorTo",{stored:"IsColorMirrorToStored"}),e.addProperty("TextureMode",2,t.$rtti.TTMSFNCGraphicsTextureMode,"FTextureMode","SetTextureMode",{Default:t.TTMSFNCGraphicsTextureMode.gtmStretch}),e.addProperty("Texture",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCBitmap,"FTexture","SetTexture")})),rtl.createClass(this,"TTMSFNCGraphicsFont",pas["WEBLib.Graphics"].TFont,(function(){this.$init=function(){pas["WEBLib.Graphics"].TFont.$init.call(this),this.FUpdateCount=0,this.FOnChanged=null},this.$final=function(){this.FOnChanged=void 0,pas["WEBLib.Graphics"].TFont.$final.call(this)},this.DoChanged=function(t){null!=this.FOnChanged&&0===this.FUpdateCount&&this.FOnChanged(this)},this.Create$2=function(){return pas["WEBLib.Graphics"].TFont.Create$1.call(this),this.SetHeight(-11),this.FOnChange=rtl.createCallback(this,"DoChanged"),this},this.Assign=function(t){pas["WEBLib.Graphics"].TFont.Assign.call(this,t),this.DoChanged(this)},this.AssignSource=function(t){this.Assign(t)},this.$rtti.addMethod("Create$2",2,[])})),this.TTMSFNCAppearanceGlobalFontType={0:"aftNone",aftNone:0,1:"aftColor",aftColor:1,2:"aftSize",aftSize:2,3:"aftName",aftName:3,4:"aftScale",aftScale:4,5:"aftStyle",aftStyle:5},rtl.createInterface(this,"ITMSFNCAppearanceGlobalFont","{85CF4F6B-3FF9-4CB7-AD6A-7FC477ED5462}",["SetFonts"],pas.System.IUnknown),rtl.createClass(this,"TTMSFNCAppearanceGlobalFont",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FOwner=null,this.FColor=0,this.FSize=0,this.FName="",this.FScale=0,this.FOldScale=0,this.FStyle={}},this.$final=function(){this.FOwner=void 0,this.FStyle=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetColor=function(t){rtl.rc(t,-9007199254740991,9007199254740991),this.FColor!==t&&(this.FColor=rtl.rc(t,-9007199254740991,9007199254740991),this.SetFonts(1))},this.SetSize=function(t){this.FSize!==t&&(this.FSize=t,this.SetFonts(2))},this.SetName=function(t){this.FName!==t&&(this.FName=t,this.SetFonts(3))},this.SetScale=function(t){this.FScale!==t&&(this.FOldScale=this.FScale,this.FScale=t,this.SetFonts(4))},this.SetStyle=function(t){rtl.neSet(this.FStyle,t)&&(this.FStyle=rtl.refSet(t),this.SetFonts(5))},this.IsNameStored=function(){return""!==this.FName},this.IsScaleStored=function(){return 1!==this.FScale},this.IsSizeStored=function(){return 0!==this.FSize},this.IsStyleStored=function(){return rtl.neSet(this.FStyle,{})},this.SetFonts=function(e){rtl.rc(e,0,5);var i=null;try{pas.SysUtils.Supports$3(this.FOwner,t.ITMSFNCAppearanceGlobalFont.$guid,{get:function(){return i},set:function(t){i=t}})&&i.SetFonts(e)}finally{rtl._Release(i)}},this.Create$1=function(t){return this.FOwner=t,this.FColor=-1,this.FSize=0,this.FScale=1,this.FName="",this.FStyle={},this},this.Destroy=function(){pas.System.TObject.Destroy.call(this)},this.Assign=function(e){t.TTMSFNCAppearanceGlobalFont.isPrototypeOf(e)?(this.SetColor(rtl.as(e,t.TTMSFNCAppearanceGlobalFont).FColor),this.SetSize(rtl.as(e,t.TTMSFNCAppearanceGlobalFont).FSize),this.SetName(rtl.as(e,t.TTMSFNCAppearanceGlobalFont).FName),this.SetScale(rtl.as(e,t.TTMSFNCAppearanceGlobalFont).FScale),this.SetStyle(rtl.refSet(rtl.as(e,t.TTMSFNCAppearanceGlobalFont).FStyle))):pas.Classes.TPersistent.Assign.apply(this,arguments)},this.ApplyChange=function(t,e){if(rtl.rc(e,0,5),null!=t){var i=e;1===i?t.SetColor(this.FColor):2===i?t.SetSize(Math.round(this.FSize)):3===i?t.SetName(this.FName):4===i?t.SetHeight(Math.round(t.FHeight*this.FScale/this.FOldScale)):5===i&&t.SetStyle(rtl.refSet(this.FStyle))}};var e=this.$rtti;e.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TPersistent]]),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor",{Default:-1}),e.addProperty("Size",14,rtl.double,"FSize","SetSize",{stored:"IsSizeStored"}),e.addProperty("Name",14,rtl.string,"FName","SetName",{stored:"IsNameStored"}),e.addProperty("Scale",14,rtl.double,"FScale","SetScale",{stored:"IsScaleStored"}),e.addProperty("Style",14,pas["WEBLib.Graphics"].$rtti.TFontStyles,"FStyle","SetStyle",{stored:"IsStyleStored"})})),rtl.createClass(this,"TTMSFNCCustomGraphicsStroke",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FUpdateCount=0,this.FOnChanged=null,this.FKind=0,this.FColor=0,this.FWidth=0,this.FOpacity=0,this.FDefaultKind=0,this.FDefaultColor=0},this.$final=function(){this.FOnChanged=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetKind=function(t){rtl.rc(t,0,5),this.FKind!==t&&(this.FKind=rtl.rc(t,0,5),this.Changed())},this.SetColor=function(t){rtl.rc(t,-9007199254740991,9007199254740991),this.FColor!==t&&(this.FColor=rtl.rc(t,-9007199254740991,9007199254740991),-1===this.FColor?this.FColor=-1:536870912===this.FColor&&(this.FColor=15790320),this.Changed())},this.SetWidth=function(t){this.FWidth!==t&&(this.FWidth=t,this.Changed())},this.IsWidthStored=function(){return 1!==this.FWidth},this.IsKindStored=function(){return this.FKind!==this.FDefaultKind},this.IsColorStored=function(){return this.FColor!==this.FDefaultColor},this.Changed=function(){null!=this.FOnChanged&&0===this.FUpdateCount&&this.FOnChanged(this)},this.Create$1=function(t,e){return rtl.rc(t,0,5),rtl.rc(e,-9007199254740991,9007199254740991),this.FKind=rtl.rc(t,0,5),this.FDefaultKind=rtl.rc(t,0,5),this.FColor=rtl.rc(e,-9007199254740991,9007199254740991),this.FDefaultColor=rtl.rc(e,-9007199254740991,9007199254740991),this.FOpacity=1,this.FWidth=1,this},this.Assign=function(e){t.TTMSFNCCustomGraphicsStroke.isPrototypeOf(e)?(this.FColor=rtl.rc(rtl.as(e,t.TTMSFNCCustomGraphicsStroke).FColor,-9007199254740991,9007199254740991),this.FKind=rtl.rc(rtl.as(e,t.TTMSFNCCustomGraphicsStroke).FKind,0,5),this.FOpacity=rtl.as(e,t.TTMSFNCCustomGraphicsStroke).FOpacity,this.FWidth=rtl.as(e,t.TTMSFNCCustomGraphicsStroke).FWidth):t.TTMSFNCCustomGraphicsFill.isPrototypeOf(e)&&(this.FColor=rtl.rc(rtl.as(e,t.TTMSFNCCustomGraphicsFill).FColor,-9007199254740991,9007199254740991),this.FKind=1,this.FOpacity=1,this.FWidth=1),this.Changed()},this.$rtti.addMethod("Create$1",2,[["AKind",t.$rtti.TTMSFNCGraphicsStrokeKind,2],["AColor",pas["WEBLib.Graphics"].$rtti.TColor,2]])})),rtl.createClass(this,"TTMSFNCGraphicsStroke",this.TTMSFNCCustomGraphicsStroke,(function(){var e=this.$rtti;e.addProperty("OnChanged",0,pas.Classes.$rtti.TNotifyEvent,"FOnChanged","FOnChanged"),e.addProperty("Kind",14,t.$rtti.TTMSFNCGraphicsStrokeKind,"FKind","SetKind",{stored:"IsKindStored"}),e.addProperty("Color",14,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor",{stored:"IsColorStored"}),e.addProperty("Width",14,rtl.double,"FWidth","SetWidth",{stored:"IsWidthStored"})})),this.TTMSFNCGraphicsPathPointKind={0:"gppMoveTo",gppMoveTo:0,1:"gppLineTo",gppLineTo:1,2:"gppCurveTo",gppCurveTo:2,3:"gppClose",gppClose:3},this.TTMSFNCGraphicsPathCubicBezier$clone=function(t){var e=[];e.length=4;for(var i=0;i<4;i++)e[i]=pas["WEBLib.TMSFNCTypes"].TPointF.$clone(t[i]);return e},rtl.recNewT(this,"TTMSFNCGraphicsPathPoint",(function(){this.Kind=0,this.$new=function(){var t=Object.create(this);return t.Point=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),t},this.$eq=function(t){return this.Kind===t.Kind&&this.Point.$eq(t.Point)},this.$assign=function(t){return this.Kind=t.Kind,this.Point.$assign(t.Point),this}})),this.TTMSFNCGraphicsPathDrawMode={0:"pdmPolygon",pdmPolygon:0,1:"pdmPolyline",pdmPolyline:1,2:"pdmPath",pdmPath:2},rtl.createClass(this,"TTMSFNCGraphicsPathPoints",pas.Classes.TList,(function(){this.GetItem=function(e){rtl.rc(e,-2147483648,2147483647);var i=t.TTMSFNCGraphicsPathPoint.$new();return i.$assign(rtl.getObject(this.Get(e))),i},this.SetItem=function(e,i){rtl.rc(e,-2147483648,2147483647);var s=t.TTMSFNCGraphicsPathPoint.$new();s.$assign(i),this.Put(e,s)}})),rtl.createClass(this,"TTMSFNCGraphicsPath",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FStartPoint=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),this.FClippable=!1,this.FPoints=null},this.$final=function(){this.FStartPoint=void 0,this.FPoints=void 0,pas.Classes.TPersistent.$final.call(this)},this.CalculateBezierCoefficients=function(t,e,i,s,o,n,a){s.set(3*(t[1].X-t[0].X)),a.set(3*(t[1].Y-t[0].Y)),i.set(3*(t[2].X-t[1].X)-s.get()),n.set(3*(t[2].Y-t[1].Y)-a.get()),e.set(t[3].X-t[0].X-s.get()-i.get()),o.set(t[3].Y-t[0].Y-a.get()-n.get())},this.GetCount=function(){return rtl.rc(this.FPoints.GetCount(),-2147483648,2147483647)},this.GetPoint=function(e){rtl.rc(e,-2147483648,2147483647);var i=t.TTMSFNCGraphicsPathPoint.$new();return i.$assign(this.FPoints.GetItem(e)),i},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FPoints=t.TTMSFNCGraphicsPathPoints.$create("Create$1"),this},this.Destroy=function(){rtl.free(this,"FPoints"),pas.System.TObject.Destroy.call(this)},this.Assign=function(e){var i=0;if(t.TTMSFNCGraphicsPath.isPrototypeOf(e)){this.FPoints.SetCount(e.GetCount());for(var s=0,o=e.GetCount()-1;s<=o;s++)i=s,this.FPoints.SetItem(i,e.GetPoint(i))}else pas.Classes.TPersistent.Assign.apply(this,arguments)},this.IsPointVisible=function(e){var i=[];return i=rtl.arraySetLength(i,pas["WEBLib.TMSFNCTypes"].TPointF,0),this.FlattenToPolygon({get:function(){return i},set:function(t){i=t}},.25),t.PointInPoly(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(e),rtl.arrayRef(i))},this.PointOnBezier=function(t,e,i,s,o,n,a,r){var l,h,F=pas["WEBLib.TMSFNCTypes"].TPointF.$new();return h=(l=r*r)*r,F.X=e*h+i*l+s*r+t.X,F.Y=o*h+n*l+a*r+t.Y,F},this.CreateBezier=function(t,e){rtl.rc(e,-2147483648,2147483647);var i,s=[],o=0,n=0,a=0,r=0,l=0,h=0,F=0,p=0;if(0===e)return s;i=1/(1*e-1),F=0,s=rtl.arraySetLength(s,pas["WEBLib.TMSFNCTypes"].TPointF,e),this.CalculateBezierCoefficients(t,{get:function(){return o},set:function(t){o=t}},{get:function(){return n},set:function(t){n=t}},{get:function(){return a},set:function(t){a=t}},{get:function(){return r},set:function(t){r=t}},{get:function(){return l},set:function(t){l=t}},{get:function(){return h},set:function(t){h=t}});for(var C=0,u=e-1;C<=u;C++)p=C,rtl.rcArrR(s,p).$assign(this.PointOnBezier(t[0],o,n,a,r,l,h,F)),F+=i;return s};this.GetBounds=function(){var e=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),i=0,s=t.TTMSFNCGraphicsPathPoint.$new();if(this.FPoints.GetCount()<1)return pas["WEBLib.TMSFNCTypes"].RectF(0,0,0,0);e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(65535,65535,-65535,-65535));for(var o=0,n=this.FPoints.GetCount()-1;o<=n;o++)i=o,s.$assign(this.FPoints.GetItem(i)),3!==s.Kind&&(s.Point.X<e.Left&&(e.Left=s.Point.X),s.Point.X>e.Right&&(e.Right=s.Point.X),s.Point.Y<e.Top&&(e.Top=s.Point.Y),s.Point.Y>e.Bottom&&(e.Bottom=s.Point.Y));return pas.Math.SameValue(e.Right-e.Left,0,.001)&&(e.Right=e.Left+.001),pas.Math.SameValue(e.Bottom-e.Top,0,.001)&&(e.Bottom=e.Top+.001),e},this.MoveTo=function(e){var i=t.TTMSFNCGraphicsPathPoint.$new();i.Kind=0,i.Point.$assign(e),this.FPoints.Add(t.TTMSFNCGraphicsPathPoint.$clone(i)),this.FStartPoint.$assign(this.FPoints.GetItem(this.FPoints.GetCount()-1).Point)},this.LineTo=function(e){var i=t.TTMSFNCGraphicsPathPoint.$new();i.Kind=1,i.Point.$assign(e),this.FPoints.Add(t.TTMSFNCGraphicsPathPoint.$clone(i)),e.X===this.FStartPoint.X&&e.Y===this.FStartPoint.Y&&(this.FClippable=!0)},this.CurveTo=function(e,i,s){var o=t.TTMSFNCGraphicsPathPoint.$new();o.Kind=2,o.Point.$assign(e),this.FPoints.Add(t.TTMSFNCGraphicsPathPoint.$clone(o)),o.Kind=2,o.Point.$assign(i),this.FPoints.Add(t.TTMSFNCGraphicsPathPoint.$clone(o)),o.Kind=2,o.Point.$assign(s),this.FPoints.Add(t.TTMSFNCGraphicsPathPoint.$clone(o))},this.ClosePath=function(){var e=t.TTMSFNCGraphicsPathPoint.$new();e.Kind=3,e.Point.$assign(this.FStartPoint),this.FPoints.Add(t.TTMSFNCGraphicsPathPoint.$clone(e)),this.FClippable=!0},this.AddEllipse=function(t){var e,i,s,o,n;n=.5522847498,e=(t.Left+t.Right)/2,i=(t.Top+t.Bottom)/2,s=n*((t.Right-t.Left)/2),o=n*((t.Bottom-t.Top)/2),this.MoveTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Left,i)),this.CurveTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Left,i-o),pas["WEBLib.TMSFNCTypes"].PointF(e-s,t.Top),pas["WEBLib.TMSFNCTypes"].PointF(e,t.Top)),this.CurveTo(pas["WEBLib.TMSFNCTypes"].PointF(e+s,t.Top),pas["WEBLib.TMSFNCTypes"].PointF(t.Right,i-o),pas["WEBLib.TMSFNCTypes"].PointF(t.Right,i)),this.CurveTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Right,i+o),pas["WEBLib.TMSFNCTypes"].PointF(e+s,t.Bottom),pas["WEBLib.TMSFNCTypes"].PointF(e,t.Bottom)),this.CurveTo(pas["WEBLib.TMSFNCTypes"].PointF(e-s,t.Bottom),pas["WEBLib.TMSFNCTypes"].PointF(t.Left,i+o),pas["WEBLib.TMSFNCTypes"].PointF(t.Left,i)),this.FClippable=!0},this.AddRectangle=function(t,e,i){var s={};0===e&&0===i?(this.MoveTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Left,t.Top)),this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Right,t.Top)),this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Right,t.Bottom)),this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Left,t.Bottom))):(2 in(s=rtl.createSet(0,1,2,3))?(this.MoveTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Left+e,t.Bottom)),this.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(t.Left+e,t.Bottom-i),pas["WEBLib.TMSFNCTypes"].PointF(e,i),-270,90),this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Left,t.Bottom-i))):this.MoveTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Left,t.Bottom)),0 in s?(this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Left,t.Top+i)),this.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(t.Left+e,t.Top+i),pas["WEBLib.TMSFNCTypes"].PointF(e,i),-180,90),this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Left+e,t.Top))):this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Left,t.Top)),1 in s?(this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Right-e,t.Top)),this.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(t.Right-e,t.Top+i),pas["WEBLib.TMSFNCTypes"].PointF(e,i),-90,90),this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Right,t.Top+i))):this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Right,t.Top)),3 in s?(this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Right,t.Bottom-i)),this.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(t.Right-e,t.Bottom-i),pas["WEBLib.TMSFNCTypes"].PointF(e,i),0,90),this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Right-e,t.Bottom))):this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Right,t.Bottom)),2 in s?this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Left+e,t.Bottom)):this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Left,t.Bottom))),this.ClosePath(),this.FClippable=!0};this.AddArc=function(t,i,s,o){var n=!1,a=0,r=0,l=0,h=!1;if(s=pas.Math.DegToRad(s),o=pas.Math.DegToRad(o),s=s-2*rtl.rc(pas.System.Trunc(s/(2*Math.PI)),-2147483648,2147483647)*Math.PI,o>=2*Math.PI&&(o=2*Math.PI),o<=-2*Math.PI&&(o=-2*Math.PI),!(Math.abs(o)<1e-10)){a=0,h=!1,n=!0;do{o<0?(l=a,r=-Math.PI/2,(a-=Math.PI/2)<=o+.01&&(r=o-l,h=!0)):(l=a,r=Math.PI/2,(a+=Math.PI/2)>=o-.01&&(r=o-l,h=!0)),e.DrawArcWithBezier(this,t.X,t.Y,i.X,i.Y,s,r,n),n=!1,s+=r}while(!h)}},this.FlattenToPolygon=function(t,e){function i(e){rtl.length(t.get())>0&&pas.Math.SameValue(e.X,rtl.rcArrR(t.get(),rtl.length(t.get())-1).X,.001)&&pas.Math.SameValue(e.Y,rtl.rcArrR(t.get(),rtl.length(t.get())-1).Y,.001)||(t.set(rtl.arraySetLength(t.get(),pas["WEBLib.TMSFNCTypes"].TPointF,rtl.length(t.get())+1)),rtl.rcArrR(t.get(),rtl.length(t.get())-1).$assign(e))}var s=0,o=0,n=[],a=rtl.arraySetLength(null,pas["WEBLib.TMSFNCTypes"].TPointF,4),r=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),l=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),h=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),F=0,p=0,C=0;if(t.set(rtl.arraySetLength(t.get(),pas["WEBLib.TMSFNCTypes"].TPointF,0)),this.FPoints.GetCount()>0)for(F=Math.max(e,.05),s=0;s<this.FPoints.GetCount();){var u=this.FPoints.GetItem(s).Kind;if(0===u)i(this.FPoints.GetItem(s).Point),l.$assign(this.FPoints.GetItem(s).Point),r.$assign(l);else if(1===u)i(this.FPoints.GetItem(s).Point),l.$assign(this.FPoints.GetItem(s).Point);else if(2===u){a[0].$assign(l),a[1].$assign(this.FPoints.GetItem(s).Point),s+=1,a[2].$assign(this.FPoints.GetItem(s).Point),s+=1,a[3].$assign(this.FPoints.GetItem(s).Point),n=this.CreateBezier(a,6),p=0;for(var d=0,c=rtl.length(n)-1-1;d<=c;d++)o=d,h.X=rtl.rcArrR(n,o).X-rtl.rcArrR(n,o+1).X,h.Y=rtl.rcArrR(n,o).Y-rtl.rcArrR(n,o+1).Y,p+=pas["WEBLib.TMSFNCTypes"].GetPointLength(h);if((C=rtl.rc(Math.round(p/F),-2147483648,2147483647))<2)i(a[0]),i(a[3]);else{n=this.CreateBezier(a,C);for(var S=0,T=rtl.length(n)-1;S<=T;S++)o=S,i(rtl.rcArrR(n,o))}l.$assign(this.FPoints.GetItem(s).Point)}else 3===u&&i(r);s+=1}},this.$rtti.addMethod("Create$1",2,[])})),rtl.createClass(this,"TTMSFNCGraphicsColorObject",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FColor=0},this.Create$1=function(t){return rtl.rc(t,-9007199254740991,9007199254740991),this.FColor=rtl.rc(t,-9007199254740991,9007199254740991),this}})),this.TTMSFNCGraphicsModifyRectMode={0:"gcrmNone",gcrmNone:0,1:"gcrmExpandAll",gcrmExpandAll:1,2:"gcrmShrinkAll",gcrmShrinkAll:2,3:"gcrmShiftRightAndExpandHeight",gcrmShiftRightAndExpandHeight:3,4:"gcrmShiftDownAndExpandWidth",gcrmShiftDownAndExpandWidth:4,5:"gcrmShiftRightAndShrinkHeight",gcrmShiftRightAndShrinkHeight:5,6:"gcrmShiftRightDown",gcrmShiftRightDown:6,7:"gcrmShiftRightUp",gcrmShiftRightUp:7,8:"gcrmShiftLeftUp",gcrmShiftLeftUp:8,9:"gcrmShiftLeftDown",gcrmShiftLeftDown:9,10:"gcrmShiftUpAndExpandWidth",gcrmShiftUpAndExpandWidth:10,11:"gcrmShiftLeftAndExpandHeight",gcrmShiftLeftAndExpandHeight:11},this.TTMSFNCGraphicsModifyPointMode={0:"gcpmNone",gcpmNone:0,1:"gcpmLeftUp",gcpmLeftUp:1,2:"gcpmRightDown",gcpmRightDown:2,3:"gcpmLeftDown",gcpmLeftDown:3,4:"gcpmRightUp",gcpmRightUp:4},this.TTMSFNCGraphicsExpanderState={0:"gesCollapsed",gesCollapsed:0,1:"gesExpanded",gesExpanded:1},this.TTMSFNCGraphicsCompactState={0:"gcsCollapsed",gcsCollapsed:0,1:"gcsExpanded",gcsExpanded:1},this.TTMSFNCGraphicsCorner={0:"gcTopLeft",gcTopLeft:0,1:"gcTopRight",gcTopRight:1,2:"gcBottomLeft",gcBottomLeft:2,3:"gcBottomRight",gcBottomRight:3},this.$rtti.$Enum("TTMSFNCGraphicsCorner",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TTMSFNCGraphicsCorner}),this.$rtti.$Set("TTMSFNCGraphicsCorners",{comptype:this.$rtti.TTMSFNCGraphicsCorner}),this.ModifyRect=function(t,e){var i=pas["WEBLib.TMSFNCTypes"].TRectF.$new();i.$assign(t);var s=e;return 1===s?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)-.5,pas.System.Int(i.Top)-.5,pas.System.Int(i.Right)+.5,pas.System.Int(i.Bottom)+.5)):2===s?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)+.5,pas.System.Int(i.Top)+.5,pas.System.Int(i.Right)-.5,pas.System.Int(i.Bottom)-.5)):3===s?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)+.5,pas.System.Int(i.Top)-.5,pas.System.Int(i.Right)+.5,pas.System.Int(i.Bottom)+.5)):6===s?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)+.5,pas.System.Int(i.Top)+.5,pas.System.Int(i.Right)+.5,pas.System.Int(i.Bottom)+.5)):5===s?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)+.5,pas.System.Int(i.Top)+.5,pas.System.Int(i.Right)+.5,pas.System.Int(i.Bottom)-.5)):4===s?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)-.5,pas.System.Int(i.Top)+.5,pas.System.Int(i.Right)+.5,pas.System.Int(i.Bottom)+.5)):10===s?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)-.5,pas.System.Int(i.Top)-.5,pas.System.Int(i.Right)+.5,pas.System.Int(i.Bottom)-.5)):7===s?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)+.5,pas.System.Int(i.Top)-.5,pas.System.Int(i.Right)+.5,pas.System.Int(i.Bottom)-.5)):8===s?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)-.5,pas.System.Int(i.Top)-.5,pas.System.Int(i.Right)-.5,pas.System.Int(i.Bottom)-.5)):9===s?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)-.5,pas.System.Int(i.Top)+.5,pas.System.Int(i.Right)-.5,pas.System.Int(i.Bottom)+.5)):11===s&&i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)-.5,pas.System.Int(i.Top)-.5,pas.System.Int(i.Right)-.5,pas.System.Int(i.Bottom)+.5)),i},this.MakeGraphicsColor=function(t,e,i){rtl.rc(t,0,255),rtl.rc(e,0,255),rtl.rc(i,0,255);return rtl.rc(pas["WEBLib.Graphics"].RGB(t,e,i),-9007199254740991,9007199254740991)},this.Lighter=function(e,i){rtl.rc(e,-9007199254740991,9007199254740991),rtl.rc(i,0,255);var s=0,o=0,n=0;return e=rtl.rc(pas["WEBLib.Graphics"].ColorToRGB(e),-9007199254740991,9007199254740991),s=rtl.rc(pas["WEBLib.Graphics"].GetRValue(e),0,255),o=rtl.rc(pas["WEBLib.Graphics"].GetGValue(e),0,255),n=rtl.rc(pas["WEBLib.Graphics"].GetBValue(e),0,255),s=rtl.rc(s+Math.min(255,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.MulDivInt(255-s,i,100)),0,255),o=rtl.rc(o+Math.min(255,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.MulDivInt(255-o,i,100)),0,255),n=rtl.rc(n+Math.min(255,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.MulDivInt(255-n,i,100)),0,255),rtl.rc(t.MakeGraphicsColor(s,o,n),-9007199254740991,9007199254740991)},this.Darker=function(e,i){rtl.rc(e,-9007199254740991,9007199254740991),rtl.rc(i,0,255);var s=0,o=0,n=0;return e=rtl.rc(pas["WEBLib.Graphics"].ColorToRGB(e),-9007199254740991,9007199254740991),s=rtl.rc(pas["WEBLib.Graphics"].GetRValue(e),0,255),o=rtl.rc(pas["WEBLib.Graphics"].GetGValue(e),0,255),n=rtl.rc(pas["WEBLib.Graphics"].GetBValue(e),0,255),s=rtl.rc(s-Math.max(0,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.MulDivInt(255-s,i,100)),0,255),o=rtl.rc(o-Math.max(0,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.MulDivInt(255-o,i,100)),0,255),n=rtl.rc(n-Math.max(0,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.MulDivInt(255-n,i,100)),0,255),rtl.rc(t.MakeGraphicsColor(s,o,n),-9007199254740991,9007199254740991)},this.Blend=function(t,e,i){var s,o,n,a,r=0,l=0;return i=Math.round(2.55*i),r=255&(s=pas["WEBLib.Graphics"].ColorToRGB(t)),l=255&(o=pas["WEBLib.Graphics"].ColorToRGB(e)),n=Math.max(0,Math.min(255,(i*(r-l)>>>8)+l)),r=255&Math.floor(s/256),l=255&Math.floor(o/256),a=Math.max(0,Math.min(255,(i*(r-l)>>>8)+l)),r=255&Math.floor(s/65536),l=255&Math.floor(o/65536),(Math.max(0,Math.min(255,(i*(r-l)>>>8)+l))<<16)+(a<<8)+n},this.ColorLookup=function(){return e.FColorLookup},this.PointInPoly=function(t,e){var i=!1,s=0,o=0,n=0,a=0,r=0,l=0,h=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),F=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),p=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),C=!1,u=!1,d=0,c=!1;if(i=!1,0===rtl.length(e))return i;s=e[0].X,o=e[0].X,n=e[0].Y,a=e[0].Y;for(var S=1,T=rtl.length(e)-1;S<=T;S++)r=S,h.$assign(e[r]),s=Math.min(h.X,s),o=Math.max(h.X,o),n=Math.min(h.Y,n),a=Math.max(h.Y,a);if(t.X<s||t.X>o||t.Y<n||t.Y>a)return i=!1;C=!1,l=rtl.length(e)-1;for(var m=0,g=rtl.length(e)-1;m<=g;m++)r=m,F.$assign(e[r]),p.$assign(e[l]),u=F.Y>t.Y!=p.Y>t.Y,p.Y-F.Y!=0&&(d=(p.X-F.X)*(t.Y-F.Y)/(p.Y-F.Y)+F.X,c=t.X<d,u&&c&&(C=!C)),l=r;return i=C},this.DrawGradient=function(t,e,i,s,o,n,a){rtl.rc(e,-9007199254740991,9007199254740991),rtl.rc(i,-9007199254740991,9007199254740991);var r,l,h,F,p,C,u,d,c,S,T=0,m=0,g=0,M=0,f=0,b=0,y=0,B=0,E=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),L=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),D=0,N=0;E.$assign(s),0===(B=a?rtl.rc(Math.round(E.Right-E.Left),-2147483648,2147483647):rtl.rc(Math.round(E.Bottom-E.Top),-2147483648,2147483647))&&(B=1),e=rtl.rc(pas["WEBLib.Graphics"].ColorToRGB(e),-9007199254740991,9007199254740991),i=rtl.rc(pas["WEBLib.Graphics"].ColorToRGB(i),-9007199254740991,9007199254740991),r=rtl.rc(255&e,-2147483648,2147483647),l=rtl.rc(Math.floor((65280&e)/256),-2147483648,2147483647),h=rtl.rc(Math.floor((16711680&e)/65536),-2147483648,2147483647),T=rtl.rc(255&i,-2147483648,2147483647),m=rtl.rc(Math.floor((65280&i)/256),-2147483648,2147483647),g=rtl.rc(Math.floor((16711680&i)/65536),-2147483648,2147483647),F=rtl.rc(T-r,-2147483648,2147483647)/B,p=rtl.rc(m-l,-2147483648,2147483647)/B,C=rtl.rc(g-h,-2147483648,2147483647)/B,f=a?(E.Right-E.Left)/B:(E.Bottom-E.Top)/B,d=rtl.rc(t.FBrush.FColor,-9007199254740991,9007199254740991),S=rtl.rc(t.FBrush.FStyle,0,7),u=rtl.rc(t.FPen.FColor,-9007199254740991,9007199254740991),c=rtl.rc(t.FPen.FStyle,0,8),t.FPen.FStyle=0,t.FBrush.FStyle=0;for(var A=0,G=B-1;A<=G;A++)b=A,T=rtl.rc(r+Math.round(F*b),-2147483648,2147483647),m=rtl.rc(l+Math.round(p*b),-2147483648,2147483647),g=rtl.rc(h+Math.round(C*b),-2147483648,2147483647),y=rtl.rc(Math.round(b*f),0,65535),t.FPen.SetColor(T+(m<<8)+(g<<16)),t.FBrush.FColor=rtl.rc(t.FPen.FColor,-9007199254740991,9007199254740991),a?(M=rtl.rc(pas.System.Trunc(f),-2147483648,2147483647),D=E.Left+y+M,D=Math.min(D,E.Right),L.$assign(E),b<=o&&(0 in n||2 in n)?(N=Math.sqrt(Math.pow(o,2)-Math.pow(o-b,2)),0 in n&&(L.Top=L.Top+Math.round(o-N)),2 in n&&(L.Bottom=L.Bottom-Math.round(o-N))):b>=B-o&&(3 in n||1 in n)&&(N=Math.sqrt(Math.pow(o,2)-Math.pow(o-(B-b),2)),1 in n&&(L.Top=L.Top+Math.round(o-N)),3 in n&&(L.Bottom=L.Bottom-Math.round(o-N))),t.Rectangle(L.Left+y,L.Top,D,L.Bottom)):(M=rtl.rc(pas.System.Trunc(f),-2147483648,2147483647),D=E.Top+y+M,D=Math.min(D,E.Bottom),L.$assign(E),b<=o&&(0 in n||1 in n)?(N=Math.sqrt(Math.pow(o,2)-Math.pow(o-b,2)),0 in n&&(L.Left=L.Left+Math.round(o-N)),1 in n&&(L.Right=L.Right-Math.round(o-N))):b>=B-o&&(2 in n||3 in n)&&(N=Math.sqrt(Math.pow(o,2)-Math.pow(o-(B-b),2)),2 in n&&(L.Left=L.Left+Math.round(o-N)),3 in n&&(L.Right=L.Right-Math.round(o-N))),t.Rectangle(L.Left,L.Top+y,L.Right,D));t.FBrush.FColor=rtl.rc(d,-9007199254740991,9007199254740991),t.FBrush.FStyle=rtl.rc(S,0,7),t.FPen.SetColor(u),t.FPen.FStyle=rtl.rc(c,0,8)},this.MatrixIdentity=function(){var e=t.TTMSFNCGraphicsMatrix.$new();return e.m11=1,e.m12=0,e.m13=0,e.m21=0,e.m22=1,e.m23=0,e.m31=0,e.m32=0,e.m33=1,e},t.$implcode=function(){e.FColorLookup=null,e.DrawArcWithBezier=function(t,e,i,s,o,n,a,r){var l,h,F,p,C,u,d=[],c=[],S=0;if(0===a)return r&&(t.FPoints.GetCount()<1?t.MoveTo(pas["WEBLib.TMSFNCTypes"].PointF(e+s*Math.cos(n),i-o*Math.sin(n))):t.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(e+s*Math.cos(n),i-o*Math.sin(n)))),void t.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(e+s*Math.cos(n),i-o*Math.sin(n)));for(h=(p=Math.sin(a/2))-(l=4*(1-(F=Math.cos(a/2)))/3)*F/p,u=Math.sin(n+a/2),C=Math.cos(n+a/2),(d=rtl.arraySetLength(d,pas["WEBLib.TMSFNCTypes"].TPointF,4))[0].$assign(pas["WEBLib.TMSFNCTypes"].PointF(F,-p)),d[1].$assign(pas["WEBLib.TMSFNCTypes"].PointF(F+l,-h)),d[2].$assign(pas["WEBLib.TMSFNCTypes"].PointF(F+l,h)),d[3].$assign(pas["WEBLib.TMSFNCTypes"].PointF(F,p)),c=rtl.arraySetLength(c,pas["WEBLib.TMSFNCTypes"].TPointF,4),S=0;S<=3;S++)rtl.rcArrR(c,S).$assign(pas["WEBLib.TMSFNCTypes"].PointF(e+s*(rtl.rcArrR(d,S).X*C-rtl.rcArrR(d,S).Y*u),i+o*(rtl.rcArrR(d,S).X*u+rtl.rcArrR(d,S).Y*C)));r&&(t.FPoints.GetCount()<1?t.MoveTo(c[0]):t.LineTo(c[0])),t.CurveTo(c[1],c[2],c[3])}},t.$init=function(){e.FColorLookup=pas.Classes.TStringList.$create("Create$1"),e.FColorLookup.AddObject("aliceblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16775408])),e.FColorLookup.AddObject("antiquewhite",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14150650])),e.FColorLookup.AddObject("aqua",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16776960])),e.FColorLookup.AddObject("aquamarine",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13959039])),e.FColorLookup.AddObject("azure",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16777200])),e.FColorLookup.AddObject("beige",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14480885])),e.FColorLookup.AddObject("bisque",t.TTMSFNCGraphicsColorObject.$create("Create$1",[12903679])),e.FColorLookup.AddObject("black",t.TTMSFNCGraphicsColorObject.$create("Create$1",[0])),e.FColorLookup.AddObject("blanchedalmond",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13495295])),e.FColorLookup.AddObject("blue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16711680])),e.FColorLookup.AddObject("blueviolet",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14822282])),e.FColorLookup.AddObject("brown",t.TTMSFNCGraphicsColorObject.$create("Create$1",[2763429])),e.FColorLookup.AddObject("burlywood",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8894686])),e.FColorLookup.AddObject("cadetblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[10526303])),e.FColorLookup.AddObject("chartreuse",t.TTMSFNCGraphicsColorObject.$create("Create$1",[65407])),e.FColorLookup.AddObject("chocolate",t.TTMSFNCGraphicsColorObject.$create("Create$1",[1993170])),e.FColorLookup.AddObject("coral",t.TTMSFNCGraphicsColorObject.$create("Create$1",[5275647])),e.FColorLookup.AddObject("cornflowerblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[15570276])),e.FColorLookup.AddObject("cornsilk",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14481663])),e.FColorLookup.AddObject("crimson",t.TTMSFNCGraphicsColorObject.$create("Create$1",[3937500])),e.FColorLookup.AddObject("cyan",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16776960])),e.FColorLookup.AddObject("darkblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[9109504])),e.FColorLookup.AddObject("darkcyan",t.TTMSFNCGraphicsColorObject.$create("Create$1",[9145088])),e.FColorLookup.AddObject("darkgoldenrod",t.TTMSFNCGraphicsColorObject.$create("Create$1",[755384])),e.FColorLookup.AddObject("darkgray",t.TTMSFNCGraphicsColorObject.$create("Create$1",[11119017])),e.FColorLookup.AddObject("darkgreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[25600])),e.FColorLookup.AddObject("darkgrey",t.TTMSFNCGraphicsColorObject.$create("Create$1",[11119017])),e.FColorLookup.AddObject("darkkhaki",t.TTMSFNCGraphicsColorObject.$create("Create$1",[7059389])),e.FColorLookup.AddObject("darkmagenta",t.TTMSFNCGraphicsColorObject.$create("Create$1",[9109643])),e.FColorLookup.AddObject("darkolivegreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[3107669])),e.FColorLookup.AddObject("darkorange",t.TTMSFNCGraphicsColorObject.$create("Create$1",[36095])),e.FColorLookup.AddObject("darkorchid",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13382297])),e.FColorLookup.AddObject("darkred",t.TTMSFNCGraphicsColorObject.$create("Create$1",[139])),e.FColorLookup.AddObject("darksalmon",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8034025])),e.FColorLookup.AddObject("darkseagreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[9419919])),e.FColorLookup.AddObject("darkslateblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[9125192])),e.FColorLookup.AddObject("darkslategray",t.TTMSFNCGraphicsColorObject.$create("Create$1",[5197615])),e.FColorLookup.AddObject("darkslategrey",t.TTMSFNCGraphicsColorObject.$create("Create$1",[5197615])),e.FColorLookup.AddObject("darkturquoise",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13749760])),e.FColorLookup.AddObject("darkviolet",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13828244])),e.FColorLookup.AddObject("deeppink",t.TTMSFNCGraphicsColorObject.$create("Create$1",[9639167])),e.FColorLookup.AddObject("deepskyblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16760576])),e.FColorLookup.AddObject("dimgray",t.TTMSFNCGraphicsColorObject.$create("Create$1",[6908265])),e.FColorLookup.AddObject("dimgrey",t.TTMSFNCGraphicsColorObject.$create("Create$1",[6908265])),e.FColorLookup.AddObject("dodgerblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16748574])),e.FColorLookup.AddObject("firebrick",t.TTMSFNCGraphicsColorObject.$create("Create$1",[2237106])),e.FColorLookup.AddObject("floralwhite",t.TTMSFNCGraphicsColorObject.$create("Create$1",[15792895])),e.FColorLookup.AddObject("forestgreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[2263842])),e.FColorLookup.AddObject("fuchsia",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16711935])),e.FColorLookup.AddObject("gainsboro",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14474460])),e.FColorLookup.AddObject("ghostwhite",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16775416])),e.FColorLookup.AddObject("gold",t.TTMSFNCGraphicsColorObject.$create("Create$1",[55295])),e.FColorLookup.AddObject("goldenrod",t.TTMSFNCGraphicsColorObject.$create("Create$1",[2139610])),e.FColorLookup.AddObject("gray",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8421504])),e.FColorLookup.AddObject("green",t.TTMSFNCGraphicsColorObject.$create("Create$1",[32768])),e.FColorLookup.AddObject("greenyellow",t.TTMSFNCGraphicsColorObject.$create("Create$1",[3145645])),e.FColorLookup.AddObject("grey",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8421504])),e.FColorLookup.AddObject("honeydew",t.TTMSFNCGraphicsColorObject.$create("Create$1",[15794160])),e.FColorLookup.AddObject("hotpink",t.TTMSFNCGraphicsColorObject.$create("Create$1",[11823615])),e.FColorLookup.AddObject("indianred",t.TTMSFNCGraphicsColorObject.$create("Create$1",[6053069])),e.FColorLookup.AddObject("indigo",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8519755])),e.FColorLookup.AddObject("ivory",t.TTMSFNCGraphicsColorObject.$create("Create$1",[15794175])),e.FColorLookup.AddObject("khaki",t.TTMSFNCGraphicsColorObject.$create("Create$1",[9234160])),e.FColorLookup.AddObject("lavender",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16443110])),e.FColorLookup.AddObject("lavenderblush",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16118015])),e.FColorLookup.AddObject("lawngreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[64636])),e.FColorLookup.AddObject("lemonchiffon",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13499135])),e.FColorLookup.AddObject("lightblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[15128749])),e.FColorLookup.AddObject("lightcoral",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8421616])),e.FColorLookup.AddObject("lightcyan",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16777184])),e.FColorLookup.AddObject("lightgoldenrodyellow",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13826810])),e.FColorLookup.AddObject("lightgray",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13882323])),e.FColorLookup.AddObject("lightgreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[9498256])),e.FColorLookup.AddObject("lightgrey",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13882323])),e.FColorLookup.AddObject("lightpink",t.TTMSFNCGraphicsColorObject.$create("Create$1",[12695295])),e.FColorLookup.AddObject("lightsalmon",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8036607])),e.FColorLookup.AddObject("lightseagreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[11186720])),e.FColorLookup.AddObject("lightskyblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16436871])),e.FColorLookup.AddObject("lightslategray",t.TTMSFNCGraphicsColorObject.$create("Create$1",[10061943])),e.FColorLookup.AddObject("lightslategrey",t.TTMSFNCGraphicsColorObject.$create("Create$1",[10061943])),e.FColorLookup.AddObject("lightsteelblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14599344])),e.FColorLookup.AddObject("lightyellow",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14745599])),e.FColorLookup.AddObject("lime",t.TTMSFNCGraphicsColorObject.$create("Create$1",[65280])),e.FColorLookup.AddObject("limegreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[3329330])),e.FColorLookup.AddObject("linen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[15134970])),e.FColorLookup.AddObject("magenta",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16711935])),e.FColorLookup.AddObject("maroon",t.TTMSFNCGraphicsColorObject.$create("Create$1",[128])),e.FColorLookup.AddObject("mediumaquamarine",t.TTMSFNCGraphicsColorObject.$create("Create$1",[11193702])),e.FColorLookup.AddObject("mediumblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13434880])),e.FColorLookup.AddObject("mediumorchid",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13850042])),e.FColorLookup.AddObject("mediumpurple",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14381203])),e.FColorLookup.AddObject("mediumseagreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[7451452])),e.FColorLookup.AddObject("mediumslateblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[15624315])),e.FColorLookup.AddObject("mediumspringgreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[10156544])),e.FColorLookup.AddObject("mediumturquoise",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13422920])),e.FColorLookup.AddObject("mediumvioletred",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8721863])),e.FColorLookup.AddObject("midnightblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[7346457])),e.FColorLookup.AddObject("mintcream",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16449525])),e.FColorLookup.AddObject("mistyrose",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14804223])),e.FColorLookup.AddObject("moccasin",t.TTMSFNCGraphicsColorObject.$create("Create$1",[11920639])),e.FColorLookup.AddObject("navajowhite",t.TTMSFNCGraphicsColorObject.$create("Create$1",[11394815])),e.FColorLookup.AddObject("navy",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8388608])),e.FColorLookup.AddObject("oldlace",t.TTMSFNCGraphicsColorObject.$create("Create$1",[15136253])),e.FColorLookup.AddObject("olive",t.TTMSFNCGraphicsColorObject.$create("Create$1",[32896])),e.FColorLookup.AddObject("olivedrab",t.TTMSFNCGraphicsColorObject.$create("Create$1",[2330219])),e.FColorLookup.AddObject("orange",t.TTMSFNCGraphicsColorObject.$create("Create$1",[42495])),e.FColorLookup.AddObject("orangered",t.TTMSFNCGraphicsColorObject.$create("Create$1",[17919])),e.FColorLookup.AddObject("orchid",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14053594])),e.FColorLookup.AddObject("palegoldenrod",t.TTMSFNCGraphicsColorObject.$create("Create$1",[11200750])),e.FColorLookup.AddObject("palegreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[10025880])),e.FColorLookup.AddObject("paleturquoise",t.TTMSFNCGraphicsColorObject.$create("Create$1",[15658671])),e.FColorLookup.AddObject("palevioletred",t.TTMSFNCGraphicsColorObject.$create("Create$1",[9662683])),e.FColorLookup.AddObject("papayawhip",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14020607])),e.FColorLookup.AddObject("peachpuff",t.TTMSFNCGraphicsColorObject.$create("Create$1",[12180223])),e.FColorLookup.AddObject("peru",t.TTMSFNCGraphicsColorObject.$create("Create$1",[4163021])),e.FColorLookup.AddObject("pink",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13353215])),e.FColorLookup.AddObject("plum",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14524637])),e.FColorLookup.AddObject("powderblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[15130800])),e.FColorLookup.AddObject("purple",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8388736])),e.FColorLookup.AddObject("red",t.TTMSFNCGraphicsColorObject.$create("Create$1",[255])),e.FColorLookup.AddObject("rosybrown",t.TTMSFNCGraphicsColorObject.$create("Create$1",[9408444])),e.FColorLookup.AddObject("royalblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14772545])),e.FColorLookup.AddObject("saddlebrown",t.TTMSFNCGraphicsColorObject.$create("Create$1",[1262987])),e.FColorLookup.AddObject("salmon",t.TTMSFNCGraphicsColorObject.$create("Create$1",[7504122])),e.FColorLookup.AddObject("sandybrown",t.TTMSFNCGraphicsColorObject.$create("Create$1",[6333684])),e.FColorLookup.AddObject("seagreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[5737262])),e.FColorLookup.AddObject("seashell",t.TTMSFNCGraphicsColorObject.$create("Create$1",[15660543])),e.FColorLookup.AddObject("sienna",t.TTMSFNCGraphicsColorObject.$create("Create$1",[2970272])),e.FColorLookup.AddObject("skyblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[15453831])),e.FColorLookup.AddObject("slateblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13458026])),e.FColorLookup.AddObject("slategray",t.TTMSFNCGraphicsColorObject.$create("Create$1",[9470064])),e.FColorLookup.AddObject("slategrey",t.TTMSFNCGraphicsColorObject.$create("Create$1",[9470064])),e.FColorLookup.AddObject("snow",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16448255])),e.FColorLookup.AddObject("springgreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8388352])),e.FColorLookup.AddObject("steelblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[11829830])),e.FColorLookup.AddObject("violet",t.TTMSFNCGraphicsColorObject.$create("Create$1",[15631086])),e.FColorLookup.AddObject("thistle",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14204888])),e.FColorLookup.AddObject("tan",t.TTMSFNCGraphicsColorObject.$create("Create$1",[9221330])),e.FColorLookup.AddObject("tomato",t.TTMSFNCGraphicsColorObject.$create("Create$1",[4678655])),e.FColorLookup.AddObject("turquoise",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13688896])),e.FColorLookup.AddObject("wheat",t.TTMSFNCGraphicsColorObject.$create("Create$1",[11788021])),e.FColorLookup.AddObject("whitesmoke",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16119285])),e.FColorLookup.AddObject("yellowgreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[3329434])),e.FColorLookup.AddObject("red",t.TTMSFNCGraphicsColorObject.$create("Create$1",[255])),e.FColorLookup.AddObject("black",t.TTMSFNCGraphicsColorObject.$create("Create$1",[0])),e.FColorLookup.AddObject("blue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16711680])),e.FColorLookup.AddObject("green",t.TTMSFNCGraphicsColorObject.$create("Create$1",[32768])),e.FColorLookup.AddObject("aqua",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16776960])),e.FColorLookup.AddObject("yellow",t.TTMSFNCGraphicsColorObject.$create("Create$1",[65535])),e.FColorLookup.AddObject("fuchsia",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16711935])),e.FColorLookup.AddObject("white",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16777215])),e.FColorLookup.AddObject("lime",t.TTMSFNCGraphicsColorObject.$create("Create$1",[65280])),e.FColorLookup.AddObject("silver",t.TTMSFNCGraphicsColorObject.$create("Create$1",[12632256])),e.FColorLookup.AddObject("gray",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8421504])),e.FColorLookup.AddObject("olive",t.TTMSFNCGraphicsColorObject.$create("Create$1",[32896])),e.FColorLookup.AddObject("navy",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8388608])),e.FColorLookup.AddObject("purple",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8388736])),e.FColorLookup.AddObject("teal",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8421376])),e.FColorLookup.AddObject("orange",t.TTMSFNCGraphicsColorObject.$create("Create$1",[42495])),e.FColorLookup.AddObject("maroon",t.TTMSFNCGraphicsColorObject.$create("Create$1",[128])),e.FColorLookup.Sort()}}),["WEBLib.TMSFNCUtils","SysUtils","Math"]),rtl.module("WEBLib.DesignIntf",["System","Classes","Web","JS","TypInfo","WEBLib.Forms","WEBLib.Menus"],(function(){"use strict";var t=this.$impl;rtl.createClass(this,"TRegisteredComponent",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FIcon=""}})),this.GetRegisteredComponent=function(e){var i=null,s=null;if(i=null,""===e)return i;s=null;var o=Object.keys(t.RegisteredComponentList).map((function(e){return[t.RegisteredComponentList[e]]}));for(let t of o)if(t[0].FClass.$classname.toLowerCase()==e.toLowerCase()){s=t[0];break}return i=s},this.$implcode=function(){t.RegisteredComponentList=null,t.RegisteredSelectionEditorList=null,t.RegisteredPropertyEditorList=null,t.RegisteredIgnoredPropertyList=null,t.RegisteredLibraryRequirementsEditorList=null,t.RegisteredComponentEditorList=null,t.RegisteredIdentToIntList=null},this.$init=function(){t.RegisteredComponentList=Object.create(null),t.RegisteredSelectionEditorList=Object.create(null),t.RegisteredPropertyEditorList=Object.create(null),t.RegisteredIgnoredPropertyList=Object.create(null),t.RegisteredLibraryRequirementsEditorList=Object.create(null),t.RegisteredComponentEditorList=Object.create(null),t.RegisteredIdentToIntList=Object.create(null)}}),["SysUtils"]),rtl.module("WEBLib.TMSFNCCustomComponent",["System","Classes","WEBLib.Controls","WEBLib.TMSFNCTypes","WEBLib.TMSFNCPersistence","TypInfo"],(function(){"use strict";var t=this;this.$rtti.$MethodVar("TTMSFNCCustomComponentCanSavePropertyEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AObject",pas.System.$rtti.TObject],["APropertyName",rtl.string],["APropertyType",pas.System.$rtti.TTypeKind],["ACanSave",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCCustomComponentCanLoadPropertyEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AObject",pas.System.$rtti.TObject],["APropertyName",rtl.string],["APropertyType",pas.System.$rtti.TTypeKind],["ACanLoad",rtl.boolean,1]]),methodkind:0}),rtl.createClass(this,"TTMSFNCCustomComponent",pas["WEBLib.Controls"].TCustomControl,(function(){this.$init=function(){pas["WEBLib.Controls"].TCustomControl.$init.call(this),this.FStored=!1,this.FDesigntimeFormPixelsPerInch=0,this.FAdaptToStyle=!1,this.FOnCanSaveProperty=null,this.FOnCanLoadProperty=null},this.$final=function(){this.FOnCanSaveProperty=void 0,this.FOnCanLoadProperty=void 0,pas["WEBLib.Controls"].TCustomControl.$final.call(this)},this.GetVersionNumber=function(t,e,i,s){return"",""},this.SetAdaptToStyle=function(t){this.FAdaptToStyle=t},this.Paint=function(){var t=null,e=null,i=null,s=null;pas["WEBLib.Controls"].TCustomControl.Paint.call(this),i=null,t=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),e=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("Create$1",[this.GetCanvas(),!1]);try{e.FStroke.SetKind(1),e.FStroke.SetColor(0),e.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,this.GetWidth(),this.GetHeight())),2),null!=(s=pas["WEBLib.DesignIntf"].GetRegisteredComponent(this.$classname))&&t.LoadFromResource(s.FIcon),e.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(2,2,this.GetWidth()-2,this.GetHeight()-2)),t,!0,!0,!0,!1)}finally{null!=i&&(i=rtl.freeLoc(i)),t=rtl.freeLoc(t),e=rtl.freeLoc(e)}},this.Loaded=function(){pas["WEBLib.Controls"].TCustomControl.Loaded.call(this),4 in this.FComponentState||this.SetVisible(!1)},this.RegisterRuntimeClasses=function(){},this.Create$1=function(t){var e=0;return pas["WEBLib.Controls"].TControl.Create$1.apply(this,arguments),e=96,this.FDesigntimeFormPixelsPerInch=e,this.SetWidth(26),this.SetHeight(26),this.IsDesigning()||this.RegisterRuntimeClasses(),this},this.SetBounds=function(t,e,i,s){var o;o=pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.GetDPIScale(this,-1),pas["WEBLib.Controls"].TControl.SetBounds.call(this,t,e,Math.round(26*o),Math.round(26*o))},this.BeginUpdate=function(){pas["WEBLib.Controls"].TControl.BeginUpdate.call(this)},this.EndUpdate=function(){pas["WEBLib.Controls"].TCustomControl.EndUpdate.call(this)},this.IsDesignTime=function(){var t=!1;return t=!1,null!=this.FOwner&&(t=this.IsDesigning()&&!(1 in this.FOwner.FComponentState||0 in this.FOwner.FComponentState)),t},this.IsDesigning=function(){return 4 in this.FComponentState||null!=pas["WEBLib.Forms"].VSIDE},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]]),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("Width",3,rtl.longint,"GetWidth","SetWidth"),e.addProperty("Height",3,rtl.longint,"GetHeight","SetHeight"),e.addProperty("OnCanSaveProperty",0,t.$rtti.TTMSFNCCustomComponentCanSavePropertyEvent,"FOnCanSaveProperty","FOnCanSaveProperty"),e.addProperty("OnCanLoadProperty",0,t.$rtti.TTMSFNCCustomComponentCanLoadPropertyEvent,"FOnCanLoadProperty","FOnCanLoadProperty")}))}),["WEBLib.TMSFNCUtils","WEBLib.Forms","SysUtils","WEBLib.TMSFNCGraphics","WEBLib.Graphics","WEBLib.TMSFNCGraphicsTypes","Types","WEBLib.DesignIntf"]),rtl.module("WEBLib.TMSFNCBitmapContainer",["System","Classes","WEBLib.TMSFNCTypes","WEBLib.TMSFNCCustomComponent","WEBLib.Controls"],(function(){"use strict";var t=this;this.MAJ_VER=1,this.MIN_VER=0,this.REL_VER=0,this.BLD_VER=0,this.$rtti.$Class("TTMSFNCBitmapContainer"),rtl.createClass(this,"TTMSFNCBitmapItem",pas.Classes.TCollectionItem,(function(){this.$init=function(){pas.Classes.TCollectionItem.$init.call(this),this.FBitmap=null,this.FTag=0,this.FName=""},this.$final=function(){this.FBitmap=void 0,pas.Classes.TCollectionItem.$final.call(this)},this.SetBitmap=function(t){this.FBitmap.Assign(t)},this.Create$1=function(t){return pas.Classes.TCollectionItem.Create$1.apply(this,arguments),this.FBitmap=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),this.FBitmap.FOnChange=rtl.createCallback(this,"DoBitmapChanged"),this.FName="Item"+pas.SysUtils.IntToStr(this.FCollection.GetCount()),this},this.Destroy=function(){rtl.free(this,"FBitmap"),pas.Classes.TCollectionItem.Destroy.call(this)},this.DoBitmapChanged=function(e){t.TTMSFNCBitmapCollection.isPrototypeOf(this.FCollection)&&null!=rtl.as(this.FCollection,t.TTMSFNCBitmapCollection).FOwner$1&&rtl.as(this.FCollection,t.TTMSFNCBitmapCollection).FOwner$1.DoBitmapChanged(this)},this.Assign=function(e){this.FName=rtl.as(e,t.TTMSFNCBitmapItem).FName,this.FTag=rtl.as(e,t.TTMSFNCBitmapItem).FTag,this.FBitmap.Assign(rtl.as(e,t.TTMSFNCBitmapItem).FBitmap)};var e=this.$rtti;e.addMethod("Create$1",2,[["ACollection",pas.Classes.$rtti.TCollection]]),e.addProperty("Bitmap",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCBitmap,"FBitmap","SetBitmap"),e.addProperty("Name",0,rtl.string,"FName","FName"),e.addProperty("Tag",0,rtl.nativeint,"FTag","FTag")})),rtl.createClass(this,"TTMSFNCBitmapCollection",pas.Classes.TOwnedCollection,(function(){this.$init=function(){pas.Classes.TOwnedCollection.$init.call(this),this.FOwner$1=null},this.$final=function(){this.FOwner$1=void 0,pas.Classes.TOwnedCollection.$final.call(this)},this.GetItemEx=function(t){return this.GetItem(t)},this.GetBitmapItemClass=function(){return t.TTMSFNCBitmapItem},this.Create$3=function(t){return pas.Classes.TOwnedCollection.Create$2.call(this,t,this.GetBitmapItemClass()),this.FOwner$1=t,this},this.$rtti.addMethod("Create$3",2,[["AOwner",t.$rtti.TTMSFNCBitmapContainer]])})),rtl.createClass(this,"TControlList",pas.Classes.TList,(function(){})),rtl.createClass(this,"TTMSFNCBitmapContainer",pas["WEBLib.TMSFNCCustomComponent"].TTMSFNCCustomComponent,(function(){this.$init=function(){pas["WEBLib.TMSFNCCustomComponent"].TTMSFNCCustomComponent.$init.call(this),this.FControls$1=null,this.FItems=null,this.FOnBitmapChanged=null},this.$final=function(){this.FControls$1=void 0,this.FItems=void 0,this.FOnBitmapChanged=void 0,pas["WEBLib.TMSFNCCustomComponent"].TTMSFNCCustomComponent.$final.call(this)},this.SetItems=function(t){this.FItems.Assign(t)},this.GetItems=function(){return this.FItems},this.GetVersion=function(){return this.$class.GetVersionNumber(1,0,0,0)},this.CreateItems=function(){return t.TTMSFNCBitmapCollection.$create("Create$3",[this])},this.RegisterRuntimeClasses=function(){pas.Classes.RegisterClass(t.TTMSFNCBitmapContainer)},this.Notification=function(t,e){var i=0;if(pas.Classes.TComponent.Notification.apply(this,arguments),1===e&&null!=this.FControls$1)for(var s=this.FControls$1.GetCount()-1;s>=0;s--)i=s,this.FControls$1.Get(i)==t&&this.FControls$1.Delete(i)},this.DoBitmapChanged=function(t){var e=null,i=0;if(null!=(e=pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.GetParentForm(this)))for(var s=0,o=e.GetControlsCount()-1;s<=o;s++)i=s,pas["WEBLib.Controls"].TWinControl.isPrototypeOf(e.GetControls(i))&&this.InvalidateMembers(rtl.as(e.GetControls(i),pas["WEBLib.Controls"].TWinControl));null!=this.FOnBitmapChanged&&this.FOnBitmapChanged(this)},this.InvalidateMembers=function(t){var e=0;if(null!=t){null!=pas.TypInfo.GetPropInfo$2(t,"BitmapContainer")&&t.Invalidate();for(var i=0,s=t.GetControlsCount()-1;i<=s;i++)e=i,pas["WEBLib.Controls"].TWinControl.isPrototypeOf(t.GetControls(e))&&this.InvalidateMembers(rtl.as(t.GetControls(e),pas["WEBLib.Controls"].TWinControl))}},this.Create$1=function(e){return pas["WEBLib.TMSFNCCustomComponent"].TTMSFNCCustomComponent.Create$1.apply(this,arguments),this.FItems=this.CreateItems(),this.FControls$1=t.TControlList.$create("Create$1"),this},this.Destroy=function(){pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FControls$1},set:function(t){this.p.FControls$1=t}}),rtl.free(this,"FItems"),pas["WEBLib.Controls"].TCustomControl.Destroy.call(this)},this.Assign=function(e){t.TTMSFNCBitmapContainer.isPrototypeOf(e)?this.FItems.Assign(rtl.as(e,t.TTMSFNCBitmapContainer).GetItems()):pas["WEBLib.Controls"].TControl.Assign.apply(this,arguments)},this.FindBitmap$1=function(t){var e=null,i=0;for(e=null,t=pas.SysUtils.UpperCase(t),i=1;i<=this.GetItems().GetCount();){if(pas.SysUtils.UpperCase(this.GetItems().GetItemEx(i-1).FName)===t){e=this.GetItems().GetItemEx(i-1).FBitmap;break}i+=1}return e},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]]),e.addProperty("Items",3,t.$rtti.TTMSFNCBitmapCollection,"GetItems","SetItems"),e.addProperty("Version",1,rtl.string,"GetVersion",""),e.addProperty("OnBitmapChanged",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnBitmapChanged","FOnBitmapChanged"),e.attr=[pas.Classes.ComponentPlatformsAttribute,"Create$1",[0]]}))}),["TypInfo","WEBLib.Forms","SysUtils","WEBLib.TMSFNCUtils"]),rtl.module("WEBLib.TMSFNCHTMLEngine",["System","Classes","WEBLib.TMSFNCGraphics","Types","WEBLib.Graphics","WEBLib.TMSFNCTypes","WEBLib.TMSFNCBitmapContainer","WEBLib.TMSFNCGraphicsTypes"],(function(){"use strict";var t=this,e=t.$impl;this.TMSFNCHTMLENGINE_ATTR_DELIM='"';this.HTMLDrawEx$1=function(i,s,o,n,a,r,l,h,F,p,C,u,d,c,S,T,m,g,M,f,b,y,B,E,L,D,N,A,G,P,R,W,v,I,w,O,$,x,k,_,H,U){var V,z,K,j=!1,Y="",q=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),X=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),Q=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),J=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),Z=0,tt=0,et=0,it=0,st=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),ot=0,nt=0,at=null,rt=0,lt=null,ht=0,Ft=null,pt=0,Ct=0,ut=null,dt=0,ct=0,St=0,Tt=null,mt=0,gt=!1,Mt=!1,ft=!1,bt=!1,yt=!1,Bt=!1,Et=0,Lt=0,Dt=0,Nt=0,At=0,Gt="",Pt="",Rt="",Wt=pas.Types.TPoint.$new(),vt=!1,It=!1,wt=!1,Ot=!1,$t=0,xt=0,kt=0,_t=0,Ht=0,Ut=0,Vt=!1,zt=!1,Kt=0,jt={},Yt=0,qt=0,Xt=0,Qt=0,Jt=0,Zt=0,te=0,ee=!1,ie=pas.Types.TRect.$new(),se=pas.Types.TPoint.$new(),oe=0,ne=0,ae=0;function re(i,s,n,a,p,C,N,w,O,x,V,z,K,j,Y,q,X,Z,tt){var et="",st="",ot="",nt="",lt="",ht="",Ft=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),pt=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),ut={},dt=!1,Tt=!1,mt=!1,gt=0,Mt=0,bt=0,Pt=0,$t=0,xt=0,kt=0,_t=0,Ht=0,zt=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),Xt=0,te=0,ie=0,oe=0,ne=null,re=!1,le=0,he=0,Fe=0,pe=0,Ce=0,ue="",de=!1,ce=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),Se=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),Te="",me="",ge="",Me="",fe="",be="",ye="";for("","",Ce=0,n.Bottom=n.Bottom-N.get(),p.set(0),kt=0,dt=!1,Tt=!1,mt=!1,j.set(!1),Y.set(!1),Ft.$assign(n),st="",a||(Ft.Left=Ft.Left+q),wt&&!a&&(Lt=i.FStroke.FColor,i.FStroke.SetColor(i.FFill.FColor),i.FStroke.SetKind(1),i.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(o.Left,n.Top,o.Right,n.Top+C.get())),2));s.get().length>0&&!dt&&!Tt;){for(Xt=pas.System.Pos("<",s.get()),te=S?e.PosBreak(s.get()):0,pe=(et=Xt>0&&(te>Xt||0===te)?pas.System.Copy(s.get(),1,Xt-1):te>0?pas.System.Copy(s.get(),1,te):s.get()).length;pas.System.Pos("&nbsp;",et)>0;)pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.TagReplaceString("&nbsp;"," ",{get:function(){return et},set:function(t){et=t}});for(;pas.System.Pos("&lt;",et)>0;)pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.TagReplaceString("&lt;","<",{get:function(){return et},set:function(t){et=t}});for(;pas.System.Pos("&gt;",et)>0;)pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.TagReplaceString("&gt;",">",{get:function(){return et},set:function(t){et=t}});if(pe>0&&(zt.$assign(i.CalculateText(et,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,1e4,1e4)),!1,!1)),_t=zt.Bottom-zt.Top,It&&N.get()<_t/4&&N.set(_t/4),vt&&w.get()<_t/4&&w.set(_t/4),_t>C.get()&&C.set(_t),E.set(E.get()+et),Vt&&pas.System.Delete(s,1,pe),!Vt)){if(a)Ft.$assign(n),zt.$assign(i.CalculateText(et,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,1e4,1e4)),!1,!1)),Ft.Right=Ft.Left+(zt.Right-zt.Left),K>Ft.Top&&K<Ft.Bottom&&z>p.get()&&((Kt=0)===pe?pe:Kt),Ce=Ft.Right-Ft.Left,p.set(p.get()+Ce),z-Ft.Left>=p.get()-Ce&&z-Ft.Left<=p.get()&&ft&&(j.set(!0),K>Ft.Top&&(B.set(Gt),yt=!0));else{if(vt&&(Ft.Bottom=Ft.Bottom-w.get()),It&&(Ft.Bottom=Ft.Bottom+N.get()),Ft.Bottom=Ft.Bottom-O.get(),zt.$assign(i.CalculateText(et,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,1e4,1e4)),!1,!1)),Ht=zt.Right-zt.Left,-1!==ct&&(i.FFill.SetColor(ct),i.FStroke.SetColor(ct),i.FFill.SetKind(1),i.FStroke.SetKind(1),zt.$assign(i.CalculateText$1("gh")),i.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(Ft.Left,Ft.Top,Ft.Left+Ht,Ft.Top+(zt.Bottom-zt.Top))),2)),ct=-1,Ot&&(pas["WEBLib.TMSFNCTypes"].OffsetRectEx$1(Ft,h,h),i.FFont.SetColor(y),i.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(Ft),et,!1,1,0,0,0,-1,-1,!1,!1,-1,-1),pas["WEBLib.TMSFNCTypes"].OffsetRectEx$1(Ft,-h,-h),i.FFont.SetColor(rt)),ht=""!==et&&" "===et.charAt(et.length-1)&&ft?et+"\0":et,i.FFont.SetColor(Ct),i.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(Ft),ht,!1,1,0,0,0,-1,-1,!1,!1,-1,-1),Ft.Right=Ft.Left+Ht,ft&&A.get()-1===r&&L.set(Gt),Bt)for(i.FStroke.SetColor(255),i.FStroke.SetKind(1),i.FStroke.SetWidth(1),ie=(oe=Math.round(Ft.Left/2*2))%4==0?2:0;oe<Ft.Right;)ce.$assign(pas["WEBLib.TMSFNCTypes"].PointF(oe,n.Bottom+ie-1)),ie=2===ie?0:2,Se.$assign(pas["WEBLib.TMSFNCTypes"].PointF(oe+2,n.Bottom+ie-1)),i.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(ce),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(Se),2,2),oe+=2;Ft.Left=Ft.Right,Ft.Right=n.Right,Ft.Bottom=n.Bottom,Ft.Top=n.Top}de=p.get()+V.get()<n.Right-n.Left-Zt+1||n.Right-n.Left-Zt<=Ce,et,de||!S?(st+=pas.System.Copy(s.get(),1,pe),pas.System.Delete(s,1,pe),et.length>=pe&&" "===pas.System.Copy(et,pe,1)?(zt.$assign(i.CalculateText$1(" ")),kt=zt.Right-zt.Left):kt=0):(dt=!0,p.set(p.get()-Ce))}if(1===(Xt=pas.System.Pos("<",s.get()))&&s.get().length<=2&&s.set(""),!dt&&1===Xt&&s.get().length>2){if("/"===s.get().charAt(1)&&s.get().length>3){var Be=pas.System.upcase(s.get().charAt(2));"A"===Be?(c&&l!==A.get()||a||(i.FFont.SetStyle(rtl.diffSet(i.FFont.FStyle,rtl.createSet(3))),-1!==f&&(ct=f),-1!==b&&(Ct=b)),u||(Ct=rt),ft=!1,yt&&(Q.Bottom=n.Bottom,Q.Right=n.Left+p.get(),n.Top!==Q.Top&&(Q.Left=n.Left,Q.Top=n.Top),P.$assign(Q),G.set(A.get()),yt=!1),r===A.get()-1&&(J.Right=Ft.Left,J.Bottom=Ft.Bottom-O.get(),zt.$assign(i.CalculateText$1("gh")),J.Top=J.Bottom-(zt.Bottom-zt.Top),pas["WEBLib.TMSFNCTypes"].InflateRectEx(J,1,0))):"E"===Be?a||(Bt=!1):"B"===Be?">"!==s.get().charAt(3)?Ct=rt:i.FFont.SetStyle(rtl.diffSet(i.FFont.FStyle,rtl.createSet(0))):"S"===Be?"U"===(ue=pas.System.upcase(s.get().charAt(3)))?(vt=!1,It=!1):"H"===ue?Ot=!1:i.FFont.SetStyle(rtl.diffSet(i.FFont.FStyle,rtl.createSet(2))):"F"===Be?(i.FFont.SetName(at.FName),i.FFont.SetSize(at.FSize),a||u||(Ct=rt,i.FFill.SetColor(St))):"H"===Be?a||(Ct=Nt,ct=At,i.FFont.SetStyle(rtl.refSet(jt)),i.FFill.SetColor(At)):"I"===Be?i.FFont.SetStyle(rtl.diffSet(i.FFont.FStyle,rtl.createSet(1))):"L"===Be?dt=!0:"O"===Be?X.set(0):"P"===Be?(dt=!0,a||(i.FFill.SetColor(Et),wt=!1)):"U"===Be?">"!==s.get().charAt(3)&&Ut>0?Ut-=1:i.FFont.SetStyle(rtl.diffSet(i.FFont.FStyle,rtl.createSet(3))):"R"===Be||"Z"===Be&&(Vt=!1)}else{var Ee=pas.System.upcase(s.get().charAt(1));if("A"===Ee)r!==A.get()||a||(J.Left=Ft.Left,J.Top=Ft.Top),A.set(A.get()+1),c&&l!==A.get()||a||(k&&i.FFont.SetStyle(rtl.unionSet(i.FFont.FStyle,rtl.createSet(3))),-1===f||a||(ct=f),-1!==b&&(Ct=b)),u||-1!==b&&l===A.get()&&c||(rt=Ct,Ct=M),ot=pas.System.Copy(s.get(),3,pas.System.Pos(">",s.get())-1),nt=pas.System.Copy(ot,pas.System.Pos('"',ot)+1,ot.length),nt=pas.System.Copy(nt,1,pas.System.Pos('"',nt)-1),Gt=nt,ft=!0,Q.Left=p.get(),Q.Top=n.Top;else if("B"===Ee){var Le=ue=pas.System.upcase(s.get().charAt(2));if(">"===Le)i.FFont.SetStyle(rtl.unionSet(i.FFont.FStyle,rtl.createSet(0)));else if("R"===Le)dt=!0,E.set(E.get()+"\r");else if("L"===Le)d||(Ct=Dt);else if("O"===Le&&(bt=0,st+=pas.System.Copy(s.get(),1,pas.System.Pos(">",s.get())),!a&&!u)){if(ot=pas.SysUtils.UpperCase(pas.System.Copy(s.get(),6,pas.System.Pos(">",s.get())-1)),pas.System.Pos("BACKGROUND",ot)>0&&(nt=pas.System.Copy(ot,pas.System.Pos("BACKGROUND",ot)+10,ot.length),nt=pas.System.Copy(nt,pas.System.Pos('"',nt)+1,nt.length),nt=pas.System.Copy(nt,1,pas.System.Pos('"',nt)-1),pas.System.Pos("IDX:",pas.SysUtils.UpperCase(nt))>0&&pas.System.Delete({get:function(){return nt},set:function(t){nt=t}},1,4),ne=null,re=!1,0===pas.System.Pos(":",nt)&&null!=$&&(ne=$.FindBitmap$1(nt)),pas.System.Pos("URL://",pas.SysUtils.UpperCase(nt))>0&&(pas.System.Delete({get:function(){return nt},set:function(t){nt=t}},1,6),ne=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromURL(nt),re=!0),null!=ne)){if(!pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(ne)&&ne.GetWidth()>0&&ne.GetHeight()>0)for(;bt<o.Bottom-o.Top;){for(Mt=0;Mt<o.Right-o.Left;)i.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(Math.round(o.Left+Mt),Math.round(o.Top+bt),Math.round(o.Left+Mt)+ne.GetWidth(),Math.round(o.Top+bt)+ne.GetHeight())),ne,!0,!1,!0,!1),Mt+=ne.GetWidth();bt+=ne.GetHeight()}re&&(ne=rtl.freeLoc(ne))}pas.System.Pos("BGTOPLEFT",ot)>0&&(nt=pas.System.Copy(ot,pas.System.Pos("BGTOPLEFT",ot)+10,ot.length),nt=pas.System.Copy(nt,pas.System.Pos('"',nt)+1,nt.length),nt=pas.System.Copy(nt,1,pas.System.Pos('"',nt)-1),ne=null,0===pas.System.Pos(":",nt)&&null!=$&&(ne=$.FindBitmap$1(nt)),null!=ne&&!pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(ne)&&ne.GetWidth()>0&&ne.GetHeight()>0&&i.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(Math.round(o.Left),Math.round(o.Top+bt),Math.round(o.Left)+ne.GetWidth(),Math.round(o.Top)+ne.GetHeight())),ne,!0,!1,!0,!1)),pas.System.Pos("BGTOPRIGHT",ot)>0&&(nt=pas.System.Copy(ot,pas.System.Pos("BGTOPRIGHT",ot)+10,ot.length),nt=pas.System.Copy(nt,pas.System.Pos('"',nt)+1,nt.length),nt=pas.System.Copy(nt,1,pas.System.Pos('"',nt)-1),ne=null,0===pas.System.Pos(":",nt)&&null!=$&&(ne=$.FindBitmap$1(nt)),null!=ne&&!pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(ne)&&ne.GetWidth()>0&&ne.GetHeight()>0&&i.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(Math.round(o.Right)-ne.GetWidth(),Math.round(o.Top+bt),Math.round(o.Right),Math.round(o.Top)+ne.GetHeight())),ne,!0,!1,!0,!1)),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("BGCOLOR",ot,{get:function(){return Xt},set:function(t){Xt=t}})>0&&(nt=pas.System.Copy(ot,Xt+5,ot.length),nt=pas.System.Copy(nt,pas.System.Pos('"',nt)+1,nt.length),le=-1,(nt=pas.System.Copy(nt,1,pas.System.Pos('"',nt)-1)).length>0&&(le="#"===nt.charAt(0)?pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.HTMLToColor(nt):pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.TextToColor(pas.SysUtils.LowerCase(nt))),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("BGCOLORTO",ot,{get:function(){return Xt},set:function(t){Xt=t}})>0?(nt=pas.System.Copy(ot,Xt+5,ot.length),nt=pas.System.Copy(nt,pas.System.Pos('"',nt)+1,nt.length),nt=pas.System.Copy(nt,1,pas.System.Pos('"',nt)-1),nt="H",pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("DIR",ot,{get:function(){return Xt},set:function(t){Xt=t}})>0&&(nt=pas.System.Copy(ot,Xt+3,ot.length),nt=pas.System.Copy(nt,pas.System.Pos('"',nt)+1,nt.length),nt=pas.System.Copy(nt,1,pas.System.Pos('"',nt)-1)),i.FStroke.SetColor(le)):(St=i.FFill.FColor,i.FFill.SetColor(le),Lt=i.FStroke.FColor,i.FStroke.SetColor(le),i.FFill.SetKind(1),i.FStroke.SetKind(1),i.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(o.Left-2,o.Top,o.Right,o.Bottom)),2),i.FStroke.SetColor(Lt)))}}else if("E"===Ee)a||(Bt=!0);else if("C"===Ee)ot=pas.System.Copy(s.get(),9,pas.System.Pos(">",s.get())-1),Te="",Me="",fe="",me="",ge="",be="",ye="",t.ParseControl(ot,{get:function(){return Te},set:function(t){Te=t}},{get:function(){return Me},set:function(t){Me=t}},{get:function(){return fe},set:function(t){fe=t}},{get:function(){return me},set:function(t){me=t}},{get:function(){return ge},set:function(t){ge=t}},{get:function(){return be},set:function(t){be=t}},{get:function(){return ye},set:function(t){ye=t}}),it=25,""!==ge&&(pas.System.val$8(ge,{get:function(){return it},set:function(t){it=t}},{get:function(){return xt},set:function(t){xt=t}}),0!==xt&&(it=25)),""===me&&"CHECK"!==Te&&"RADIO"!==Te||(pas.System.val$6(me,{get:function(){return gt},set:function(t){gt=t}},{get:function(){return xt},set:function(t){xt=t}}),0===xt&&(Wt.x=gt,Wt.y=Math.round(i.CalculateTextHeight$1("gh"))+10),"CHECK"===Te||"RADIO"===Te?C.set(16):C.set(23),it>25&&C.set(it-2),a||("CHECK"===Te&&(Wt.x=Math.round(16*g)+2,Wt.y=Wt.x,gt=Wt.x,pt.$assign(pas["WEBLib.TMSFNCTypes"].RectF(Ft.Left+1,Ft.Top+(Ft.Bottom-Ft.Top-(Wt.y-2))/2,Ft.Left+Wt.x-1,Ft.Top+(Ft.Bottom-Ft.Top-(Wt.y-2))/2+(Wt.y-2))),pt.$assign(pas["WEBLib.TMSFNCTypes"].RectF(Math.round(pt.Left),Math.round(pt.Top),Math.round(pt.Right),Math.round(pt.Bottom))),i.DrawCheckBox(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pt),"TRUE"===pas.SysUtils.UpperCase(fe),T&&m===Me,!0,1)),"RADIO"===Te&&(Wt.x=Math.round(16*g)+2,Wt.y=Wt.x,gt=Wt.x,pt.$assign(pas["WEBLib.TMSFNCTypes"].RectF(Ft.Left+1,Ft.Top+(Ft.Bottom-Ft.Top-(Wt.y-2))/2,Ft.Left+Wt.x-1,Ft.Top+(Ft.Bottom-Ft.Top-(Wt.y-2))/2+(Wt.y-2))),pt.$assign(pas["WEBLib.TMSFNCTypes"].RectF(Math.round(pt.Left),Math.round(pt.Top),Math.round(pt.Right),Math.round(pt.Bottom))),i.DrawRadioButton(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pt),"TRUE"===pas.SysUtils.UpperCase(fe),T&&m===Me,!0,1)),"BUTTON"===Te&&(Wt.y=22,pt.$assign(pas["WEBLib.TMSFNCTypes"].RectF(Ft.Left+2,Ft.Top+(Ft.Bottom-Ft.Top-Wt.y)/2,Ft.Left+gt-2,Ft.Top+(Ft.Bottom-Ft.Top-Wt.y)/2+Wt.y)),ee=pas["WEBLib.TMSFNCTypes"].PtInRectEx(pt,pas["WEBLib.TMSFNCTypes"].PointF(z,K)),pt.$assign(pas["WEBLib.TMSFNCTypes"].RectF(Math.round(pt.Left),Math.round(pt.Top),Math.round(pt.Right),Math.round(pt.Bottom))),i.DrawButton(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pt),T&&m===Me,ee,!0,!0,1),pas["WEBLib.TMSFNCTypes"].InflateRectEx(pt,-2,-2),i.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pt),fe,!1,0,0,0,0,-1,-1,!0,!1,-1,-1))),"BUTTON"===Te&&(Wt.y=22),"COMBO"===Te&&(Wt.y=25),"CHECK"!==Te&&"RADIO"!==Te||(Wt.x=Math.round(16*g)+2,Wt.y=Wt.x),(z-n.Left>p.get()&&z-n.Left<p.get()+Wt.x&&K>Ft.Top&&K<Ft.Top+Wt.y||F&&W.get()===Me)&&(Y.set(!0),B.set("ctrl"),Yt=qt,pt.Left=n.Left+p.get(),pt.Right=pt.Left+Wt.x,pt.Top=Ft.Top,pt.Bottom=Ft.Top+Wt.y,R.$assign(pt),v.set(fe),W.set(Me),I.set(Te)),p.get()+Wt.x>n.Right-n.Left&&Wt.x<n.Right-n.Left?Tt=!0:(p.set(p.get()+Wt.x),Ft.Left=Ft.Left+Wt.x,Wt.y>C.get()&&C.set(Wt.y)));else if("H"===Ee){var De=pas.System.upcase(s.get().charAt(2));"R"===De?(dt=!0,a||(ot=pas.System.Copy(s.get(),4,pas.System.Pos(">",s.get())-1),le=0,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("COLOR",pas.SysUtils.UpperCase(ot),{get:function(){return Xt},set:function(t){Xt=t}})>0&&(nt=pas.System.Copy(ot,Xt+5,ot.length),nt=pas.System.Copy(nt,pas.System.Pos('"',nt)+1,nt.length),(nt=pas.System.Copy(nt,1,pas.System.Pos('"',nt)-1)).length>0&&(le="#"===nt.charAt(0)?pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.HTMLToColor(nt):pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.TextToColor(pas.SysUtils.LowerCase(nt)))),i.FStroke.SetKind(1),Lt=i.FStroke.FColor,i.FStroke.SetColor(le),ce.$assign(pas["WEBLib.TMSFNCTypes"].PointF(n.Left,Ft.Bottom+1)),Se.$assign(pas["WEBLib.TMSFNCTypes"].PointF(n.Right,Ft.Bottom+1)),i.FStroke.SetKind(1),i.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(ce),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(Se),2,2),i.FStroke.SetColor(Lt))):"I"===De&&(a||(Nt=Ct,At=ct,jt=rtl.refSet(i.FFont.FStyle),ct=_,Ct=H),i.FFont.SetStyle(rtl.refSet(U)))}else if("I"===Ee)">"===(ue=pas.System.upcase(s.get().charAt(2)))?i.FFont.SetStyle(rtl.unionSet(i.FFont.FStyle,rtl.createSet(1))):"N"===ue?(ot=pas.System.Copy(s.get(),3,pas.System.Pos(">",s.get())-1),nt=pas.System.Copy(ot,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IPos("x",ot)+2,ot.length),nt=pas.System.Copy(nt,pas.System.Pos('"',nt)+1,nt.length),nt=pas.System.Copy(nt,1,pas.System.Pos('"',nt)-1),pas.System.val$6(nt,{get:function(){return gt},set:function(t){gt=t}},{get:function(){return xt},set:function(t){xt=t}}),0===xt&&gt>p.get()&&(p.set(gt),Ft.Left=o.Left+gt)):"M"===ue&&(0,0,ae=0,Math.round(i.CalculateTextHeight$1("gh")),qt+=1,pt.$assign(Ft),ot=pas.System.Copy(s.get(),3,pas.System.Pos(">",s.get())-1),nt=pas.System.Copy(ot,pas.System.Pos("SRC",pas.SysUtils.UpperCase(ot))+4,ot.length),nt=pas.System.Copy(nt,pas.System.Pos('"',nt)+1,nt.length),nt=pas.System.Copy(nt,1,pas.System.Pos('"',nt)-1),ot=pas.SysUtils.UpperCase(ot),pas.System.Pos("ALT",ot)>0&&Yt===qt&&(nt=pas.System.Copy(ot,pas.System.Pos("ALT",ot)+4,ot.length),nt=pas.System.Copy(nt,pas.System.Pos('"',nt)+1,nt.length),nt=pas.System.Copy(nt,1,pas.System.Pos('"',nt)-1)),he=0,Fe=0,pas.System.Pos("WIDTH",ot)>0&&(lt=pas.System.Copy(ot,pas.System.Pos("WIDTH",ot)+6,ot.length),lt=pas.System.Copy(lt,pas.System.Pos('"',lt)+1,lt.length),lt=pas.System.Copy(lt,1,pas.System.Pos('"',lt)-1),pas.System.val$6(lt,{get:function(){return he},set:function(t){he=t}},{get:function(){return xt},set:function(t){xt=t}})),pas.System.Pos("HEIGHT",ot)>0&&(lt=pas.System.Copy(ot,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IPos("HEIGHT",ot)+7,ot.length),lt=pas.System.Copy(lt,pas.System.Pos('"',lt)+1,lt.length),lt=pas.System.Copy(lt,1,pas.System.Pos('"',lt)-1),pas.System.val$6(lt,{get:function(){return Fe},set:function(t){Fe=t}},{get:function(){return xt},set:function(t){xt=t}})),pas.System.Pos("ALIGN",ot)>0&&(lt=pas.System.Copy(ot,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IPos("ALIGN",ot)+6,ot.length),lt=pas.System.Copy(lt,pas.System.Pos('"',lt)+1,lt.length),"MIDDLE"===(lt=pas.System.Copy(lt,1,pas.System.Pos('"',lt)-1))&&1,"TOP"===lt&&2),pas.System.Pos("FLOAT",ot)>0&&(lt=pas.System.Copy(ot,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IPos("FLOAT",ot)+6,ot.length),lt=pas.System.Copy(lt,pas.System.Pos('"',lt)+1,lt.length),"LEFT"===(lt=pas.System.Copy(lt,1,pas.System.Pos('"',lt)-1))&&(ae=1,pt.Left=o.Left),"RIGHT"===lt&&(ae=2)),Wt.x=0,Wt.y=0,pas.System.Pos("IDX:",pas.SysUtils.UpperCase(nt))>0&&pas.System.Delete({get:function(){return nt},set:function(t){nt=t}},1,4),ne=null,re=!1,0===pas.System.Pos(":",nt)&&null!=$&&(ne=$.FindBitmap$1(nt)),pas.System.Pos("URL://",pas.SysUtils.UpperCase(nt))>0&&(pas.System.Delete({get:function(){return nt},set:function(t){nt=t}},1,6),ne=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromURL(nt),re=!0),pas.System.Pos("DATA:",pas.SysUtils.UpperCase(nt))>0&&pas.System.Pos("BASE64,",pas.SysUtils.UpperCase(nt))>0&&(pas.System.Delete({get:function(){return nt},set:function(t){nt=t}},1,pas.System.Pos("BASE64,",pas.SysUtils.UpperCase(nt))+6),ne=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.LoadBitmapFromBase64(nt,ne,!1),re=!0),Pt=0,$t=0,null!=ne&&(pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(ne)||(he>0&&Fe>0&&(Pt=he,$t=Fe),he>0&&0===Fe&&(Pt=he,$t=Math.round(he/ne.GetWidth()*ne.GetHeight())),0===he&&Fe>0&&(Pt=Math.round(Fe/ne.GetHeight()*ne.GetWidth()),$t=Fe),0===he&&0===Fe&&(Pt=ne.GetWidth(),$t=ne.GetHeight()),2===ae&&(pt.Left=n.Right-Pt),a||(he>0||Fe>0?i.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(Math.round(pt.Left),Math.round(pt.Top),Math.round(pt.Left)+Pt,Math.round(pt.Top)+$t)),ne,!0,!1,!0,!1):he>0&&0===Fe?i.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(Math.round(pt.Left),Math.round(pt.Top),Math.round(pt.Left)+he,Math.round(pt.Top)+Fe)),ne,!0,!1,!0,!1):i.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(Math.round(pt.Left),Math.round(pt.Top),Math.round(pt.Left)+ne.GetWidth(),Math.round(pt.Top)+ne.GetHeight())),ne,!0,!1,!0,!1)),he>0||Fe>0?(Wt.x=Pt,Wt.y=$t):(Wt.x=ne.GetWidth(),Wt.y=ne.GetHeight())),re&&(ne=rtl.freeLoc(ne))),z-n.Left>p.get()&&z-n.Left<p.get()+Wt.x&&K>Ft.Top&&K<Ft.Top+Wt.y&&ft&&(Y.set(!0),B.set(Gt),Yt=qt),p.get()+Wt.x>n.Right-n.Left&&Wt.x<n.Right-n.Left?Tt=!0:(p.set(p.get()+Wt.x+2),Ft.Left=Ft.Left+Wt.x+2,Wt.y>C.get()&&C.set(Wt.y)),pas.System.Pos("ALIGN",ot)>0&&(pas.System.Pos('"TOP',ot)>0?(zt.$assign(i.CalculateText$1("gh")),O.set(C.get()-(zt.Bottom-zt.Top))):pas.System.Pos('"MIDDLE',ot)>0&&(zt.$assign(i.CalculateText$1("gh")),O.set((C.get()-(zt.Bottom-zt.Top))/2))),pas.System.Pos("WRAP",ot)>0&&(zt.$assign(i.CalculateText$1("gh")),C.set(zt.Bottom-zt.Top),O.set(0)),1===ae&&(zt.$assign(i.CalculateText$1("gh")),O.set(C.get()-(zt.Bottom-zt.Top)),Z.Left=Pt,Z.Bottom=$t,a||(zt.$assign(i.CalculateText$1("gh")),C.set(zt.Bottom-zt.Top))),2===ae&&(zt.$assign(i.CalculateText$1("gh")),O.set(C.get()-(zt.Bottom-zt.Top)),Z.Right=Pt,Z.Bottom=$t,a||(zt.$assign(i.CalculateText$1("gh")),C.set(zt.Bottom-zt.Top)),p.set(o.Right)));else if("L"===Ee)le=-1,Rt="",pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos(">",s.get(),{get:function(){return Xt},set:function(t){Xt=t}})>0&&(ot=pas.SysUtils.UpperCase(pas.System.Copy(s.get(),3,Xt-1)),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("TYPE",ot,{get:function(){return Xt},set:function(t){Xt=t}})>0&&(nt=pas.System.Copy(ot,Xt+4,ot.length),nt=pas.System.Copy(nt,pas.System.Pos('"',nt)+1,nt.length),nt=pas.System.Copy(nt,1,pas.System.Pos('"',nt)-1),Rt=nt),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("COLOR",ot,{get:function(){return Xt},set:function(t){Xt=t}})>0&&(nt=pas.System.Copy(ot,Xt+5,ot.length),nt=pas.System.Copy(nt,pas.System.Pos('"',nt)+1,nt.length),(nt=pas.System.Copy(nt,1,pas.System.Pos('"',nt)-1)).length>0&&(le="#"===nt.charAt(0)?pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.HTMLToColor(nt):pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.TextToColor(nt)))),p.set(p.get()+12*Ut),mt?Tt=!0:mt=!0,Ft.Left=Ft.Left+12*(Ut-1),a||Vt||(""===Rt?(-1!==le&&(Qt=i.FFont.FColor,Ct=le),nt=i.FFont.FName,ut=rtl.refSet(i.FFont.FStyle),i.FFont.SetStyle({}),pas.System.Odd(Ut)?i.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(Ft),"•",!1,1,0,0,0,-1,-1,!1,!1,-1,-1):i.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(Ft),"o",!1,1,0,0,0,-1,-1,!1,!1,-1,-1),i.FFont.SetName(nt),i.FFont.SetStyle(rtl.refSet(ut)),-1!==le&&(Ct=Qt)):(Jt=-1,"SQUARE"===Rt&&(Jt=i.FFill.FColor,i.FStroke.SetColor(le),i.FFill.SetColor(le),i.FFill.SetKind(1),i.FStroke.SetKind(1),i.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(Ft.Left,Ft.Top+2,Ft.Left+8,Ft.Top+10)),2),i.FFill.SetColor(Jt)),"CIRCLE"===Rt&&(Jt=i.FFill.FColor,i.FStroke.SetColor(le),i.FFill.SetColor(le),i.FFill.SetKind(1),i.FStroke.SetKind(1),i.DrawEllipse$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(Ft.Left,Ft.Top+2,Ft.Left+8,Ft.Top+10)),2),i.FFill.SetColor(Jt)))),Ft.Left=Ft.Left+12;else if("U"===Ee)">"!==s.get().charAt(2)?(Ut+=1,dt=!0):i.FFont.SetStyle(rtl.unionSet(i.FFont.FStyle,rtl.createSet(3)));else if("O"===Ee)"F"===(ue=pas.System.upcase(s.get().charAt(2)))&&(ot=pas.System.Copy(s.get(),3,pas.System.Pos(">",s.get())-1),nt=pas.System.Copy(ot,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IPos("x",ot)+2,ot.length),nt=pas.System.Copy(nt,pas.System.Pos('"',nt)+1,nt.length),nt=pas.System.Copy(nt,1,pas.System.Pos('"',nt)-1),pas.System.val$6(nt,X,{get:function(){return xt},set:function(t){xt=t}}),Ft.Left=X.get(),p.set(X.get()));else if("P"===Ee)pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos(">",s.get(),{get:function(){return Xt},set:function(t){Xt=t}})>0&&(ot=pas.SysUtils.UpperCase(pas.System.Copy(s.get(),3,Xt-1)),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("ALIGN",ot,{get:function(){return Xt},set:function(t){Xt=t}})>0&&(nt=pas.System.Copy(ot,Xt+5,ot.length),nt=pas.System.Copy(nt,pas.System.Pos('"',nt)+1,nt.length),nt=pas.System.Copy(nt,1,pas.System.Pos('"',nt)-1),pas.System.Pos("RIGHT",nt)>0&&x.set(1),pas.System.Pos("LEFT",nt)>0&&x.set(0),pas.System.Pos("CENTER",nt)>0&&x.set(2)),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("INDENT",ot,{get:function(){return Xt},set:function(t){Xt=t}})>0&&(nt=pas.System.Copy(ot,Xt+6,ot.length),nt=pas.System.Copy(nt,pas.System.Pos('"',nt)+1,nt.length),nt=pas.System.Copy(nt,1,pas.System.Pos('"',nt)-1),V.set(e.IStrToInt(nt))),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("FLOAT",ot,{get:function(){return Xt},set:function(t){Xt=t}})>0&&(nt=pas.System.Copy(ot,Xt+5,ot.length),nt=pas.System.Copy(nt,pas.System.Pos('"',nt)+1,nt.length),"LEFT"===(nt=pas.System.Copy(nt,1,pas.System.Pos('"',nt)-1))&&tt.set(1),"RIGHT"===nt&&tt.set(2),se.$assign(pas.Types.Point(Math.round(n.Left),Math.round(n.Top)))),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("BGCOLOR",ot,{get:function(){return Xt},set:function(t){Xt=t}})>0&&(nt=pas.System.Copy(ot,Xt+5,ot.length),nt=pas.System.Copy(nt,pas.System.Pos('"',nt)+1,nt.length),le=-1,(nt=pas.System.Copy(nt,1,pas.System.Pos('"',nt)-1)).length>0&&(le="#"===nt.charAt(0)?pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.HTMLToColor(nt):pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.TextToColor(nt)),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("BGCOLORTO",ot,{get:function(){return Xt},set:function(t){Xt=t}})>0?(nt=pas.System.Copy(ot,Xt+5,ot.length),nt=pas.System.Copy(nt,pas.System.Pos('"',nt)+1,nt.length),nt=pas.System.Copy(nt,1,pas.System.Pos('"',nt)-1),a||(wt=!0,i.FStroke.SetColor(le))):a||(wt=!0,Et=i.FFill.FColor,i.FFill.SetColor(le),Lt=i.FStroke.FColor,i.FStroke.SetColor(le),i.FFill.SetKind(1),i.FStroke.SetKind(1),i.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(o.Left,n.Top,o.Right,n.Bottom)),2))));else if("F"===Ee){if(pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos(">",s.get(),{get:function(){return Xt},set:function(t){Xt=t}})>0)if(St=0===i.FFill.FKind?-1:i.FFill.FColor,ot=pas.SysUtils.UpperCase(pas.System.Copy(s.get(),6,Xt-6)),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("FACE",ot,{get:function(){return Xt},set:function(t){Xt=t}})>0&&(nt=pas.System.Copy(ot,Xt+4,ot.length),nt=pas.System.Copy(nt,pas.System.Pos('"',nt)+1,nt.length),nt=pas.System.Copy(nt,1,pas.System.Pos('"',nt)-1),i.FFont.SetName(nt)),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos(" COLOR",ot,{get:function(){return Xt},set:function(t){Xt=t}})>0&&!u&&(nt=pas.System.Copy(ot,Xt+6,ot.length),nt=pas.System.Copy(nt,pas.System.Pos('"',nt)+1,nt.length),nt=pas.System.Copy(nt,1,pas.System.Pos('"',nt)-1),rt=-1!==i.FFill.FColor?i.FFont.FColor:0,nt.length>0&&(Ct="#"===nt.charAt(0)?pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.HTMLToColor(nt):pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.TextToColor(nt))),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("BGCOLOR",ot,{get:function(){return Xt},set:function(t){Xt=t}})>0&&!a&&!u&&(nt=pas.System.Copy(ot,Xt+7,ot.length),nt=pas.System.Copy(nt,pas.System.Pos('"',nt)+1,nt.length),(nt=pas.System.Copy(nt,1,pas.System.Pos('"',nt)-1)).length>0&&(ct="#"===nt.charAt(0)?pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.HTMLToColor(nt):pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.TextToColor(nt))),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("STYLE",ot,{get:function(){return Xt},set:function(t){Xt=t}})>0)nt=pas.System.Copy(ot,Xt+5,ot.length),nt=pas.System.Copy(nt,pas.System.Pos("=",nt)+1,nt.length),nt=pas.System.Copy(nt,pas.System.Pos('"',nt)+1,nt.length),pas.System.Pos("FONT-SIZE:",pas.SysUtils.UpperCase(nt))>0&&(pas.System.Delete({get:function(){return nt},set:function(t){nt=t}},1,10),pas.System.Pos("PT",pas.SysUtils.UpperCase(nt))>0&&(nt=pas.SysUtils.Trim(pas.System.Copy(nt,1,pas.System.Pos("PT",pas.SysUtils.UpperCase(nt))-1)),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.SetFontSize(i.FFont,e.IStrToInt(nt),1)));else if(pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("SIZE",ot,{get:function(){return Xt},set:function(t){Xt=t}})>0){nt=pas.System.Copy(ot,Xt+4,ot.length),nt=pas.System.Copy(nt,pas.System.Pos("=",nt)+1,nt.length),nt=pas.System.Copy(nt,pas.System.Pos('"',nt)+1,nt.length),nt=pas.System.Copy(nt,1,pas.System.Pos('"',nt)-1);var Ne=e.IStrToInt(nt);1===Ne?pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.SetFontSize(i.FFont,8,1):2===Ne?pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.SetFontSize(i.FFont,10,1):3===Ne?pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.SetFontSize(i.FFont,12,1):4===Ne?pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.SetFontSize(i.FFont,14,1):5===Ne?pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.SetFontSize(i.FFont,16,1):pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.SetFontSize(i.FFont,e.IStrToInt(nt),1)}}else"S"===Ee?">"===(ue=pas.System.upcase(s.get().charAt(2)))?i.FFont.SetStyle(rtl.unionSet(i.FFont.FStyle,rtl.createSet(2))):"H"===ue?Ot=!0:1===pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IPos("<SUB>",s.get())?It=!0:1===pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IPos("<SUP>",s.get())&&(vt=!0):"R"===Ee?(ot=pas.System.Copy(s.get(),3,pas.System.Pos(">",s.get())-1),nt=pas.System.Copy(ot,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IPos("a",ot)+2,ot.length),nt=pas.System.Copy(nt,pas.System.Pos('"',nt)+1,nt.length),nt=pas.System.Copy(nt,1,pas.System.Pos('"',nt)-1)):"Z"===Ee&&(Vt=!0)}pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos(">",s.get(),{get:function(){return Xt},set:function(t){Xt=t}})>0&&!Tt?(st+=pas.System.Copy(s.get(),1,Xt),pas.System.Delete(s,1,Xt)):Tt||pas.System.Delete(s,1,s.get().length)}}return p.set(p.get()-kt),p.get()>D.get()&&D.set(p.get()+2),r===A.get()-1&&ft&&!a&&(J.Right=Ft.Left,J.Bottom=Ft.Bottom,pas["WEBLib.TMSFNCTypes"].InflateRectEx(J,1,0),J.Left=n.Left+1,J.Top=J.Bottom),st}if(ft=!1,Bt=!1,(at=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2")).AssignSource(i.FFont),rt=i.FFont.FColor,(Ft=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2")).AssignSource(i.FFont),pt=i.FFont.FColor,(lt=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2")).AssignSource(i.FFont),ht=i.FFont.FColor,(Tt=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2")).AssignSource(i.FFont),mt=i.FFont.FColor,(ut=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2")).AssignSource(i.FFont),dt=i.FFont.FColor,Dt=i.FFill.FColor,V=i.FStroke.FColor,K=i.FFill.FKind,z=i.FStroke.FKind,St=-1,ct=-1,Et=-1,wt=!1,Ot=!1,Vt=!1,R.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,0,0)),v.set(""),I.set(""),F||W.set(""),Zt=0,te=0,oe=0,ie.$assign(pas.Types.Rect(0,0,0,0)),j=!1,q.$assign(o),ot=0,nt=0,D.set(0),N.set(0),A.set(0),$t=0,Ut=0,xt=0,E.set(""),L.set(""),G.set(-1),yt=!1,qt=0,Yt=-1,pas.System.Pos("&",s)>0){s=pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.UnFixMarkup(s,!0,!0);do{zt=!1,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.TagReplaceString("&amp;","&",{get:function(){return s},set:function(t){s=t}})&&(zt=!0)}while(zt)}for(s=e.DBTagStrip(s),s=e.UnicodeTagStrip(s),s=e.CRLFStrip(s,!0),0,w.set(0);s.length>0;){at.AssignSource(ut),rt=dt,i.FFont.AssignSource(lt),Ct=ht,bt=ft,Pt=Gt,Ht=0,_t=0,kt=0,vt=!1,It=!1,gt=!1,Mt=!1,Z=0,st.$assign(i.CalculateText$1("gh")),et=tt=st.Bottom-st.Top,Xt=qt,s=pas.SysUtils.Trim(s),ne=oe,Y=re(i,{get:function(){return s},set:function(t){s=t}},pas["WEBLib.TMSFNCTypes"].TRectF.$clone(q),!0,{get:function(){return Z},set:function(t){Z=t}},{get:function(){return tt},set:function(t){tt=t}},{get:function(){return _t},set:function(t){_t=t}},{get:function(){return Ht},set:function(t){Ht=t}},{get:function(){return kt},set:function(t){kt=t}},{get:function(){return ot},set:function(t){ot=t}},{get:function(){return nt},set:function(t){nt=t}},n,a,{get:function(){return gt},set:function(t){gt=t}},{get:function(){return Mt},set:function(t){Mt=t}},Zt,{get:function(){return te},set:function(t){te=t}},ie,{get:function(){return oe},set:function(t){oe=t}}),w.set(w.get()+1),ft=bt,Gt=Pt,lt.AssignSource(i.FFont),ht=i.FFont.FColor,ut.AssignSource(at),dt=rt,tt+=O,X.$assign(q);var le=ot;2===le?q.Right-q.Left-Z>0&&(X.Left=q.Left+(q.Right-q.Left-Z)/2):1===le&&q.Right-Z>q.Left&&(X.Left=q.Right-Z),X.Left=X.Left+nt,X.Right=X.Right+nt,X.Bottom=X.Top+tt+_t+Ht,p||(at.AssignSource(Tt),rt=mt,i.FFont.AssignSource(Ft),Ct=pt,A.set($t),Ut=xt,qt=Xt,re(i,{get:function(){return Y},set:function(t){Y=t}},pas["WEBLib.TMSFNCTypes"].TRectF.$clone(X),F,{get:function(){return Z},set:function(t){Z=t}},{get:function(){return tt},set:function(t){tt=t}},{get:function(){return _t},set:function(t){_t=t}},{get:function(){return Ht},set:function(t){Ht=t}},{get:function(){return kt},set:function(t){kt=t}},{get:function(){return ot},set:function(t){ot=t}},{get:function(){return nt},set:function(t){nt=t}},n,a,{get:function(){return gt},set:function(t){gt=t}},{get:function(){return Mt},set:function(t){Mt=t}},Zt,{get:function(){return te},set:function(t){te=t}},ie,{get:function(){return oe},set:function(t){oe=t}}),$t=A.get(),xt=Ut,q.Left=o.Left+ie.Left,q.Right=o.Right-ie.Right,X.Top>ie.Bottom&&(ie.Left=0,ie.Right=0,q.Left=o.Left),st.$assign(i.CalculateText$1("gh")),(gt&&a>X.Bottom-kt-(st.Bottom-st.Top)&&a<X.Bottom-kt||Mt)&&(j=!0),Zt=te,Ft.AssignSource(i.FFont),pt=Ct,Tt.AssignSource(at),mt=rt),0!==oe&&oe!==ne?(q.Left=se.x,q.Top=se.y,oe=0):(q.Top=q.Top+tt+_t+Ht,N.set(N.get()+tt+_t+Ht)),q.Top+et>q.Bottom+1&&!p&&(s="")}return 0===N.get()&&(st.$assign(i.CalculateText$1("gh")),N.set(st.Bottom-st.Top)),1,i.FStroke.SetKind(z),i.FFill.SetKind(K),i.FStroke.SetColor(V),i.FFill.SetColor(Dt),i.FFont.AssignSource(at),at=rtl.freeLoc(at),Ft=rtl.freeLoc(Ft),lt=rtl.freeLoc(lt),Tt=rtl.freeLoc(Tt),ut=rtl.freeLoc(ut),j},this.HiLight=function(t,i,s,o,n){var a,r="",l="",h=0,F=0,p=0;for(s=pas.SysUtils.UpperCase(s),l=pas.SysUtils.UpperCase(t),h=pas.System.Pos("<"+s+">",l);h>0;)pas.System.Delete({get:function(){return t},set:function(e){t=e}},h,s.length+2),pas.System.Delete({get:function(){return l},set:function(t){l=t}},h,s.length+2),h=pas.System.Pos("<"+s+">",l);for(h=pas.System.Pos("</"+s+">",l);h>0;)pas.System.Delete({get:function(){return t},set:function(e){t=e}},h,s.length+3),pas.System.Delete({get:function(){return l},set:function(t){l=t}},h,s.length+3),h=pas.System.Pos("</"+s+">",l);if(o||(i=pas["WEBLib.TMSFNCTypes"].AnsiUpperCase(i)),a=pas.System.Pos("</",t)>0,l=a?pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.UnFixMarkup(e.HTMLStripAll(t),!0,!1):t,o||(l=pas["WEBLib.TMSFNCTypes"].AnsiUpperCase(l)),r="",n)i===l&&(t=a?"<"+s+">"+t+"</"+s+">":"<"+s+">"+pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.FixMarkup(t,!0)+"</"+s+">");else if(a)for(h=pas.System.Pos(i,l);h>0;){pas.System.Delete({get:function(){return l},set:function(t){l=t}},1,h+i.length-1);do{for(F=pas.System.Pos("<",t),p=pas.System.Pos("&",t);F>0&&F<=h||p>0&&p<h;)F>0&&(p<=0||F<p)?(r+=pas.System.Copy(t,1,F-1),pas.System.Delete({get:function(){return t},set:function(e){t=e}},1,F-1),h-=F-1,p-=F-1,0===(F=pas.System.Pos(">",t))&&(F=t.length),r+=pas.System.Copy(t,1,F),pas.System.Delete({get:function(){return t},set:function(e){t=e}},1,F),p-=F,F=pas.System.Pos("<",t)):(r+=pas.System.Copy(t,1,p-1),pas.System.Delete({get:function(){return t},set:function(e){t=e}},1,p-1),F-=p-1,h=(h=h-(p-1)-1)-(p=pas.System.Pos(";",t))+1,0===p&&(p=t.length),r+=pas.System.Copy(t,1,p),pas.System.Delete({get:function(){return t},set:function(e){t=e}},1,p),F-=p,p=pas.System.Pos("&",t));for(r=r+pas.System.Copy(t,1,h-1)+"<"+s+">",pas.System.Delete({get:function(){return t},set:function(e){t=e}},1,h-1),F-=h-1,p-=h-1,h=i.length;(F>0&&F<=h||p>0&&p<=h)&&h>0&&""!==t;)F>0&&(p<=0||F<p)?(r+=pas.System.Copy(t,1,F-1),pas.System.Delete({get:function(){return t},set:function(e){t=e}},1,F-1),h-=F-1,p-=F-1,0===(F=pas.System.Pos(">",t))&&(F=t.length),r+=pas.System.Copy(t,1,F),"</FONT"===pas.SysUtils.UpperCase(pas.System.Copy(t,1,6))&&(r=r+"</"+s+"><"+s+">"),pas.System.Delete({get:function(){return t},set:function(e){t=e}},1,F),p-=F,F=pas.System.Pos("<",t)):(r+=pas.System.Copy(t,1,p-1),pas.System.Delete({get:function(){return t},set:function(e){t=e}},1,p-1),h=h-(p-1)-1,F-=p-1,0===(p=pas.System.Pos(";",t))&&(p=t.length),r+=pas.System.Copy(t,1,p),pas.System.Delete({get:function(){return t},set:function(e){t=e}},1,p),F-=p,p=pas.System.Pos("&",t));h>0&&(r+=pas.System.Copy(t,1,h),pas.System.Delete({get:function(){return t},set:function(e){t=e}},1,h)),r=r+"</"+s+">",h=0}while(0!==h);h=pas.System.Pos(i,l)}else if((h=pas.System.Pos(i,l))>0){do{r=r+pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.FixMarkup(pas.System.Copy(t,1,h-1),!1)+"<"+s+">"+pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.FixMarkup(pas.System.Copy(t,h,i.length),!1)+"</"+s+">",pas.System.Delete({get:function(){return t},set:function(e){t=e}},1,h+i.length-1),pas.System.Delete({get:function(){return l},set:function(t){l=t}},1,h+i.length-1),h=pas.System.Pos(i,l)}while(0!==h);t=pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.FixMarkup(t,!1)}return r+=t},this.ParseControl=function(i,s,o,n,a,r,l,h){var F="",p=0;s.set(""),a.set(""),r.set(""),n.set(""),o.set(""),l.set(""),h.set(""),p=0,e.VarIPos("TYPE=",i,{get:function(){return p},set:function(t){p=t}})>0&&(F=pas.System.Copy(i,p+1,i.length),F=pas.System.Copy(F,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,F)+1,F.length),F=pas.System.Copy(F,1,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,F)-1),s.set(pas.SysUtils.UpperCase(F))),e.VarIPos("WIDTH=",i,{get:function(){return p},set:function(t){p=t}})>0&&(F=pas.System.Copy(i,p+1,i.length),F=pas.System.Copy(F,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,F)+1,F.length),F=pas.System.Copy(F,1,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,F)-1),a.set(F)),e.VarIPos("HEIGHT=",i,{get:function(){return p},set:function(t){p=t}})>0&&(F=pas.System.Copy(i,p+1,i.length),F=pas.System.Copy(F,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,F)+1,F.length),F=pas.System.Copy(F,1,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,F)-1),r.set(F)),e.VarIPos("ID=",i,{get:function(){return p},set:function(t){p=t}})>0&&(F=pas.System.Copy(i,p+1,i.length),F=pas.System.Copy(F,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,F)+1,F.length),F=pas.System.Copy(F,1,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,F)-1),o.set(F)),e.VarIPos("VALUE=",i,{get:function(){return p},set:function(t){p=t}})>0&&(F=pas.System.Copy(i,p+1,i.length),F=pas.System.Copy(F,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,F)+1,F.length),F=pas.System.Copy(F,1,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,F)-1),n.set(pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.UnFixMarkup(F,!0,!1))),e.VarIPos("PROP=",i,{get:function(){return p},set:function(t){p=t}})>0&&(F=pas.System.Copy(i,p+1,i.length),F=pas.System.Copy(F,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,F)+1,F.length),F=pas.System.Copy(F,1,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,F)-1),l.set(pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.UnFixMarkup(F,!0,!1))),e.VarIPos("MAXLEN=",i,{get:function(){return p},set:function(t){p=t}})>0&&(F=pas.System.Copy(i,p+1,i.length),F=pas.System.Copy(F,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,F)+1,F.length),F=pas.System.Copy(F,1,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,F)-1),h.set(F))},t.$implcode=function(){e.VarIPos=function(t,e,i){return i.set(pas.System.Pos(t,pas.SysUtils.UpperCase(e))),i.get()},e.HTMLStripAll=function(t){var e="",i=0,s=0;for(e="";pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("<",t,{get:function(){return i},set:function(t){i=t}})>0&&(s=i,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos(">",t,{get:function(){return i},set:function(t){i=t}})>s);)e+=pas.System.Copy(t,1,s-1),pas.System.Delete({get:function(){return t},set:function(e){t=e}},1,i);return e+=t},e.IStrToInt=function(t){var e=0,i=0;return pas.System.val$6(t,{get:function(){return i},set:function(t){i=t}},{get:function(){return e},set:function(t){e=t}}),i},e.DBTagStrip=function(t){var e,i="",s=0;return(e=pas.System.Pos("<#",t))>0?(i=pas.System.Copy(t,1,e-1),pas.System.Delete({get:function(){return t},set:function(e){t=e}},1,e),(s=pas.System.Pos(">",t))>0&&pas.System.Delete({get:function(){return t},set:function(e){t=e}},s,1),i+=t):i=t,i},e.HexVal=function(t){return t.length<2?0:((t.charAt(0)>="A"?t.charCodeAt(0)-65+10:t.charCodeAt(0)-48)<<4)+(t.charAt(1)>="A"?t.charCodeAt(1)-65+10:t.charCodeAt(1)-48)},e.UnicodeTagStrip=function(t){var i=0,s=0,o=0,n=0,a="",r="",l=0,h=!1;function F(t,e){var i=0,s=0,o=0;i=o=e?4:3;for(var n=o,a=t.length;n<=a;n++){if(s=n,!(t.charAt(s-1)>="0"&&t.charAt(s-1)<="9")){i=s;break}if(e&&!(t.charAt(s-1)>="A"&&t.charAt(s-1)<="F")&&e&&!(t.charAt(s-1)>="a"&&t.charAt(s-1)<="f")){i=s;break}}return i}r="";do{if(i=pas.System.Pos("&#",t),(o=pas.System.Pos("&&#",t))===i-1&&0!==o&&(i=0),i>0)if(r+=pas.System.Copy(t,1,i-1),pas.System.Delete({get:function(){return t},set:function(e){t=e}},1,i-1),h=1===pas.System.Pos("&#x",t),(s=pas.System.Pos(";",t))>7&&(s=F(t,h)),s>0){if(h){a=pas.System.Copy(t,4,s-4);try{l=e.HexVal(a),n=0}catch(t){l=0}}else a=pas.System.Copy(t,3,s-3),pas.System.val$6(a,{get:function(){return l},set:function(t){l=t}},{get:function(){return n},set:function(t){n=t}});a.length>0&&a.length<=6&&0===n&&(r+=String.fromCharCode(l),pas.System.Delete({get:function(){return t},set:function(e){t=e}},1,s))}else r+="&#",pas.System.Delete({get:function(){return t},set:function(e){t=e}},1,2);else r+=t}while(!(i<=0));return r},e.CRLFStrip=function(t,e){var i="",s=0;i="";for(var o=1,n=t.length;o<=n;o++)s=o,"\r"!==t.charAt(s-1)&&"\n"!==t.charAt(s-1)?i+=t.charAt(s-1):"\r"===t.charAt(s-1)&&e&&(i+="<BR>");return i},e.IsCJKChar=function(t){var e=!1;if(e=!1,t<"✐")return e;var i=4294967295&t.charCodeAt();return(i>=19968&&i<=40959||i>=13312&&i<=19903||i>=131072&&i<=173791||i>=173824&&i<=177983||i>=177984&&i<=178207||i>=178208&&i<=183983||i>=63744&&i<=64255||i>=194560&&i<=195103)&&(e=!0),e},e.PosBreak=function(t){var i=0,s=0,o="";i=0;for(var n=1,a=t.length;n<=a;n++)if(s=n,o=t.charAt(s-1),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.CharInSet(o,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.CreateCharSet(" "))||e.IsCJKChar(o)){i=s;break}return i}}}),["SysUtils","WEBLib.TMSFNCUtils"]),rtl.module("WEBLib.TMSFNCGraphics.General",["System","Classes","WEBLib.TMSFNCGraphicsTypes","Types","WEBLib.Graphics","WEBLib.TMSFNCGraphics","WEBLib.TMSFNCTypes"],(function(){"use strict";rtl.createClass(this,"TTMSFNCGraphicsContextGeneral",pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphicsContext,(function(){this.$init=function(){pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphicsContext.$init.call(this),this.FOldPenStyle=0,this.FOldPenWidth=0},this.DrawRotatedText=function(t,e,i,s,o,n){var a,r=0,l=0,h=pas["WEBLib.Graphics"].TCanvasRectF.$new();a=i,e.Left,e.Top,t.TextWidth(a),t.TextHeight(a);1===o?r=0:0===o?r=2:2===o&&(r=1);0===n?l=2:1===n?l=0:2===n&&(l=1),h.$assign(pas["WEBLib.Graphics"].CreateCanvasRectF(e.Left,e.Top,e.Right,e.Bottom)),t.TextRect$1(pas["WEBLib.Graphics"].TCanvasRectF.$clone(h),a,!1,!1,r,l)},this.Destroy=function(){pas.System.TObject.Destroy.call(this)},this.GetFillColor=function(){return this.GetCanvas().FBrush.FColor},this.CalculateText=function(t,e,i){var s=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),o=pas["WEBLib.Graphics"].TCanvasRectF.$new();return o.$assign(pas["WEBLib.Graphics"].CreateCanvasRectF(e.Left,e.Top,e.Right,e.Bottom)),o.$assign(this.GetCanvas().TextRect$1(pas["WEBLib.Graphics"].TCanvasRectF.$clone(o),t,i,!0,0,0)),s.$assign(pas["WEBLib.TMSFNCTypes"].RectF(o.Left,o.Top,o.Right,o.Bottom)),s},this.SetTextAngle=function(t,e){var i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=0,o=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),n=0,a=0,r=0,l=0,h=0,F=0;return i.$assign(t),0!==e&&(s=pas.Math.DegToRad(e),o.X=i.Left+(i.Right-i.Left)/2,o.Y=i.Top+(i.Bottom-i.Top)/2,this.GetCanvas().Transform(Math.cos(s),Math.sin(s),-Math.sin(s),Math.cos(s),o.X,o.Y),r=i.Right-i.Left,h=i.Bottom-i.Top,n=Math.cos(s),a=Math.sin(s),l=Math.abs(r*n)+Math.abs(h*a),F=Math.abs(r*a)+Math.abs(h*n),i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(-l/2,-F/2,l/2,F/2))),i},this.CreatePath=function(){return null,null},this.Render=function(){},this.PathOpen=function(t){},this.PathMoveTo=function(t,e){this.GetCanvas().PathMoveTo$1(e.X,e.Y)},this.PathLineTo=function(t,e){this.GetCanvas().PathLineTo$1(e.X,e.Y)},this.PathClose=function(t){this.GetCanvas().PathClose()},this.SetTextQuality=function(t){},this.SetAntiAliasing=function(t){},this.SetShowAcceleratorChar=function(t){},this.SetSize=function(t,e){},this.ResetTextAngle=function(t){0!==t&&this.GetCanvas().SetTransform(1,0,0,1,0,0)},this.BeginScene=function(){null!=this.GetCanvas()&&(this.GetCanvas().BeginScene(),this.GetCanvas().Clear())},this.EndScene=function(){this.GetCanvas().EndScene()},this.StartSpecialPen=function(){this.FOldPenStyle=this.GetCanvas().FPen.FStyle,this.FOldPenWidth=this.GetCanvas().FPen.FWidth,this.GetCanvas().FPen.FStyle=2,this.GetCanvas().FPen.FWidth=1},this.StopSpecialPen=function(){this.GetCanvas().FPen.FStyle=this.FOldPenStyle,this.GetCanvas().FPen.FWidth=this.FOldPenWidth},this.RestoreState=function(t){null!=t&&(t.FSaveDC=0),this.GetCanvas().Restore(),this.GetCanvas().Refresh()},this.SaveState=function(t){this.GetCanvas().Refresh(),this.GetCanvas().Save()},this.SetFont=function(t){this.GetCanvas().FFont.Assign(t)},this.SetFill=function(t){this.GetCanvas().FBrush.FColor=t.FColor,this.GetCanvas().FBrush.FGradient=0,this.GetCanvas().FBrush.ClearGradient();var e=t.FKind;if(1===e)this.GetCanvas().FBrush.FStyle=0;else if(2===e){this.GetCanvas().FBrush.ClearGradient(),-1!==t.FColorMirror&&-1!==t.FColorMirrorTo?(this.GetCanvas().FBrush.AddGradientColor(t.FColor,0),this.GetCanvas().FBrush.AddGradientColor(t.FColorTo,.5),this.GetCanvas().FBrush.AddGradientColor(t.FColorMirror,.5),this.GetCanvas().FBrush.AddGradientColor(t.FColorMirrorTo,1)):(this.GetCanvas().FBrush.AddGradientColor(t.FColor,0),this.GetCanvas().FBrush.AddGradientColor(t.FColorTo,1));var i=t.FOrientation;0===i?this.GetCanvas().FBrush.FGradient=2:1===i&&(this.GetCanvas().FBrush.FGradient=1)}else 0===e&&(this.GetCanvas().FBrush.FStyle=1)},this.SetFillColor=function(t){this.GetCanvas().FBrush.FColor=t},this.SetStroke=function(t){this.GetCanvas().FPen.SetColor(t.FColor),this.GetCanvas().FPen.FWidth=Math.round(t.FWidth);var e=t.FKind;1===e?this.GetCanvas().FPen.FStyle=0:0===e?this.GetCanvas().FPen.FStyle=5:2===e?this.GetCanvas().FPen.FStyle=1:3===e?this.GetCanvas().FPen.FStyle=2:4===e?this.GetCanvas().FPen.FStyle=3:5===e&&(this.GetCanvas().FPen.FStyle=4)},this.DrawLine=function(t,e,i,s,o){this.GetCanvas().MoveTo$1(e.X,e.Y),this.GetCanvas().LineTo$1(i.X,i.Y)},this.DrawPolygon=function(t,e){var i,s,o=[],n=0;o=rtl.arraySetLength(o,pas["WEBLib.Graphics"].TCanvasPointF,rtl.length(e));for(var a=0,r=rtl.length(e)-1;a<=r;a++)o[n=a].$assign(pas["WEBLib.Graphics"].CreateCanvasPointF(e[n].X,e[n].Y));s=this.GetCanvas().FBrush.FColor,i=this.GetCanvas().FBrush.FStyle,this.GetCanvas().FBrush.FStyle=1,this.GetCanvas().Polygon$1(o),this.GetCanvas().FBrush.FStyle=i,this.GetCanvas().FBrush.FColor=s},this.FillPolygon=function(t,e){var i,s=[],o=0;s=rtl.arraySetLength(s,pas["WEBLib.Graphics"].TCanvasPointF,rtl.length(e));for(var n=0,a=rtl.length(e)-1;n<=a;n++)s[o=n].$assign(pas["WEBLib.Graphics"].CreateCanvasPointF(e[o].X,e[o].Y));i=this.GetCanvas().FPen.FStyle,this.GetCanvas().FPen.FStyle=5,this.GetCanvas().Polygon$1(s),this.GetCanvas().FPen.FStyle=i},this.DrawPolyline=function(t,e){var i,s,o=0,n=[];n=rtl.arraySetLength(n,pas["WEBLib.Graphics"].TCanvasPointF,rtl.length(e));for(var a=0,r=rtl.length(e)-1;a<=r;a++)n[o=a].$assign(pas["WEBLib.Graphics"].CreateCanvasPointF(e[o].X,e[o].Y));s=this.GetCanvas().FBrush.FColor,i=this.GetCanvas().FBrush.FStyle,this.GetCanvas().FBrush.FStyle=1,this.GetCanvas().Polyline$1(n),this.GetCanvas().FBrush.FStyle=i,this.GetCanvas().FBrush.FColor=s},this.FillPolyline=function(t,e){var i,s=[],o=0;s=rtl.arraySetLength(s,pas["WEBLib.Graphics"].TCanvasPointF,rtl.length(e));for(var n=0,a=rtl.length(e)-1;n<=a;n++)s[o=n].$assign(pas["WEBLib.Graphics"].CreateCanvasPointF(e[o].X,e[o].Y));i=this.GetCanvas().FPen.FStyle,this.GetCanvas().FPen.FStyle=5,this.GetCanvas().Polyline$1(s),this.GetCanvas().FPen.FStyle=i},this.FillArc=function(t,e,i,s,o){var n;n=this.GetCanvas().FPen.FStyle,this.GetCanvas().FPen.FStyle=5,this.GetCanvas().AngleArc$1(e.X,e.Y,i.X,pas.Math.DegToRad(s),pas.Math.DegToRad(o)),this.GetCanvas().FPen.FStyle=n},this.DrawArc=function(t,e,i,s,o){var n,a;a=this.GetCanvas().FBrush.FColor,n=this.GetCanvas().FBrush.FStyle,this.GetCanvas().FBrush.FStyle=1,this.GetCanvas().AngleArc$1(e.X,e.Y,i.X,pas.Math.DegToRad(s),pas.Math.DegToRad(o)),this.GetCanvas().FBrush.FStyle=n,this.GetCanvas().FBrush.FColor=a},this.FillRect=function(t,e,i){var s,o=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),n=0,a=0;if(e.$assign(pas["WEBLib.TMSFNCGraphicsTypes"].ModifyRect(e,i)),o.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left,e.Top,e.Right,e.Bottom)),n=-1,a=1,2===t.FKind){if(-1!==t.FColor&&-1!==t.FColorTo)if(-1!==t.FColorMirror&&-1!==t.FColorMirrorTo){var r=t.FOrientation;0===r?(pas["WEBLib.TMSFNCGraphicsTypes"].DrawGradient(this.GetCanvas(),t.FColor,t.FColorTo,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(o.Left,o.Top,o.Left+(o.Right-o.Left)/2,o.Bottom)),0,{},!0),pas["WEBLib.TMSFNCGraphicsTypes"].DrawGradient(this.GetCanvas(),t.FColorMirror,t.FColorMirrorTo,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(o.Left+(o.Right-o.Left)/2,o.Top,o.Right,o.Bottom)),0,{},!0)):1===r&&(pas["WEBLib.TMSFNCGraphicsTypes"].DrawGradient(this.GetCanvas(),t.FColor,t.FColorTo,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(o.Left,o.Top,o.Right,o.Top+(o.Bottom-o.Top)/2)),0,{},!1),pas["WEBLib.TMSFNCGraphicsTypes"].DrawGradient(this.GetCanvas(),t.FColorMirror,t.FColorMirrorTo,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(o.Left,o.Top+(o.Bottom-o.Top)/2,o.Right,o.Bottom)),0,{},!1))}else pas["WEBLib.TMSFNCGraphicsTypes"].DrawGradient(this.GetCanvas(),t.FColor,t.FColorTo,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(o),0,{},0===t.FOrientation);n=this.GetCanvas().FBrush.FColor,a=this.GetCanvas().FBrush.FStyle,this.GetCanvas().FBrush.FStyle=1}s=this.GetCanvas().FPen.FStyle,this.GetCanvas().FPen.FStyle=5,-1!==t.FColor&&1===t.FKind&&this.GetCanvas().Rectangle$3(pas["WEBLib.Graphics"].CreateCanvasRectF(o.Left,o.Top,o.Right,o.Bottom)),this.GetCanvas().FPen.FStyle=s,2===t.FKind&&(this.GetCanvas().FBrush.FColor=n,this.GetCanvas().FBrush.FStyle=a)},this.DrawRect=function(t,e,i,s){var o=pas["WEBLib.TMSFNCTypes"].TRectF.$new();e.$assign(pas["WEBLib.TMSFNCGraphicsTypes"].ModifyRect(e,s)),o.$assign(e),1 in i&&this.DrawLine(t,pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(o.Left,o.Top)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(o.Right,o.Top)),2,2),0 in i&&this.DrawLine(t,pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(o.Left,o.Top)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(o.Left,o.Bottom)),2,2),3 in i&&this.DrawLine(t,pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(o.Left,o.Bottom)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(o.Right,o.Bottom)),2,2),2 in i&&this.DrawLine(t,pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(o.Right,o.Top)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(o.Right,o.Bottom)),2,2)},this.FillRoundRect=function(t,e,i,s,o){var n=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),a=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),r={};if(e.$assign(pas["WEBLib.TMSFNCGraphicsTypes"].ModifyRect(e,o)),n.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left,e.Top,e.Right,e.Bottom)),a.$assign(n),a.Bottom=a.Bottom-1,a.Right=a.Right-1,2===t.FKind){if(-1!==t.FColor&&-1!==t.FColorTo)if(-1!==t.FColorMirror&&-1!==t.FColorMirrorTo){var l=t.FOrientation;0===l?(r={},0 in s&&(r=rtl.unionSet(r,rtl.createSet(0))),2 in s&&(r=rtl.unionSet(r,rtl.createSet(2))),pas["WEBLib.TMSFNCGraphicsTypes"].DrawGradient(this.GetCanvas(),t.FColor,t.FColorTo,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(a.Left,a.Top,a.Left+(a.Right-a.Left)/2,n.Bottom)),i,rtl.refSet(r),!0),r={},1 in s&&(r=rtl.unionSet(r,rtl.createSet(1))),3 in s&&(r=rtl.unionSet(r,rtl.createSet(3))),pas["WEBLib.TMSFNCGraphicsTypes"].DrawGradient(this.GetCanvas(),t.FColorMirror,t.FColorMirrorTo,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(a.Left+(a.Right-n.Left)/2,a.Top,a.Right,a.Bottom)),i,rtl.refSet(r),!0)):1===l&&(r={},0 in s&&(r=rtl.unionSet(r,rtl.createSet(0))),1 in s&&(r=rtl.unionSet(r,rtl.createSet(1))),pas["WEBLib.TMSFNCGraphicsTypes"].DrawGradient(this.GetCanvas(),t.FColor,t.FColorTo,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(a.Left,a.Top,a.Right,a.Top+(a.Bottom-a.Top)/2)),i,rtl.refSet(r),!1),r={},2 in s&&(r=rtl.unionSet(r,rtl.createSet(2))),3 in s&&(r=rtl.unionSet(r,rtl.createSet(3))),pas["WEBLib.TMSFNCGraphicsTypes"].DrawGradient(this.GetCanvas(),t.FColorMirror,t.FColorMirrorTo,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(a.Left,a.Top+(a.Bottom-a.Top)/2,a.Right,a.Bottom)),i,rtl.refSet(r),!1))}else pas["WEBLib.TMSFNCGraphicsTypes"].DrawGradient(this.GetCanvas(),t.FColor,t.FColorTo,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(a),i,rtl.refSet(s),0===t.FOrientation)}else-1!==t.FColor&&1===t.FKind&&pas["WEBLib.TMSFNCGraphicsTypes"].DrawGradient(this.GetCanvas(),t.FColor,t.FColor,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(n),i,rtl.refSet(s),0===t.FOrientation)},this.DrawRoundRect=function(t,e,i,s,o){var n,a,r,l=pas["WEBLib.Graphics"].TCanvasRectF.$new(),h=pas["WEBLib.Graphics"].TCanvasRectF.$new();function F(t,e,i,s,o){t.AngleArc$1(e.X,e.Y,i.X,pas.Math.DegToRad(s),pas.Math.DegToRad(o))}e.$assign(pas["WEBLib.TMSFNCGraphicsTypes"].ModifyRect(e,o)),l.$assign(pas["WEBLib.Graphics"].CreateCanvasRectF(e.Left,e.Top,e.Right,e.Bottom)),h.$assign(l),h.Bottom=h.Bottom-1,h.Right=h.Right-1,a=this.GetCanvas().FBrush.FColor,r=this.GetCanvas().FBrush.FStyle,this.GetCanvas().FBrush.FStyle=1,n=Math.round(i),rtl.eqSet(s,rtl.createSet(0,1,2,3))?this.GetCanvas().RoundRect$3(l,2*n,2*n):rtl.eqSet(s,{})?this.GetCanvas().Rectangle$3(l):(2 in s?(this.GetCanvas().MoveTo$1(l.Left+n,l.Bottom),F(this.GetCanvas(),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(l.Left+n,l.Bottom-n)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n,n)),-270,90),this.GetCanvas().MoveTo$1(l.Left,l.Bottom-n)):this.GetCanvas().MoveTo$1(l.Left,l.Bottom),0 in s?(this.GetCanvas().LineTo$1(l.Left,l.Top+n),F(this.GetCanvas(),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(l.Left+n,l.Top+n)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n,n)),-180,90),this.GetCanvas().MoveTo$1(l.Left+n,l.Top)):this.GetCanvas().LineTo$1(l.Left,l.Top),1 in s?(this.GetCanvas().LineTo$1(l.Right-n,l.Top),F(this.GetCanvas(),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(l.Right-n,l.Top+n)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n,n)),-90,90),this.GetCanvas().MoveTo$1(l.Right,l.Top+n)):this.GetCanvas().LineTo$1(l.Right,l.Top),3 in s?(this.GetCanvas().LineTo$1(l.Right,l.Bottom-n),F(this.GetCanvas(),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(l.Right-n,l.Bottom-n)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n,n)),0,90),this.GetCanvas().MoveTo$1(l.Right-n,l.Bottom)):this.GetCanvas().LineTo$1(l.Right,l.Bottom),2 in s?this.GetCanvas().LineTo$1(l.Left+n,l.Bottom):this.GetCanvas().LineTo$1(l.Left,l.Bottom)),this.GetCanvas().FBrush.FColor=a,this.GetCanvas().FBrush.FStyle=r},this.FillEllipse=function(t,e,i){var s,o=pas["WEBLib.Graphics"].TCanvasRectF.$new();e.$assign(pas["WEBLib.TMSFNCGraphicsTypes"].ModifyRect(e,i)),o.$assign(pas["WEBLib.Graphics"].CreateCanvasRectF(e.Left,e.Top,e.Right,e.Bottom)),s=this.GetCanvas().FPen.FStyle,this.GetCanvas().FPen.FStyle=5,this.GetCanvas().Ellipse$3(o),this.GetCanvas().FPen.FStyle=s},this.DrawEllipse=function(t,e,i){var s,o,n=pas["WEBLib.Graphics"].TCanvasRectF.$new();e.$assign(pas["WEBLib.TMSFNCGraphicsTypes"].ModifyRect(e,i)),n.$assign(pas["WEBLib.Graphics"].CreateCanvasRectF(e.Left,e.Top,e.Right,e.Bottom)),o=this.GetCanvas().FBrush.FColor,s=this.GetCanvas().FBrush.FStyle,this.GetCanvas().FBrush.FStyle=1,this.GetCanvas().Ellipse$3(n),this.GetCanvas().FBrush.FStyle=s,this.GetCanvas().FBrush.FColor=o},this.DrawBitmap=function(t,e,i,s){this.GetCanvas().StretchDraw$1(pas["WEBLib.Graphics"].TCanvasRectF.$clone(pas["WEBLib.Graphics"].CreateCanvasRectF(i.Left,i.Top,i.Right,i.Bottom)),t)},this.ClipRect=function(t){this.GetCanvas().SetClipRect(pas["WEBLib.Graphics"].CreateCanvasRectF(t.Left,t.Top,t.Right,t.Bottom))},this.DrawFocusRectangle=function(t,e,i,s){var o,n,a=pas["WEBLib.Graphics"].TCanvasRectF.$new();e.$assign(pas["WEBLib.TMSFNCGraphicsTypes"].ModifyRect(e,s)),a.$assign(pas["WEBLib.Graphics"].CreateCanvasRectF(e.Left,e.Top,e.Right,e.Bottom)),o=this.GetCanvas().FBrush.FColor,n=this.GetCanvas().FBrush.FStyle,this.GetCanvas().FBrush.FStyle=1,this.GetCanvas().FPen.SetColor(i),this.StartSpecialPen(),this.GetCanvas().Rectangle$3(a),this.StopSpecialPen(),this.GetCanvas().FBrush.FColor=o,this.GetCanvas().FBrush.FStyle=n},this.DrawText=function(t,e,i,s,o,n,a){var r,l,h=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),F=0,p=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),C=null;if(r=this.GetCanvas().FBrush.FColor,l=this.GetCanvas().FBrush.FStyle,this.GetCanvas().FBrush.FStyle=1,p.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left,e.Top,e.Right,e.Bottom)),i){var u=o;0===u?(h.$assign(this.CalculateText(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i)),F=Math.round(h.Bottom-h.Top),p.Top=p.Top+Math.max(0,(p.Bottom-p.Top-F)/2),p.Bottom=Math.max(0,Math.min(Math.round(e.Bottom),p.Top+F))):2===u&&(h.$assign(this.CalculateText(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i)),F=Math.round(h.Bottom-h.Top),p.Top=p.Bottom-F,p.Bottom=p.Top+F)}if(0!==a)this.DrawRotatedText(this.GetCanvas(),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(p),t,a,s,o);else{C=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsSaveState.$create("Create$1");try{this.SaveState(C),this.ClipRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(p));var d=s;if(1===d){var c=o;1===c?this.GetCanvas().TextRect$1(pas["WEBLib.Graphics"].TCanvasRectF.$clone(pas["WEBLib.Graphics"].CreateCanvasRectF(p.Left,p.Top,p.Right,p.Bottom)),t,i,!1,0,0):0===c?this.GetCanvas().TextRect$1(pas["WEBLib.Graphics"].TCanvasRectF.$clone(pas["WEBLib.Graphics"].CreateCanvasRectF(p.Left,p.Top,p.Right,p.Bottom)),t,i,!1,0,2):2===c&&this.GetCanvas().TextRect$1(pas["WEBLib.Graphics"].TCanvasRectF.$clone(pas["WEBLib.Graphics"].CreateCanvasRectF(p.Left,p.Top,p.Right,p.Bottom)),t,i,!1,0,1)}else if(0===d){var S=o;1===S?this.GetCanvas().TextRect$1(pas["WEBLib.Graphics"].TCanvasRectF.$clone(pas["WEBLib.Graphics"].CreateCanvasRectF(p.Left,p.Top,p.Right,p.Bottom)),t,i,!1,2,0):0===S?this.GetCanvas().TextRect$1(pas["WEBLib.Graphics"].TCanvasRectF.$clone(pas["WEBLib.Graphics"].CreateCanvasRectF(p.Left,p.Top,p.Right,p.Bottom)),t,i,!1,2,2):2===S&&this.GetCanvas().TextRect$1(pas["WEBLib.Graphics"].TCanvasRectF.$clone(pas["WEBLib.Graphics"].CreateCanvasRectF(p.Left,p.Top,p.Right,p.Bottom)),t,i,!1,2,1)}else if(2===d){var T=o;1===T?this.GetCanvas().TextRect$1(pas["WEBLib.Graphics"].TCanvasRectF.$clone(pas["WEBLib.Graphics"].CreateCanvasRectF(p.Left,p.Top,p.Right,p.Bottom)),t,i,!1,1,0):0===T?this.GetCanvas().TextRect$1(pas["WEBLib.Graphics"].TCanvasRectF.$clone(pas["WEBLib.Graphics"].CreateCanvasRectF(p.Left,p.Top,p.Right,p.Bottom)),t,i,!1,1,2):2===T&&this.GetCanvas().TextRect$1(pas["WEBLib.Graphics"].TCanvasRectF.$clone(pas["WEBLib.Graphics"].CreateCanvasRectF(p.Left,p.Top,p.Right,p.Bottom)),t,i,!1,1,1)}}finally{this.RestoreState(C)}}this.GetCanvas().FBrush.FColor=r,this.GetCanvas().FBrush.FStyle=l},this.DrawPath=function(t,e,i){var s=[];if(null!=e)if(2===i)this.GetCanvas().PathBegin(),this.ConvertToPath(e,.25),this.GetCanvas().PathStroke();else{s=rtl.arraySetLength(s,pas["WEBLib.TMSFNCTypes"].TPointF,0),e.FlattenToPolygon({get:function(){return s},set:function(t){s=t}},.25);var o=i;0===o?this.DrawPolygon(t,rtl.arrayRef(s)):1===o&&this.DrawPolyline(t,rtl.arrayRef(s))}},this.FillPath=function(t,e,i){var s=[];if(null!=e)if(2===i)this.GetCanvas().PathBegin(),this.ConvertToPath(e,.25),this.GetCanvas().PathFill();else{s=rtl.arraySetLength(s,pas["WEBLib.TMSFNCTypes"].TPointF,0),e.FlattenToPolygon({get:function(){return s},set:function(t){s=t}},.25);var o=i;0===o?this.FillPolygon(t,rtl.arrayRef(s)):1!==o&&2!==o||this.FillPolyline(t,rtl.arrayRef(s))}}}))}),["Math"]),rtl.module("WEBLib.TMSFNCGraphics.WEB",["System","Classes","WEBLib.TMSFNCGraphicsTypes","WEBLib.TMSFNCUtils","Types","WEBLib.TMSFNCTypes","WEBLib.TMSFNCGraphics","WEBLib.Graphics"],(function(){"use strict";var t=this;rtl.createClass(this,"TTMSFNCGraphicsContextWEB",pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphicsContext,(function(){this.$init=function(){pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphicsContext.$init.call(this),this.FActivePath=null,this.FScale=0,this.FNeedsRendering=!1,this.FFont=null,this.FFill=null,this.FStroke=null,this.FContextSize=pas["WEBLib.TMSFNCTypes"].TSizeF.$new(),this.FNCanvas=null,this.FBitmap=null},this.$final=function(){this.FActivePath=void 0,this.FFont=void 0,this.FFill=void 0,this.FStroke=void 0,this.FContextSize=void 0,this.FBitmap=void 0,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphicsContext.$final.call(this)},this.DestroyResources=function(){null!=this.FNCanvas&&(this.RestoreContext(),this.FNCanvas=null),null!=this.FBitmap&&(rtl.free(this,"FBitmap"),this.FBitmap=null)},this.DrawTextInternal=function(t,e,i,s,o){var n=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),a=0,r="",l="",h=0,F=0,p=!1,C=0,u=0,d=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),c=0;function S(t,e){var i,s="",o=0;if(s="",i=t.length,e.get()>i)return s;for(o=e.get();;){if("\n"===t.charAt(o-1)&&"\r"===t.charAt(o-1-1)||"\r"===t.charAt(o-1)&&"\n"===t.charAt(o-1-1)||" "===t.charAt(o-1)){s=" "===t.charAt(o-1)?pas.System.Copy(t,e.get(),o-(e.get()-1)):pas.System.Copy(t,e.get(),o-e.get());break}if("\n"===t.charAt(o-1)||"\r"===t.charAt(o-1)||" "===t.charAt(o-1)){s=pas.System.Copy(t,e.get(),o-(e.get()-1));break}if(o>=i){s=pas.System.Copy(t,e.get(),o-(e.get()-1));break}o+=1}return e.set(o+1),s}if(i){for(d.$assign(e),F=0,a=1,u=0,c=0,C=0,F+=0,(r=S(t,{get:function(){return a},set:function(t){a=t}})).length>0&&" "===r.charAt(r.length-1)&&(F+=c);a<=t.length&&((h=r.length)>=2&&("\n"===r.charAt(h-1)&&"\r"===r.charAt(h-1-1)||"\r"===r.charAt(h-1)&&"\n"===r.charAt(h-1-1))?(r=pas.System.Copy(r,1,h-2),p=!0):h>=1&&("\n"===r.charAt(h-1)||"\r"===r.charAt(h-1))?(r=pas.System.Copy(r,1,h-1),p=!0):p=!1,l=S(t,{get:function(){return a},set:function(t){a=t}}),!((e.Left+F+0>e.Right||p)&&(""!==r&&(u+=1,F>C&&(C=F),F=0),r="",e.Top=e.Top+0,pas.System.Trunc(e.Top)>pas.System.Trunc(e.Bottom-0)&&!o)));)F+=0,l.length>0&&" "===l.charAt(l.length-1)&&(F+=c),r+=l;""!==r&&(u+=1,F>C&&(C=F)),n.$assign(pas["WEBLib.TMSFNCTypes"].RectF(d.Left,d.Top,d.Left+C,d.Top+0*u))}else;return n},this.DrawLinearGradient=function(t){if(null!=this.FNCanvas){this.FFill.FOrientation;-1!==this.FFill.FColorTo&&-1!==this.FFill.FColorMirror||this.FFill.FColorTo}},this.FontChanged=function(t){},this.FillChanged=function(t){null!=this.FNCanvas&&this.ApplyFill()},this.StrokeChanged=function(t){null!=this.FNCanvas&&this.ApplyStroke()},this.RestoreContext=function(){this.FNCanvas},this.SaveContext=function(){this.FNCanvas},this.ApplyStroke=function(){this.FNCanvas},this.ApplyFill=function(){if(null!=this.FNCanvas)this.FFill.FKind},this.Create$1=function(t){return pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphicsContext.Create$1.apply(this,arguments),this.FScale=pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.GetDPIScale(null,-1),this.FNeedsRendering=!0,this.FContextSize.cx=0,this.FContextSize.cy=0,this.FFont=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2"),this.FFont.FOnChanged=rtl.createCallback(this,"FontChanged"),this.FStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,12632256]),this.FStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,16777215,8421504,-1,-1]),this.FFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this},this.Destroy=function(){this.Render(),null!=this.FFont&&(rtl.free(this,"FFont"),this.FFont=null),null!=this.FFill&&(rtl.free(this,"FFill"),this.FFill=null),null!=this.FStroke&&(rtl.free(this,"FStroke"),this.FStroke=null),this.DestroyResources(),pas.System.TObject.Destroy.call(this)},this.GetFillColor=function(){return this.GetGraphics().FFill.FColor},this.CalculateText=function(t,e,i){var s=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return s.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,0,0)),null==this.FNCanvas||(this.SaveContext(),s.$assign(this.DrawTextInternal(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i,1,!0)),this.RestoreContext()),s},this.SetTextAngle=function(t,e){var i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=0,o=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),n=0,a=0,r=0,l=0,h=0,F=0;return i.$assign(t),null==this.FNCanvas||0!==e&&(s=pas.Math.DegToRad(e),o.X=i.Left+(i.Right-i.Left)/2,o.Y=i.Top+(i.Bottom-i.Top)/2,this.SaveContext(),n=i.Right-i.Left,a=i.Bottom-i.Top,r=Math.cos(s),l=Math.sin(s),h=Math.abs(n*r)+Math.abs(a*l),F=Math.abs(n*l)+Math.abs(a*r),i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(-h/2,-F/2,h/2,F/2))),i},this.CreatePath=function(){return null,null},this.Render=function(){this.FNeedsRendering&&(this.FNeedsRendering=!1,this.DestroyResources())},this.PathOpen=function(t){},this.PathMoveTo=function(t,e){},this.PathLineTo=function(t,e){},this.PathClose=function(t){},this.ScaleTransform=function(t,e){this.FNCanvas},this.SetTextQuality=function(t){},this.SetAntiAliasing=function(t){this.FNCanvas},this.SetShowAcceleratorChar=function(t){},this.SetSize=function(t,e){this.FContextSize.cx=t,this.FContextSize.cy=e,this.DestroyResources(),this.FBitmap=pas["WEBLib.Graphics"].TBitmap.$create("Create$3"),this.ScaleTransform(this.FScale,this.FScale),this.SaveContext()},this.ResetTextAngle=function(t){null!=this.FNCanvas&&0!==t&&this.RestoreContext()},this.BeginScene=function(){this.FNCanvas},this.EndScene=function(){null!=this.FNCanvas&&this.Render()},this.RestoreState=function(t){null!=this.FNCanvas&&this.RestoreContext()},this.SaveState=function(t){null!=this.FNCanvas&&this.SaveContext()},this.SetFont=function(t){null!=this.FNCanvas&&this.FFont.AssignSource(t)},this.SetFill=function(t){null!=this.FNCanvas&&this.FFill.Assign(t)},this.SetFillColor=function(t){null!=this.FNCanvas&&this.FFill.SetColor(t)},this.SetStroke=function(t){null!=this.FNCanvas&&this.FStroke.Assign(t)},this.DrawLine=function(t,e,i,s,o){null!=this.FNCanvas&&(this.SaveContext(),this.RestoreContext())},this.DrawPolygon=function(t,e){null!=this.FNCanvas&&0!==rtl.length(e)&&(this.SaveContext(),this.ApplyStroke(),this.RestoreContext())},this.FillPolygon=function(t,e){if(null!=this.FNCanvas&&0!==rtl.length(e)){this.SaveContext();var i=t.FKind;1===i?this.ApplyFill():2===i&&null!=this.FActivePath&&this.DrawLinearGradient(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(this.FActivePath.GetBounds())),this.RestoreContext()}},this.DrawPolyline=function(t,e){null!=this.FNCanvas&&0!==rtl.length(e)&&(this.SaveContext(),this.ApplyStroke(),this.RestoreContext())},this.FillPolyline=function(t,e){if(null!=this.FNCanvas&&0!==rtl.length(e)){this.SaveContext();var i=t.FKind;1===i?this.ApplyFill():2===i&&null!=this.FActivePath&&this.DrawLinearGradient(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(this.FActivePath.GetBounds())),this.RestoreContext()}},this.FillArc=function(t,e,i,s,o){if(null!=this.FNCanvas){this.SaveContext();var n=t.FKind;1===n?this.ApplyFill():2===n&&this.DrawLinearGradient(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(e.X-i.X,e.Y-i.Y,e.X+i.X,e.Y+i.Y))),this.RestoreContext()}},this.DrawArc=function(t,e,i,s,o){null!=this.FNCanvas&&(this.SaveContext(),this.ApplyStroke(),this.RestoreContext())},this.FillRect=function(t,e,i){var s=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(null!=this.FNCanvas){s.$assign(e),this.SaveContext();var o=t.FKind;1===o?this.ApplyFill():2===o&&this.DrawLinearGradient(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s)),this.RestoreContext()}},this.DrawRect=function(t,e,i,s){var o=pas["WEBLib.TMSFNCTypes"].TRectF.$new();null!=this.FNCanvas&&(o.$assign(e),1 in i&&this.DrawLine(t,pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(o.Left,o.Top)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(o.Right,o.Top)),2,2),0 in i&&this.DrawLine(t,pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(o.Left,o.Top)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(o.Left,o.Bottom)),2,2),3 in i&&this.DrawLine(t,pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(o.Left,o.Bottom)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(o.Right,o.Bottom)),2,2),2 in i&&this.DrawLine(t,pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(o.Right,o.Top)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(o.Right,o.Bottom)),2,2))},this.FillRoundRect=function(t,e,i,s,o){var n,a=null,r=pas["WEBLib.TMSFNCTypes"].TRectF.$new();r.$assign(e),n=i,a=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsPath.$create("Create$1");try{2 in s?(a.MoveTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Left+n,r.Bottom)),a.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(r.Left+n,r.Bottom-n),pas["WEBLib.TMSFNCTypes"].PointF(n,n),-270,90),a.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Left,r.Bottom-n))):a.MoveTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Left,r.Bottom)),0 in s?(a.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Left,r.Top+n)),a.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(r.Left+n,r.Top+n),pas["WEBLib.TMSFNCTypes"].PointF(n,n),-180,90),a.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Left+n,r.Top))):a.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Left,r.Top)),1 in s?(a.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Right-n,r.Top)),a.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(r.Right-n,r.Top+n),pas["WEBLib.TMSFNCTypes"].PointF(n,n),-90,90),a.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Right,r.Top+n))):a.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Right,r.Top)),3 in s?(a.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Right,r.Bottom-n)),a.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(r.Right-n,r.Bottom-n),pas["WEBLib.TMSFNCTypes"].PointF(n,n),0,90),a.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Right-n,r.Bottom))):a.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Right,r.Bottom)),2 in s?a.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Left+n,r.Bottom)):a.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Left,r.Bottom)),a.ClosePath(),this.FillPath(this.FFill,a,0)}finally{a=rtl.freeLoc(a)}},this.DrawRoundRect=function(t,e,i,s,o){var n,a=null,r=pas["WEBLib.TMSFNCTypes"].TRectF.$new();r.$assign(e),n=i,a=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsPath.$create("Create$1");try{2 in s?(a.MoveTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Left+n,r.Bottom)),a.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(r.Left+n,r.Bottom-n),pas["WEBLib.TMSFNCTypes"].PointF(n,n),-270,90),a.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Left,r.Bottom-n))):a.MoveTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Left,r.Bottom)),0 in s?(a.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Left,r.Top+n)),a.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(r.Left+n,r.Top+n),pas["WEBLib.TMSFNCTypes"].PointF(n,n),-180,90),a.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Left+n,r.Top))):a.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Left,r.Top)),1 in s?(a.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Right-n,r.Top)),a.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(r.Right-n,r.Top+n),pas["WEBLib.TMSFNCTypes"].PointF(n,n),-90,90),a.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Right,r.Top+n))):a.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Right,r.Top)),3 in s?(a.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Right,r.Bottom-n)),a.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(r.Right-n,r.Bottom-n),pas["WEBLib.TMSFNCTypes"].PointF(n,n),0,90),a.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Right-n,r.Bottom))):a.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Right,r.Bottom)),2 in s?a.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Left+n,r.Bottom)):a.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Left,r.Bottom)),a.ClosePath(),this.DrawPath(this.FStroke,a,0)}finally{a=rtl.freeLoc(a)}},this.FillEllipse=function(t,e,i){var s=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(null!=this.FNCanvas){s.$assign(e),this.SaveContext();var o=t.FKind;1===o?this.ApplyFill():2===o&&this.DrawLinearGradient(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s)),this.RestoreContext()}},this.DrawEllipse=function(t,e,i){null!=this.FNCanvas&&(this.SaveContext(),this.ApplyStroke(),this.RestoreContext())},this.DrawBitmap=function(t,e,i,s){null!=t&&null!=this.FNCanvas&&(this.SaveContext(),this.RestoreContext())},this.ClipRect=function(t){null!=this.FNCanvas&&this.SaveContext()},this.DrawFocusRectangle=function(t,e,i,s){this.FNCanvas},this.DrawText=function(t,e,i,s,o,n,a){var r=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(null!=this.FNCanvas){this.SaveContext(),r.$assign(this.DrawTextInternal(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i,s,!0));var l=o;0===l?this.DrawTextInternal(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(e.Left,e.Top+(e.Bottom-e.Top-(r.Bottom-r.Top))/2,e.Right,e.Top+(e.Bottom-e.Top-(r.Bottom-r.Top))/2+(r.Bottom-r.Top))),i,s,!1):1===l?this.DrawTextInternal(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(e.Left,e.Top,e.Right,e.Top+(r.Bottom-r.Top))),i,s,!1):2===l&&this.DrawTextInternal(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(e.Left,e.Bottom-(r.Bottom-r.Top),e.Right,e.Bottom)),i,s,!1),this.RestoreContext()}},this.DrawPath=function(t,e,i){var s=[];if(null!=e){this.FActivePath=e,s=rtl.arraySetLength(s,pas["WEBLib.TMSFNCTypes"].TPointF,0),e.FlattenToPolygon({get:function(){return s},set:function(t){s=t}},.25);var o=i;0===o?this.DrawPolygon(t,rtl.arrayRef(s)):1===o&&this.DrawPolyline(t,rtl.arrayRef(s)),this.FActivePath=null}},this.FillPath=function(t,e,i){var s=[];if(null!=e){this.FActivePath=e,s=rtl.arraySetLength(s,pas["WEBLib.TMSFNCTypes"].TPointF,0),e.FlattenToPolygon({get:function(){return s},set:function(t){s=t}},.25);var o=i;0===o?this.FillPolygon(t,rtl.arrayRef(s)):1===o&&this.FillPolyline(t,rtl.arrayRef(s)),this.FActivePath=null}}})),this.GetNativeContextClass=function(){return t.TTMSFNCGraphicsContextWEB}}),["SysUtils","Math"]),rtl.module("WEBLib.TMSFNCGraphics",["System","Classes","WEBLib.TMSFNCGraphicsTypes","WEBLib.Graphics","JS","WEBLib.TMSFNCBitmapContainer","Types","WEBLib.TMSFNCTypes"],(function(){"use strict";var t=this;this.$rtti.$Class("TTMSFNCGraphics"),rtl.createClass(this,"TTMSFNCGraphicsContext",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FGraphics=null},this.$final=function(){this.FGraphics=void 0,pas.System.TObject.$final.call(this)},this.GetCanvas=function(){var t=null;return t=null,null!=this.GetGraphics()&&(t=this.GetGraphics().GetCanvas()),t},this.GetGraphics=function(){return this.FGraphics},this.Create$1=function(t){return this.FGraphics=t,this},this.ConvertToPath=function(t,e){var i,s=0,o=0,n=[],a=rtl.arraySetLength(null,pas["WEBLib.TMSFNCTypes"].TPointF,4),r=0,l=0,h=0,F=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),p=pas["WEBLib.TMSFNCTypes"].TPointF.$new();if(i=this.CreatePath(),t.GetCount()>0)for(r=Math.max(e,.05),s=0;s<t.GetCount();){var C=t.GetPoint(s).Kind;if(0===C)this.PathOpen(i),this.PathMoveTo(i,pas["WEBLib.TMSFNCTypes"].TPointF.$clone(t.GetPoint(s).Point)),F.$assign(t.GetPoint(s).Point);else if(1===C)this.PathLineTo(i,pas["WEBLib.TMSFNCTypes"].TPointF.$clone(t.GetPoint(s).Point)),F.$assign(t.GetPoint(s).Point);else if(2===C){a[0].$assign(F),a[1].$assign(t.GetPoint(s).Point),s+=1,a[2].$assign(t.GetPoint(s).Point),s+=1,a[3].$assign(t.GetPoint(s).Point),n=t.CreateBezier(a,6),l=0;for(var u=0,d=rtl.length(n)-1-1;u<=d;u++)o=u,p.X=n[o].X-n[o+1].X,p.Y=n[o].Y-n[o+1].Y,l+=pas["WEBLib.TMSFNCTypes"].GetPointLength(p);if((h=Math.round(l/r))<2)this.PathLineTo(i,pas["WEBLib.TMSFNCTypes"].TPointF.$clone(a[3]));else{n=t.CreateBezier(a,h);for(var c=0,S=rtl.length(n)-1;c<=S;c++)o=c,this.PathLineTo(i,pas["WEBLib.TMSFNCTypes"].TPointF.$clone(n[o]));F.$assign(t.GetPoint(s).Point)}}else 3===C&&this.PathClose(i);s+=1}return i}})),rtl.createClass(this,"TTMSFNCGraphics",pas.System.TObject,(function(){this.DefaultSelectionFillColor=0,this.DefaultTextFontColor=0,this.DefaultPopupFillColor=0,this.DefaultPopupStrokeColor=0,this.DefaultButtonStrokeColorFocused=0,this.DefaultButtonFillColorFocused=0,this.DefaultButtonStrokeColorDisabled=0,this.DefaultButtonFillColorDisabled=0,this.DefaultButtonStrokeColor=0,this.DefaultButtonFillColor=0,this.$init=function(){pas.System.TObject.$init.call(this),this.FActiveCanvas=null,this.FBlockUpdate=0,this.FNative=!1,this.FContextNative=null,this.FContextGeneral=null,this.FBitmap=null,this.FFill=null,this.FStroke=null,this.FFont=null,this.FHighlightColor=0,this.FOptimizedHTMLDrawing=!1,this.FHighlightTextColor=0,this.FHighlightFontStyles={},this.FURLUnderline=!1,this.FURLColor=0,this.FBitmapContainer=null},this.$final=function(){this.FActiveCanvas=void 0,this.FContextNative=void 0,this.FContextGeneral=void 0,this.FBitmap=void 0,this.FFill=void 0,this.FStroke=void 0,this.FFont=void 0,this.FHighlightFontStyles=void 0,this.FBitmapContainer=void 0,pas.System.TObject.$final.call(this)},this.GetCanvas=function(){return this.FActiveCanvas},this.GetContext=function(){return this.FNative?this.FContextNative:this.FContextGeneral},this.FontChanged=function(t){this.SetFont(rtl.as(t,pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont))},this.FillChanged=function(t){this.SetFill(rtl.as(t,pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill))},this.StrokeChanged=function(t){this.SetStroke(rtl.as(t,pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke))},this.InitializeDefaultAppearance=function(){this.FURLColor=16711680,this.FURLUnderline=!0,this.SetFill(this.FFill),this.SetStroke(this.FStroke),this.SetFont(this.FFont)},this.InternalCalculateText=function(t,e,i,s){var o=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),n="",a="",r="",l=0,h=0,F=0,p=0,C=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),u=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),d=0,c="",S="",T="";return o.$assign(e),Math.round(o.Right-o.Left)<=0?(o.Bottom=o.Top,o):(""!==t?s&&(pas.System.Pos("</",t)>0||pas.System.Pos("/>",t)>0||pas.System.Pos("<BR>",pas.SysUtils.UpperCase(t))>0)?(C.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,0,0)),l=0,h=0,F=-1,p=-1,r="",a="",n="",d=0,u.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,0,0)),c="",T="",S="",pas["WEBLib.TMSFNCHTMLEngine"].HTMLDrawEx$1(this,t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),0,0,-1,-1,0,!1,!0,!1,!1,!1,!1,i,!1,"",1,this.FURLColor,-1,-1,-1,{get:function(){return n},set:function(t){n=t}},{get:function(){return a},set:function(t){a=t}},{get:function(){return r},set:function(t){r=t}},{get:function(){return l},set:function(t){l=t}},{get:function(){return h},set:function(t){h=t}},{get:function(){return F},set:function(t){F=t}},{get:function(){return p},set:function(t){p=t}},C,u,{get:function(){return c},set:function(t){c=t}},{get:function(){return T},set:function(t){T=t}},{get:function(){return S},set:function(t){S=t}},{get:function(){return d},set:function(t){d=t}},0,this.FBitmapContainer,1,this.FURLUnderline,this.FHighlightColor,this.FHighlightTextColor,rtl.refSet(this.FHighlightFontStyles)),h+=1,o.Right=o.Left+l,o.Bottom=o.Top+h):(o.$assign(this.GetContext().CalculateText(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i)),o.Bottom=o.Bottom+1):(o.Right=o.Left,o.Bottom=o.Top),o)},this.InternalDrawText=function(t,e,i,s,o,n,a,r,l,h,F,p,C,u,d,c){var S,T="",m="",g="",M="",f=0,b=0,y=0,B=0,E=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),L=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),D=0,N=0,A=0,G=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),P=!1,R=null;if(S=this.GetContext().GetFillColor(),this.GetContext().SetFillColor(this.FFont.FColor),p>-1&&t.Bottom-t.Top<p&&(t.Bottom=t.Top+p),F>-1&&t.Right-t.Left<F&&(t.Right=t.Left+F),t.$assign(this.GetContext().SetTextAngle(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t),h)),T="",(pas.System.Pos("</",e)>0||pas.System.Pos("/>",e)>0||pas.System.Pos("<BR>",pas.SysUtils.UpperCase(e))>0)&&C){if(E.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,0,0)),f=0,b=0,y=-1,B=-1,M="",g="",m="",A=0,L.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,0,0)),i.set(""),s.set(""),o.set(""),pas["WEBLib.TMSFNCHTMLEngine"].HTMLDrawEx$1(this,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t),0,0,-1,-1,0,!1,!0,!1,!1,!1,!1,n,!1,"",1,this.FURLColor,-1,-1,-1,{get:function(){return m},set:function(t){m=t}},{get:function(){return g},set:function(t){g=t}},{get:function(){return M},set:function(t){M=t}},{get:function(){return f},set:function(t){f=t}},{get:function(){return b},set:function(t){b=t}},{get:function(){return y},set:function(t){y=t}},{get:function(){return B},set:function(t){B=t}},E,L,i,s,o,{get:function(){return A},set:function(t){A=t}},0,this.FBitmapContainer,1,this.FURLUnderline,this.FHighlightColor,this.FHighlightTextColor,rtl.refSet(this.FHighlightFontStyles)),b+=1,f+=1,n&&A<=1||!n){D=t.Left,N=t.Top;var W=a;0===W?D+=(t.Right-t.Left-f)/2:2===W&&(D=t.Left+(t.Right-t.Left)-f);var v=r;0===v?N+=(t.Bottom-t.Top-b)/2:2===v&&(N=N+(t.Bottom-t.Top)-b),G.$assign(pas["WEBLib.TMSFNCTypes"].RectF(D,N,D+f,N+b))}else G.$assign(t);R=this.SaveState(!0),this.ClipRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t)),P=pas["WEBLib.TMSFNCHTMLEngine"].HTMLDrawEx$1(this,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(G),Math.round(d),Math.round(c),-1,-1,0,u,!1,!1,!1,!1,!1,n,!1,"",1,this.FURLColor,-1,-1,-1,{get:function(){return m},set:function(t){m=t}},{get:function(){return g},set:function(t){g=t}},{get:function(){return M},set:function(t){M=t}},{get:function(){return f},set:function(t){f=t}},{get:function(){return b},set:function(t){b=t}},{get:function(){return y},set:function(t){y=t}},{get:function(){return B},set:function(t){B=t}},E,L,i,s,o,{get:function(){return A},set:function(t){A=t}},0,this.FBitmapContainer,1,this.FURLUnderline,this.FHighlightColor,this.FHighlightTextColor,rtl.refSet(this.FHighlightFontStyles)),this.RestoreState(R,!0),P&&(T=m)}else u||this.GetContext().DrawText(e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t),n,a,r,l,h);return this.GetContext().ResetTextAngle(h),this.GetContext().SetFillColor(S),T},this.DrawTexture=function(t,e,i){var s=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),o=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),n=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),a=0,r=0;if(!pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(e)){s.$assign(t);var l=i;if(0===l)o.$assign(pas["WEBLib.TMSFNCTypes"].RectF(t.Left,t.Top,t.Left+e.GetWidth(),t.Top+e.GetHeight())),pas["WEBLib.TMSFNCTypes"].IntersectRectEx$1(n,s,o),this.DrawBitmapPart$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,n.Right-n.Left,n.Bottom-n.Top)),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(o.Left,o.Top,o.Left+(n.Right-n.Left),o.Top+(n.Bottom-n.Top))),e,!1,!1,!1,!1);else if(1===l)o.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,e.GetWidth(),e.GetHeight())),o.$assign(pas["WEBLib.TMSFNCTypes"].RectSnapToPixelEx(pas["WEBLib.TMSFNCTypes"].RectFitIntoEx$1(o,t),1,!1)),this.DrawBitmapPart$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,e.GetWidth(),e.GetHeight())),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(o),e,!1,!0,!1,!1);else if(2===l)this.DrawBitmapPart$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,e.GetWidth(),e.GetHeight())),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t),e,!1,!0,!1,!1);else if(4===l)for(var h=0,F=pas.System.Trunc((s.Right-s.Left)/e.GetWidth())+1;h<=F;h++){a=h;for(var p=0,C=pas.System.Trunc((s.Bottom-s.Top)/e.GetHeight())+1;p<=C;p++)r=p,o.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Left,s.Top,s.Left+e.GetWidth(),s.Top+e.GetHeight())),pas["WEBLib.TMSFNCTypes"].OffsetRectEx$1(o,a*e.GetWidth(),r*e.GetHeight()),pas["WEBLib.TMSFNCTypes"].IntersectRectEx$1(n,s,o),pas["WEBLib.TMSFNCTypes"].IntersectRectEx(n,o)&&this.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(o.Left,o.Top,o.Left+(n.Right-n.Left),o.Top+(n.Bottom-n.Top))),e,!1,!1,!1,!1)}else 3===l&&(o.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,e.GetWidth(),e.GetHeight())),o.$assign(pas["WEBLib.TMSFNCTypes"].RectSnapToPixelEx(pas["WEBLib.TMSFNCTypes"].RectCenterAtEx(o,t),1,!1)),this.DrawBitmapPart$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,e.GetWidth(),e.GetHeight())),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(o),e,!0,!1,!0,!1))}},this.DrawSVG=function(t,e){return!1,!1},this.Create$1=function(t,e){return this.FNative=e,this.FActiveCanvas=t,e?(this.FContextNative=pas["WEBLib.TMSFNCGraphics.WEB"].GetNativeContextClass().$create("Create$1",[this]),this.FContextNative.SetSize(1,1)):(this.FContextGeneral=pas["WEBLib.TMSFNCGraphics.General"].TTMSFNCGraphicsContextGeneral.$create("Create$1",[this]),this.FContextGeneral.SetSize(1,1)),this.FFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,16777215,8421504,-1,-1]),this.FFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,12632256]),this.FStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FFont=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2"),this.FFont.FOnChanged=rtl.createCallback(this,"FontChanged"),this.FHighlightColor=16711680,this.FHighlightTextColor=16777215,this.FHighlightFontStyles={},this.InitializeDefaultAppearance(),this},this.CreateBitmapCanvas=function(t,e,i,s){return this.FNative=i,this.FBitmap=pas["WEBLib.Graphics"].TBitmap.$create("Create$3"),this.FBitmap.SetWidth(t),this.FBitmap.SetHeight(e),this.FActiveCanvas=this.FBitmap.GetCanvas(),i?(this.FContextNative=pas["WEBLib.TMSFNCGraphics.WEB"].GetNativeContextClass().$create("Create$1",[this]),this.FContextNative.SetSize(t,e)):(this.FContextGeneral=pas["WEBLib.TMSFNCGraphics.General"].TTMSFNCGraphicsContextGeneral.$create("Create$1",[this]),this.FContextGeneral.SetSize(t,e)),this.FFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,16777215,8421504,-1,-1]),this.FFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,12632256]),this.FStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FFont=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2"),this.FFont.FOnChanged=rtl.createCallback(this,"FontChanged"),this.InitializeDefaultAppearance(),this},this.Destroy=function(){null!=this.FContextNative&&(rtl.free(this,"FContextNative"),this.FContextNative=null),null!=this.FContextGeneral&&(rtl.free(this,"FContextGeneral"),this.FContextGeneral=null),null!=this.FFont&&(rtl.free(this,"FFont"),this.FFont=null),null!=this.FFill&&(this.FFill.FOnChanged=null,rtl.free(this,"FFill"),this.FFill=null),null!=this.FStroke&&(this.FStroke.FOnChanged=null,rtl.free(this,"FStroke"),this.FStroke=null),this.FBitmapContainer=null,null!=this.FBitmap&&(rtl.free(this,"FBitmap"),this.FBitmap=null),pas.System.TObject.Destroy.call(this)},this.BeginScene=function(){this.GetContext().BeginScene()},this.EndScene=function(){this.GetContext().EndScene()},this.SetFill=function(t){this.FBlockUpdate>0||(this.FBlockUpdate+=1,this.GetContext().SetFill(t),this.FFill.Assign(t),this.FBlockUpdate-=1)},this.SetStroke=function(t){this.FBlockUpdate>0||(this.FBlockUpdate+=1,this.GetContext().SetStroke(t),this.FStroke.Assign(t),this.FBlockUpdate-=1)},this.RestoreState=function(t,e){e||(this.SetFill(t.FFill),this.SetStroke(t.FStroke),this.SetFont(t.FFont)),this.GetContext().RestoreState(t),t=rtl.freeLoc(t)},this.SetFont=function(t){this.FBlockUpdate>0||(this.FBlockUpdate+=1,this.GetContext().SetFont(t),this.FFont.AssignSource(t),this.FBlockUpdate-=1)},this.DrawLine$1=function(t,e,i,s){-1!==this.FStroke.FColor&&0!==this.FStroke.FKind&&this.GetContext().DrawLine(this.FStroke,pas["WEBLib.TMSFNCTypes"].TPointF.$clone(t),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(e),i,s)},this.DrawFocusRectangle$2=function(t,e,i,s,o,n){var a=pas["WEBLib.TMSFNCTypes"].TRectF.$new();a.$assign(pas["WEBLib.TMSFNCTypes"].RectF(t,e,i,s)),this.GetContext().DrawFocusRectangle(this.FStroke,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(a),o,n)},this.DrawFocusRectangle$3=function(t,e,i){this.DrawFocusRectangle$2(t.Left,t.Top,t.Right,t.Bottom,e,i)},this.DrawPath=function(t,e){(-1!==this.FFill.FColor&&0!==this.FFill.FKind||3===this.FFill.FKind)&&(3===this.FFill.FKind?this.DrawTexture(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t.GetBounds()),this.FFill.FTexture,this.FFill.FTextureMode):this.GetContext().FillPath(this.FFill,t,e));-1!==this.FStroke.FColor&&0!==this.FStroke.FKind&&this.GetContext().DrawPath(this.FStroke,t,e)},this.DrawArc=function(t,e,i,s){var o=null;if(-1!==this.FFill.FColor&&0!==this.FFill.FKind)if(3===this.FFill.FKind){o=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsPath.$create("Create$1");try{o.AddArc(t,e,i,s),this.DrawTexture(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(o.GetBounds()),this.FFill.FTexture,this.FFill.FTextureMode)}finally{o=rtl.freeLoc(o)}}else this.GetContext().FillArc(this.FFill,pas["WEBLib.TMSFNCTypes"].TPointF.$clone(t),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(e),i,s);-1!==this.FStroke.FColor&&0!==this.FStroke.FKind&&this.GetContext().DrawArc(this.FStroke,pas["WEBLib.TMSFNCTypes"].TPointF.$clone(t),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(e),i,s)},this.DrawRectangle=function(t,e,i,s,o){this.DrawRectangle$1(t,e,i,s,pas["WEBLib.TMSFNCGraphicsTypes"].AllSides,o)},this.DrawRectangle$1=function(t,e,i,s,o,n){var a=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),r=null;if(a.$assign(pas["WEBLib.TMSFNCTypes"].RectF(t,e,i,s)),-1!==this.FFill.FColor&&0!==this.FFill.FKind||3===this.FFill.FKind)if(3===this.FFill.FKind){r=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsPath.$create("Create$1");try{r.AddRectangle(a,0,0),this.DrawTexture(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(a),this.FFill.FTexture,this.FFill.FTextureMode)}finally{r=rtl.freeLoc(r)}}else this.GetContext().FillRect(this.FFill,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(a),n);-1!==this.FStroke.FColor&&0!==this.FStroke.FKind&&this.GetContext().DrawRect(this.FStroke,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(a),rtl.refSet(o),n)},this.DrawEllipse=function(t,e,i,s,o){var n=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),a=null;if(n.$assign(pas["WEBLib.TMSFNCTypes"].RectF(t,e,i,s)),-1!==this.FFill.FColor&&0!==this.FFill.FKind||3===this.FFill.FKind)if(3===this.FFill.FKind){a=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsPath.$create("Create$1");try{a.AddEllipse(n),this.DrawTexture(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(n),this.FFill.FTexture,this.FFill.FTextureMode)}finally{a=rtl.freeLoc(a)}}else this.GetContext().FillEllipse(this.FFill,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(n),o);-1!==this.FStroke.FColor&&0!==this.FStroke.FKind&&this.GetContext().DrawEllipse(this.FStroke,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(n),o)},this.DrawRectangle$2=function(t,e){this.DrawRectangle(t.Left,t.Top,t.Right,t.Bottom,e)},this.DrawRectangle$3=function(t,e,i){this.DrawRectangle$1(t.Left,t.Top,t.Right,t.Bottom,rtl.refSet(e),i)},this.DrawRoundRectangle=function(t,e,i,s,o,n,a){var r=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),l=0,h=null;if(r.$assign(pas["WEBLib.TMSFNCTypes"].RectF(t,e,i,s)),-1!==this.FFill.FColor&&0!==this.FFill.FKind||3===this.FFill.FKind)if(3===this.FFill.FKind){h=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsPath.$create("Create$1");try{l=o,2 in n?(h.MoveTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Left+l,r.Bottom)),h.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(r.Left+l,r.Bottom-l),pas["WEBLib.TMSFNCTypes"].PointF(l,l),-270,90),h.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Left,r.Bottom-l))):h.MoveTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Left,r.Bottom)),0 in n?(h.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Left,r.Top+l)),h.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(r.Left+l,r.Top+l),pas["WEBLib.TMSFNCTypes"].PointF(l,l),-180,90),h.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Left+l,r.Top))):h.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Left,r.Top)),1 in n?(h.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Right-l,r.Top)),h.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(r.Right-l,r.Top+l),pas["WEBLib.TMSFNCTypes"].PointF(l,l),-90,90),h.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Right,r.Top+l))):h.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Right,r.Top)),3 in n?(h.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Right,r.Bottom-l)),h.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(r.Right-l,r.Bottom-l),pas["WEBLib.TMSFNCTypes"].PointF(l,l),0,90),h.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Right-l,r.Bottom))):h.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Right,r.Bottom)),2 in n?h.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Left+l,r.Bottom)):h.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(r.Left,r.Bottom)),h.ClosePath(),this.DrawTexture(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(r),this.FFill.FTexture,this.FFill.FTextureMode)}finally{h=rtl.freeLoc(h)}}else this.GetContext().FillRoundRect(this.FFill,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(r),o,rtl.refSet(n),a);-1!==this.FStroke.FColor&&0!==this.FStroke.FKind&&this.GetContext().DrawRoundRect(this.FStroke,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(r),o,rtl.refSet(n),a)},this.DrawRoundRectangle$1=function(t,e,i,s){this.DrawRoundRectangle(t.Left,t.Top,t.Right,t.Bottom,e,rtl.refSet(i),s)},this.DrawEllipse$2=function(t,e){this.DrawEllipse(t.Left,t.Top,t.Right,t.Bottom,e)},this.DrawBitmapPart=function(e,i,s,o,n,a,r,l,h,F,p,C,u){var d=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),c=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),S=null,T=null;if(d.$assign(pas["WEBLib.TMSFNCTypes"].RectF(n,a,r,l)),c.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e,i,s,o)),!pas["WEBLib.TMSFNCTypes"].RectIsEmpty(d)&&!pas["WEBLib.TMSFNCTypes"].RectIsEmpty(c)&&!this.DrawSVG(h,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(d))){S=t.TTMSFNCGraphics.$create("CreateBitmapCanvas",[Math.round(s-e),Math.round(o-i),this.FNative,!0]);try{S.BeginScene(),S.DrawBitmap(-e,-i,-e+S.FBitmap.GetWidth(),-i+S.FBitmap.GetHeight(),h,!1,!1,!1,!1),S.EndScene(),T=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3");try{T.Assign(S.FBitmap),this.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(d),T,F,p,C,u)}finally{T=rtl.freeLoc(T)}}finally{S=rtl.freeLoc(S)}}},this.DrawBitmapPart$1=function(t,e,i,s,o,n,a){this.DrawBitmapPart(t.Left,t.Top,t.Right,t.Bottom,e.Left,e.Top,e.Right,e.Bottom,i,s,o,n,a)},this.DrawBitmap=function(t,e,i,s,o,n,a,r,l){var h=pas["WEBLib.TMSFNCTypes"].TRectF.$new();null!=o&&(h.$assign(pas["WEBLib.TMSFNCTypes"].RectF(t,e,i,s)),h.$assign(this.GetBitmapDrawRectangle$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(h),o,n,a,r,l)),this.DrawSVG(o,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(h))||this.GetContext().DrawBitmap(pas["WEBLib.TMSFNCTypes"].BitmapToDrawBitmap(o),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,o.GetWidth(),o.GetHeight())),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(h),1))},this.DrawBitmap$1=function(t,e,i,s,o,n){this.DrawBitmap(t.Left,t.Top,t.Right,t.Bottom,e,i,s,o,n)},this.DrawCheckBox=function(t,e,i,s,o){var n=0,a=pas["WEBLib.TMSFNCTypes"].TRectF.$new();a.$assign(t),pas["WEBLib.TMSFNCTypes"].InflateRectEx(a,-1,-1),n=s?i?11829830:0:11119017,this.FFill.SetKind(1),s?this.FFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Lighter(13882323,85)):this.FFill.SetColor(13882323),this.FStroke.SetWidth(1),this.FStroke.SetKind(1),this.FStroke.SetColor(n),this.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(a),2),pas["WEBLib.TMSFNCTypes"].InflateRectEx(a,-(a.Right-a.Left)/5,-(a.Bottom-a.Top)/5),this.FStroke.SetWidth(2),this.FStroke.SetColor(n),e&&(this.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(a.Left,a.Top)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(a.Right-1,a.Bottom-1)),2,2),this.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(a.Right-1,a.Top)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(a.Left,a.Bottom-1)),2,2))},this.DrawButton=function(e,i,s,o,n,a){var r=pas["WEBLib.TMSFNCTypes"].TRectF.$new();r.$assign(e),this.FStroke.SetKind(1),this.FStroke.SetWidth(1),this.FFill.SetKind(1),n?o?s?(this.FStroke.SetColor(t.TTMSFNCGraphics.DefaultButtonStrokeColorFocused),this.FFill.SetColor(t.TTMSFNCGraphics.DefaultButtonFillColorFocused)):(this.FStroke.SetColor(t.TTMSFNCGraphics.DefaultButtonStrokeColor),this.FFill.SetColor(t.TTMSFNCGraphics.DefaultButtonFillColor)):(this.FStroke.SetColor(t.TTMSFNCGraphics.DefaultButtonStrokeColorDisabled),this.FFill.SetColor(t.TTMSFNCGraphics.DefaultButtonFillColorDisabled)):o?s?(this.FStroke.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(60,127,177)),this.FFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(229,241,251))):(this.FStroke.SetColor(11119017),this.FFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(225,225,225))):(this.FStroke.SetColor(11119017),this.FFill.SetColor(13882323)),this.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(r),2),pas["WEBLib.TMSFNCTypes"].InflateRectEx(r,-1,-1),this.FFill.SetKind(0),i?this.FStroke.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Lighter(this.FStroke.FColor,40)):this.FStroke.SetColor(this.FFill.FColor),this.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(r),2)},this.DrawCloseButton=function(e,i,s,o,n,a){var r=null,l=null,h=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),F=null;if(this.DrawButton(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i,s,o,n,a),n){(l=pas["WEBLib.Graphics"].TBitmap.$create("Create$3")).SetSize(Math.round(16*a),Math.round(16*a)),F=t.TTMSFNCGraphics.$create("Create$1",[l.GetCanvas(),!1]);try{F.BeginScene(),F.FStroke.SetKind(1),F.FStroke.SetColor(t.TTMSFNCGraphics.DefaultSelectionFillColor),F.FStroke.SetWidth(2),F.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(3*a,3*a)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(12*a,12*a)),2,2),F.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(3*a,12*a)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(12*a,3*a)),2,2)}finally{F.EndScene(),F=rtl.freeLoc(F)}try{h.$assign(e),r=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3");try{r.Assign(l),this.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(h),r,!0,!1,!0,!1)}finally{r=rtl.freeLoc(r)}}finally{l=rtl.freeLoc(l)}}else{r=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSCLOSESVG);try{h.$assign(e),pas["WEBLib.TMSFNCTypes"].InflateRectEx(h,-6*a,-6*a),this.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(h),r,!0,!1,!0,!1)}finally{r=rtl.freeLoc(r)}}},this.DrawExpanderButton=function(e,i,s,o,n,a,r){var l=null,h=null,F=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),p=null;if(this.DrawButton(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),s,o,n,a,r),a){(l=pas["WEBLib.Graphics"].TBitmap.$create("Create$3")).SetSize(Math.round(16*r),Math.round(16*r)),p=t.TTMSFNCGraphics.$create("Create$1",[l.GetCanvas(),!1]);try{p.BeginScene(),p.FStroke.SetKind(1),p.FStroke.SetWidth(2),p.FStroke.SetColor(t.TTMSFNCGraphics.DefaultSelectionFillColor);var C=i;0===C?(p.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(5*r,6*r)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(8*r,9*r)),2,2),p.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(8*r,9*r)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(11*r,6*r)),2,2)):1===C&&(p.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(5*r,9*r)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(8*r,6*r)),2,2),p.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(8*r,6*r)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(11*r,9*r)),2,2))}finally{p.EndScene(),p=rtl.freeLoc(p)}if(null!=l)try{F.$assign(e),h=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3");try{h.Assign(l),this.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(F),h,!0,!1,!0,!1)}finally{h=rtl.freeLoc(h)}}finally{l=rtl.freeLoc(l)}}else{var u=i;if(null!=(h=0===u?pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSDOWNSVG):1===u?pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSUPSVG):null))try{F.$assign(e),pas["WEBLib.TMSFNCTypes"].InflateRectEx(F,-4*r,-4*r),this.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(F),h,!0,!1,!0,!1)}finally{h=rtl.freeLoc(h)}}},this.DrawCompactButton=function(e,i,s,o,n,a,r){var l=null,h=null,F=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),p=null;if(this.DrawButton(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),s,o,n,a,r),a){(l=pas["WEBLib.Graphics"].TBitmap.$create("Create$3")).SetSize(Math.round(16*r),Math.round(16*r)),p=t.TTMSFNCGraphics.$create("Create$1",[l.GetCanvas(),!1]);try{p.BeginScene(),p.FStroke.SetKind(1),p.FStroke.SetWidth(2),p.FStroke.SetColor(t.TTMSFNCGraphics.DefaultSelectionFillColor);var C=i;0===C?(p.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(6*r,5*r)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(9*r,8*r)),2,2),p.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(9*r,8*r)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(6*r,11*r)),2,2)):1===C&&(p.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(9*r,5*r)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(6*r,8*r)),2,2),p.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(6*r,8*r)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(9*r,11*r)),2,2))}finally{p.EndScene(),p=rtl.freeLoc(p)}if(null!=l)try{F.$assign(e),h=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3");try{h.Assign(l),this.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(F),h,!0,!1,!0,!1)}finally{h=rtl.freeLoc(h)}}finally{l=rtl.freeLoc(l)}}else{var u=i;if(null!=(h=0===u?pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSRIGHTSVG):1===u?pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSLEFTSVG):null))try{F.$assign(e),pas["WEBLib.TMSFNCTypes"].InflateRectEx(F,-4*r,-4*r),this.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(F),h,!0,!1,!0,!1)}finally{h=rtl.freeLoc(h)}}},this.DrawDropDownButton=function(e,i,s,o,n,a,r){var l=null,h=null,F=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),p=null;if(this.DrawButton(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i,s,o,a,1),a){(h=pas["WEBLib.Graphics"].TBitmap.$create("Create$3")).SetSize(Math.round(7*r),Math.round(7*r)),p=t.TTMSFNCGraphics.$create("Create$1",[h.GetCanvas(),!1]);try{p.BeginScene(),p.FStroke.SetKind(1),p.FStroke.SetColor(t.TTMSFNCGraphics.DefaultSelectionFillColor),p.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(0,1*r)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(6*r,1*r)),2,2),p.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(0,2*r)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(6*r,2*r)),2,2),p.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(1*r,3*r)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(5*r,3*r)),2,2),p.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(2*r,4*r)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(4*r,4*r)),2,2),p.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(3*r,5*r)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(3*r,5*r)),2,2)}finally{p.EndScene(),p=rtl.freeLoc(p)}try{e.Right-h.GetWidth()-10*r>e.Left&&!n?F.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Right-h.GetWidth()-10*r,e.Top,e.Right,e.Bottom)):F.$assign(e),l=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3");try{l.Assign(h),this.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(F),l,!0,!1,!0,!1)}finally{l=rtl.freeLoc(l)}}finally{h=rtl.freeLoc(h)}}else{(l=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3")).LoadFromResource(t.TMSFNCGRAPHICSEXPANDSVG);try{n?(F.$assign(e),pas["WEBLib.TMSFNCTypes"].InflateRectEx(F,-4*r,-4*r)):(F.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Right-16*r,e.Top,e.Right-2*r,e.Bottom)),pas["WEBLib.TMSFNCTypes"].InflateRectEx(F,-2*r,-2*r)),this.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(F),l,!0,!1,!0,!1)}finally{l=rtl.freeLoc(l)}}},this.DrawRadioButton=function(t,e,i,s,o){var n=0,a=pas["WEBLib.TMSFNCTypes"].TRectF.$new();a.$assign(t),pas["WEBLib.TMSFNCTypes"].InflateRectEx(a,-1,-1),n=s?i?11829830:0:11119017,this.FFill.SetKind(1),s?this.FFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Lighter(13882323,85)):this.FFill.SetColor(13882323),this.FStroke.SetKind(1),this.FStroke.SetWidth(1),this.FStroke.SetColor(n),this.DrawEllipse$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(a),2),pas["WEBLib.TMSFNCTypes"].InflateRectEx(a,-(a.Right-a.Left)/5,-(a.Bottom-a.Top)/5),this.FFill.SetKind(1),this.FFill.SetColor(n),e&&this.DrawEllipse$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(a),2)},this.DrawProgressBar=function(t,e,i,s,o,n,a,r,l){var h,F,p=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),C=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),u=0;p.$assign(t),C.$assign(p),F=this.FFill.FColor,r?this.FFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Lighter(13882323,75)):this.FFill.SetColor(13882323),this.FFill.SetKind(1),this.FStroke.SetKind(1),this.FStroke.SetColor(11119017),this.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(p),2),(h=Math.max(0,Math.min(e,s)))>=0&&h<=s&&s>0&&(pas["WEBLib.TMSFNCTypes"].InflateRectEx(C,-1,-1),C.Right=C.Left+(C.Right-p.Left)*h/s,this.FFill.SetColor(o),this.FStroke.SetColor(this.FFill.FColor),this.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(C),2),a&&(u=this.FFont.FColor,this.FFont.SetColor(n),this.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(p),pas.SysUtils.Format(i,pas.System.VarRecs(3,h/s*100)),!1,0,0,0,0,-1,-1,!0,!1,-1,-1),this.FFont.SetColor(u))),this.FFill.SetColor(F)},this.DrawBitmapWithName$1=function(t,e,i,s,o,n,a,r){var l;null!=(l=this.$class.GetBitmapFromBitmapContainer(this.FBitmapContainer,e,i,s))&&this.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t),l,o,n,a,r)},this.DrawScaledBitmap=function(t,e,i,s,o,n,a){var r=null,l=null;null!=e&&null!=(r=i>0?e.GetItemByScale(i):e.GetItemByScale(pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.GetDPIScale(null,-1)))&&(null==r.FBitmap||pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(r.FBitmap)?null==(l=this.$class.GetBitmapFromBitmapContainer(this.FBitmapContainer,r.FBitmapName,!0,i))||pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(l)?this.DrawBitmapWithName$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t),r.FBitmapName,!1,r.FScale,s,o,n,a):this.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t),l,s,o,n,a):this.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t),r.FBitmap,s,o,n,a))},this.GetBitmapDrawRectangle=function(t,e,i,s,o,n,a,r,l){var h=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),F=null,p=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),C=0,u=0,d=0,c=0;return h.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,0,0)),null!=(F=o)&&(d=0,c=0,C=0,u=0,this.$class.GetAspectSize({get:function(){return C},set:function(t){C=t}},{get:function(){return u},set:function(t){u=t}},F.GetWidth(),F.GetHeight(),i-t,s-e,n,a,l),(r||l)&&(d=Math.round((i-t-C)/2),c=Math.round((s-e-u)/2)),p.$assign(pas["WEBLib.TMSFNCTypes"].RectF(t+d,e+c,t+d+C,e+c+u)),h.$assign(p)),h},this.GetBitmapDrawRectangle$1=function(t,e,i,s,o,n){var a=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return a.$assign(this.GetBitmapDrawRectangle(t.Left,t.Top,t.Right,t.Bottom,e,i,s,o,n)),a},this.ClipRect=function(t){this.GetContext().ClipRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t))},this.CalculateTextSize=function(t,e,i,s){var o=pas["WEBLib.TMSFNCTypes"].TSizeF.$new(),n=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return n.$assign(this.CalculateText(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i,s)),o.cx=n.Right-n.Left,o.cy=n.Bottom-n.Top,o},this.CalculateTextHeight=function(t,e,i,s){var o=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return o.$assign(this.CalculateText(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i,s)),o.Bottom-o.Top};var e=["<BR>","<BR/>"];this.CalculateText=function(t,i,s,o){var n=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),a=null,r=0,l=0,h=0,F=!1,p=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),C=0;if(n.$assign(i),F=this.FOptimizedHTMLDrawing&&pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IsHTML(t)){for(r=0;r<=1;r++)h=pas.System.Pos(e[r],pas.SysUtils.UpperCase(t)),l=e[r].length;if(h>0&&l>0){a=pas.Classes.TStringList.$create("Create$1");try{a.SetLineBreak(pas.System.Copy(t,h,l)),a.SetTextStr(t),C=0;for(var u=0,d=a.GetCount()-1;u<=d;u++)r=u,p.$assign(this.InternalCalculateText(a.Get(r),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),s,o)),C+=p.Bottom-p.Top;n.Bottom=n.Top+C}finally{a=rtl.freeLoc(a)}}else F=!1}return F||n.$assign(this.InternalCalculateText(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),s,o)),n},this.CalculateTextSize$1=function(t){var e=pas["WEBLib.TMSFNCTypes"].TSizeF.$new();return e.$assign(this.CalculateTextSize(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,1e4,1e4)),!1,!0)),e},this.CalculateTextHeight$1=function(t){return this.CalculateTextHeight(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,1e4,1e4)),!1,!0)},this.CalculateText$1=function(t){var e=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return e.$assign(this.CalculateText(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,1e4,1e4)),!1,!0)),e},this.DrawText=function(t,e,i,s,o,n,a){var r="",l="",h="";return r="",l="",h="",this.DrawText$5(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(t.X,t.Y,t.X+1e4,t.Y+1e4)),e,{get:function(){return r},set:function(t){r=t}},{get:function(){return l},set:function(t){l=t}},{get:function(){return h},set:function(t){h=t}},!1,1,1,0,i,-1,-1,s,o,n,a)},this.DrawText$1=function(t,e,i,s,o,n,a,r,l,h,F,p,C){var u="",d="",c="";return u="",d="",c="",this.DrawText$5(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t),e,{get:function(){return u},set:function(t){u=t}},{get:function(){return d},set:function(t){d=t}},{get:function(){return c},set:function(t){c=t}},i,s,o,n,a,r,l,h,F,p,C)};var i=["<BR>","<BR/>"];this.DrawText$5=function(t,e,s,o,n,a,r,l,h,F,p,C,u,d,c,S){var T="",m=null,g=0,M=0,f=0,b=!1,y=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),B=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(B.$assign(t),b=(b=!d&&this.FOptimizedHTMLDrawing)&&pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IsHTML(e)){for(g=0;g<=1;g++)f=pas.System.Pos(i[g],pas.SysUtils.UpperCase(e)),M=i[g].length;if(f>0&&M>0){m=pas.Classes.TStringList.$create("Create$1");try{m.SetLineBreak(pas.System.Copy(e,f,M)),m.SetTextStr(e);for(var E=0,L=m.GetCount()-1;E<=L;E++)g=E,y.$assign(this.CalculateText(m.Get(g),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(B),a,u)),this.InternalDrawText(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(y.Left,y.Top,y.Right+1,y.Bottom)),m.Get(g),s,o,n,a,r,l,h,F,p,C,u,d,c,S),B.Top=B.Top+(y.Bottom-y.Top),B.Bottom=B.Bottom+(y.Bottom-y.Top)}finally{m=rtl.freeLoc(m)}}else b=!1}return b||(T=this.InternalDrawText(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t),e,s,o,n,a,r,l,h,F,p,C,u,d,c,S)),T},this.SaveState=function(t){var e=null;return e=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsSaveState.$create("Create$1"),t||(e.FFill.Assign(this.FFill),e.FStroke.Assign(this.FStroke),e.FFont.AssignSource(this.FFont)),this.GetContext().SaveState(e),e},this.ApplyHilight=function(t,e,i,s){return pas["WEBLib.TMSFNCHTMLEngine"].HiLight(t,e,i,s,!1)},this.GetBitmapFromBitmapContainer=function(t,e,i,s){var o=null;return o=null,null!=t&&""!==e&&(i&&(o=s>0?t.FindBitmap$1(e+"_"+pas.SysUtils.FloatToStr(s)):t.FindBitmap$1(e+"_"+pas.SysUtils.FloatToStr(pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.GetDPIScale(null,-1)))),null==o&&(o=t.FindBitmap$1(e))),o},this.GetScaledBitmap=function(t,e,i){var s=null,o=null,n=null;return s=null,null!=t&&null!=(o=e>0?t.GetItemByScale(e):t.GetItemByScale(pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.GetDPIScale(null,-1)))&&(null==o.FBitmap||pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(o.FBitmap)?(null==(n=this.GetBitmapFromBitmapContainer(i,o.FBitmapName,!0,e))||pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(n))&&(null==(n=this.GetBitmapFromBitmapContainer(i,o.FBitmapName,!1,0))||pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(n))||(s=n):s=o.FBitmap),s},this.GetAspectSize=function(t,e,i,s,o,n,a,r,l){var h=0,F=0;a?i>0&&s>0&&o>0&&n>0?i<o&&s<n&&!r?(t.set(i),e.set(s)):i/s<o/n?(e.set(n),t.set(n*i/s)):(t.set(o),e.set(o*s/i)):(t.set(0),e.set(0)):r?(t.set(o),e.set(n)):(t.set(i),e.set(s),l&&(t.get()>=e.get()&&t.get()>0?(e.set(i/t.get()*e.get()),t.set(i)):e.get()>=t.get()&&e.get()>0&&(t.set(s/e.get()*t.get()),e.set(s)),h=0===s?1:i/s,(F=0===e.get()?1:t.get()/e.get())<1||h>F?(e.set(i/F),t.set(i)):(t.set(F*s),e.set(s))))},this.SetDefaultGraphicColors=function(){t.TTMSFNCGraphics.DefaultPopupFillColor=16777215,t.TTMSFNCGraphics.DefaultPopupStrokeColor=12632256,t.TTMSFNCGraphics.DefaultButtonFillColor=pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(225,225,225),t.TTMSFNCGraphics.DefaultButtonStrokeColor=11119017,t.TTMSFNCGraphics.DefaultTextFontColor=0,t.TTMSFNCGraphics.DefaultSelectionFillColor=0,t.TTMSFNCGraphics.DefaultButtonFillColorFocused=pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(229,241,251),t.TTMSFNCGraphics.DefaultButtonStrokeColorFocused=pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(60,127,177),t.TTMSFNCGraphics.DefaultButtonStrokeColorDisabled=11119017,t.TTMSFNCGraphics.DefaultButtonFillColorDisabled=13882323},this.PointInPath=function(t,e){return e.IsPointVisible(t)},this.GetColorRed=function(t){return t=pas["WEBLib.Graphics"].ColorToRGB(t),pas["WEBLib.Graphics"].GetRValue(t)},this.GetColorGreen=function(t){return t=pas["WEBLib.Graphics"].ColorToRGB(t),pas["WEBLib.Graphics"].GetGValue(t)},this.GetColorBlue=function(t){return t=pas["WEBLib.Graphics"].ColorToRGB(t),pas["WEBLib.Graphics"].GetBValue(t)},this.HTMLToColor=function(t){var e=0,i=0,s=0,o=0;return e=-1,""===t?e:(4===t.length?(i=pas.SysUtils.StrToInt("$"+pas.System.Copy(t,2,1)+pas.System.Copy(t,2,1)),s=pas.SysUtils.StrToInt("$"+pas.System.Copy(t,3,1)+pas.System.Copy(t,3,1)),o=pas.SysUtils.StrToInt("$"+pas.System.Copy(t,4,1)+pas.System.Copy(t,4,1))):(i=pas.SysUtils.StrToInt("$"+pas.System.Copy(t,2,2)),s=pas.SysUtils.StrToInt("$"+pas.System.Copy(t,4,2)),o=pas.SysUtils.StrToInt("$"+pas.System.Copy(t,6,2))),e=pas["WEBLib.Graphics"].RGB(i,s,o))},this.TextToColor=function(t){var e=0,i=0,s="",o=null;return s=t,s=pas.SysUtils.LowerCase(s),1===pas.System.Pos("cl",s)&&pas.System.Delete({get:function(){return s},set:function(t){s=t}},1,2),1===pas.System.Pos("cla",s)&&pas.System.Delete({get:function(){return s},set:function(t){s=t}},1,3),1===pas.System.Pos("gc",s)&&pas.System.Delete({get:function(){return s},set:function(t){s=t}},1,2),e=0,null!=(o=pas["WEBLib.TMSFNCGraphicsTypes"].ColorLookup())&&(i=o.IndexOf(pas.SysUtils.LowerCase(s)))>=0&&i<=o.GetCount()-1&&(e=o.GetObject(i).FColor),e}})),this.TMSFNCGRAPHICSCLOSE="data:image/PNG;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuOWwzfk4AAABVSURBVDhPYxh+QBSI/0OYWAFIThjCxA5ACmAYHeCTQwHYFGITwwuQNSBjkgBFmkGAIgNAGv5BaZINQdYMA0Qbgk0zDBBlCCiR4FMAkhOCMIcJYGAAAHvVMBv6PIFYAAAAAElFTkSuQmCC",this.TMSFNCGRAPHICSDOWN="data:image/PNG;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAGdJREFUOI3tzjsOwjAURNGDUqSgTxU5K2AVrJtswjUsgHSR0qdxAZZFPrS+3ZvRzBsqf9MUtBtazJk+oMe0VTriiZCFX8nbpENMgfARjsn74vKj5IFruhfc8d6zIF9S/Hyk5HS4spMVeFcOjszaOwMAAAAASUVORK5CYII=",this.TMSFNCGRAPHICSDOWN2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAdElEQVQ4T6XMsQ2AMBBD0UxBBwyA2L9jCWpY5bCLSJfgSFgUr+AHX4mIX2R0yOiQ0SGjQ8Ud5q7RClvX5IEDLlhS4/gGvuV/5YEJTuCAR+qYjW/N/81Hko8Mx/QKST0yHJOMCYfDMcnokNEho0NGh4zfRXkAxSYKjdpwcIUAAAAASUVORK5CYII=",this.TMSFNCGRAPHICSUP="data:image/PNG;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAEZJREFUOI3tjLEJACAMwLLo5EM+rTjpXV7g0oI4tYKbgYwJfJ6Txet4iu6Jxk10TTSuQACidzKAIrGik24ZpCPeJ8ky+DhZ1JENPrPndiwAAAAASUVORK5CYII=",this.TMSFNCGRAPHICSUP2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAcklEQVQ4T6XMMQ6AMAiF4S46eSEvremk5/IC+GggKfE1ER2+gZ9AEZFfaMygMYPGDBozaOyshu0aGo0eXmb4hEbw42qGTx4B/HiHCWYYPgmDOWEDPfbmT46uNWEwC/THTp/oLvQwfEFjBo0ZNGbQ+J6UG5Y9CmuVGrAsAAAAAElFTkSuQmCC",this.TMSFNCGRAPHICSPIN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAABKklEQVQ4T2PAB0JDQ5mjoqIEgUxGiAiRIDo6WiY8PHwdEGvW19czQYUJA6AGhbCwsO9Aek1ISIiZvb09C1QKPwBqaAbi/1DNJ4HYiqDNIE1ADZ9AGqGa/wLp6xERESZAaVQ/AyUUgDgIiOdCbQFrQsL/gPgxUM4OFACSQMYdIP4FFPwNxH+gpqNoAortAYayHNSfjAwgNwMFvaCaMTQA8W+g+M7IyEgNiLuQAMgUoNsDgYruoWkCOe1gcHCwHlQpJgA6wwCo6DySJhD+BDQwCaoEEwA1SQAVzQLiq0BcBMRXgBhk25PAwEBJqDJUkJaWxgr0QzoQbwYqdABGNCeQrQPSDKTv44w3oFPEgYqmAmk9UNqECjMCxWSBeAeUjx1ANWAkZCSD0AADAwDRpKHlJfOjAwAAAABJRU5ErkJggg==",this.TMSFNCGRAPHICSPIN2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAA/UlEQVQ4T33Su2oCQRTGcddLYWmlQhTLCBIsQgoLSW2nj2Bj7yv4DGkCeYOQxiaBNJapbCI2ooU+gY3gbf1/w47MjosHfsvM7DlzY1JhGN6TQQGBM2bEOgke8IU60tGY4SYlqWGHT7wgC/PPT/SNoFDxH1owKyclWyrawsYJczwj8JO1tR4+oFX8OGONtpLLWGCPA47Q7H78ogqd06yoPXeg4qQCTfaDR1x3ZxuapYsl3NDWJnjCtUjcThNTuKHL6cPNM2yjhHfMMMQ/tNoGuoNYkeiTwwBjvCKPBlS8QuzFWPoU8QadQ29TY3qbFXxH/Ru2oYKbhww7kSdMXQD8wIToOQZE/AAAAABJRU5ErkJggg==",this.TMSFNCGRAPHICSRIGHT="data:image/PNG;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAFNJREFUOI3tzzsSQFAQRNFDqSezHUuwYBJLsBuhEomE4/ll3HBq+nY1PxENRrS5xzK4L1jPSiISesxPJcORJJqwU9xthjrX/ko4mpBQocN0tf1rbDeZDIfcSud0AAAAAElFTkSuQmCC",this.TMSFNCGRAPHICSLEFT="data:image/PNG;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAEpJREFUOI3lzKENgEAQAMEJBkkIDdDTSxp6gqMyCkB8IQgMFdwZAutn+U19Bi84MUbxhZrBawSXB+8RDDMaDkyvmQyZyYYuOvh6N24uDUKEV//MAAAAAElFTkSuQmCC",this.TMSFNCGRAPHICSEXPAND="data:image/PNG;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOvwAADr8BOAVTJAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC4zjOaXUAAAACVJREFUGFdj+P//P07MEBYW9h8Xxi8JAjglYACnBAzglMAEDAwARZ1DA4NRF38AAAAASUVORK5CYII=",this.TMSFNCGRAPHICSEXPANDSVG="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTJweCIgaGVpZ2h0PSIxMnB4IiB2aWV3Qm94PSIwIDAgMTIgMTIiIHZlcnNpb249IjEuMSI+CjxnIGlkPSJzdXJmYWNlMSI+CjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoMCUsMCUsMCUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSAxMS44Mzk4NDQgMi44ODY3MTkgQyAxMS42Mjg5MDYgMi42NzU3ODEgMTEuMjgxMjUgMi42NzU3ODEgMTEuMDcwMzEyIDIuODg2NzE5IEwgNiA3Ljk1NzAzMSBMIDAuOTI5Njg4IDIuODg2NzE5IEMgMC43MTg3NSAyLjY3NTc4MSAwLjM3MTA5NCAyLjY3NTc4MSAwLjE2MDE1NiAyLjg4NjcxOSBDIC0wLjA1NDY4NzUgMy4xMDE1NjIgLTAuMDU0Njg3NSAzLjQ0NTMxMiAwLjE2MDE1NiAzLjY2MDE1NiBMIDUuNjEzMjgxIDkuMTEzMjgxIEMgNS43MTQ4NDQgOS4yMTQ4NDQgNS44NTU0NjkgOS4yNzM0MzggNiA5LjI3MzQzOCBDIDYuMTQ0NTMxIDkuMjczNDM4IDYuMjg1MTU2IDkuMjE0ODQ0IDYuMzg2NzE5IDkuMTEzMjgxIEwgMTEuODM5ODQ0IDMuNjYwMTU2IEMgMTIuMDU0Njg4IDMuNDQ1MzEyIDEyLjA1NDY4OCAzLjEwMTU2MiAxMS44Mzk4NDQgMi44ODY3MTkgWiBNIDExLjgzOTg0NCAyLjg4NjcxOSAiLz4KPC9nPgo8L3N2Zz4K",this.TMSFNCGRAPHICSDOWNSVG="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTJweCIgaGVpZ2h0PSIxMnB4IiB2aWV3Qm94PSIwIDAgMTIgMTIiIHZlcnNpb249IjEuMSI+CjxnIGlkPSJzdXJmYWNlMSI+CjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoMCUsMCUsMCUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSAxMS44Mzk4NDQgMi44ODY3MTkgQyAxMS42Mjg5MDYgMi42NzU3ODEgMTEuMjgxMjUgMi42NzU3ODEgMTEuMDcwMzEyIDIuODg2NzE5IEwgNiA3Ljk1NzAzMSBMIDAuOTI5Njg4IDIuODg2NzE5IEMgMC43MTg3NSAyLjY3NTc4MSAwLjM3MTA5NCAyLjY3NTc4MSAwLjE2MDE1NiAyLjg4NjcxOSBDIC0wLjA1NDY4NzUgMy4xMDE1NjIgLTAuMDU0Njg3NSAzLjQ0NTMxMiAwLjE2MDE1NiAzLjY2MDE1NiBMIDUuNjEzMjgxIDkuMTEzMjgxIEMgNS43MTQ4NDQgOS4yMTQ4NDQgNS44NTU0NjkgOS4yNzM0MzggNiA5LjI3MzQzOCBDIDYuMTQ0NTMxIDkuMjczNDM4IDYuMjg1MTU2IDkuMjE0ODQ0IDYuMzg2NzE5IDkuMTEzMjgxIEwgMTEuODM5ODQ0IDMuNjYwMTU2IEMgMTIuMDU0Njg4IDMuNDQ1MzEyIDEyLjA1NDY4OCAzLjEwMTU2MiAxMS44Mzk4NDQgMi44ODY3MTkgWiBNIDExLjgzOTg0NCAyLjg4NjcxOSAiLz4KPC9nPgo8L3N2Zz4K",this.TMSFNCGRAPHICSUPSVG="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTJweCIgaGVpZ2h0PSIxMnB4IiB2aWV3Qm94PSIwIDAgMTIgMTIiIHZlcnNpb249IjEuMSI+CjxnIGlkPSJzdXJmYWNlMSI+CjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoMCUsMCUsMCUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSAxMS44Mzk4NDQgOC4zMzk4NDQgTCA2LjM4NjcxOSAyLjg4NjcxOSBDIDYuMjg1MTU2IDIuNzg1MTU2IDYuMTQ0NTMxIDIuNzI2NTYyIDYgMi43MjY1NjIgQyA1Ljg1NTQ2OSAyLjcyNjU2MiA1LjcxNDg0NCAyLjc4NTE1NiA1LjYxMzI4MSAyLjg4NjcxOSBMIDAuMTYwMTU2IDguMzM5ODQ0IEMgLTAuMDU0Njg3NSA4LjU1NDY4OCAtMC4wNTQ2ODc1IDguODk4NDM4IDAuMTYwMTU2IDkuMTEzMjgxIEMgMC4zNzEwOTQgOS4zMjQyMTkgMC43MTg3NSA5LjMyNDIxOSAwLjkyOTY4OCA5LjExMzI4MSBMIDYgNC4wNDI5NjkgTCAxMS4wNzAzMTIgOS4xMTMyODEgQyAxMS4xNzU3ODEgOS4yMTg3NSAxMS4zMTY0MDYgOS4yNzM0MzggMTEuNDUzMTI1IDkuMjczNDM4IEMgMTEuNTkzNzUgOS4yNzM0MzggMTEuNzM0Mzc1IDkuMjE4NzUgMTEuODM5ODQ0IDkuMTEzMjgxIEMgMTIuMDU0Njg4IDguODk4NDM4IDEyLjA1NDY4OCA4LjU1NDY4OCAxMS44Mzk4NDQgOC4zMzk4NDQgWiBNIDExLjgzOTg0NCA4LjMzOTg0NCAiLz4KPC9nPgo8L3N2Zz4K",this.TMSFNCGRAPHICSRIGHTSVG="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTJweCIgaGVpZ2h0PSIxMnB4IiB2aWV3Qm94PSIwIDAgMTIgMTIiIHZlcnNpb249IjEuMSI+CjxnIGlkPSJzdXJmYWNlMSI+CjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoMCUsMCUsMCUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSA5LjExMzI4MSA1LjYxMzI4MSBMIDMuNjYwMTU2IDAuMTYwMTU2IEMgMy40NDUzMTIgLTAuMDU0Njg3NSAzLjEwMTU2MiAtMC4wNTQ2ODc1IDIuODg2NzE5IDAuMTYwMTU2IEMgMi42NzU3ODEgMC4zNzEwOTQgMi42NzU3ODEgMC43MTg3NSAyLjg4NjcxOSAwLjkyOTY4OCBMIDcuOTU3MDMxIDYgTCAyLjg4NjcxOSAxMS4wNzAzMTIgQyAyLjY3NTc4MSAxMS4yODEyNSAyLjY3NTc4MSAxMS42Mjg5MDYgMi44ODY3MTkgMTEuODM5ODQ0IEMgMi45OTIxODggMTEuOTQ1MzEyIDMuMTMyODEyIDEyIDMuMjczNDM4IDEyIEMgMy40MTQwNjIgMTIgMy41NTA3ODEgMTEuOTQ1MzEyIDMuNjYwMTU2IDExLjgzOTg0NCBMIDkuMTEzMjgxIDYuMzg2NzE5IEMgOS4yMTQ4NDQgNi4yODUxNTYgOS4yNzM0MzggNi4xNDQ1MzEgOS4yNzM0MzggNiBDIDkuMjczNDM4IDUuODU1NDY5IDkuMjE0ODQ0IDUuNzE0ODQ0IDkuMTEzMjgxIDUuNjEzMjgxIFogTSA5LjExMzI4MSA1LjYxMzI4MSAiLz4KPC9nPgo8L3N2Zz4K",this.TMSFNCGRAPHICSLEFTSVG="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTJweCIgaGVpZ2h0PSIxMnB4IiB2aWV3Qm94PSIwIDAgMTIgMTIiIHZlcnNpb249IjEuMSI+CjxnIGlkPSJzdXJmYWNlMSI+CjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoMCUsMCUsMCUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSA0LjA0Mjk2OSA2IEwgOS4xMTMyODEgMC45Mjk2ODggQyA5LjMyNDIxOSAwLjcxODc1IDkuMzI0MjE5IDAuMzcxMDk0IDkuMTEzMjgxIDAuMTYwMTU2IEMgOC44OTg0MzggLTAuMDU0Njg3NSA4LjU1NDY4OCAtMC4wNTQ2ODc1IDguMzM5ODQ0IDAuMTYwMTU2IEwgMi44ODY3MTkgNS42MTMyODEgQyAyLjc4NTE1NiA1LjcxNDg0NCAyLjcyNjU2MiA1Ljg1NTQ2OSAyLjcyNjU2MiA2IEMgMi43MjY1NjIgNi4xNDQ1MzEgMi43ODUxNTYgNi4yODUxNTYgMi44ODY3MTkgNi4zODY3MTkgTCA4LjMzOTg0NCAxMS44Mzk4NDQgQyA4LjQ0OTIxOSAxMS45NDUzMTIgOC41ODU5MzggMTIgOC43MjY1NjIgMTIgQyA4Ljg2NzE4OCAxMiA5LjAwNzgxMiAxMS45NDUzMTIgOS4xMTMyODEgMTEuODM5ODQ0IEMgOS4zMjQyMTkgMTEuNjI4OTA2IDkuMzI0MjE5IDExLjI4MTI1IDkuMTEzMjgxIDExLjA3MDMxMiBaIE0gNC4wNDI5NjkgNiAiLz4KPC9nPgo8L3N2Zz4K",this.TMSFNCGRAPHICSCLOSESVG="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTJweCIgaGVpZ2h0PSIxMnB4IiB2aWV3Qm94PSIwIDAgMTIgMTIiIHZlcnNpb249IjEuMSI+CjxnIGlkPSJzdXJmYWNlMSI+CjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoMCUsMCUsMCUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSA3LjA2MjUgNiBMIDExLjc4MTI1IDEuMjgxMjUgQyAxMi4wNzQyMTkgMC45ODgyODEgMTIuMDc0MjE5IDAuNTExNzE5IDExLjc4MTI1IDAuMjE4NzUgQyAxMS40ODgyODEgLTAuMDc0MjE4OCAxMS4wMTE3MTkgLTAuMDc0MjE4OCAxMC43MTg3NSAwLjIxODc1IEwgNiA0LjkzNzUgTCAxLjI4MTI1IDAuMjE4NzUgQyAwLjk4ODI4MSAtMC4wNzQyMTg4IDAuNTExNzE5IC0wLjA3NDIxODggMC4yMTg3NSAwLjIxODc1IEMgLTAuMDc0MjE4OCAwLjUxMTcxOSAtMC4wNzQyMTg4IDAuOTg4MjgxIDAuMjE4NzUgMS4yODEyNSBMIDQuOTM3NSA2IEwgMC4yMTg3NSAxMC43MTg3NSBDIC0wLjA3NDIxODggMTEuMDExNzE5IC0wLjA3NDIxODggMTEuNDg4MjgxIDAuMjE4NzUgMTEuNzgxMjUgQyAwLjM2NzE4OCAxMS45MjU3ODEgMC41NTg1OTQgMTIgMC43NSAxMiBDIDAuOTQxNDA2IDEyIDEuMTMyODEyIDExLjkyNTc4MSAxLjI4MTI1IDExLjc4MTI1IEwgNiA3LjA2MjUgTCAxMC43MTg3NSAxMS43ODEyNSBDIDEwLjg2NzE4OCAxMS45MjU3ODEgMTEuMDU4NTk0IDEyIDExLjI1IDEyIEMgMTEuNDQxNDA2IDEyIDExLjYzMjgxMiAxMS45MjU3ODEgMTEuNzgxMjUgMTEuNzgxMjUgQyAxMi4wNzQyMTkgMTEuNDg4MjgxIDEyLjA3NDIxOSAxMS4wMTE3MTkgMTEuNzgxMjUgMTAuNzE4NzUgWiBNIDcuMDYyNSA2ICIvPgo8L2c+Cjwvc3ZnPgo=",t.$init=function(){pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSCLOSE),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSDOWN),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSRIGHT),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSLEFT),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSEXPAND),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSPIN),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSPIN2),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSDOWN),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSDOWN2),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSUP),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSUP2),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSEXPANDSVG),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSUPSVG),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSRIGHTSVG),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSLEFTSVG),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSDOWNSVG),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSCLOSESVG)}}),["SysUtils","Math","WEBLib.TMSFNCUtils","WEBLib.TMSFNCHTMLEngine","WEBLib.TMSFNCGraphics.General","WEBLib.TMSFNCGraphics.WEB"]),rtl.module("WEBLib.TMSFNCGridCell",["System","Classes","WEBLib.TMSFNCGraphics","WEBLib.TMSFNCBitmapContainer","WEBLib.TMSFNCTypes","WEBLib.Controls","WEBLib.TMSFNCGraphicsTypes"],(function(){"use strict";var t=this;this.TTMSFNCGridNodeState={0:"nsClosed",nsClosed:0,1:"nsOpen",nsOpen:1},this.$rtti.$Enum("TTMSFNCGridNodeState",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TTMSFNCGridNodeState}),this.TTMSFNCGridSortKind={0:"skNone",skNone:0,1:"skAscending",skAscending:1,2:"skDescending",skDescending:2},this.$rtti.$Enum("TTMSFNCGridSortKind",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TTMSFNCGridSortKind}),rtl.createClass(this,"TTMSFNCGridCellLayout",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FSides={},this.FFill=null,this.FStroke=null,this.FVerticalTextAlign=0,this.FFont=null,this.FTextAlign=0,this.FWordWrapping=!1,this.FOnChange=null},this.$final=function(){this.FSides=void 0,this.FFill=void 0,this.FStroke=void 0,this.FFont=void 0,this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetFill=function(t){this.FFill!==t&&(this.FFill.Assign(t),this.Changed())},this.SetSides=function(t){rtl.neSet(this.FSides,t)&&(this.FSides=rtl.refSet(t),this.Changed())},this.SetStroke=function(t){this.FStroke!==t&&(this.FStroke.Assign(t),this.Changed())},this.SetFont=function(t){this.FFont!==t&&(this.FFont.Assign(t),this.Changed())},this.SetTextAlign=function(t){this.FTextAlign!==t&&(this.FTextAlign=t,this.Changed())},this.SetVerticalTextAlign=function(t){this.FVerticalTextAlign!==t&&(this.FVerticalTextAlign=t,this.Changed())},this.SetWordWrapping=function(t){this.FWordWrapping!==t&&(this.FWordWrapping=t,this.Changed())},this.Changed=function(){null!=this.FOnChange&&this.FOnChange(this)},this.FillChanged=function(t){this.Changed()},this.FontChanged=function(t){this.Changed()},this.StrokeChanged=function(t){this.Changed()},this.Create$1=function(){return this.FFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,16777215,8421504,-1,-1]),this.FFill.SetKind(1),this.FFill.SetColor(16777215),this.FFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,12632256]),this.FStroke.SetKind(1),this.FStroke.SetColor(12632256),this.FStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FSides=rtl.createSet(0,1,2,3),this.FFont=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2"),this.FFont.FOnChanged=rtl.createCallback(this,"FontChanged"),this.FTextAlign=1,this.FVerticalTextAlign=0,this.FWordWrapping=!1,this},this.Destroy=function(){rtl.free(this,"FFont"),rtl.free(this,"FFill"),rtl.free(this,"FStroke"),pas.System.TObject.Destroy.call(this)},this.Assign=function(e){t.TTMSFNCGridCellLayout.isPrototypeOf(e)&&(this.FFill.Assign(rtl.as(e,t.TTMSFNCGridCellLayout).FFill),this.FStroke.Assign(rtl.as(e,t.TTMSFNCGridCellLayout).FStroke),this.FSides=rtl.refSet(rtl.as(e,t.TTMSFNCGridCellLayout).FSides),this.FFont.Assign(rtl.as(e,t.TTMSFNCGridCellLayout).FFont),this.FTextAlign=rtl.as(e,t.TTMSFNCGridCellLayout).FTextAlign,this.FVerticalTextAlign=rtl.as(e,t.TTMSFNCGridCellLayout).FVerticalTextAlign,this.FWordWrapping=rtl.as(e,t.TTMSFNCGridCellLayout).FWordWrapping)};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("Sides",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsSides,"FSides","SetSides",{Default:rtl.createSet(0,1,2,3)}),e.addProperty("Fill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FFill","SetFill"),e.addProperty("Stroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FStroke","SetStroke"),e.addProperty("Font",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFont,"FFont","SetFont"),e.addProperty("TextAlign",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsTextAlign,"FTextAlign","SetTextAlign",{Default:pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsTextAlign.gtaLeading}),e.addProperty("VerticalTextAlign",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsTextAlign,"FVerticalTextAlign","SetVerticalTextAlign",{Default:pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsTextAlign.gtaCenter}),e.addProperty("WordWrapping",2,rtl.boolean,"FWordWrapping","SetWordWrapping",{Default:!1}),e.addProperty("OnChange",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnChange","FOnChange")})),rtl.createClass(this,"TTMSFNCGridCellProgressLayout",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FTextColor=0,this.FColor=0,this.FFormat="",this.FOnChange=null,this.FShowText=!1},this.$final=function(){this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetColor=function(t){this.FColor!==t&&(this.FColor=t,this.Changed())},this.SetTextColor=function(t){this.FTextColor!==t&&(this.FTextColor=t,this.Changed())},this.SetFormat=function(t){this.FFormat!==t&&(this.FFormat=t,this.Changed())},this.SetShowText=function(t){this.FShowText!==t&&(this.FShowText=t,this.Changed())},this.Changed=function(){null!=this.FOnChange&&this.FOnChange(this)},this.Create$1=function(){return this.FTextColor=0,this.FColor=3329434,this.FFormat="%.0f%%",this.FShowText=!0,this},this.Assign=function(e){t.TTMSFNCGridCellProgressLayout.isPrototypeOf(e)&&(this.FColor=rtl.as(e,t.TTMSFNCGridCellProgressLayout).FColor,this.FTextColor=rtl.as(e,t.TTMSFNCGridCellProgressLayout).FTextColor,this.FFormat=rtl.as(e,t.TTMSFNCGridCellProgressLayout).FFormat,this.FShowText=rtl.as(e,t.TTMSFNCGridCellProgressLayout).FShowText)};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor",{Default:3329434}),e.addProperty("TextColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FTextColor","SetTextColor",{Default:0}),e.addProperty("Format",2,rtl.string,"FFormat","SetFormat"),e.addProperty("ShowText",2,rtl.boolean,"FShowText","SetShowText",{Default:!0}),e.addProperty("OnChange",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnChange","FOnChange")})),this.TTMSFNCGridCellControlPosition={0:"gcpLeft",gcpLeft:0,1:"gcpTop",gcpTop:1,2:"gcpRight",gcpRight:2,3:"gcpBottom",gcpBottom:3,4:"gcpCenter",gcpCenter:4},rtl.createClass(this,"TTMSFNCGridCell",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FOwner=null,this.FText="",this.FLayout=null,this.FBitmapContainer=null,this.FDisplayHTMLFormatting=!1,this.FWidth=0,this.FHeight=0,this.FTop=0,this.FLeft=0,this.FControlBitmap=null,this.FControlEnabled=!1,this.FOnBeforeDraw=null,this.FOnAfterDraw=null,this.FOnControlClick=null,this.FControlStretched=!1,this.FControlPosition=0,this.FOptimizedHTMLDrawing=!1,this.FScaleFactor=0,this.FAngle=0},this.$final=function(){this.FOwner=void 0,this.FLayout=void 0,this.FBitmapContainer=void 0,this.FControlBitmap=void 0,this.FOnBeforeDraw=void 0,this.FOnAfterDraw=void 0,this.FOnControlClick=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetText=function(t){this.FText!==t&&(this.FText=t)},this.SetLayout=function(t){this.FLayout.Assign(t)},this.SetDisplayHTMLFormatting=function(t){this.FDisplayHTMLFormatting!==t&&(this.FDisplayHTMLFormatting=t)},this.SetHeight=function(t){this.FHeight!==t&&(this.FHeight=t)},this.SetWidth=function(t){this.FWidth!==t&&(this.FWidth=t)},this.SetLeft=function(t){this.FLeft!==t&&(this.FLeft=t)},this.SetTop=function(t){this.FTop!==t&&(this.FTop=t)},this.SetControlBitmap=function(t){this.FControlBitmap!==t&&(this.FControlBitmap=t)},this.GetControlBitmap=function(){return this.FControlBitmap},this.SetControlEnabled=function(t){this.FControlEnabled!==t&&(this.FControlEnabled=t)},this.SetAngle=function(t){this.FAngle!==t&&(this.FAngle=t)},this.Changed=function(t){},this.DoControlClick=function(t){null!=this.FOnControlClick&&this.FOnControlClick(this)},this.HandleControlMouseDown=function(t,e,i,s){},this.HandleControlMouseUp=function(t,e,i,s){this.DoControlClick(this)},this.HandleControlMouseMove=function(t,e,i,s){},this.DoBeforeDraw=function(t,e,i,s,o,n,a){null!=this.FOnBeforeDraw&&this.FOnBeforeDraw(this,t,e,i,s,o,n,a)},this.DoAfterDraw=function(t,e,i){null!=this.FOnAfterDraw&&this.FOnAfterDraw(this,t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i))},this.IsHTML=function(){return!this.FDisplayHTMLFormatting&&(pas.System.Pos("</",this.FText)>0||pas.System.Pos("/>",this.FText)>0||pas.System.Pos("<BR>",pas.SysUtils.UpperCase(this.FText))>0)},this.GetTextWidth=function(){var t,e=0,i=null,s=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),o=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(e=0,""!==(t=this.FText)){(i=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("CreateBitmapCanvas",[1,1,!1,!0])).BeginScene(),i.FOptimizedHTMLDrawing=this.FOptimizedHTMLDrawing,i.FBitmapContainer=this.FBitmapContainer;try{i.SetFont(this.FLayout.FFont),s.$assign(this.GetTextRect(!1)),o.$assign(i.CalculateText(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),this.FLayout.FWordWrapping,!0)),e=90===Math.abs(this.FAngle)?o.Bottom-o.Top:o.Right-o.Left}finally{i.EndScene(),i=rtl.freeLoc(i)}}return e},this.GetTextHeight=function(){var t,e=0,i=null,s=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),o=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(e=0,""!==(t=this.FText)){(i=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("CreateBitmapCanvas",[1,1,!1,!0])).BeginScene(),i.FOptimizedHTMLDrawing=this.FOptimizedHTMLDrawing,i.FBitmapContainer=this.FBitmapContainer;try{i.SetFont(this.FLayout.FFont),s.$assign(this.GetTextRect(!1)),o.$assign(i.CalculateText(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),this.FLayout.FWordWrapping,!0)),e=0===Math.abs(this.FAngle)?o.Bottom-o.Top:o.Right-o.Left}finally{i.EndScene(),i=rtl.freeLoc(i)}}return e},this.XYToAnchor=function(t,e){var i="",s=null,o=0,n=0;if(i="",this.IsHTML()){(s=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("CreateBitmapCanvas",[1,1,!1,!0])).BeginScene(),s.FOptimizedHTMLDrawing=this.FOptimizedHTMLDrawing,s.FBitmapContainer=this.FBitmapContainer;try{s.FFont.Assign(this.FLayout.FFont),o=this.FLayout.FTextAlign,n=this.FLayout.FVerticalTextAlign,i=s.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(this.GetTextRect(!0)),this.FText,!1,o,n,0,0,-1,-1,!0,!0,t,e)}finally{s.EndScene(),s=rtl.freeLoc(s)}}return i},this.GetStrippedHTMLText=function(){var t;return t=this.FText,this.IsHTML()?pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.HTMLStrip(t):t},this.GetControlWidth=function(){var t=0,e=null;return t=0,null!=(e=this.GetControlBitmap())&&(t=e.GetWidth()),t},this.GetControlHeight=function(){var t=0,e=null;return t=0,null!=(e=this.GetControlBitmap())&&(t=e.GetHeight()),t},this.GetTextRect=function(t){var e,i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),o=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),n=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(t?s.$assign(pas["WEBLib.TMSFNCTypes"].RectF(this.FLeft,this.FTop,this.FLeft+this.FWidth,this.FTop+this.FHeight)):s.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,this.FWidth,this.FHeight)),o.$assign(this.GetControlRect(!1)),e=this.GetControlBitmap(),this.FControlStretched||null==e||pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(e))n.$assign(s);else{var a=this.FControlPosition;0===a?n.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Left+(o.Right-o.Left)+2,s.Top,s.Right,s.Bottom)):1===a?n.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Left,s.Top+(o.Bottom-o.Top)+2,s.Right,s.Bottom)):2===a?n.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Left,s.Top,s.Right-(o.Right-o.Left)-2,s.Bottom)):3===a?n.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Left,s.Top,s.Right,s.Bottom-(o.Bottom-o.Top)-2)):n.$assign(s)}return pas["WEBLib.TMSFNCTypes"].InflateRectEx(n,-3,-3),i.$assign(n),i},this.GetControlRect=function(t){var e,i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),o=0,n=0;if(i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,0,0)),null!=(e=this.GetControlBitmap())&&!pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(e))if(t?s.$assign(pas["WEBLib.TMSFNCTypes"].RectF(this.FLeft,this.FTop,this.FLeft+this.FWidth,this.FTop+this.FHeight)):s.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,this.FWidth,this.FHeight)),this.FControlStretched)i.$assign(s),pas["WEBLib.TMSFNCTypes"].InflateRectEx(i,-2*this.FScaleFactor,-2*this.FScaleFactor);else{o=this.GetControlWidth()*this.FScaleFactor,n=this.GetControlHeight()*this.FScaleFactor;var a=this.FControlPosition;0===a?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Left+2,s.Top+(s.Bottom-s.Top-n)/2,s.Left+o+2,s.Top+(s.Bottom-s.Top-n)/2+n)):1===a?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Left+(s.Right-s.Left-o)/2,s.Top+2,s.Left+(s.Right-s.Left-o)/2+o,s.Top+2+n)):2===a?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Right-o-2,s.Top+(s.Bottom-s.Top-n)/2,s.Right-2,s.Top+(s.Bottom-s.Top-n)/2+n)):3===a?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Left+(s.Right-s.Left-o)/2,s.Bottom-2-n,s.Left+(s.Right-s.Left-o)/2+o,s.Bottom-2)):4===a&&i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Left+(s.Right-s.Left-o)/2,s.Top+(s.Bottom-s.Top-n)/2,s.Left+(s.Right-s.Left-o)/2+o,s.Top+(s.Bottom-s.Top-n)/2+n))}return i},this.HandleMouseMove=function(t,e,i,s,o){var n=pas["WEBLib.TMSFNCTypes"].TRectF.$new();this.FControlEnabled&&(n.$assign(this.GetControlRect(!0)),s.set(pas["WEBLib.TMSFNCTypes"].PtInRectEx(n,pas["WEBLib.TMSFNCTypes"].PointF(e,i))),s.get()&&this.HandleControlMouseMove(rtl.refSet(t),e,i,o))},this.HandleMouseDown=function(t,e,i,s,o){var n=pas["WEBLib.TMSFNCTypes"].TRectF.$new();this.FControlEnabled&&(n.$assign(this.GetControlRect(!0)),o.set(pas["WEBLib.TMSFNCTypes"].PtInRectEx(n,pas["WEBLib.TMSFNCTypes"].PointF(i,s))),o.get()&&this.HandleControlMouseDown(t,rtl.refSet(e),i,s))},this.HandleMouseUp=function(t,e,i,s,o){var n=pas["WEBLib.TMSFNCTypes"].TRectF.$new();this.FControlEnabled&&(n.$assign(this.GetControlRect(!0)),o.set(pas["WEBLib.TMSFNCTypes"].PtInRectEx(n,pas["WEBLib.TMSFNCTypes"].PointF(i,s))),o.get()&&this.HandleControlMouseUp(t,rtl.refSet(e),i,s))},this.Draw=function(t,e,i,s){var o=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),n=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),a="",r=!1,l=null;if(o.$assign(pas["WEBLib.TMSFNCTypes"].RectF(this.FLeft,this.FTop,this.FLeft+this.FWidth,this.FTop+this.FHeight)),n.$assign(this.GetTextRect(!0)),r=!0,t.SetFill(this.FLayout.FFill),t.SetStroke(this.FLayout.FStroke),t.SetFont(this.FLayout.FFont),this.DoBeforeDraw(t,o,n,{get:function(){return e},set:function(t){e=t}},{get:function(){return i},set:function(t){i=t}},{get:function(){return s},set:function(t){s=t}},{get:function(){return r},set:function(t){r=t}}),r){if(i||(t.FFill.SetKind(0),t.FFill.SetColor(-1)),s||(t.FStroke.SetKind(0),t.FStroke.SetColor(-1)),(i||s)&&t.DrawRectangle$3(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(o),rtl.refSet(this.FLayout.FSides),2),""!==(a=this.FText)&&e){t.SetFont(this.FLayout.FFont),l=null,0!==this.FAngle&&(l=t.SaveState(!1));try{0!==this.FAngle&&t.ClipRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(n)),t.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(n),a,this.FLayout.FWordWrapping,this.FLayout.FTextAlign,this.FLayout.FVerticalTextAlign,0,this.FAngle,-1,-1,!this.FDisplayHTMLFormatting,!1,-1,-1)}finally{0!==this.FAngle&&t.RestoreState(l,!1)}}this.DrawControl(t),this.DoAfterDraw(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(o),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(n))}},this.DrawControl=function(t){var e,i=pas["WEBLib.TMSFNCTypes"].TRectF.$new();null!=(e=this.GetControlBitmap())&&(i.$assign(this.GetControlRect(!0)),i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(Math.round(i.Left),Math.round(i.Top),Math.round(i.Right),Math.round(i.Bottom))),t.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),e,!0,!1,!0,!1))},this.Assign=function(e){t.TTMSFNCGridCell.isPrototypeOf(e)?(this.FText=rtl.as(e,t.TTMSFNCGridCell).FText,this.FLayout.Assign(rtl.as(e,t.TTMSFNCGridCell).FLayout),this.FLeft=rtl.as(e,t.TTMSFNCGridCell).FLeft,this.FTop=rtl.as(e,t.TTMSFNCGridCell).FTop,this.FWidth=rtl.as(e,t.TTMSFNCGridCell).FWidth,this.FHeight=rtl.as(e,t.TTMSFNCGridCell).FHeight,this.FControlStretched=rtl.as(e,t.TTMSFNCGridCell).FControlStretched):pas.Classes.TPersistent.Assign.apply(this,arguments)},this.AssignLayout=function(e){t.TTMSFNCGridCellLayout.isPrototypeOf(e)&&this.SetLayout(e)},this.Create$1=function(e){return this.FOwner=e,this.FScaleFactor=1,this.FLayout=t.TTMSFNCGridCellLayout.$create("Create$1"),this.FLayout.FOnChange=rtl.createCallback(this,"Changed"),this.FControlStretched=!1,this.FControlEnabled=!0,this},this.Destroy=function(){this.FControlBitmap=null,rtl.free(this,"FLayout"),pas.System.TObject.Destroy.call(this)},this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),this.$rtti.$ClassRef("TTMSFNCGridCellClass",{instancetype:this.$rtti.TTMSFNCGridCell}),rtl.createClass(this,"TTMSFNCBaseCheckGridCell",this.TTMSFNCGridCell,(function(){this.$init=function(){t.TTMSFNCGridCell.$init.call(this),this.FChecked=!1,this.FOnCheckChanged=null},this.$final=function(){this.FOnCheckChanged=void 0,t.TTMSFNCGridCell.$final.call(this)},this.SetChecked=function(t){this.FChecked!==t&&(this.FChecked=t,this.DoCheckChanged(this))},this.HandleControlMouseUp=function(e,i,s,o){t.TTMSFNCGridCell.HandleControlMouseUp.apply(this,arguments),this.SetChecked(!this.FChecked)},this.DoCheckChanged=function(t){null!=this.FOnCheckChanged&&this.FOnCheckChanged(this)},this.GetControlWidth=function(){return 19,19},this.GetControlHeight=function(){return 19,19};var e=this.$rtti;e.addProperty("Checked",2,rtl.boolean,"FChecked","SetChecked",{Default:!1}),e.addProperty("OnCheckChanged",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnCheckChanged","FOnCheckChanged")})),rtl.createClass(this,"TTMSFNCRadioGridCell",this.TTMSFNCBaseCheckGridCell,(function(){})),rtl.createClass(this,"TTMSFNCCheckGridCell",this.TTMSFNCBaseCheckGridCell,(function(){})),rtl.createClass(this,"TTMSFNCButtonGridCell",this.TTMSFNCGridCell,(function(){this.$init=function(){t.TTMSFNCGridCell.$init.call(this),this.FButtonDown=!1,this.FButtonWidth=0,this.FButtonText="",this.FButtonHeight=0},this.SetButtonText=function(t){this.FButtonText!==t&&(this.FButtonText=t)},this.SetButtonWidth=function(t){this.FButtonWidth!==t&&(this.FButtonWidth=t)},this.SetButtonHeight=function(t){this.FButtonHeight!==t&&(this.FButtonHeight=t)},this.HandleControlMouseDown=function(e,i,s,o){t.TTMSFNCGridCell.HandleControlMouseDown.apply(this,arguments),this.FButtonDown=!0},this.HandleControlMouseUp=function(e,i,s,o){t.TTMSFNCGridCell.HandleControlMouseUp.apply(this,arguments),this.FButtonDown=!1},this.GetControlWidth=function(){return this.FButtonWidth},this.GetControlHeight=function(){return this.FButtonHeight},this.Create$1=function(e){return t.TTMSFNCGridCell.Create$1.apply(this,arguments),this.FButtonWidth=24,this.FButtonHeight=20,this.FButtonDown=!1,this},this.DrawControl=function(t){var e=pas["WEBLib.TMSFNCTypes"].TRectF.$new();e.$assign(this.GetControlRect(!0)),e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(Math.round(e.Left),Math.round(e.Top),Math.round(e.Right),Math.round(e.Bottom))),t.DrawButton(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),!1,this.FButtonDown,this.FControlEnabled,!0,1),""!==this.FButtonText&&(pas["WEBLib.TMSFNCTypes"].InflateRectEx(e,-2,-2),t.FFont.SetColor(0),t.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),this.FButtonText,!1,0,0,2,0,-1,-1,!0,!1,-1,-1))};var e=this.$rtti;e.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]]),e.addProperty("ButtonText",2,rtl.string,"FButtonText","SetButtonText"),e.addProperty("ButtonWidth",2,rtl.longint,"FButtonWidth","SetButtonWidth",{Default:24}),e.addProperty("ButtonHeight",2,rtl.longint,"FButtonHeight","SetButtonHeight",{Default:20})})),rtl.createClass(this,"TTMSFNCProgressGridCell",this.TTMSFNCGridCell,(function(){this.$init=function(){t.TTMSFNCGridCell.$init.call(this),this.FValue=0,this.FColor=0,this.FShowText=!1,this.FTextColor=0,this.FFormat=""},this.SetValue=function(t){this.FValue=t},this.SetColor=function(t){this.FColor=t},this.SetShowText=function(t){this.FShowText=t},this.SetTextColor=function(t){this.FTextColor=t},this.SetFormat=function(t){this.FFormat=t},this.Draw=function(e,i,s,o){var n=pas["WEBLib.TMSFNCTypes"].TRectF.$new();t.TTMSFNCGridCell.Draw.apply(this,arguments),s&&(n.$assign(pas["WEBLib.TMSFNCTypes"].RectF(this.FLeft+4,this.FTop+4,this.FLeft+this.FWidth-4,this.FTop+this.FHeight-4)),e.DrawProgressBar(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(n),this.FValue,this.FFormat,100,this.FColor,this.FTextColor,this.FShowText,!0,1))},this.Create$1=function(e){return t.TTMSFNCGridCell.Create$1.apply(this,arguments),this.FValue=0,this.FColor=3329434,this.FTextColor=0,this.FShowText=!0,this.FFormat="%.0f%%",this};var e=this.$rtti;e.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]]),e.addProperty("Value",2,rtl.double,"FValue","SetValue"),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor",{Default:3329434}),e.addProperty("TextColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FTextColor","SetTextColor",{Default:0}),e.addProperty("ShowText",2,rtl.boolean,"FShowText","SetShowText",{Default:!0}),e.addProperty("Format",2,rtl.string,"FFormat","SetFormat")})),rtl.createClass(this,"TTMSFNCCommentGridCell",this.TTMSFNCGridCell,(function(){this.$init=function(){t.TTMSFNCGridCell.$init.call(this),this.FCommentColor=0,this.FCommentText="",this.FCommentTextColor=0},this.PtInComment=function(t,e){var i=!1,s=null,o=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),n=null;o.$assign(pas["WEBLib.TMSFNCTypes"].RectF(this.FLeft,this.FTop,this.FLeft+this.FWidth,this.FTop+this.FHeight)),pas["WEBLib.TMSFNCTypes"].InflateRectEx(o,-3,-3),(n=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("CreateBitmapCanvas",[1,1,!1,!0])).BeginScene(),n.FOptimizedHTMLDrawing=this.FOptimizedHTMLDrawing,n.FBitmapContainer=this.FBitmapContainer,s=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsPath.$create("Create$1");try{s.MoveTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Right-7,o.Top)),s.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Right,o.Top)),s.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Right,o.Top+7)),s.ClosePath(),i=n.$class.PointInPath(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(t,e)),s)}finally{s=rtl.freeLoc(s),n.EndScene(),n=rtl.freeLoc(n)}return i},this.Create$1=function(e){return t.TTMSFNCGridCell.Create$1.apply(this,arguments),this.FCommentColor=255,this.FCommentTextColor=0,this},this.HandleMouseDown=function(e,i,s,o,n){t.TTMSFNCGridCell.HandleMouseDown.apply(this,arguments),n.set(this.PtInComment(s,o))},this.HandleMouseMove=function(e,i,s,o,n){t.TTMSFNCGridCell.HandleMouseMove.apply(this,arguments),o.set(this.PtInComment(i,s)),o.get()&&n.set(21)},this.HandleMouseUp=function(e,i,s,o,n){t.TTMSFNCGridCell.HandleMouseUp.apply(this,arguments),n.set(this.PtInComment(s,o)),n.get()&&this.DoControlClick(this)},this.Draw=function(e,i,s,o){var n=null,a=pas["WEBLib.TMSFNCTypes"].TRectF.$new();t.TTMSFNCGridCell.Draw.apply(this,arguments),a.$assign(pas["WEBLib.TMSFNCTypes"].RectF(this.FLeft,this.FTop,this.FLeft+this.FWidth,this.FTop+this.FHeight)),pas["WEBLib.TMSFNCTypes"].InflateRectEx(a,-3,-3),e.FFill.SetKind(1),e.FStroke.SetKind(1),e.FFill.SetColor(this.FCommentColor),e.FStroke.SetColor(this.FCommentColor),n=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsPath.$create("Create$1");try{n.MoveTo(pas["WEBLib.TMSFNCTypes"].PointF(a.Right-7,a.Top)),n.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(a.Right,a.Top)),n.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(a.Right,a.Top+7)),n.ClosePath(),e.DrawPath(n,0)}finally{n=rtl.freeLoc(n)}};var e=this.$rtti;e.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]]),e.addProperty("CommentText",0,rtl.string,"FCommentText","FCommentText"),e.addProperty("CommentColor",0,pas["WEBLib.Graphics"].$rtti.TColor,"FCommentColor","FCommentColor",{Default:255}),e.addProperty("CommentTextColor",0,pas["WEBLib.Graphics"].$rtti.TColor,"FCommentTextColor","FCommentTextColor",{Default:0})})),rtl.createClass(this,"TTMSFNCFixedGridCell",this.TTMSFNCGridCell,(function(){this.$init=function(){t.TTMSFNCGridCell.$init.call(this),this.FShowDropDownButton=!1,this.FSortIndex=0,this.FSortKind=0,this.FSizeMargin=0},this.PtInDropDown=function(t,e){var i,s,o=!1,n=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return o=!1,this.FShowDropDownButton?(i=(this.FSizeMargin+2)*this.FScaleFactor,s=15*this.FScaleFactor,n.$assign(pas["WEBLib.TMSFNCTypes"].RectF(this.FLeft+this.FWidth-s-i,this.FTop+(this.FHeight-s)/2,this.FLeft+this.FWidth-i,this.FTop+(this.FHeight-s)/2+s)),o=pas["WEBLib.TMSFNCTypes"].PtInRectEx(n,pas["WEBLib.TMSFNCTypes"].PointF(t,e))):o},this.Create$1=function(e){return t.TTMSFNCGridCell.Create$1.apply(this,arguments),this.FSizeMargin=0,this},this.HandleMouseDown=function(e,i,s,o,n){t.TTMSFNCGridCell.HandleMouseDown.apply(this,arguments),n.set(this.PtInDropDown(s,o))},this.HandleMouseMove=function(e,i,s,o,n){t.TTMSFNCGridCell.HandleMouseMove.apply(this,arguments),o.set(this.PtInDropDown(i,s))},this.HandleMouseUp=function(e,i,s,o,n){t.TTMSFNCGridCell.HandleMouseUp.apply(this,arguments),n.set(this.PtInDropDown(s,o)),n.get()&&this.DoControlClick(this)},this.Draw=function(e,i,s,o){var n=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),a=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),r=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),l=0,h=0,F=0;t.TTMSFNCGridCell.Draw.apply(this,arguments),n.$assign(pas["WEBLib.TMSFNCTypes"].RectF(this.FLeft,this.FTop,this.FLeft+this.FWidth,this.FTop+this.FHeight)),r.$assign(n),F=(this.FSizeMargin+2)*this.FScaleFactor,this.FShowDropDownButton&&(l=15*this.FScaleFactor,a.$assign(pas["WEBLib.TMSFNCTypes"].RectF(n.Right-l-F,n.Top+(n.Bottom-n.Top-l)/2,n.Right-F,n.Top+(n.Bottom-n.Top-l)/2+l)),e.DrawDropDownButton(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(a.Left),pas.System.Int(a.Top),pas.System.Int(a.Right),pas.System.Int(a.Bottom))),!1,!1,!0,!0,!1,1),r.Right=a.Left),0!==this.FSortKind&&(h=12*this.FScaleFactor,r.$assign(pas["WEBLib.TMSFNCTypes"].RectF(r.Right-h-3*this.FScaleFactor-F,r.Top+(r.Bottom-r.Top-h)/2,r.Right-3*this.FScaleFactor-F,r.Top+(r.Bottom-r.Top-h)/2+h)),this.DrawSortIndicator(e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(r)))},this.DrawSortIndicator=function(t,e){var i=null,s=0,o=0,n=pas["WEBLib.TMSFNCTypes"].TRectF.$new();o=-1===this.FSortIndex?11829830:17919,t.FFill.SetKind(1),t.FFill.SetColor(o),t.FStroke.SetKind(1),t.FStroke.SetColor(o),s=0,n.$assign(e),i=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsPath.$create("Create$1");try{var a=this.FSortKind;1===a?(s=2,i.MoveTo(pas["WEBLib.TMSFNCTypes"].PointF(e.Left+(e.Right-e.Left)/2,e.Top)),i.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(e.Right,e.Bottom)),i.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(e.Left,e.Bottom)),n.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left,e.Top+2,e.Right,e.Bottom+2))):2===a&&(s=1,i.MoveTo(pas["WEBLib.TMSFNCTypes"].PointF(e.Left,e.Top)),i.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(e.Right,e.Top)),i.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(e.Left+(e.Right-e.Left)/2,e.Bottom)),n.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left,e.Top-2,e.Right,e.Bottom-2))),i.ClosePath(),t.DrawPath(i,0),-1!==this.FSortIndex&&(t.FFont.SetColor(16777215),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.SetFontSize(t.FFont,9,1),t.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(n),pas.SysUtils.IntToStr(this.FSortIndex),!1,0,s,0,0,-1,-1,!0,!1,-1,-1))}finally{i=rtl.freeLoc(i)}};var e=this.$rtti;e.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]]),e.addProperty("ShowDropDownButton",0,rtl.boolean,"FShowDropDownButton","FShowDropDownButton",{Default:!1}),e.addProperty("SortKind",0,t.$rtti.TTMSFNCGridSortKind,"FSortKind","FSortKind",{Default:t.TTMSFNCGridSortKind.skDescending}),e.addProperty("SortIndex",0,rtl.longint,"FSortIndex","FSortIndex",{Default:-1}),e.addProperty("SizeMargin",0,rtl.longint,"FSizeMargin","FSizeMargin",{Default:0})})),rtl.createClass(this,"TTMSFNCNodeGridCell",this.TTMSFNCGridCell,(function(){this.$init=function(){t.TTMSFNCGridCell.$init.call(this),this.FState=0},this.HandleControlMouseMove=function(e,i,s,o){t.TTMSFNCGridCell.HandleControlMouseMove.apply(this,arguments),o.set(21)},this.$rtti.addProperty("State",0,t.$rtti.TTMSFNCGridNodeState,"FState","FState",{Default:t.TTMSFNCGridNodeState.nsClosed})})),rtl.createClass(this,"TTMSFNCBitmapGridCell",this.TTMSFNCGridCell,(function(){this.$init=function(){t.TTMSFNCGridCell.$init.call(this),this.FBitmap=null,this.FBitmapName=""},this.$final=function(){this.FBitmap=void 0,t.TTMSFNCGridCell.$final.call(this)},this.SetBitmap=function(t){this.FBitmap!==t&&this.FBitmap.Assign(t)},this.SetBitmapName=function(t){this.FBitmapName!==t&&(this.FBitmapName=t)},this.Create$1=function(e){return t.TTMSFNCGridCell.Create$1.apply(this,arguments),this.FBitmap=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),this.SetControlEnabled(!1),this},this.Destroy=function(){rtl.free(this,"FBitmap"),t.TTMSFNCGridCell.Destroy.call(this)},this.GetControlBitmap=function(){var t=null;return t=null,null==this.FBitmap||pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(this.FBitmap)?null!=this.FBitmapContainer&&""!==this.FBitmapName&&(t=this.FBitmapContainer.FindBitmap$1(this.FBitmapName)):t=this.FBitmap,t};var e=this.$rtti;e.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]]),e.addProperty("BitmapName",2,rtl.string,"FBitmapName","SetBitmapName"),e.addProperty("Bitmap",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCBitmap,"FBitmap","SetBitmap")}))}),["Math","SysUtils","WEBLib.TMSFNCUtils"]),rtl.module("uDefine",["System","JS","Web","WEBLib.StdCtrls","WEBLib.TMSFNCGraphicsTypes","WEBLib.TMSFNCGridCell","SysUtils","Classes"],(function(){"use strict";var t=this;rtl.recNewT(this,"ST_GRID",(function(){this.sTitle="",this.nWidth=0,this.taHorzAlignment=0,this.$eq=function(t){return this.sTitle===t.sTitle&&this.nWidth===t.nWidth&&this.taHorzAlignment===t.taHorzAlignment},this.$assign=function(t){return this.sTitle=t.sTitle,this.nWidth=t.nWidth,this.taHorzAlignment=t.taHorzAlignment,this}})),rtl.recNewT(this,"ST_GRID_SET",(function(){this.nCount=0,this.$new=function(){var t=Object.create(this);return t.DATA=[],t},this.$eq=function(t){return this.nCount===t.nCount&&this.DATA===t.DATA},this.$assign=function(t){return this.nCount=t.nCount,this.DATA=rtl.arrayRef(t.DATA),this}})),rtl.recNewT(this,"ST_GRID_HEADER",(function(){this.$new=function(){var e=Object.create(this);return e.st_magam_01=t.ST_GRID_SET.$new(),e.st_magam_02=t.ST_GRID_SET.$new(),e.st_nabpum_01=t.ST_GRID_SET.$new(),e.st_nabpum_02=t.ST_GRID_SET.$new(),e},this.$eq=function(t){return this.st_magam_01.$eq(t.st_magam_01)&&this.st_magam_02.$eq(t.st_magam_02)&&this.st_nabpum_01.$eq(t.st_nabpum_01)&&this.st_nabpum_02.$eq(t.st_nabpum_02)},this.$assign=function(t){return this.st_magam_01.$assign(t.st_magam_01),this.st_magam_02.$assign(t.st_magam_02),this.st_nabpum_01.$assign(t.st_nabpum_01),this.st_nabpum_02.$assign(t.st_nabpum_02),this}})),rtl.recNewT(this,"ST_MP_GRID",(function(){this.$new=function(){var e=Object.create(this);return e.header=t.ST_GRID_HEADER.$new(),e},this.$eq=function(t){return this.header.$eq(t.header)},this.$assign=function(t){return this.header.$assign(t.header),this}})),this.g_grid=this.ST_MP_GRID.$new(),this.g_sApiUrl="http://1.212.95.188:15905",this.Get_header_grd_magam_01=function(){var e=t.ST_GRID_SET.$new();return t.g_grid.header.st_magam_01.nCount=7,t.g_grid.header.st_magam_01.DATA=rtl.arraySetLength(t.g_grid.header.st_magam_01.DATA,t.ST_GRID,7),t.g_grid.header.st_magam_01.DATA[0].sTitle="구분",t.g_grid.header.st_magam_01.DATA[0].nWidth=75,t.g_grid.header.st_magam_01.DATA[0].taHorzAlignment=0,t.g_grid.header.st_magam_01.DATA[1].sTitle="마감전",t.g_grid.header.st_magam_01.DATA[1].nWidth=80,t.g_grid.header.st_magam_01.DATA[1].taHorzAlignment=0,t.g_grid.header.st_magam_01.DATA[2].sTitle="마감후",t.g_grid.header.st_magam_01.DATA[2].nWidth=80,t.g_grid.header.st_magam_01.DATA[2].taHorzAlignment=0,t.g_grid.header.st_magam_01.DATA[3].sTitle="",t.g_grid.header.st_magam_01.DATA[3].nWidth=10,t.g_grid.header.st_magam_01.DATA[3].taHorzAlignment=0,t.g_grid.header.st_magam_01.DATA[4].sTitle="구분",t.g_grid.header.st_magam_01.DATA[4].nWidth=75,t.g_grid.header.st_magam_01.DATA[4].taHorzAlignment=0,t.g_grid.header.st_magam_01.DATA[5].sTitle="마감전",t.g_grid.header.st_magam_01.DATA[5].nWidth=80,t.g_grid.header.st_magam_01.DATA[5].taHorzAlignment=0,t.g_grid.header.st_magam_01.DATA[6].sTitle="마감후",t.g_grid.header.st_magam_01.DATA[6].nWidth=80,t.g_grid.header.st_magam_01.DATA[6].taHorzAlignment=0,e.$assign(t.g_grid.header.st_magam_01),e},this.Get_header_grd_magam_02=function(){var e=t.ST_GRID_SET.$new();return t.g_grid.header.st_magam_02.nCount=80,t.g_grid.header.st_magam_02.DATA=rtl.arraySetLength(t.g_grid.header.st_magam_02.DATA,t.ST_GRID,80),t.g_grid.header.st_magam_02.DATA[0].sTitle="마감일자",t.g_grid.header.st_magam_02.DATA[0].nWidth=60,t.g_grid.header.st_magam_02.DATA[0].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[1].sTitle="주문번호",t.g_grid.header.st_magam_02.DATA[1].nWidth=60,t.g_grid.header.st_magam_02.DATA[1].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[2].sTitle="주문일자",t.g_grid.header.st_magam_02.DATA[2].nWidth=60,t.g_grid.header.st_magam_02.DATA[2].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[3].sTitle="사업장코드",t.g_grid.header.st_magam_02.DATA[3].nWidth=60,t.g_grid.header.st_magam_02.DATA[3].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[4].sTitle="사업장명",t.g_grid.header.st_magam_02.DATA[4].nWidth=80,t.g_grid.header.st_magam_02.DATA[4].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[5].sTitle="거래처코드",t.g_grid.header.st_magam_02.DATA[5].nWidth=60,t.g_grid.header.st_magam_02.DATA[5].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[6].sTitle="거래처명",t.g_grid.header.st_magam_02.DATA[6].nWidth=80,t.g_grid.header.st_magam_02.DATA[6].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[7].sTitle="사원코드",t.g_grid.header.st_magam_02.DATA[7].nWidth=50,t.g_grid.header.st_magam_02.DATA[7].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[8].sTitle="사원명",t.g_grid.header.st_magam_02.DATA[8].nWidth=50,t.g_grid.header.st_magam_02.DATA[8].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[9].sTitle="순번",t.g_grid.header.st_magam_02.DATA[9].nWidth=40,t.g_grid.header.st_magam_02.DATA[9].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[10].sTitle="주문강종코드",t.g_grid.header.st_magam_02.DATA[10].nWidth=60,t.g_grid.header.st_magam_02.DATA[10].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[11].sTitle="주문강종명",t.g_grid.header.st_magam_02.DATA[11].nWidth=60,t.g_grid.header.st_magam_02.DATA[11].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[12].sTitle="사용강종코드",t.g_grid.header.st_magam_02.DATA[12].nWidth=70,t.g_grid.header.st_magam_02.DATA[12].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[13].sTitle="사용강종명",t.g_grid.header.st_magam_02.DATA[13].nWidth=60,t.g_grid.header.st_magam_02.DATA[13].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[14].sTitle="주문규격T",t.g_grid.header.st_magam_02.DATA[14].nWidth=55,t.g_grid.header.st_magam_02.DATA[14].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[15].sTitle="주문규격W",t.g_grid.header.st_magam_02.DATA[15].nWidth=55,t.g_grid.header.st_magam_02.DATA[15].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[16].sTitle="주문규격L",t.g_grid.header.st_magam_02.DATA[16].nWidth=55,t.g_grid.header.st_magam_02.DATA[16].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[17].sTitle="주문규격수량",t.g_grid.header.st_magam_02.DATA[17].nWidth=70,t.g_grid.header.st_magam_02.DATA[17].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[18].sTitle="작업구분",t.g_grid.header.st_magam_02.DATA[18].nWidth=50,t.g_grid.header.st_magam_02.DATA[18].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[19].sTitle="중량계산",t.g_grid.header.st_magam_02.DATA[19].nWidth=50,t.g_grid.header.st_magam_02.DATA[19].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[20].sTitle="도면번호",t.g_grid.header.st_magam_02.DATA[20].nWidth=60,t.g_grid.header.st_magam_02.DATA[20].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[21].sTitle="품번",t.g_grid.header.st_magam_02.DATA[21].nWidth=50,t.g_grid.header.st_magam_02.DATA[21].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[22].sTitle="작업공차T",t.g_grid.header.st_magam_02.DATA[22].nWidth=55,t.g_grid.header.st_magam_02.DATA[22].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[23].sTitle="작업공차W",t.g_grid.header.st_magam_02.DATA[23].nWidth=55,t.g_grid.header.st_magam_02.DATA[23].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[24].sTitle="작업공차L",t.g_grid.header.st_magam_02.DATA[24].nWidth=55,t.g_grid.header.st_magam_02.DATA[24].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[25].sTitle="면치",t.g_grid.header.st_magam_02.DATA[25].nWidth=40,t.g_grid.header.st_magam_02.DATA[25].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[26].sTitle="공장구분",t.g_grid.header.st_magam_02.DATA[26].nWidth=45,t.g_grid.header.st_magam_02.DATA[26].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[27].sTitle="중량절사",t.g_grid.header.st_magam_02.DATA[27].nWidth=60,t.g_grid.header.st_magam_02.DATA[27].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[28].sTitle="산출중량",t.g_grid.header.st_magam_02.DATA[28].nWidth=60,t.g_grid.header.st_magam_02.DATA[28].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[29].sTitle="중량단가",t.g_grid.header.st_magam_02.DATA[29].nWidth=60,t.g_grid.header.st_magam_02.DATA[29].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[30].sTitle="중량금액",t.g_grid.header.st_magam_02.DATA[30].nWidth=60,t.g_grid.header.st_magam_02.DATA[30].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[31].sTitle="중량세액",t.g_grid.header.st_magam_02.DATA[31].nWidth=60,t.g_grid.header.st_magam_02.DATA[31].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[32].sTitle="면적단가",t.g_grid.header.st_magam_02.DATA[32].nWidth=60,t.g_grid.header.st_magam_02.DATA[32].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[33].sTitle="면적금액",t.g_grid.header.st_magam_02.DATA[33].nWidth=60,t.g_grid.header.st_magam_02.DATA[33].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[34].sTitle="면적세액",t.g_grid.header.st_magam_02.DATA[34].nWidth=60,t.g_grid.header.st_magam_02.DATA[34].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[35].sTitle="규격단가",t.g_grid.header.st_magam_02.DATA[35].nWidth=60,t.g_grid.header.st_magam_02.DATA[35].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[36].sTitle="규격금액",t.g_grid.header.st_magam_02.DATA[36].nWidth=60,t.g_grid.header.st_magam_02.DATA[36].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[37].sTitle="규격세액",t.g_grid.header.st_magam_02.DATA[37].nWidth=60,t.g_grid.header.st_magam_02.DATA[37].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[38].sTitle="성형밀링단가",t.g_grid.header.st_magam_02.DATA[38].nWidth=70,t.g_grid.header.st_magam_02.DATA[38].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[39].sTitle="성형밀링금액",t.g_grid.header.st_magam_02.DATA[39].nWidth=70,t.g_grid.header.st_magam_02.DATA[39].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[40].sTitle="성형밀링세액",t.g_grid.header.st_magam_02.DATA[40].nWidth=70,t.g_grid.header.st_magam_02.DATA[40].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[41].sTitle="성형연마단가",t.g_grid.header.st_magam_02.DATA[41].nWidth=70,t.g_grid.header.st_magam_02.DATA[41].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[42].sTitle="성형연마금액",t.g_grid.header.st_magam_02.DATA[42].nWidth=70,t.g_grid.header.st_magam_02.DATA[42].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[43].sTitle="성형연마세액",t.g_grid.header.st_magam_02.DATA[43].nWidth=70,t.g_grid.header.st_magam_02.DATA[43].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[44].sTitle="열처리단가",t.g_grid.header.st_magam_02.DATA[44].nWidth=60,t.g_grid.header.st_magam_02.DATA[44].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[45].sTitle="열처리금액",t.g_grid.header.st_magam_02.DATA[45].nWidth=60,t.g_grid.header.st_magam_02.DATA[45].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[46].sTitle="열처리세액",t.g_grid.header.st_magam_02.DATA[46].nWidth=60,t.g_grid.header.st_magam_02.DATA[46].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[47].sTitle="NC가공단가",t.g_grid.header.st_magam_02.DATA[47].nWidth=70,t.g_grid.header.st_magam_02.DATA[47].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[48].sTitle="NC가공금액",t.g_grid.header.st_magam_02.DATA[48].nWidth=65,t.g_grid.header.st_magam_02.DATA[48].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[49].sTitle="NC가공세액",t.g_grid.header.st_magam_02.DATA[49].nWidth=65,t.g_grid.header.st_magam_02.DATA[49].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[50].sTitle="와이어단가",t.g_grid.header.st_magam_02.DATA[50].nWidth=65,t.g_grid.header.st_magam_02.DATA[50].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[51].sTitle="와이어금액",t.g_grid.header.st_magam_02.DATA[51].nWidth=65,t.g_grid.header.st_magam_02.DATA[51].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[52].sTitle="와이어세액",t.g_grid.header.st_magam_02.DATA[52].nWidth=65,t.g_grid.header.st_magam_02.DATA[52].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[53].sTitle="선반단가",t.g_grid.header.st_magam_02.DATA[53].nWidth=60,t.g_grid.header.st_magam_02.DATA[53].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[54].sTitle="선반금액",t.g_grid.header.st_magam_02.DATA[54].nWidth=60,t.g_grid.header.st_magam_02.DATA[54].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[55].sTitle="선반세액",t.g_grid.header.st_magam_02.DATA[55].nWidth=60,t.g_grid.header.st_magam_02.DATA[55].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[56].sTitle="기타단가",t.g_grid.header.st_magam_02.DATA[56].nWidth=60,t.g_grid.header.st_magam_02.DATA[56].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[57].sTitle="기타금액",t.g_grid.header.st_magam_02.DATA[57].nWidth=60,t.g_grid.header.st_magam_02.DATA[57].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[58].sTitle="기타세액",t.g_grid.header.st_magam_02.DATA[58].nWidth=60,t.g_grid.header.st_magam_02.DATA[58].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[59].sTitle="소계금액",t.g_grid.header.st_magam_02.DATA[59].nWidth=60,t.g_grid.header.st_magam_02.DATA[59].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[60].sTitle="소계세액",t.g_grid.header.st_magam_02.DATA[60].nWidth=60,t.g_grid.header.st_magam_02.DATA[60].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[61].sTitle="납기예정일",t.g_grid.header.st_magam_02.DATA[61].nWidth=60,t.g_grid.header.st_magam_02.DATA[61].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[62].sTitle="견적번호",t.g_grid.header.st_magam_02.DATA[62].nWidth=60,t.g_grid.header.st_magam_02.DATA[62].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[63].sTitle="납품번호",t.g_grid.header.st_magam_02.DATA[63].nWidth=60,t.g_grid.header.st_magam_02.DATA[63].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[64].sTitle="납품일자",t.g_grid.header.st_magam_02.DATA[64].nWidth=60,t.g_grid.header.st_magam_02.DATA[64].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[65].sTitle="세금계산서일련번호",t.g_grid.header.st_magam_02.DATA[65].nWidth=90,t.g_grid.header.st_magam_02.DATA[65].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[66].sTitle="세금계산서발행일자",t.g_grid.header.st_magam_02.DATA[66].nWidth=90,t.g_grid.header.st_magam_02.DATA[66].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[67].sTitle="주문비고",t.g_grid.header.st_magam_02.DATA[67].nWidth=80,t.g_grid.header.st_magam_02.DATA[67].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[68].sTitle="계산공식TRCODE",t.g_grid.header.st_magam_02.DATA[68].nWidth=80,t.g_grid.header.st_magam_02.DATA[68].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[69].sTitle="계산공식STWL",t.g_grid.header.st_magam_02.DATA[69].nWidth=70,t.g_grid.header.st_magam_02.DATA[69].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[70].sTitle="계산공식MN",t.g_grid.header.st_magam_02.DATA[70].nWidth=70,t.g_grid.header.st_magam_02.DATA[70].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[71].sTitle="계산공식KGPR",t.g_grid.header.st_magam_02.DATA[71].nWidth=70,t.g_grid.header.st_magam_02.DATA[71].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[72].sTitle="계산공식SPCODE",t.g_grid.header.st_magam_02.DATA[72].nWidth=80,t.g_grid.header.st_magam_02.DATA[72].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[73].sTitle="계산공식BTW",t.g_grid.header.st_magam_02.DATA[73].nWidth=70,t.g_grid.header.st_magam_02.DATA[73].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[74].sTitle="계산공식TWCNT",t.g_grid.header.st_magam_02.DATA[74].nWidth=80,t.g_grid.header.st_magam_02.DATA[74].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[75].sTitle="계산공식BL",t.g_grid.header.st_magam_02.DATA[75].nWidth=60,t.g_grid.header.st_magam_02.DATA[75].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[76].sTitle="계산공식LCNT",t.g_grid.header.st_magam_02.DATA[76].nWidth=70,t.g_grid.header.st_magam_02.DATA[76].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[77].sTitle="계산공식PRC",t.g_grid.header.st_magam_02.DATA[77].nWidth=80,t.g_grid.header.st_magam_02.DATA[77].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[78].sTitle="계산공식HEAT",t.g_grid.header.st_magam_02.DATA[78].nWidth=70,t.g_grid.header.st_magam_02.DATA[78].taHorzAlignment=0,t.g_grid.header.st_magam_02.DATA[79].sTitle="작업일자",t.g_grid.header.st_magam_02.DATA[79].nWidth=60,t.g_grid.header.st_magam_02.DATA[79].taHorzAlignment=0,e.$assign(t.g_grid.header.st_magam_02),e},this.Get_header_grd_nabpum_01=function(){var e=t.ST_GRID_SET.$new();return t.g_grid.header.st_nabpum_01.nCount=5,t.g_grid.header.st_nabpum_01.DATA=rtl.arraySetLength(t.g_grid.header.st_nabpum_01.DATA,t.ST_GRID,5),t.g_grid.header.st_nabpum_01.DATA[0].sTitle="구분",t.g_grid.header.st_nabpum_01.DATA[0].nWidth=75,t.g_grid.header.st_nabpum_01.DATA[0].taHorzAlignment=0,t.g_grid.header.st_nabpum_01.DATA[1].sTitle="정보",t.g_grid.header.st_nabpum_01.DATA[1].nWidth=80,t.g_grid.header.st_nabpum_01.DATA[1].taHorzAlignment=0,t.g_grid.header.st_nabpum_01.DATA[2].sTitle="",t.g_grid.header.st_nabpum_01.DATA[2].nWidth=10,t.g_grid.header.st_nabpum_01.DATA[2].taHorzAlignment=0,t.g_grid.header.st_nabpum_01.DATA[3].sTitle="구분",t.g_grid.header.st_nabpum_01.DATA[3].nWidth=75,t.g_grid.header.st_nabpum_01.DATA[3].taHorzAlignment=0,t.g_grid.header.st_nabpum_01.DATA[4].sTitle="정보",t.g_grid.header.st_nabpum_01.DATA[4].nWidth=80,t.g_grid.header.st_nabpum_01.DATA[4].taHorzAlignment=0,e.$assign(t.g_grid.header.st_nabpum_01),e},this.Get_header_grd_nabpum_02=function(){var e=t.ST_GRID_SET.$new();return t.g_grid.header.st_nabpum_02.nCount=68,t.g_grid.header.st_nabpum_02.DATA=rtl.arraySetLength(t.g_grid.header.st_nabpum_02.DATA,t.ST_GRID,68),t.g_grid.header.st_nabpum_02.DATA[0].sTitle="납품번호",t.g_grid.header.st_nabpum_02.DATA[0].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[0].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[1].sTitle="납품일자",t.g_grid.header.st_nabpum_02.DATA[1].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[1].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[2].sTitle="납기예정일",t.g_grid.header.st_nabpum_02.DATA[2].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[2].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[3].sTitle="주문번호",t.g_grid.header.st_nabpum_02.DATA[3].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[3].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[4].sTitle="주문일자",t.g_grid.header.st_nabpum_02.DATA[4].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[4].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[5].sTitle="사업장코드",t.g_grid.header.st_nabpum_02.DATA[5].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[5].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[6].sTitle="사업장명",t.g_grid.header.st_nabpum_02.DATA[6].nWidth=80,t.g_grid.header.st_nabpum_02.DATA[6].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[7].sTitle="거래처코드",t.g_grid.header.st_nabpum_02.DATA[7].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[7].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[8].sTitle="거래처명",t.g_grid.header.st_nabpum_02.DATA[8].nWidth=80,t.g_grid.header.st_nabpum_02.DATA[8].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[9].sTitle="사원코드",t.g_grid.header.st_nabpum_02.DATA[9].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[9].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[10].sTitle="사원명",t.g_grid.header.st_nabpum_02.DATA[10].nWidth=50,t.g_grid.header.st_nabpum_02.DATA[10].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[11].sTitle="순번",t.g_grid.header.st_nabpum_02.DATA[11].nWidth=40,t.g_grid.header.st_nabpum_02.DATA[11].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[12].sTitle="주문강종코드",t.g_grid.header.st_nabpum_02.DATA[12].nWidth=70,t.g_grid.header.st_nabpum_02.DATA[12].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[13].sTitle="주문강종명",t.g_grid.header.st_nabpum_02.DATA[13].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[13].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[14].sTitle="사용강종코드",t.g_grid.header.st_nabpum_02.DATA[14].nWidth=70,t.g_grid.header.st_nabpum_02.DATA[14].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[15].sTitle="사용강종명",t.g_grid.header.st_nabpum_02.DATA[15].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[15].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[16].sTitle="주문규격T",t.g_grid.header.st_nabpum_02.DATA[16].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[16].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[17].sTitle="주문규격W",t.g_grid.header.st_nabpum_02.DATA[17].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[17].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[18].sTitle="주문규격L",t.g_grid.header.st_nabpum_02.DATA[18].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[18].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[19].sTitle="주문규격수량",t.g_grid.header.st_nabpum_02.DATA[19].nWidth=70,t.g_grid.header.st_nabpum_02.DATA[19].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[20].sTitle="작업구분",t.g_grid.header.st_nabpum_02.DATA[20].nWidth=55,t.g_grid.header.st_nabpum_02.DATA[20].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[21].sTitle="중량계산",t.g_grid.header.st_nabpum_02.DATA[21].nWidth=55,t.g_grid.header.st_nabpum_02.DATA[21].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[22].sTitle="도면번호",t.g_grid.header.st_nabpum_02.DATA[22].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[22].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[23].sTitle="품번",t.g_grid.header.st_nabpum_02.DATA[23].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[23].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[24].sTitle="작업공차T",t.g_grid.header.st_nabpum_02.DATA[24].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[24].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[25].sTitle="작업공차W",t.g_grid.header.st_nabpum_02.DATA[25].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[25].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[26].sTitle="작업공차L",t.g_grid.header.st_nabpum_02.DATA[26].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[26].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[27].sTitle="면치",t.g_grid.header.st_nabpum_02.DATA[27].nWidth=45,t.g_grid.header.st_nabpum_02.DATA[27].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[28].sTitle="공장구분",t.g_grid.header.st_nabpum_02.DATA[28].nWidth=45,t.g_grid.header.st_nabpum_02.DATA[28].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[29].sTitle="중량절사",t.g_grid.header.st_nabpum_02.DATA[29].nWidth=45,t.g_grid.header.st_nabpum_02.DATA[29].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[30].sTitle="산출중량",t.g_grid.header.st_nabpum_02.DATA[30].nWidth=45,t.g_grid.header.st_nabpum_02.DATA[30].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[31].sTitle="중량단가",t.g_grid.header.st_nabpum_02.DATA[31].nWidth=45,t.g_grid.header.st_nabpum_02.DATA[31].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[32].sTitle="중량금액",t.g_grid.header.st_nabpum_02.DATA[32].nWidth=45,t.g_grid.header.st_nabpum_02.DATA[32].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[33].sTitle="중량세액",t.g_grid.header.st_nabpum_02.DATA[33].nWidth=45,t.g_grid.header.st_nabpum_02.DATA[33].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[34].sTitle="면적단가",t.g_grid.header.st_nabpum_02.DATA[34].nWidth=45,t.g_grid.header.st_nabpum_02.DATA[34].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[35].sTitle="면적금액",t.g_grid.header.st_nabpum_02.DATA[35].nWidth=50,t.g_grid.header.st_nabpum_02.DATA[35].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[36].sTitle="면적세액",t.g_grid.header.st_nabpum_02.DATA[36].nWidth=45,t.g_grid.header.st_nabpum_02.DATA[36].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[37].sTitle="규격단가",t.g_grid.header.st_nabpum_02.DATA[37].nWidth=45,t.g_grid.header.st_nabpum_02.DATA[37].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[38].sTitle="규격금액",t.g_grid.header.st_nabpum_02.DATA[38].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[38].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[39].sTitle="규격세액",t.g_grid.header.st_nabpum_02.DATA[39].nWidth=50,t.g_grid.header.st_nabpum_02.DATA[39].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[40].sTitle="성형밀링단가",t.g_grid.header.st_nabpum_02.DATA[40].nWidth=70,t.g_grid.header.st_nabpum_02.DATA[40].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[41].sTitle="성형밀링금액",t.g_grid.header.st_nabpum_02.DATA[41].nWidth=70,t.g_grid.header.st_nabpum_02.DATA[41].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[42].sTitle="성형밀링세액",t.g_grid.header.st_nabpum_02.DATA[42].nWidth=70,t.g_grid.header.st_nabpum_02.DATA[42].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[43].sTitle="성형연마단가",t.g_grid.header.st_nabpum_02.DATA[43].nWidth=70,t.g_grid.header.st_nabpum_02.DATA[43].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[44].sTitle="성형연마금액",t.g_grid.header.st_nabpum_02.DATA[44].nWidth=70,t.g_grid.header.st_nabpum_02.DATA[44].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[45].sTitle="성형연마세액",t.g_grid.header.st_nabpum_02.DATA[45].nWidth=70,t.g_grid.header.st_nabpum_02.DATA[45].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[46].sTitle="열처리단가",t.g_grid.header.st_nabpum_02.DATA[46].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[46].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[47].sTitle="열처리금액",t.g_grid.header.st_nabpum_02.DATA[47].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[47].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[48].sTitle="열처리세액",t.g_grid.header.st_nabpum_02.DATA[48].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[48].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[49].sTitle="NC가공단가",t.g_grid.header.st_nabpum_02.DATA[49].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[49].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[50].sTitle="NC가공금액",t.g_grid.header.st_nabpum_02.DATA[50].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[50].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[51].sTitle="NC가공세액",t.g_grid.header.st_nabpum_02.DATA[51].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[51].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[52].sTitle="와이어단가",t.g_grid.header.st_nabpum_02.DATA[52].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[52].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[53].sTitle="와이어금액",t.g_grid.header.st_nabpum_02.DATA[53].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[53].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[54].sTitle="와이어세액",t.g_grid.header.st_nabpum_02.DATA[54].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[54].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[55].sTitle="선반단가",t.g_grid.header.st_nabpum_02.DATA[55].nWidth=50,t.g_grid.header.st_nabpum_02.DATA[55].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[56].sTitle="선반금액",t.g_grid.header.st_nabpum_02.DATA[56].nWidth=50,t.g_grid.header.st_nabpum_02.DATA[56].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[57].sTitle="선반세액",t.g_grid.header.st_nabpum_02.DATA[57].nWidth=50,t.g_grid.header.st_nabpum_02.DATA[57].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[58].sTitle="기타단가",t.g_grid.header.st_nabpum_02.DATA[58].nWidth=50,t.g_grid.header.st_nabpum_02.DATA[58].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[59].sTitle="기타금액",t.g_grid.header.st_nabpum_02.DATA[59].nWidth=50,t.g_grid.header.st_nabpum_02.DATA[59].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[60].sTitle="기타세액",t.g_grid.header.st_nabpum_02.DATA[60].nWidth=50,t.g_grid.header.st_nabpum_02.DATA[60].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[61].sTitle="소계금액",t.g_grid.header.st_nabpum_02.DATA[61].nWidth=70,t.g_grid.header.st_nabpum_02.DATA[61].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[62].sTitle="소계세액",t.g_grid.header.st_nabpum_02.DATA[62].nWidth=70,t.g_grid.header.st_nabpum_02.DATA[62].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[63].sTitle="마감일자",t.g_grid.header.st_nabpum_02.DATA[63].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[63].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[64].sTitle="견적번호",t.g_grid.header.st_nabpum_02.DATA[64].nWidth=60,t.g_grid.header.st_nabpum_02.DATA[64].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[65].sTitle="세금계산서일련번호",t.g_grid.header.st_nabpum_02.DATA[65].nWidth=95,t.g_grid.header.st_nabpum_02.DATA[65].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[66].sTitle="세금계산서발행일자",t.g_grid.header.st_nabpum_02.DATA[66].nWidth=95,t.g_grid.header.st_nabpum_02.DATA[66].taHorzAlignment=0,t.g_grid.header.st_nabpum_02.DATA[67].sTitle="비고",t.g_grid.header.st_nabpum_02.DATA[67].nWidth=95,t.g_grid.header.st_nabpum_02.DATA[67].taHorzAlignment=0,e.$assign(t.g_grid.header.st_nabpum_02),e}})),rtl.module("uUtils",["System","JS","Web","WEBLib.Graphics","WEBLib.StdCtrls","WEBLib.TMSFNCGraphicsTypes","WEBLib.TMSFNCGridCell","SysUtils","Classes"],(function(){"use strict";this.fGetFirstDayOfCurrentMonth=function(){var t=0,e=0,i=0;return pas.SysUtils.DecodeDate(pas.SysUtils.Now(),{get:function(){return t},set:function(e){t=e}},{get:function(){return e},set:function(t){e=t}},{get:function(){return i},set:function(t){i=t}}),pas.SysUtils.EncodeDate(t,e,1)}})),rtl.module("uApiProtocols",["System","WEBLib.Graphics","WEBLib.Controls","WEBLib.ExtCtrls","SysUtils","Classes"],(function(){"use strict";rtl.recNewT(this,"ST_RES_LOGIN",(function(){this.s_USER_ID="",this.s_USER_NAME="",this.$eq=function(t){return this.s_USER_ID===t.s_USER_ID&&this.s_USER_NAME===t.s_USER_NAME},this.$assign=function(t){return this.s_USER_ID=t.s_USER_ID,this.s_USER_NAME=t.s_USER_NAME,this}})),rtl.recNewT(this,"ST_REQ_COMMON",(function(){this.sID="",this.sPW="",this.sCompCode="",this.sPeriodType="",this.sPeriodS="",this.sPeriodE="",this.bMagamBefore=!1,this.bMagamAfter=!1,this.$eq=function(t){return this.sID===t.sID&&this.sPW===t.sPW&&this.sCompCode===t.sCompCode&&this.sPeriodType===t.sPeriodType&&this.sPeriodS===t.sPeriodS&&this.sPeriodE===t.sPeriodE&&this.bMagamBefore===t.bMagamBefore&&this.bMagamAfter===t.bMagamAfter},this.$assign=function(t){return this.sID=t.sID,this.sPW=t.sPW,this.sCompCode=t.sCompCode,this.sPeriodType=t.sPeriodType,this.sPeriodS=t.sPeriodS,this.sPeriodE=t.sPeriodE,this.bMagamBefore=t.bMagamBefore,this.bMagamAfter=t.bMagamAfter,this}})),rtl.recNewT(this,"ST_CM",(function(){this.s_CM_CODE="",this.s_CM_NAME="",this.$eq=function(t){return this.s_CM_CODE===t.s_CM_CODE&&this.s_CM_NAME===t.s_CM_NAME},this.$assign=function(t){return this.s_CM_CODE=t.s_CM_CODE,this.s_CM_NAME=t.s_CM_NAME,this}})),rtl.recNewT(this,"ST_RES_CM_SET",(function(){this.n_count=0,this.$new=function(){var t=Object.create(this);return t.ITEM=[],t},this.$eq=function(t){return this.n_count===t.n_count&&this.ITEM===t.ITEM},this.$assign=function(t){return this.n_count=t.n_count,this.ITEM=rtl.arrayRef(t.ITEM),this}})),rtl.recNewT(this,"ST_MG",(function(){this.s_MGDATE="",this.s_OD_CODE="",this.s_ODDATE="",this.s_CMCODE="",this.s_CM_NAME="",this.s_O_TRCODE="",this.s_TRNAME="",this.s_EPCODE="",this.s_EPNAME="",this.s_LTNO="",this.s_STCODE="",this.s_STNAME="",this.s_USSTCODE="",this.s_USSTNAME="",this.f_ST=0,this.f_SW=0,this.f_SL=0,this.f_QTY=0,this.s_WKCODE="",this.s_CCCODE="",this.s_CHARTNO="",this.s_POOMNO="",this.f_CT=0,this.f_CW=0,this.f_CL=0,this.s_MYUN="",this.s_FCCODE="",this.n_KGDIV=0,this.f_KG=0,this.f_PRC1=0,this.f_MONEY1=0,this.f_TAX1=0,this.f_PRC2=0,this.f_MONEY2=0,this.f_TAX2=0,this.f_PRC3=0,this.f_MONEY3=0,this.f_TAX3=0,this.f_PRC4=0,this.f_MONEY4=0,this.f_TAX4=0,this.f_PRC5=0,this.f_MONEY5=0,this.f_TAX5=0,this.f_PRC6=0,this.f_MONEY6=0,this.f_TAX6=0,this.f_PRC7=0,this.f_MONEY7=0,this.f_TAX7=0,this.f_PRC8=0,this.f_MONEY8=0,this.f_TAX8=0,this.f_PRC9=0,this.f_MONEY9=0,this.f_TAX9=0,this.f_PRC10=0,this.f_MONEY10=0,this.f_TAX10=0,this.f_MONEYSUM=0,this.f_TAXSUM=0,this.s_PRDATE="",this.s_KJ_CODE="",this.s_NP_CODE="",this.s_NPDATE="",this.s_TX_CODE="",this.s_TXDATE="",this.s_REM="",this.s_S_TRCODE="",this.n_STWL=0,this.n_MYUN=0,this.n_KGPR=0,this.n_SPCODE=0,this.n_TW=0,this.n_TWCNT=0,this.n_L=0,this.n_LCNT=0,this.s_PRC="",this.n_HEAT=0,this.s_WKDATE="",this.$eq=function(t){return this.s_MGDATE===t.s_MGDATE&&this.s_OD_CODE===t.s_OD_CODE&&this.s_ODDATE===t.s_ODDATE&&this.s_CMCODE===t.s_CMCODE&&this.s_CM_NAME===t.s_CM_NAME&&this.s_O_TRCODE===t.s_O_TRCODE&&this.s_TRNAME===t.s_TRNAME&&this.s_EPCODE===t.s_EPCODE&&this.s_EPNAME===t.s_EPNAME&&this.s_LTNO===t.s_LTNO&&this.s_STCODE===t.s_STCODE&&this.s_STNAME===t.s_STNAME&&this.s_USSTCODE===t.s_USSTCODE&&this.s_USSTNAME===t.s_USSTNAME&&this.f_ST===t.f_ST&&this.f_SW===t.f_SW&&this.f_SL===t.f_SL&&this.f_QTY===t.f_QTY&&this.s_WKCODE===t.s_WKCODE&&this.s_CCCODE===t.s_CCCODE&&this.s_CHARTNO===t.s_CHARTNO&&this.s_POOMNO===t.s_POOMNO&&this.f_CT===t.f_CT&&this.f_CW===t.f_CW&&this.f_CL===t.f_CL&&this.s_MYUN===t.s_MYUN&&this.s_FCCODE===t.s_FCCODE&&this.n_KGDIV===t.n_KGDIV&&this.f_KG===t.f_KG&&this.f_PRC1===t.f_PRC1&&this.f_MONEY1===t.f_MONEY1&&this.f_TAX1===t.f_TAX1&&this.f_PRC2===t.f_PRC2&&this.f_MONEY2===t.f_MONEY2&&this.f_TAX2===t.f_TAX2&&this.f_PRC3===t.f_PRC3&&this.f_MONEY3===t.f_MONEY3&&this.f_TAX3===t.f_TAX3&&this.f_PRC4===t.f_PRC4&&this.f_MONEY4===t.f_MONEY4&&this.f_TAX4===t.f_TAX4&&this.f_PRC5===t.f_PRC5&&this.f_MONEY5===t.f_MONEY5&&this.f_TAX5===t.f_TAX5&&this.f_PRC6===t.f_PRC6&&this.f_MONEY6===t.f_MONEY6&&this.f_TAX6===t.f_TAX6&&this.f_PRC7===t.f_PRC7&&this.f_MONEY7===t.f_MONEY7&&this.f_TAX7===t.f_TAX7&&this.f_PRC8===t.f_PRC8&&this.f_MONEY8===t.f_MONEY8&&this.f_TAX8===t.f_TAX8&&this.f_PRC9===t.f_PRC9&&this.f_MONEY9===t.f_MONEY9&&this.f_TAX9===t.f_TAX9&&this.f_PRC10===t.f_PRC10&&this.f_MONEY10===t.f_MONEY10&&this.f_TAX10===t.f_TAX10&&this.f_MONEYSUM===t.f_MONEYSUM&&this.f_TAXSUM===t.f_TAXSUM&&this.s_PRDATE===t.s_PRDATE&&this.s_KJ_CODE===t.s_KJ_CODE&&this.s_NP_CODE===t.s_NP_CODE&&this.s_NPDATE===t.s_NPDATE&&this.s_TX_CODE===t.s_TX_CODE&&this.s_TXDATE===t.s_TXDATE&&this.s_REM===t.s_REM&&this.s_S_TRCODE===t.s_S_TRCODE&&this.n_STWL===t.n_STWL&&this.n_MYUN===t.n_MYUN&&this.n_KGPR===t.n_KGPR&&this.n_SPCODE===t.n_SPCODE&&this.n_TW===t.n_TW&&this.n_TWCNT===t.n_TWCNT&&this.n_L===t.n_L&&this.n_LCNT===t.n_LCNT&&this.s_PRC===t.s_PRC&&this.n_HEAT===t.n_HEAT&&this.s_WKDATE===t.s_WKDATE},this.$assign=function(t){return this.s_MGDATE=t.s_MGDATE,this.s_OD_CODE=t.s_OD_CODE,this.s_ODDATE=t.s_ODDATE,this.s_CMCODE=t.s_CMCODE,this.s_CM_NAME=t.s_CM_NAME,this.s_O_TRCODE=t.s_O_TRCODE,this.s_TRNAME=t.s_TRNAME,this.s_EPCODE=t.s_EPCODE,this.s_EPNAME=t.s_EPNAME,this.s_LTNO=t.s_LTNO,this.s_STCODE=t.s_STCODE,this.s_STNAME=t.s_STNAME,this.s_USSTCODE=t.s_USSTCODE,this.s_USSTNAME=t.s_USSTNAME,this.f_ST=t.f_ST,this.f_SW=t.f_SW,this.f_SL=t.f_SL,this.f_QTY=t.f_QTY,this.s_WKCODE=t.s_WKCODE,this.s_CCCODE=t.s_CCCODE,this.s_CHARTNO=t.s_CHARTNO,this.s_POOMNO=t.s_POOMNO,this.f_CT=t.f_CT,this.f_CW=t.f_CW,this.f_CL=t.f_CL,this.s_MYUN=t.s_MYUN,this.s_FCCODE=t.s_FCCODE,this.n_KGDIV=t.n_KGDIV,this.f_KG=t.f_KG,this.f_PRC1=t.f_PRC1,this.f_MONEY1=t.f_MONEY1,this.f_TAX1=t.f_TAX1,this.f_PRC2=t.f_PRC2,this.f_MONEY2=t.f_MONEY2,this.f_TAX2=t.f_TAX2,this.f_PRC3=t.f_PRC3,this.f_MONEY3=t.f_MONEY3,this.f_TAX3=t.f_TAX3,this.f_PRC4=t.f_PRC4,this.f_MONEY4=t.f_MONEY4,this.f_TAX4=t.f_TAX4,this.f_PRC5=t.f_PRC5,this.f_MONEY5=t.f_MONEY5,this.f_TAX5=t.f_TAX5,this.f_PRC6=t.f_PRC6,this.f_MONEY6=t.f_MONEY6,this.f_TAX6=t.f_TAX6,this.f_PRC7=t.f_PRC7,this.f_MONEY7=t.f_MONEY7,this.f_TAX7=t.f_TAX7,this.f_PRC8=t.f_PRC8,this.f_MONEY8=t.f_MONEY8,this.f_TAX8=t.f_TAX8,this.f_PRC9=t.f_PRC9,this.f_MONEY9=t.f_MONEY9,this.f_TAX9=t.f_TAX9,this.f_PRC10=t.f_PRC10,this.f_MONEY10=t.f_MONEY10,this.f_TAX10=t.f_TAX10,this.f_MONEYSUM=t.f_MONEYSUM,this.f_TAXSUM=t.f_TAXSUM,this.s_PRDATE=t.s_PRDATE,this.s_KJ_CODE=t.s_KJ_CODE,this.s_NP_CODE=t.s_NP_CODE,this.s_NPDATE=t.s_NPDATE,this.s_TX_CODE=t.s_TX_CODE,this.s_TXDATE=t.s_TXDATE,this.s_REM=t.s_REM,this.s_S_TRCODE=t.s_S_TRCODE,this.n_STWL=t.n_STWL,this.n_MYUN=t.n_MYUN,this.n_KGPR=t.n_KGPR,this.n_SPCODE=t.n_SPCODE,this.n_TW=t.n_TW,this.n_TWCNT=t.n_TWCNT,this.n_L=t.n_L,this.n_LCNT=t.n_LCNT,this.s_PRC=t.s_PRC,this.n_HEAT=t.n_HEAT,this.s_WKDATE=t.s_WKDATE,this}})),rtl.recNewT(this,"ST_RES_MG_SET",(function(){this.n_count=0,this.sException="",this.$new=function(){var t=Object.create(this);return t.ITEM=[],t},this.$eq=function(t){return this.n_count===t.n_count&&this.sException===t.sException&&this.ITEM===t.ITEM},this.$assign=function(t){return this.n_count=t.n_count,this.sException=t.sException,this.ITEM=rtl.arrayRef(t.ITEM),this}})),rtl.recNewT(this,"ST_NP",(function(){this.s_O_NP_CODE="",this.s_O_NPDATE="",this.s_O_PRDATE="",this.s_O_OD_CODE="",this.s_O_ODDATE="",this.s_O_CMCODE="",this.s_C_CM_NAME="",this.s_O_TRCODE="",this.s_T_TRNAME="",this.s_O_EPCODE="",this.s_E_EPNAME="",this.s_D_LTNO="",this.s_D_STCODE="",this.s_D_STNAME="",this.s_D_USSTCODE="",this.s_D_USSTNAME="",this.f_D_ST=0,this.f_D_SW=0,this.f_D_SL=0,this.f_D_QTY=0,this.s_D_WKCODE="",this.s_D_CCCODE="",this.s_D_CHARTNO="",this.s_D_POOMNO="",this.f_D_CT=0,this.f_D_CW=0,this.f_D_CL=0,this.s_D_MYUN="",this.s_D_FCCODE="",this.n_M_KGDIV=0,this.f_M_KG=0,this.f_M_PRC1=0,this.f_M_MONEY1=0,this.f_M_TAX1=0,this.f_M_PRC2=0,this.f_M_MONEY2=0,this.f_M_TAX2=0,this.f_M_PRC3=0,this.f_M_MONEY3=0,this.f_M_TAX3=0,this.f_M_PRC4=0,this.f_M_MONEY4=0,this.f_M_TAX4=0,this.f_M_PRC5=0,this.f_M_MONEY5=0,this.f_M_TAX5=0,this.f_M_PRC6=0,this.f_M_MONEY6=0,this.f_M_TAX6=0,this.f_M_PRC7=0,this.f_M_MONEY7=0,this.f_M_TAX7=0,this.f_M_PRC8=0,this.f_M_MONEY8=0,this.f_M_TAX8=0,this.f_M_PRC9=0,this.f_M_MONEY9=0,this.f_M_TAX9=0,this.f_M_PRC10=0,this.f_M_MONEY10=0,this.f_M_TAX10=0,this.f_M_MONEYSUM=0,this.f_M_TAXSUM=0,this.s_O_MGDATE="",this.s_O_KJ_CODE="",this.s_O_TX_CODE="",this.s_O_TXDATE="",this.s_O_REM="",this.$eq=function(t){return this.s_O_NP_CODE===t.s_O_NP_CODE&&this.s_O_NPDATE===t.s_O_NPDATE&&this.s_O_PRDATE===t.s_O_PRDATE&&this.s_O_OD_CODE===t.s_O_OD_CODE&&this.s_O_ODDATE===t.s_O_ODDATE&&this.s_O_CMCODE===t.s_O_CMCODE&&this.s_C_CM_NAME===t.s_C_CM_NAME&&this.s_O_TRCODE===t.s_O_TRCODE&&this.s_T_TRNAME===t.s_T_TRNAME&&this.s_O_EPCODE===t.s_O_EPCODE&&this.s_E_EPNAME===t.s_E_EPNAME&&this.s_D_LTNO===t.s_D_LTNO&&this.s_D_STCODE===t.s_D_STCODE&&this.s_D_STNAME===t.s_D_STNAME&&this.s_D_USSTCODE===t.s_D_USSTCODE&&this.s_D_USSTNAME===t.s_D_USSTNAME&&this.f_D_ST===t.f_D_ST&&this.f_D_SW===t.f_D_SW&&this.f_D_SL===t.f_D_SL&&this.f_D_QTY===t.f_D_QTY&&this.s_D_WKCODE===t.s_D_WKCODE&&this.s_D_CCCODE===t.s_D_CCCODE&&this.s_D_CHARTNO===t.s_D_CHARTNO&&this.s_D_POOMNO===t.s_D_POOMNO&&this.f_D_CT===t.f_D_CT&&this.f_D_CW===t.f_D_CW&&this.f_D_CL===t.f_D_CL&&this.s_D_MYUN===t.s_D_MYUN&&this.s_D_FCCODE===t.s_D_FCCODE&&this.n_M_KGDIV===t.n_M_KGDIV&&this.f_M_KG===t.f_M_KG&&this.f_M_PRC1===t.f_M_PRC1&&this.f_M_MONEY1===t.f_M_MONEY1&&this.f_M_TAX1===t.f_M_TAX1&&this.f_M_PRC2===t.f_M_PRC2&&this.f_M_MONEY2===t.f_M_MONEY2&&this.f_M_TAX2===t.f_M_TAX2&&this.f_M_PRC3===t.f_M_PRC3&&this.f_M_MONEY3===t.f_M_MONEY3&&this.f_M_TAX3===t.f_M_TAX3&&this.f_M_PRC4===t.f_M_PRC4&&this.f_M_MONEY4===t.f_M_MONEY4&&this.f_M_TAX4===t.f_M_TAX4&&this.f_M_PRC5===t.f_M_PRC5&&this.f_M_MONEY5===t.f_M_MONEY5&&this.f_M_TAX5===t.f_M_TAX5&&this.f_M_PRC6===t.f_M_PRC6&&this.f_M_MONEY6===t.f_M_MONEY6&&this.f_M_TAX6===t.f_M_TAX6&&this.f_M_PRC7===t.f_M_PRC7&&this.f_M_MONEY7===t.f_M_MONEY7&&this.f_M_TAX7===t.f_M_TAX7&&this.f_M_PRC8===t.f_M_PRC8&&this.f_M_MONEY8===t.f_M_MONEY8&&this.f_M_TAX8===t.f_M_TAX8&&this.f_M_PRC9===t.f_M_PRC9&&this.f_M_MONEY9===t.f_M_MONEY9&&this.f_M_TAX9===t.f_M_TAX9&&this.f_M_PRC10===t.f_M_PRC10&&this.f_M_MONEY10===t.f_M_MONEY10&&this.f_M_TAX10===t.f_M_TAX10&&this.f_M_MONEYSUM===t.f_M_MONEYSUM&&this.f_M_TAXSUM===t.f_M_TAXSUM&&this.s_O_MGDATE===t.s_O_MGDATE&&this.s_O_KJ_CODE===t.s_O_KJ_CODE&&this.s_O_TX_CODE===t.s_O_TX_CODE&&this.s_O_TXDATE===t.s_O_TXDATE&&this.s_O_REM===t.s_O_REM},this.$assign=function(t){return this.s_O_NP_CODE=t.s_O_NP_CODE,this.s_O_NPDATE=t.s_O_NPDATE,this.s_O_PRDATE=t.s_O_PRDATE,this.s_O_OD_CODE=t.s_O_OD_CODE,this.s_O_ODDATE=t.s_O_ODDATE,this.s_O_CMCODE=t.s_O_CMCODE,this.s_C_CM_NAME=t.s_C_CM_NAME,this.s_O_TRCODE=t.s_O_TRCODE,this.s_T_TRNAME=t.s_T_TRNAME,this.s_O_EPCODE=t.s_O_EPCODE,this.s_E_EPNAME=t.s_E_EPNAME,this.s_D_LTNO=t.s_D_LTNO,this.s_D_STCODE=t.s_D_STCODE,this.s_D_STNAME=t.s_D_STNAME,this.s_D_USSTCODE=t.s_D_USSTCODE,this.s_D_USSTNAME=t.s_D_USSTNAME,this.f_D_ST=t.f_D_ST,this.f_D_SW=t.f_D_SW,this.f_D_SL=t.f_D_SL,this.f_D_QTY=t.f_D_QTY,this.s_D_WKCODE=t.s_D_WKCODE,this.s_D_CCCODE=t.s_D_CCCODE,this.s_D_CHARTNO=t.s_D_CHARTNO,this.s_D_POOMNO=t.s_D_POOMNO,this.f_D_CT=t.f_D_CT,this.f_D_CW=t.f_D_CW,this.f_D_CL=t.f_D_CL,this.s_D_MYUN=t.s_D_MYUN,this.s_D_FCCODE=t.s_D_FCCODE,this.n_M_KGDIV=t.n_M_KGDIV,this.f_M_KG=t.f_M_KG,this.f_M_PRC1=t.f_M_PRC1,this.f_M_MONEY1=t.f_M_MONEY1,this.f_M_TAX1=t.f_M_TAX1,this.f_M_PRC2=t.f_M_PRC2,this.f_M_MONEY2=t.f_M_MONEY2,this.f_M_TAX2=t.f_M_TAX2,this.f_M_PRC3=t.f_M_PRC3,this.f_M_MONEY3=t.f_M_MONEY3,this.f_M_TAX3=t.f_M_TAX3,this.f_M_PRC4=t.f_M_PRC4,this.f_M_MONEY4=t.f_M_MONEY4,this.f_M_TAX4=t.f_M_TAX4,this.f_M_PRC5=t.f_M_PRC5,this.f_M_MONEY5=t.f_M_MONEY5,this.f_M_TAX5=t.f_M_TAX5,this.f_M_PRC6=t.f_M_PRC6,this.f_M_MONEY6=t.f_M_MONEY6,this.f_M_TAX6=t.f_M_TAX6,this.f_M_PRC7=t.f_M_PRC7,this.f_M_MONEY7=t.f_M_MONEY7,this.f_M_TAX7=t.f_M_TAX7,this.f_M_PRC8=t.f_M_PRC8,this.f_M_MONEY8=t.f_M_MONEY8,this.f_M_TAX8=t.f_M_TAX8,this.f_M_PRC9=t.f_M_PRC9,this.f_M_MONEY9=t.f_M_MONEY9,this.f_M_TAX9=t.f_M_TAX9,this.f_M_PRC10=t.f_M_PRC10,this.f_M_MONEY10=t.f_M_MONEY10,this.f_M_TAX10=t.f_M_TAX10,this.f_M_MONEYSUM=t.f_M_MONEYSUM,this.f_M_TAXSUM=t.f_M_TAXSUM,this.s_O_MGDATE=t.s_O_MGDATE,this.s_O_KJ_CODE=t.s_O_KJ_CODE,this.s_O_TX_CODE=t.s_O_TX_CODE,this.s_O_TXDATE=t.s_O_TXDATE,this.s_O_REM=t.s_O_REM,this}})),rtl.recNewT(this,"ST_RES_NP_SET",(function(){this.n_count=0,this.sException="",this.$new=function(){var t=Object.create(this);return t.ITEM=[],t},this.$eq=function(t){return this.n_count===t.n_count&&this.sException===t.sException&&this.ITEM===t.ITEM},this.$assign=function(t){return this.n_count=t.n_count,this.sException=t.sException,this.ITEM=rtl.arrayRef(t.ITEM),this}}))})),rtl.module("WEBLib.Imaging.gifimg",["System"],(function(){"use strict";this.$init=function(){}})),rtl.module("WEBLib.TMSFNCStyles",["System","Classes","WEBLib.Graphics","WEBLib.Controls","WEBLib.Forms","WEBLib.TMSFNCTypes","WEBLib.TMSFNCCustomComponent","WEBLib.TMSFNCGraphicsTypes","JS"],(function(){"use strict";var t=this;rtl.createInterface(this,"ITMSFNCAdaptToStyle","{3EFF288D-3927-4E86-8E9D-EF684B501C9E}",["SetAdaptToStyle"],pas.System.IUnknown),rtl.createClass(this,"TTMSFNCStyles",pas.System.TObject,(function(){this.ExtractColor=function(t){var e=0,i="",s="",o=null,n=0,a=0;function r(t){return pas.SysUtils.StrToInt(pas.SysUtils.Trim(pas.SysUtils.StringReplace(t,"rgb(","",rtl.createSet(0))))}if(e=-1,""!==t)if(i=pas.SysUtils.LowerCase(pas.SysUtils.StringReplace(t," ","",rtl.createSet(0))),1===pas.System.Pos("linear-gradient",i))0===(n=pas.System.Pos("rgb",i))&&(n=pas.System.Pos("#",i)),a=pas.System.Pos$1(")",i,n),s=pas.System.Copy(i,n,a-n+1),0===(n=pas.System.Pos$1("rgb",i,a))&&(n=pas.System.Pos("#",i)),a=pas.System.Pos$1(")",i,n),e=this.ExtractColor(s);else if(1===pas.System.Pos("rgb",i)){o=pas.Classes.TStringList.$create("Create$1");try{o.SetDelimiter(","),o.SetDelimitedText(i),e=pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(r(o.Get(0)),r(o.Get(1)),r(o.Get(2)))}finally{o=rtl.freeLoc(o)}}else 1===pas.System.Pos("#",i)&&(e=pas["WEBLib.Graphics"].HexToColor(i));return e},this.ExtractColorTo=function(t){var e=0,i="",s="",o=null,n=0,a=0;function r(t){return pas.SysUtils.StrToInt(pas.SysUtils.Trim(pas.SysUtils.StringReplace(t,"rgb(","",rtl.createSet(0))))}if(e=-1,""!==t)if(i=pas.SysUtils.LowerCase(pas.SysUtils.StringReplace(t," ","",rtl.createSet(0))),1===pas.System.Pos("linear-gradient",i))0===(n=pas.System.Pos("rgb",i))&&(n=pas.System.Pos("#",i)),a=pas.System.Pos$1(")",i,n),0===(n=pas.System.Pos$1("rgb",i,a))&&(n=pas.System.Pos("#",i)),a=pas.System.Pos$1(")",i,n),s=pas.System.Copy(i,n,a-n+1),e=this.ExtractColor(s);else if(1===pas.System.Pos("rgb",i)){o=pas.Classes.TStringList.$create("Create$1");try{o.SetDelimiter(","),o.SetDelimitedText(i),e=pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(r(o.Get(0)),r(o.Get(1)),r(o.Get(2)))}finally{o=rtl.freeLoc(o)}}else 1===pas.System.Pos("#",i)&&(e=pas["WEBLib.Graphics"].HexToColor(i));return e},this.GetStyleBackgroundFill=function(){return this.FindCSSStyleProperty(".TMSFNCGridStyle","background")},this.GetStyleBackgroundStroke=function(){return this.FindCSSStyleProperty(".TMSFNCGridStyle","border-color")},this.GetStyleDefaultButtonFill=function(){return this.FindCSSStyleProperty(".TMSFNCButtonStyle","background")},this.GetStyleDefaultButtonStroke=function(){return this.FindCSSStyleProperty(".TMSFNCButtonStyle","border-color")},this.GetStyleHeaderFill=function(){return this.FindCSSStyleProperty(".TMSFNCHeaderItemStyle","background")},this.GetStyleSelectionFill=function(){return this.FindCSSStyleProperty(".TMSFNCGridStyle","--selection")},this.GetStyleLineFill=function(){return this.FindCSSStyleProperty(".TMSFNCGridStyle","--linefill")},this.GetStyleTextColor=function(){return this.FindCSSStyleProperty(".TMSFNCHeaderItemStyle","color")},this.FindCSSStyleRule=function(e){var i,s;i=e,s=t.CSSStyleFileName;for(var o=0;o<document.styleSheets.length;o++){var n=document.styleSheets[o].href;if(null!=n&&s==n.substring(n.lastIndexOf("/")+1))for(var a=document.styleSheets[o].rules||document.styleSheets[o].cssRules,r=0;r<a.length;r++)if(a[r].selectorText.startsWith(i))return a[r]}return null},this.FindCSSStyleProperty=function(t,e){var i="",s=null,o="";return i="",null!=(s=this.FindCSSStyleRule(t))&&(o=e,i=s.style.getPropertyValue(o)),i},this.StyleServicesEnabled=function(){return!0,!0},this.GetStyleLineFillColor=function(t){var e=!1,i="",s=0;return e=!1,this.StyleServicesEnabled()&&""!==(i=this.GetStyleLineFill())&&(s=this.ExtractColor(i),t.set(s),e=-1!==s),e},this.GetStyleBackgroundFillColor=function(t){var e=!1,i="",s=0;return e=!1,this.StyleServicesEnabled()&&""!==(i=this.GetStyleBackgroundFill())&&(s=this.ExtractColor(i),t.set(s),e=-1!==s),e},this.GetStyleBackgroundStrokeColor=function(t){var e=!1,i="",s=0;return e=!1,this.StyleServicesEnabled()&&""!==(i=this.GetStyleBackgroundStroke())&&(s=this.ExtractColor(i),t.set(s),e=-1!==s),e},this.GetStyleHeaderFillColor=function(t){var e=!1,i="",s=0;return e=!1,this.StyleServicesEnabled()&&""!==(i=this.GetStyleHeaderFill())&&(s=this.ExtractColor(i),t.set(s),e=-1!==s),e},this.GetStyleHeaderFillColorTo=function(t){var e=!1,i="",s=0;return e=!1,this.StyleServicesEnabled()&&""!==(i=this.GetStyleHeaderFill())&&(s=this.ExtractColorTo(i),t.set(s),e=-1!==s),e},this.GetStyleSelectionFillColor=function(t){var e=!1,i="",s=0;return e=!1,this.StyleServicesEnabled()&&""!==(i=this.GetStyleSelectionFill())&&(s=this.ExtractColor(i),t.set(s),e=-1!==s),e},this.GetStyleSelectionFillColorTo=function(t){var e=!1,i="",s=0;return e=!1,this.StyleServicesEnabled()&&""!==(i=this.GetStyleSelectionFill())&&(s=this.ExtractColorTo(i),t.set(s),e=-1!==s),e},this.GetStyleTextFontColor=function(t){var e=!1,i="",s=0;return e=!1,this.StyleServicesEnabled()&&""!==(i=this.GetStyleTextColor())&&(s=this.ExtractColor(i),t.set(s),e=-1!==s),e},this.GetStyleDefaultButtonFillColor=function(t){var e=!1,i="",s=0;return e=!1,this.StyleServicesEnabled()&&""!==(i=this.GetStyleDefaultButtonFill())&&(s=this.ExtractColor(i),t.set(s),e=-1!==s),e},this.GetStyleDefaultButtonStrokeColor=function(t){var e=!1,i="",s=0;return e=!1,this.StyleServicesEnabled()&&""!==(i=this.GetStyleDefaultButtonStroke())&&(s=this.ExtractColor(i),t.set(s),e=-1!==s),e}})),this.CSSStyleFileName=""}),["WEBLib.TMSFNCUtils","SysUtils","WEBLib.TMSFNCPersistence","WEBLib.TMSFNCGraphics"]),rtl.module("WEBLib.TMSFNCUndo",["System","Classes","WEBLib.TMSFNCTypes"],(function(){"use strict";rtl.createClass(this,"TTMSFNCUndoManager",pas.Classes.TCollection,(function(){}))}),["SysUtils","WEBLib.TMSFNCPersistence"]),rtl.module("WEBLib.TMSFNCCustomControl",["System","Classes","WEBLib.Controls","WEBLib.TMSFNCGraphics","WEBLib.Graphics","WEBLib.TMSFNCStyles","WEBLib.TMSFNCPersistence","WEBLib.TMSFNCUndo","Types","WEBLib.TMSFNCGraphicsTypes","WEBLib.TMSFNCTypes","TypInfo","WEBLib.Forms","WEBLib.Menus"],(function(){"use strict";var t=this;rtl.createClass(this,"TTMSFNCCustomDesignerForm",pas["WEBLib.Forms"].TForm,(function(){rtl.addIntf(this,pas.System.IUnknown)})),this.TTMSFNCControlAlignment={0:"caNone",caNone:0,1:"caTop",caTop:1,2:"caBottom",caBottom:2,3:"caLeft",caLeft:3,4:"caRight",caRight:4,5:"caClient",caClient:5},rtl.createClass(this,"TTMSFNCCustomControlBaseCommon",pas["WEBLib.Menus"].TWebCustomControl,(function(){this.$init=function(){pas["WEBLib.Menus"].TWebCustomControl.$init.call(this),this.FResourceScaleFactor=0,this.FPaintScaleFactor=0,this.FDesigntimeFormPixelsPerInch=0,this.FAllowFocus=!1,this.FAdaptToStyle=!1,this.FAdaptedToStyle=!1,this.FTransparent=!1,this.FBufferedPainting=!1,this.FNativeCanvas=!1,this.FAntiAliasing=!1,this.FOptimizedHTMLDrawing=!1,this.FShowAcceleratorChar=!1,this.FTextQuality=0,this.FOnInternalDblClick=null,this.FOnInternalMouseDown=null,this.FOnInternalMouseMove=null,this.FOnInternalMouseUp=null},this.$final=function(){this.FOnInternalDblClick=void 0,this.FOnInternalMouseDown=void 0,this.FOnInternalMouseMove=void 0,this.FOnInternalMouseUp=void 0,pas["WEBLib.Menus"].TWebCustomControl.$final.call(this)},this.GetAllowFocus=function(){return this.FAllowFocus},this.GetControlAlignment=function(){var t=0;t=0;var e=this.FAlign;return 0===e?t=0:1===e?t=1:2===e?t=2:3===e?t=3:4===e?t=4:5===e&&(t=5),t},this.SetAllowFocus=function(t){this.FAllowFocus=t},this.SetControlAlignment=function(t){var e=t;0===e?this.SetAlign(0):1===e?this.SetAlign(1):2===e?this.SetAlign(2):3===e?this.SetAlign(3):4===e?this.SetAlign(4):5===e&&this.SetAlign(5)},this.SetShowAcceleratorChar=function(t){this.FShowAcceleratorChar!==t&&(this.FShowAcceleratorChar=t,this.Invalidate())},this.ConvertScreenToClient=function(t){var e=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),i=pas.Types.TPoint.$new();return i.$assign(this.ScreenToClient(pas.Types.Point(Math.round(t.X),Math.round(t.Y)))),e.$assign(pas["WEBLib.TMSFNCTypes"].PointF(i.x,i.y)),e},this.ConvertClientToScreen=function(t){var e=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),i=pas.Types.TPoint.$new();return i.$assign(this.ClientToScreen(pas.Types.Point(Math.round(t.X),Math.round(t.Y)))),e.$assign(pas["WEBLib.TMSFNCTypes"].PointF(i.x,i.y)),e},this.GetAdaptToStyle=function(){return this.FAdaptToStyle},this.SetEnabled=function(t){pas["WEBLib.Controls"].TControl.SetEnabled.apply(this,arguments),this.Invalidate()},this.SetDefaultGraphicColors=function(){var t=0;t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleBackgroundFillColor({get:function(){return t},set:function(e){t=e}})?pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultPopupFillColor=t:pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultPopupFillColor=16777215,t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleBackgroundStrokeColor({get:function(){return t},set:function(e){t=e}})?pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultPopupStrokeColor=t:pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultPopupStrokeColor=12632256,t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleDefaultButtonFillColor({get:function(){return t},set:function(e){t=e}})?pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonFillColor=t:pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonFillColor=pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(225,225,225),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleLineFillColor({get:function(){return t},set:function(e){t=e}})?pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonStrokeColor=t:pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonStrokeColor=11119017,t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleTextFontColor({get:function(){return t},set:function(e){t=e}})?pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultTextFontColor=t:pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultTextFontColor=0,t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleSelectionFillColor({get:function(){return t},set:function(e){t=e}})?(pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultSelectionFillColor=t,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonFillColorFocused=pas["WEBLib.TMSFNCGraphicsTypes"].Blend(t,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonFillColor,25),pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonStrokeColorFocused=pas["WEBLib.TMSFNCGraphicsTypes"].Blend(t,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonStrokeColor,30)):(pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultSelectionFillColor=0,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonFillColorFocused=pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(229,241,251),pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonStrokeColorFocused=pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(60,127,177)),pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonStrokeColorDisabled=11119017,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonFillColorDisabled=13882323},this.SetAdaptToStyle=function(t){this.FAdaptToStyle=t,this.InitializeStyle()},this.CancelHint=function(){},this.InitializeStyle=function(){this.SetDefaultGraphicColors(),this.DestroyGraphicElements(),this.GetAdaptToStyle()?(this.FAdaptedToStyle=!0,this.ApplyStyle()):this.FAdaptedToStyle&&(this.ResetToDefaultStyle(),this.FAdaptedToStyle=!1),this.Invalidate()},this.ApplyStyle=function(){},this.ResetToDefaultStyle=function(){},this.HandleMouseLeave=function(){},this.HandleMouseEnter=function(){},this.HandleMouseDown=function(t,e,i,s){},this.HandleMouseMove=function(t,e,i){},this.HandleDblClick=function(t,e){},this.HandleMouseUp=function(t,e,i,s){},this.HandleKeyPress=function(t){},this.HandleKeyDown=function(t,e){},this.HandleDialogKey=function(t,e){},this.HandleKeyUp=function(t,e){},this.HandleMouseWheel=function(t,e,i){},this.HandleDragOver=function(t,e,i){},this.HandleDragDrop=function(t,e){},this.Create$1=function(t){var e=0;return pas["WEBLib.Controls"].TControl.Create$1.apply(this,arguments),e=96,this.FDesigntimeFormPixelsPerInch=e,this.FPaintScaleFactor=1,this.FResourceScaleFactor=1,this.SetDefaultGraphicColors(),this.FAdaptToStyle=!1,this.FAdaptedToStyle=!1,this.FTransparent=!1,this.FNativeCanvas=!1,this.FBufferedPainting=!1,this.FAntiAliasing=!0,this.FOptimizedHTMLDrawing=!0,this.FShowAcceleratorChar=!0,this.FTextQuality=1,this.FAllowFocus=!0,this},this.Destroy=function(){pas["WEBLib.Controls"].TCustomControl.Destroy.call(this)},this.SetControlMargins=function(t,e,i,s){this.SetAlignWithMargins(!0),this.FMargins.SetLeft(Math.round(t)),this.FMargins.SetTop(Math.round(e)),this.FMargins.SetRight(Math.round(i)),this.FMargins.SetBottom(Math.round(s))},this.GetControlMargins=function(t,e,i,s){this.FAlignWithMargins&&(t.set(this.FMargins.FLeft),e.set(this.FMargins.FTop),i.set(this.FMargins.FRight),s.set(this.FMargins.FBottom))},this.ScalePaintValue=function(t){return pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.MulDivInt(t,Math.round(100*this.FPaintScaleFactor),100)},this.ScalePaintValue$1=function(t){return t*this.FPaintScaleFactor},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),rtl.createClass(this,"TTMSFNCCustomControlBase",this.TTMSFNCCustomControlBaseCommon,(function(){this.$init=function(){t.TTMSFNCCustomControlBaseCommon.$init.call(this),this.FStored=!1,this.FHitTest=!1},this.MouseWheel=function(t,e,i){pas["WEBLib.Controls"].TControl.MouseWheel.apply(this,arguments),this.HandleMouseWheel(rtl.refSet(t),e,i)},this.DoMouseLeave=function(){pas["WEBLib.Controls"].TControl.DoMouseLeave.call(this),this.HandleMouseLeave()},this.DoMouseEnter=function(){pas["WEBLib.Controls"].TControl.DoMouseEnter.call(this),this.HandleMouseEnter()},this.GetLocalRect=function(){var t=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return t.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,this.GetWidth(),this.GetHeight())),t},this.MouseDown=function(t,e,i,s){pas["WEBLib.Controls"].TControl.MouseDown.apply(this,arguments),this.HandleMouseDown(t,rtl.refSet(e),i,s),null!=this.FOnInternalMouseDown&&this.FOnInternalMouseDown(this)},this.MouseMove=function(t,e,i){pas["WEBLib.Controls"].TControl.MouseMove.apply(this,arguments),this.HandleMouseMove(rtl.refSet(t),e,i),null!=this.FOnInternalMouseMove&&this.FOnInternalMouseMove(this)},this.MouseUp=function(t,e,i,s){pas["WEBLib.Controls"].TControl.MouseUp.apply(this,arguments),this.HandleMouseUp(t,rtl.refSet(e),i,s),null!=this.FOnInternalMouseUp&&this.FOnInternalMouseUp(this)},this.DragOver=function(t,e,i,s,o){pas["WEBLib.Controls"].TControl.DragOver.apply(this,arguments),this.HandleDragOver(t,pas["WEBLib.TMSFNCTypes"].PointF(e,i),o)},this.KeyDown=function(t,e){pas["WEBLib.Controls"].TControl.KeyDown.apply(this,arguments),this.HandleDialogKey(t,rtl.refSet(e)),this.HandleKeyDown(t,rtl.refSet(e)),t.get()},this.KeyPress=function(t){pas["WEBLib.Controls"].TControl.KeyPress.apply(this,arguments),this.HandleKeyPress(t)},this.KeyUp=function(t,e){pas["WEBLib.Controls"].TControl.KeyUp.apply(this,arguments),this.HandleKeyUp(t,rtl.refSet(e))},this.DblClick=function(){var t=pas["WEBLib.TMSFNCTypes"].TPointF.$new();pas["WEBLib.Controls"].TControl.DblClick.call(this),t.$assign(this.ConvertScreenToClient(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.GetMousePos()))),this.HandleDblClick(t.X,t.Y),null!=this.FOnInternalDblClick&&this.FOnInternalDblClick(this)},this.Create$1=function(e){return t.TTMSFNCCustomControlBaseCommon.Create$1.apply(this,arguments),this.FHitTest=!0,this.FStored=!0,this.FControlStyle=rtl.unionSet(this.FControlStyle,rtl.createSet(0)),this},this.BeginUpdate=function(){pas["WEBLib.Controls"].TControl.BeginUpdate.call(this)},this.EndUpdate=function(){pas["WEBLib.Controls"].TCustomControl.EndUpdate.call(this)},this.DragDrop=function(t,e,i){pas["WEBLib.Controls"].TControl.DragDrop.apply(this,arguments),this.HandleDragDrop(t,pas["WEBLib.TMSFNCTypes"].PointF(e,i))},this.CanFocus=function(){return pas["WEBLib.Controls"].TControl.CanFocus.call(this)&&this.GetAllowFocus()},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),this.$rtti.$MethodVar("TTMSFNCCustomControlBeforeDrawEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF],["ADefaultDraw",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCCustomControlAfterDrawEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCCustomControlCanSavePropertyEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AObject",pas.System.$rtti.TObject],["APropertyName",rtl.string],["APropertyType",pas.System.$rtti.TTypeKind],["ACanSave",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCCustomControlCanLoadPropertyEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AObject",pas.System.$rtti.TObject],["APropertyName",rtl.string],["APropertyType",pas.System.$rtti.TTypeKind],["ACanLoad",rtl.boolean,1]]),methodkind:0}),rtl.createClass(this,"TTMSFNCCustomControl",this.TTMSFNCCustomControlBase,(function(){this.$init=function(){t.TTMSFNCCustomControlBase.$init.call(this),this.FBlockInvalidate=!1,this.FExporting=!1,this.FExportRect=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),this.FOnBeforeDraw=null,this.FOnAfterDraw=null,this.FOnCanSaveProperty=null,this.FOnCanLoadProperty=null,this.FCheckedChk=null,this.FUnCheckedChk=null,this.FCheckedFocusChk=null,this.FUnCheckedFocusChk=null,this.FCheckedDisabledChk=null,this.FUnCheckedDisabledChk=null,this.FCheckedRd=null,this.FUnCheckedRd=null,this.FCheckedFocusRd=null,this.FUnCheckedFocusRd=null,this.FCheckedDisabledRd=null,this.FUnCheckedDisabledRd=null,this.FDownBtn=null,this.FNormalBtn=null,this.FDownFocusBtn=null,this.FNormalFocusBtn=null,this.FNormalDisabledBtn=null,this.FFill=null,this.FStroke=null,this.FUndoManager=null},this.$final=function(){this.FExportRect=void 0,this.FOnBeforeDraw=void 0,this.FOnAfterDraw=void 0,this.FOnCanSaveProperty=void 0,this.FOnCanLoadProperty=void 0,this.FCheckedChk=void 0,this.FUnCheckedChk=void 0,this.FCheckedFocusChk=void 0,this.FUnCheckedFocusChk=void 0,this.FCheckedDisabledChk=void 0,this.FUnCheckedDisabledChk=void 0,this.FCheckedRd=void 0,this.FUnCheckedRd=void 0,this.FCheckedFocusRd=void 0,this.FUnCheckedFocusRd=void 0,this.FCheckedDisabledRd=void 0,this.FUnCheckedDisabledRd=void 0,this.FDownBtn=void 0,this.FNormalBtn=void 0,this.FDownFocusBtn=void 0,this.FNormalFocusBtn=void 0,this.FNormalDisabledBtn=void 0,this.FFill=void 0,this.FStroke=void 0,this.FUndoManager=void 0,t.TTMSFNCCustomControlBase.$final.call(this)},this.SetFill=function(t){this.FFill.Assign(t)},this.SetStroke=function(t){this.FStroke.Assign(t)},this.GetVersionNumber=function(t,e,i,s){return"",""},this.LocalToScreenEx=function(t){var e=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),i=pas.Types.TPoint.$new();return i.$assign(this.ClientToScreen(pas.Types.Point(Math.round(t.X),Math.round(t.Y)))),e.$assign(pas["WEBLib.TMSFNCTypes"].PointF(i.x,i.y)),e},this.ScreenToLocalEx=function(t){var e=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),i=pas.Types.TPoint.$new();return i.$assign(this.ScreenToClient(pas.Types.Point(Math.round(t.X),Math.round(t.Y)))),e.$assign(pas["WEBLib.TMSFNCTypes"].PointF(i.x,i.y)),e},this.GetContentRect=function(){var t=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return t.$assign(this.GetControlRect()),t},this.GetControlRect=function(){var t=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return this.IsExporting()?t.$assign(this.FExportRect):t.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,this.GetWidth(),this.GetHeight())),t},this.GetLocalRect=function(){var e=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return this.IsExporting()?e.$assign(this.FExportRect):e.$assign(t.TTMSFNCCustomControlBase.GetLocalRect.call(this)),e},this.IsExporting=function(){return this.FExporting},this.SetColor=function(t){pas["WEBLib.Controls"].TControl.SetColor.apply(this,arguments),null!=this.FFill&&this.FFill.SetColor(t),this.Invalidate()},this.RegisterRuntimeClasses=function(){},this.ApplyStyle=function(){var e=0;t.TTMSFNCCustomControlBaseCommon.ApplyStyle.call(this),e=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleBackgroundFillColor({get:function(){return e},set:function(t){e=t}})&&this.FFill.SetColor(e),e=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleLineFillColor({get:function(){return e},set:function(t){e=t}})&&this.FStroke.SetColor(e)},this.ResetToDefaultStyle=function(){t.TTMSFNCCustomControlBaseCommon.ResetToDefaultStyle.call(this),this.FFill.SetColor(16777215),this.FStroke.SetColor(12632256)},this.DestroyGraphicElements=function(){null!=this.FDownBtn&&(rtl.free(this,"FDownBtn"),this.FDownBtn=null),null!=this.FNormalBtn&&(rtl.free(this,"FNormalBtn"),this.FNormalBtn=null),null!=this.FDownFocusBtn&&(rtl.free(this,"FDownFocusBtn"),this.FDownFocusBtn=null),null!=this.FNormalFocusBtn&&(rtl.free(this,"FNormalFocusBtn"),this.FNormalFocusBtn=null),null!=this.FNormalDisabledBtn&&(rtl.free(this,"FNormalDisabledBtn"),this.FNormalDisabledBtn=null),null!=this.FCheckedChk&&(rtl.free(this,"FCheckedChk"),this.FCheckedChk=null),null!=this.FCheckedFocusChk&&(rtl.free(this,"FCheckedFocusChk"),this.FCheckedFocusChk=null),null!=this.FUnCheckedDisabledChk&&(rtl.free(this,"FUnCheckedDisabledChk"),this.FUnCheckedDisabledChk=null),null!=this.FCheckedDisabledChk&&(rtl.free(this,"FCheckedDisabledChk"),this.FCheckedDisabledChk=null),null!=this.FUnCheckedChk&&(rtl.free(this,"FUnCheckedChk"),this.FUnCheckedChk=null),null!=this.FUnCheckedFocusChk&&(rtl.free(this,"FUnCheckedFocusChk"),this.FUnCheckedFocusChk=null),null!=this.FCheckedRd&&(rtl.free(this,"FCheckedRd"),this.FCheckedRd=null),null!=this.FCheckedFocusRd&&(rtl.free(this,"FCheckedFocusRd"),this.FCheckedFocusRd=null),null!=this.FUnCheckedRd&&(rtl.free(this,"FUnCheckedRd"),this.FUnCheckedRd=null),null!=this.FUnCheckedFocusRd&&(rtl.free(this,"FUnCheckedFocusRd"),this.FUnCheckedFocusRd=null),null!=this.FUnCheckedDisabledRd&&(rtl.free(this,"FUnCheckedDisabledRd"),this.FUnCheckedDisabledRd=null),null!=this.FCheckedDisabledRd&&(rtl.free(this,"FCheckedDisabledRd"),this.FCheckedDisabledRd=null)},this.UpdateControlAfterResize=function(){},this.CreateCheckBoxBitmaps=function(){var t,e=null,i=null;t=this.FResourceScaleFactor,null!=this.FCheckedFocusChk&&(rtl.free(this,"FCheckedFocusChk"),this.FCheckedFocusChk=null),null!=this.FUnCheckedChk&&(rtl.free(this,"FUnCheckedChk"),this.FUnCheckedChk=null),null!=this.FCheckedChk&&(rtl.free(this,"FCheckedChk"),this.FCheckedChk=null),null!=this.FUnCheckedFocusChk&&(rtl.free(this,"FUnCheckedFocusChk"),this.FUnCheckedFocusChk=null),null!=this.FUnCheckedDisabledChk&&(rtl.free(this,"FUnCheckedDisabledChk"),this.FUnCheckedDisabledChk=null),null!=this.FCheckedDisabledChk&&(rtl.free(this,"FCheckedDisabledChk"),this.FCheckedDisabledChk=null),i=pas["WEBLib.Graphics"].TBitmap.$create("Create$3"),e=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("Create$1",[i.GetCanvas(),!1]);try{i.SetSize(Math.round(16*t),Math.round(16*t)),this.FUnCheckedChk=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),this.FUnCheckedChk.FOnChange=rtl.createCallback(this,"DoBitmapChanged"),e.FFill.SetKind(1),e.FFill.SetColor(16777215),e.FStroke.SetKind(1),e.FStroke.SetColor(16777215),e.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,i.GetWidth(),i.GetHeight())),2),e.DrawCheckBox(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,i.GetWidth(),i.GetHeight())),!1,!1,!0,1),this.FUnCheckedChk.Assign(i),this.FCheckedChk=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),this.FCheckedChk.FOnChange=rtl.createCallback(this,"DoBitmapChanged"),e.FFill.SetKind(1),e.FFill.SetColor(16777215),e.FStroke.SetKind(1),e.FStroke.SetColor(16777215),e.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,i.GetWidth(),i.GetHeight())),2),e.DrawCheckBox(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,i.GetWidth(),i.GetHeight())),!0,!1,!0,1),this.FCheckedChk.Assign(i),this.FUnCheckedFocusChk=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),this.FUnCheckedFocusChk.FOnChange=rtl.createCallback(this,"DoBitmapChanged"),e.FFill.SetKind(1),e.FFill.SetColor(16777215),e.FStroke.SetKind(1),e.FStroke.SetColor(16777215),e.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,i.GetWidth(),i.GetHeight())),2),e.DrawCheckBox(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,i.GetWidth(),i.GetHeight())),!1,!0,!0,1),this.FUnCheckedFocusChk.Assign(i),this.FCheckedFocusChk=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),this.FCheckedFocusChk.FOnChange=rtl.createCallback(this,"DoBitmapChanged"),e.FFill.SetKind(1),e.FFill.SetColor(16777215),e.FStroke.SetKind(1),e.FStroke.SetColor(16777215),e.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,i.GetWidth(),i.GetHeight())),2),e.DrawCheckBox(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,i.GetWidth(),i.GetHeight())),!0,!0,!0,1),this.FCheckedFocusChk.Assign(i),this.FUnCheckedDisabledChk=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),this.FUnCheckedDisabledChk.FOnChange=rtl.createCallback(this,"DoBitmapChanged"),e.FFill.SetKind(1),e.FFill.SetColor(16777215),e.FStroke.SetKind(1),e.FStroke.SetColor(16777215),e.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,i.GetWidth(),i.GetHeight())),2),e.DrawCheckBox(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,i.GetWidth(),i.GetHeight())),!1,!1,!1,1),this.FUnCheckedDisabledChk.Assign(i),this.FCheckedDisabledChk=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),this.FCheckedDisabledChk.FOnChange=rtl.createCallback(this,"DoBitmapChanged"),e.FFill.SetKind(1),e.FFill.SetColor(16777215),e.FStroke.SetKind(1),e.FStroke.SetColor(16777215),e.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,i.GetWidth(),i.GetHeight())),2),e.DrawCheckBox(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,i.GetWidth(),i.GetHeight())),!0,!1,!1,1),this.FCheckedDisabledChk.Assign(i)}finally{e=rtl.freeLoc(e),i=rtl.freeLoc(i)}},this.CreateRadioButtonBitmaps=function(){var t,e=null,i=null;t=this.FResourceScaleFactor,null!=this.FCheckedFocusRd&&(rtl.free(this,"FCheckedFocusRd"),this.FCheckedFocusRd=null),null!=this.FUnCheckedRd&&(rtl.free(this,"FUnCheckedRd"),this.FUnCheckedRd=null),null!=this.FCheckedRd&&(rtl.free(this,"FCheckedRd"),this.FCheckedRd=null),null!=this.FUnCheckedFocusRd&&(rtl.free(this,"FUnCheckedFocusRd"),this.FUnCheckedFocusRd=null),null!=this.FUnCheckedDisabledRd&&(rtl.free(this,"FUnCheckedDisabledRd"),this.FUnCheckedDisabledRd=null),null!=this.FCheckedDisabledRd&&(rtl.free(this,"FCheckedDisabledRd"),this.FCheckedDisabledRd=null),i=pas["WEBLib.Graphics"].TBitmap.$create("Create$3"),e=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("Create$1",[i.GetCanvas(),!1]);try{i.SetSize(Math.round(16*t),Math.round(16*t)),this.FUnCheckedRd=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),this.FUnCheckedRd.FOnChange=rtl.createCallback(this,"DoBitmapChanged"),e.FFill.SetKind(1),e.FFill.SetColor(16777215),e.FStroke.SetKind(1),e.FStroke.SetColor(16777215),e.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,i.GetWidth(),i.GetHeight())),2),e.DrawRadioButton(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,i.GetWidth(),i.GetHeight())),!1,!1,!0,1),this.FUnCheckedRd.Assign(i),this.FCheckedRd=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),this.FCheckedRd.FOnChange=rtl.createCallback(this,"DoBitmapChanged"),e.FFill.SetKind(1),e.FFill.SetColor(16777215),e.FStroke.SetKind(1),e.FStroke.SetColor(16777215),e.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,i.GetWidth(),i.GetHeight())),2),e.DrawRadioButton(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,i.GetWidth(),i.GetHeight())),!0,!1,!0,1),this.FCheckedRd.Assign(i),this.FUnCheckedFocusRd=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),this.FUnCheckedFocusRd.FOnChange=rtl.createCallback(this,"DoBitmapChanged"),e.FFill.SetKind(1),e.FFill.SetColor(16777215),e.FStroke.SetKind(1),e.FStroke.SetColor(16777215),e.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,i.GetWidth(),i.GetHeight())),2),e.DrawRadioButton(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,i.GetWidth(),i.GetHeight())),!1,!0,!0,1),this.FUnCheckedFocusRd.Assign(i),this.FCheckedFocusRd=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),this.FCheckedFocusRd.FOnChange=rtl.createCallback(this,"DoBitmapChanged"),e.FFill.SetKind(1),e.FFill.SetColor(16777215),e.FStroke.SetKind(1),e.FStroke.SetColor(16777215),e.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,i.GetWidth(),i.GetHeight())),2),e.DrawRadioButton(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,i.GetWidth(),i.GetHeight())),!0,!0,!0,1),this.FCheckedFocusRd.Assign(i),this.FUnCheckedDisabledRd=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),this.FUnCheckedDisabledRd.FOnChange=rtl.createCallback(this,"DoBitmapChanged"),e.FFill.SetKind(1),e.FFill.SetColor(16777215),e.FStroke.SetKind(1),e.FStroke.SetColor(16777215),e.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,i.GetWidth(),i.GetHeight())),2),e.DrawRadioButton(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,i.GetWidth(),i.GetHeight())),!1,!1,!1,1),this.FUnCheckedDisabledRd.Assign(i),this.FCheckedDisabledRd=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),this.FCheckedDisabledRd.FOnChange=rtl.createCallback(this,"DoBitmapChanged"),e.FFill.SetKind(1),e.FFill.SetColor(16777215),e.FStroke.SetKind(1),e.FStroke.SetColor(16777215),e.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,i.GetWidth(),i.GetHeight())),2),e.DrawRadioButton(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,i.GetWidth(),i.GetHeight())),!0,!1,!1,1),this.FCheckedDisabledRd.Assign(i)}finally{e=rtl.freeLoc(e),i=rtl.freeLoc(i)}},this.DoBeforeDraw=function(t,e,i){null!=this.FOnBeforeDraw&&this.FOnBeforeDraw(this,t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i)},this.DoAfterDraw=function(t,e){null!=this.FOnAfterDraw&&this.FOnAfterDraw(this,t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e))},this.DrawBackground=function(t,e){t.FFill.Assign(this.FFill),t.FFill.SetColor(this.FColor),t.FStroke.Assign(this.FStroke),t.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),2)},this.StrokeChanged=function(t){this.Invalidate()},this.FillChanged=function(t){0!==this.FFill.FKind&&3!==this.FFill.FKind&&-1!==this.FFill.FColor?this.SetColor(this.FFill.FColor):this.SetColor(-1),this.Invalidate()},this.Draw=function(t,e){},this.DrawControl=function(){var t=null,e=null,i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=!1,o=null;this.FBufferedPainting?(t=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("CreateBitmapCanvas",[this.GetWidth(),this.GetHeight(),this.FNativeCanvas,!0])).BeginScene():t=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("Create$1",[this.GetCanvas(),this.FNativeCanvas]),t.FOptimizedHTMLDrawing=this.FOptimizedHTMLDrawing,t.GetContext().SetSize(this.GetWidth(),this.GetHeight()),t.GetContext().SetAntiAliasing(this.FAntiAliasing),t.GetContext().SetShowAcceleratorChar(this.FShowAcceleratorChar),t.GetContext().SetTextQuality(this.FTextQuality);try{if(i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,this.GetWidth(),this.GetHeight())),s=!0,this.DoBeforeDraw(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),{get:function(){return s},set:function(t){s=t}}),s&&(this.DrawBackground(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i)),this.Draw(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i)),this.DoAfterDraw(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i))),this.FBufferedPainting&&t.EndScene(),t.GetContext().Render(),this.FBufferedPainting){o=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3");try{o.Assign(t.FBitmap),e=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("Create$1",[this.GetCanvas(),!1]);try{e.GetContext().SetSize(this.GetWidth(),this.GetHeight()),e.GetContext().SetAntiAliasing(this.FAntiAliasing),e.GetContext().SetShowAcceleratorChar(this.FShowAcceleratorChar),e.GetContext().SetTextQuality(this.FTextQuality),e.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),o,!0,!1,!0,!1)}finally{e=rtl.freeLoc(e)}}finally{o=rtl.freeLoc(o)}}}finally{t=rtl.freeLoc(t)}},this.DoBitmapChanged=function(t){this.FBlockInvalidate||(this.FBlockInvalidate=!0,this.Invalidate(),this.FBlockInvalidate=!1)},this.CaptureEx=function(){this.Capture()},this.ReleaseCaptureEx=function(){this.ReleaseCapture()},this.Assign=function(e){t.TTMSFNCCustomControl.isPrototypeOf(e)?(this.FFill.Assign(rtl.as(e,t.TTMSFNCCustomControl).FFill),this.FStroke.Assign(rtl.as(e,t.TTMSFNCCustomControl).FStroke)):pas["WEBLib.Controls"].TControl.Assign.apply(this,arguments)},this.Create$1=function(e){return t.TTMSFNCCustomControlBase.Create$1.apply(this,arguments),this.SetColor(16777215),this.FLinkTouchEvents=!0,this.FAllowTouch=!1,this.SetTabStop(!0),this.FFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,16777215,8421504,-1,-1]),this.FStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,12632256]),this.FFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.IsDesignerForm()||this.RegisterRuntimeClasses(),this},this.Destroy=function(){null!=this.FUndoManager&&(rtl.free(this,"FUndoManager"),this.FUndoManager=null),null!=this.FDownBtn&&(rtl.free(this,"FDownBtn"),this.FDownBtn=null),null!=this.FNormalBtn&&(rtl.free(this,"FNormalBtn"),this.FNormalBtn=null),null!=this.FDownFocusBtn&&(rtl.free(this,"FDownFocusBtn"),this.FDownFocusBtn=null),null!=this.FNormalFocusBtn&&(rtl.free(this,"FNormalFocusBtn"),this.FNormalFocusBtn=null),null!=this.FNormalDisabledBtn&&(rtl.free(this,"FNormalDisabledBtn"),this.FNormalDisabledBtn=null),null!=this.FCheckedChk&&(rtl.free(this,"FCheckedChk"),this.FCheckedChk=null),null!=this.FCheckedFocusChk&&(rtl.free(this,"FCheckedFocusChk"),this.FCheckedFocusChk=null),null!=this.FUnCheckedDisabledChk&&(rtl.free(this,"FUnCheckedDisabledChk"),this.FUnCheckedDisabledChk=null),null!=this.FCheckedDisabledChk&&(rtl.free(this,"FCheckedDisabledChk"),this.FCheckedDisabledChk=null),null!=this.FUnCheckedChk&&(rtl.free(this,"FUnCheckedChk"),this.FUnCheckedChk=null),null!=this.FUnCheckedFocusChk&&(rtl.free(this,"FUnCheckedFocusChk"),this.FUnCheckedFocusChk=null),null!=this.FCheckedRd&&(rtl.free(this,"FCheckedRd"),this.FCheckedRd=null),null!=this.FCheckedFocusRd&&(rtl.free(this,"FCheckedFocusRd"),this.FCheckedFocusRd=null),null!=this.FUnCheckedRd&&(rtl.free(this,"FUnCheckedRd"),this.FUnCheckedRd=null),null!=this.FUnCheckedFocusRd&&(rtl.free(this,"FUnCheckedFocusRd"),this.FUnCheckedFocusRd=null),null!=this.FUnCheckedDisabledRd&&(rtl.free(this,"FUnCheckedDisabledRd"),this.FUnCheckedDisabledRd=null),null!=this.FCheckedDisabledRd&&(rtl.free(this,"FCheckedDisabledRd"),this.FCheckedDisabledRd=null),rtl.free(this,"FFill"),rtl.free(this,"FStroke"),t.TTMSFNCCustomControlBaseCommon.Destroy.call(this)},this.GetCheckBoxBitmap=function(t,e,i){return null!=this.FCheckedChk&&null!=this.FCheckedFocusChk&&null!=this.FUnCheckedChk&&null!=this.FUnCheckedFocusChk&&null!=this.FCheckedDisabledChk&&null!=this.FUnCheckedDisabledChk||this.CreateCheckBoxBitmaps(),t?i?e?this.FCheckedFocusChk:this.FCheckedChk:this.FCheckedDisabledChk:i?e?this.FUnCheckedFocusChk:this.FUnCheckedChk:this.FUnCheckedDisabledChk},this.GetRadioButtonBitmap=function(t,e,i){return null!=this.FCheckedRd&&null!=this.FCheckedFocusRd&&null!=this.FUnCheckedRd&&null!=this.FUnCheckedFocusRd&&null!=this.FCheckedDisabledRd&&null!=this.FUnCheckedDisabledRd||this.CreateRadioButtonBitmaps(),t?i?e?this.FCheckedFocusRd:this.FCheckedRd:this.FCheckedDisabledRd:i?e?this.FUnCheckedFocusRd:this.FUnCheckedRd:this.FUnCheckedDisabledRd},this.IsDesignTime=function(){var t=!1;return t=!1,null!=this.FOwner&&(t=this.IsDesigning()&&!(1 in this.FOwner.FComponentState||0 in this.FOwner.FComponentState)),t},this.IsLoading=function(){var t=!1;return t=!1,null!=this.FOwner&&(t=0 in this.FOwner.FComponentState),t},this.IsReading=function(){var t=!1;return t=!1,null!=this.FOwner&&(t=1 in this.FOwner.FComponentState),t},this.IsDesigning=function(){return 4 in this.FComponentState||null!=pas["WEBLib.Forms"].VSIDE},this.IsDesignerForm=function(){var e,i=!1;return e=pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.GetOwnerForm(this),i=this.IsDesigning(),null!=e&&(i=i||t.TTMSFNCCustomDesignerForm.isPrototypeOf(e)),i},this.IsDestroying=function(){return 3 in this.FComponentState},this.DisableBackground=function(){this.FFill.SetKind(0),this.FStroke.SetKind(0),this.SetColor(-1)},this.Resize=function(){pas["WEBLib.Controls"].TCustomControl.Resize.call(this),this.UpdateControlAfterResize()},this.Paint=function(){pas["WEBLib.Controls"].TCustomControl.Paint.call(this),this.DrawControl()},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]]),e.addProperty("AdaptToStyle",3,rtl.boolean,"GetAdaptToStyle","SetAdaptToStyle",{Default:!1}),e.addProperty("AllowFocus",3,rtl.boolean,"GetAllowFocus","SetAllowFocus",{Default:!0}),e.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),e.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),e.addProperty("DoubleBuffered",0,rtl.boolean,"FDoubleBuffered","FDoubleBuffered",{Default:!1}),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor"),e.addProperty("Margins",2,pas["WEBLib.Controls"].$rtti.TMargins,"FMargins","SetMargins"),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),e.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),e.addProperty("ParentDoubleBuffered",0,rtl.boolean,"FParentDoubleBuffered","FParentDoubleBuffered",{Default:!0}),e.addProperty("TabStop",2,rtl.boolean,"FTabStop","SetTabStop",{Default:!0}),e.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),e.addProperty("Hint",2,rtl.string,"FHint","SetHint"),e.addProperty("TabOrder",2,rtl.longint,"FTabOrder","SetTabOrder"),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),e.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),e.addProperty("OnEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnEnter","FOnEnter"),e.addProperty("OnExit",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnExit","FOnExit"),e.addProperty("OnKeyDown",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyDown","FOnKeyDown"),e.addProperty("OnKeyPress",0,pas["WEBLib.Controls"].$rtti.TKeyPressEvent,"FOnKeyPress","FOnKeyPress"),e.addProperty("OnKeyUp",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyUp","FOnKeyUp"),e.addProperty("OnMouseDown",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseDown","FOnMouseDown"),e.addProperty("OnMouseEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseEnter","FOnMouseEnter"),e.addProperty("OnMouseLeave",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseLeave","FOnMouseLeave"),e.addProperty("OnMouseMove",0,pas["WEBLib.Controls"].$rtti.TMouseMoveEvent,"FOnMouseMove","FOnMouseMove"),e.addProperty("OnMouseUp",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseUp","FOnMouseUp"),e.addProperty("OnMouseWheel",0,pas["WEBLib.Controls"].$rtti.TMouseWheelEvent,"FOnMouseWheel","FOnMouseWheel"),e.addProperty("OnMouseWheelUp",0,pas["WEBLib.Controls"].$rtti.TMouseWheelUpDownEvent,"FOnMouseWheelUp","FOnMouseWheelUp"),e.addProperty("OnMouseWheelDown",0,pas["WEBLib.Controls"].$rtti.TMouseWheelUpDownEvent,"FOnMouseWheelDown","FOnMouseWheelDown"),e.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),e.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),e.addProperty("PopupMenu",0,pas["WEBLib.Menus"].$rtti.TPopupMenu,"FPopupMenu","FPopupMenu"),e.addProperty("OnResize",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnResize","FOnResize"),e.addProperty("ShowAcceleratorChar",2,rtl.boolean,"FShowAcceleratorChar","SetShowAcceleratorChar",{Default:!0}),e.addProperty("OnBeforeDraw",0,t.$rtti.TTMSFNCCustomControlBeforeDrawEvent,"FOnBeforeDraw","FOnBeforeDraw"),e.addProperty("OnAfterDraw",0,t.$rtti.TTMSFNCCustomControlAfterDrawEvent,"FOnAfterDraw","FOnAfterDraw"),e.addProperty("OnCanSaveProperty",0,t.$rtti.TTMSFNCCustomControlCanSavePropertyEvent,"FOnCanSaveProperty","FOnCanSaveProperty"),e.addProperty("OnCanLoadProperty",0,t.$rtti.TTMSFNCCustomControlCanLoadPropertyEvent,"FOnCanLoadProperty","FOnCanLoadProperty")}))}),["WEBLib.TMSFNCUtils","SysUtils","WEBLib.StdCtrls"]),rtl.module("WEBLib.TMSFNCPopup",["System","Classes","WEBLib.Controls","WEBLib.TMSFNCCustomComponent","WEBLib.TMSFNCGraphics","WEBLib.Graphics","WEBLib.TMSFNCTypes","WEBLib.TMSFNCGraphicsTypes","WEBLib.Forms","WEBLib.ExtCtrls","Types","Web"],(function(){"use strict";var t=this,e=t.$impl;this.MAJ_VER=1,this.MIN_VER=0,this.REL_VER=0,this.BLD_VER=5,this.TTMSFNCPopupPlacement={0:"ppBottom",ppBottom:0,1:"ppTop",ppTop:1,2:"ppLeft",ppLeft:2,3:"ppRight",ppRight:3,4:"ppCenter",ppCenter:4,5:"ppBottomCenter",ppBottomCenter:5,6:"ppTopCenter",ppTopCenter:6,7:"ppLeftCenter",ppLeftCenter:7,8:"ppRightCenter",ppRightCenter:8,9:"ppAbsolute",ppAbsolute:9,10:"ppMouse",ppMouse:10,11:"ppMouseCenter",ppMouseCenter:11,12:"ppAboveMouse",ppAboveMouse:12,13:"ppAboveMouseCenter",ppAboveMouseCenter:13},this.$rtti.$Enum("TTMSFNCPopupPlacement",{minvalue:0,maxvalue:13,ordtype:1,enumtype:this.TTMSFNCPopupPlacement}),this.$rtti.$MethodVar("TTMSFNCPopupPaint",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF]]),methodkind:0}),rtl.createClass(this,"TCustomPaintedForm",pas["WEBLib.Forms"].TCustomForm,(function(){this.$init=function(){pas["WEBLib.Forms"].TCustomForm.$init.call(this),this.FPaintBox=null},this.$final=function(){this.FPaintBox=void 0,pas["WEBLib.Forms"].TCustomForm.$final.call(this)},this.GetCanvas$1=function(){return this.CreateCanvas(),this.FPaintBox.GetCanvas()},this.DoPaint=function(t){this.Paint()},this.Paint=function(){pas["WEBLib.Forms"].TCustomForm.Paint.call(this),null!=this.FOnPaint&&this.FOnPaint(this)},this.CreateCanvas=function(){null==this.FPaintBox&&(this.FPaintBox=pas["WEBLib.ExtCtrls"].TPaintBox.$create("Create$1",[this]),this.FPaintBox.SetParent(this),this.FPaintBox.SetAlign(5),this.FPaintBox.FOnPaint=rtl.createCallback(this,"DoPaint"))},rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TTMSFNCCustomPopupForm",this.TCustomPaintedForm,(function(){this.$init=function(){t.TCustomPaintedForm.$init.call(this),this.FPreferedDisplayIndex=0,this.FHintWindow=!1,this.FTimer=null,this.FFirstShow=!1,this.FOwner$1=null,this.FShowModal=!1,this.FPlacement=0,this.FRealPlacement=0,this.FPlacementControl=null,this.FOffset=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),this.FSize=pas["WEBLib.TMSFNCTypes"].TSizeF.$new(),this.FPlacementRectangle=null,this.FScreenPlacementRect=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),this.FPlacementChanged=!1,this.FDragWithParent=!1,this.FOnBeforeClose=null,this.FOnBeforeShow=null,this.FScreenContentRect=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),this.FContentPadding=null,this.FContentControl=null,this.FOnRealPlacementChanged=null,this.FOnPopupPaint=null},this.$final=function(){this.FTimer=void 0,this.FOwner$1=void 0,this.FPlacementControl=void 0,this.FOffset=void 0,this.FSize=void 0,this.FPlacementRectangle=void 0,this.FScreenPlacementRect=void 0,this.FOnBeforeClose=void 0,this.FOnBeforeShow=void 0,this.FScreenContentRect=void 0,this.FContentPadding=void 0,this.FContentControl=void 0,this.FOnRealPlacementChanged=void 0,this.FOnPopupPaint=void 0,t.TCustomPaintedForm.$final.call(this)},this.SetOffset=function(t){this.FOffset.X===t.X&&this.FOffset.Y===t.Y||(this.FOffset.$assign(t),this.ApplyPlacement())},this.SetSize=function(t){this.FSize.cx===t.cx&&this.FSize.cy===t.cy||(this.FSize.$assign(t),this.ApplyPlacement())},this.TimerProc=function(t){(this.FVisible||this.FHintWindow)&&(this.FFirstShow||this.FDragWithParent)&&this.ApplyPlacement(),(this.FVisible||this.FHintWindow)&&this.FFirstShow&&(this.FFirstShow=!1)},this.SetPlacementRectangle=function(t){this.FPlacementRectangle.Assign(t)},this.SetPlacement=function(t){this.FPlacement!==t&&(this.FPlacement=t,this.ApplyPlacement())},this.SetPlacementControl=function(t){this.FPlacementControl!==t&&(null!==this.FPlacementControl&&this.FPlacementControl.RemoveFreeNotification(this),this.FPlacementControl=t,null!==this.FPlacementControl&&this.FPlacementControl.FreeNotification(this))},this.SetDragWithParent=function(t){this.FDragWithParent=t},this.SetContentControl=function(t){if(this.FContentControl!==t&&(null!==this.FContentControl&&this.FContentControl.RemoveFreeNotification(this),this.FContentControl=t,null!==this.FContentControl)){this.FContentControl.FreeNotification(this);try{this.FContentControl.SetParent(this),this.FContentControl.SetAlign(0),this.FContentControl.SetVisible(!0)}finally{}}},this.DoBeforeShow=function(){this.FHintWindow=!1,null!=this.FOnBeforeShow&&this.FOnBeforeShow(this),this.FFirstShow=!0,null==this.FTimer&&(this.FTimer=pas["WEBLib.ExtCtrls"].TTimer.$create("Create$1",[this])),this.FTimer.SetInterval(20),this.FTimer.FOnTimer=rtl.createCallback(this,"TimerProc"),this.FTimer.SetEnabled(!0)},this.DoBeforeClose=function(){null!=this.FOnBeforeClose&&this.FOnBeforeClose(this)},this.UpdateBounds=function(t){this.SetBounds(Math.round(t.Left),Math.round(t.Top),Math.round(t.Right-t.Left),Math.round(t.Bottom-t.Top))},this.DoClose=function(t){t.set(2),pas["WEBLib.Forms"].TCustomForm.DoClose.apply(this,arguments),0!==t.get()&&null!=this.FTimer&&this.FTimer.SetEnabled(!1)},this.DoApplyPlacement=function(){var t,e,i,s,o,n,a,r=this,l=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),h=pas.Types.TPoint.$new(),F=pas.Types.TPoint.$new(),p=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),C=0,u=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),d=0,c=!1,S=pas["WEBLib.TMSFNCTypes"].TSizeF.$new(),T=!1;this.FPlacementChanged=!1,u.$assign(this.FOffset),C=this.FPlacement,d=0;do{p.$assign(pas["WEBLib.TMSFNCTypes"].RectF(this.FPlacementRectangle.FLeft,this.FPlacementRectangle.FTop,this.FPlacementRectangle.FRight,this.FPlacementRectangle.FBottom)),null!==this.FPlacementControl&&this.FPlacementRectangle.Empty()&&p.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,this.FPlacementControl.GetWidth(),this.FPlacementControl.GetHeight())),null===this.FPlacementControl&&this.FPlacementRectangle.Empty()&&rtl.createSet(9,10,11,12,13),this.FScreenPlacementRect.$assign(p),C in rtl.createSet(1,6)?pas["WEBLib.TMSFNCTypes"].OffsetRectEx$1(p,0,this.FContentPadding.FBottom-u.Y):pas["WEBLib.TMSFNCTypes"].OffsetRectEx$1(p,0,u.Y-this.FContentPadding.FTop),C in rtl.createSet(2,7)?pas["WEBLib.TMSFNCTypes"].OffsetRectEx$1(p,this.FContentPadding.FRight-u.X,0):pas["WEBLib.TMSFNCTypes"].OffsetRectEx$1(p,u.X-this.FContentPadding.FLeft,0),T=!(C in rtl.createSet(9,10,11,12,13)),S.$assign(this.FSize);var m=C;0===m?pas["WEBLib.TMSFNCTypes"].OffsetRectEx$1(p,0,p.Bottom-p.Top):1===m?pas["WEBLib.TMSFNCTypes"].OffsetRectEx$1(p,0,-S.cy):2===m?pas["WEBLib.TMSFNCTypes"].OffsetRectEx$1(p,-S.cx,0):3===m?pas["WEBLib.TMSFNCTypes"].OffsetRectEx$1(p,p.Right-p.Top,0):4===m?pas["WEBLib.TMSFNCTypes"].OffsetRectEx$1(p,(p.Right-p.Top-S.cx)/2,(p.Bottom-p.Top-S.cy)/2):5===m?pas["WEBLib.TMSFNCTypes"].OffsetRectEx$1(p,(p.Right-p.Top-S.cx)/2,p.Bottom-p.Top):6===m?pas["WEBLib.TMSFNCTypes"].OffsetRectEx$1(p,(p.Right-p.Top-S.cx)/2,-S.cy):7===m?pas["WEBLib.TMSFNCTypes"].OffsetRectEx$1(p,-S.cx,(p.Bottom-p.Top-S.cy)/2):8===m?pas["WEBLib.TMSFNCTypes"].OffsetRectEx$1(p,p.Right-p.Top,(p.Bottom-p.Top-S.cy)/2):9===m?this.FPlacementRectangle.Empty()?p.$assign(pas["WEBLib.TMSFNCTypes"].RectF(this.FPlacementRectangle.Rect().Left,this.FPlacementRectangle.Rect().Top,this.FPlacementRectangle.Rect().Left+S.cx,this.FPlacementRectangle.Rect().Top+S.cy)):p.$assign(this.FPlacementRectangle.Rect()):10!==m&&11!==m&&12!==m&&13!==m||(l.$assign(pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.GetMousePos()),p.$assign(pas["WEBLib.TMSFNCTypes"].RectF(l.X,l.Y,l.X+S.cx,l.Y+S.cy)),11===C&&pas["WEBLib.TMSFNCTypes"].OffsetRectEx$1(p,-S.cx/2,-S.cy/2),13===C&&pas["WEBLib.TMSFNCTypes"].OffsetRectEx$1(p,-S.cx/2,-S.cy-5),12===C&&pas["WEBLib.TMSFNCTypes"].OffsetRectEx$1(p,0,-S.cy-5)),T&&(F.$assign(pas.Types.Point(Math.round(p.Left),Math.round(p.Top))),null!==this.FPlacementControl&&(F.$assign(this.FPlacementControl.ClientToScreen(F)),h.$assign(pas.Types.Point(Math.round(this.FScreenPlacementRect.Left),Math.round(this.FScreenPlacementRect.Top))),h.$assign(this.FPlacementControl.ClientToScreen(h)),this.FScreenPlacementRect.Left=h.x,this.FScreenPlacementRect.Top=h.y,h.$assign(pas.Types.Point(Math.round(this.FScreenPlacementRect.Right),Math.round(this.FScreenPlacementRect.Bottom))),h.$assign(this.FPlacementControl.ClientToScreen(h)),this.FScreenPlacementRect.Right=h.x,this.FScreenPlacementRect.Bottom=h.y),p.$assign(pas["WEBLib.TMSFNCTypes"].RectF(F.x,F.y,F.x+this.FSize.cx,F.y+this.FSize.cy))),t=p,e=rtl.refSet(this.FComponentState),i=void 0,s=void 0,o=void 0,n=void 0,a=void 0,i=!1,s=pas.Types.TRect.$new(),o=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),n=0,a=0,i=!0,t.Left=Math.round(t.Left),t.Top=Math.round(t.Top),t.Right=Math.round(t.Right),t.Bottom=Math.round(t.Bottom),s.Left=0,s.Top=0,s.Right=pas["WEBLib.Forms"].WinWidth(),s.Bottom=pas["WEBLib.Forms"].WinHeight(),o.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Left-r.FContentPadding.FLeft,s.Top-r.FContentPadding.FTop,s.Right+r.FContentPadding.FRight,s.Bottom+r.FContentPadding.FBottom)),4 in e||(n=t.Right-t.Left,a=t.Bottom-t.Top,t.Left>o.Left?t.Left>o.Right-n&&(t.Left=o.Right-n,3===C&&(C=2,i=!1),8===C&&(C=7,i=!1)):(t.Left=o.Left,2===C&&(C=3,i=!1),7===C&&(C=8,i=!1)),t.Top>o.Top?t.Top>o.Bottom-a&&(t.Top=o.Bottom-a,0===C&&(C=1,i=!1),5===C&&(C=6,i=!1)):(t.Top=o.Top,1===C&&(C=0,i=!1),6===C&&(C=5,i=!1)),t.Right=t.Left+n,t.Bottom=t.Top+a),c=i,d+=1}while(!(c||d>1));this.FScreenContentRect.$assign(p),this.FScreenContentRect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(this.FScreenContentRect.Left+this.FContentPadding.FLeft,this.FScreenContentRect.Top+this.FContentPadding.FTop,this.FScreenContentRect.Right-this.FContentPadding.FRight,this.FScreenContentRect.Bottom-this.FContentPadding.FBottom)),this.FRealPlacement=C,this.UpdateBounds(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(p))},this.Loaded=function(){pas["WEBLib.Forms"].TCustomForm.Loaded.call(this),this.FPlacementChanged&&this.ApplyPlacement()},this.Notification=function(t,e){pas.Classes.TComponent.Notification.apply(this,arguments),1===e&&(t===this.FPlacementControl&&(this.FPlacementControl=null,this.ApplyPlacement()),t===this.FContentControl&&(this.FContentControl=null))},this.DoRealPlacementChanged=function(){null!=this.FOnRealPlacementChanged&&this.FOnRealPlacementChanged(this)},this.CreateNew=function(t,e){function i(e){var i="",s=0;for(s=0,i=e;null!==pas["WEBLib.Controls"].FindGlobalComponent(i)||null!==t&&null!==t.FindComponent(i);)s+=1,i=pas.SysUtils.Format("%s_%d",pas.System.VarRecs(18,e,0,s));return i}this.SetName(i("CustomPopupForm")),pas["WEBLib.Forms"].TCustomForm.CreateNew.apply(this,arguments),this.FPreferedDisplayIndex=-1,this.FOwner$1=t,this.FDragWithParent=!0,this.FPlacementRectangle=pas["WEBLib.TMSFNCTypes"].TTMSFNCMargins.$create("Create$1"),this.FContentPadding=pas["WEBLib.TMSFNCTypes"].TTMSFNCMargins.$create("Create$1"),this.FSize.cx=320,this.FSize.cy=200,this.FPlacement=0,this.FRealPlacement=this.FPlacement,this.SetVisible(!1);try{this.SetBorder(0),this.SetPosition(0)}finally{}return this},this.Create$8=function(t,e){this.CreateNew(t,0);try{null!==e&&(this.FPlacementControl=e),null!==this.FPlacementControl&&this.FPlacementControl.FreeNotification(this)}finally{}return this},this.Destroy=function(){pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FTimer},set:function(t){this.p.FTimer=t}}),null!==this.FPlacementControl&&(this.FPlacementControl.RemoveFreeNotification(this),this.FPlacementControl=null),pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FContentPadding},set:function(t){this.p.FContentPadding=t}}),pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FPlacementRectangle},set:function(t){this.p.FPlacementRectangle=t}}),pas["WEBLib.Forms"].TCustomForm.Destroy.call(this)},this.ApplyPlacement=function(){var t,e=pas.Types.TRect.$new(),i=pas.Types.TRect.$new();e.$assign(pas.Types.Rect(this.GetLeft(),this.GetTop(),this.GetLeft()+this.GetWidth(),this.GetTop()+this.GetHeight())),t=this.FRealPlacement,this.DoApplyPlacement(),i.$assign(pas.Types.Rect(this.GetLeft(),this.GetTop(),this.GetLeft()+this.GetWidth(),this.GetTop()+this.GetHeight())),i.Left===e.Left&&i.Top===e.Top&&i.Bottom===e.Bottom&&i.Right===e.Right&&t===this.FRealPlacement||this.DoRealPlacementChanged()},this.KeyDown=function(t,e){if(pas["WEBLib.Controls"].TControl.KeyDown.apply(this,arguments),!rtl.neSet(e,{})){var i=t.get();27!==i&&115!==i||this.Close()}},this.CloseQuery=function(){var t;return(t=pas["WEBLib.Forms"].TCustomForm.CloseQuery.call(this))&&!(3 in this.FComponentState)&&this.DoBeforeClose(),t},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addMethod("CreateNew",2,[["AOwner",pas.Classes.$rtti.TComponent],["Dummy",rtl.longint]]),e.addMethod("Create$8",2,[["AOwner",pas.Classes.$rtti.TComponent],["APlacementControl",pas["WEBLib.Controls"].$rtti.TControl]])})),rtl.createClass(this,"TTMSFNCCustomPopup",pas["WEBLib.TMSFNCCustomComponent"].TTMSFNCCustomComponent,(function(){this.$init=function(){pas["WEBLib.TMSFNCCustomComponent"].TTMSFNCCustomComponent.$init.call(this),this.FCloseTime=0,this.FCheckTime=!1,this.FDestroyingPopup=!1,this.FOwner$1=null,this.FPlacementControl=null,this.FPopupForm=null,this.FStaysOpen=!1,this.FPlacement=0,this.FPlacementRectangle=null,this.FHorizontalOffset=0,this.FVerticalOffset=0,this.FDragWithParent=!1,this.FModalResult=0,this.FModal=!1,this.FOnClosePopup=null,this.FOnPopup=null,this.FPopupFormSize=pas["WEBLib.TMSFNCTypes"].TSizeF.$new(),this.FContentControl=null,this.FDropDownHeight=0,this.FDropDownWidth=0,this.FFocusable=!1,this.FFocusedControl=null,this.FOnPopupPaint=null,this.FOnPopupShown=null,this.FIsOpen=!1,this.FFillColor=0,this.FStrokeColor=0},this.$final=function(){this.FOwner$1=void 0,this.FPlacementControl=void 0,this.FPopupForm=void 0,this.FPlacementRectangle=void 0,this.FOnClosePopup=void 0,this.FOnPopup=void 0,this.FPopupFormSize=void 0,this.FContentControl=void 0,this.FFocusedControl=void 0,this.FOnPopupPaint=void 0,this.FOnPopupShown=void 0,pas["WEBLib.TMSFNCCustomComponent"].TTMSFNCCustomComponent.$final.call(this)},this.SetIsOpen=function(t){if(this.FIsOpen!==t){if(!1,!(null!=pas["WEBLib.Forms"].VSIDE)&&4 in this.FComponentState)return void(this.FIsOpen=!1);t?this.DoCreatePopup(!1):this.HasPopupForm()?this.FPopupForm.Close():this.FIsOpen=t}},this.SetPlacementRectangle=function(t){this.FPlacementRectangle.Assign(t)},this.SetModalResult=function(t){this.FModalResult=t,null!=this.FPopupForm&&this.FPopupForm.SetModalResult(this.FModalResult)},this.SetPlacementControl=function(t){this.FPlacementControl!==t&&(null!==this.FPlacementControl&&this.FPlacementControl.RemoveFreeNotification(this),this.FPlacementControl=t,this.HasPopupForm()&&this.FPopupForm.SetPlacementControl(this.FPlacementControl),null!==this.FPlacementControl&&this.FPlacementControl.FreeNotification(this))},this.SetPlacement=function(t){this.FPlacement!==t&&(this.FPlacement=t,this.HasPopupForm()&&this.FPopupForm.SetPlacement(this.FPlacement))},this.SetDragWithParent=function(t){this.FDragWithParent!==t&&(this.FDragWithParent=t,this.HasPopupForm()&&this.FPopupForm.SetDragWithParent(this.FDragWithParent))},this.BeforeShowProc=function(t){this.FIsOpen=!0,this.DoPopup()},this.BeforeCloseProc=function(t){this.FIsOpen=!1},this.CloseProc=function(t,e){this.ClosePopup()},this.ShowProc=function(t){null!=this.FPopupForm&&this.FPopupForm.FShowModal&&this.HandleFocusedControl(),this.DoPopupShown()},this.DeactivateProc=function(t){3 in this.FComponentState||null==this.FPopupForm||this.FPopupForm.FShowModal||this.FStaysOpen||(this.FPopupForm.SetVisible(!1),this.FPopupForm.Close(),this.FCloseTime=e.GetTickCountX(),this.FCheckTime=!0)},this.SetPopupFormSize=function(t){this.FPopupFormSize.cx===t.cx&&this.FPopupFormSize.cy===t.cy||(this.FPopupFormSize.$assign(t),this.UpdatePopupSize())},this.UpdatePopupSize=function(){var t=pas["WEBLib.TMSFNCTypes"].TSizeF.$new();null!==this.FPopupForm&&(this.FPopupFormSize.cx>0?t.cx=this.FPopupFormSize.cx:t.cx=this.FDropDownWidth,this.FPopupFormSize.cy>0?t.cy=this.FPopupFormSize.cy:t.cy=this.FDropDownHeight,this.FPopupForm.SetSize(t))},this.SetContentControl=function(t){null===t&&null!=this.FContentControl&&this.FContentControl.SetVisible(!0),this.FContentControl=t,null!=this.FContentControl&&(this.FContentControl.SetVisible(!1),this.SetDropDownWidth(this.FContentControl.GetWidth()),this.SetDropDownHeight(this.FContentControl.GetHeight()))},this.SetDropDownHeight=function(t){this.FDropDownHeight!==t&&(this.FDropDownHeight=t,null!=this.FPopupForm&&this.FPopupForm.SetHeight(Math.round(t)))},this.SetDropDownWidth=function(t){this.FDropDownWidth!==t&&(this.FDropDownWidth=t,null!=this.FPopupForm&&this.FPopupForm.SetWidth(Math.round(t)))},this.GetVersion=function(){return this.$class.GetVersionNumber(1,0,0,5)},this.SetAdaptToStyle=function(t){var e=null,i=rtl.createIntfRefs();try{pas["WEBLib.TMSFNCCustomComponent"].TTMSFNCCustomComponent.SetAdaptToStyle.apply(this,arguments),null!=this.FContentControl&&pas.SysUtils.Supports$1(i.ref(1,rtl.queryIntfT(this.FContentControl,pas.System.IUnknown)),rtl.getIntfGUIDR(pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),{get:function(){return e},set:function(t){e=t}})&&e.SetAdaptToStyle(this.FAdaptToStyle)}finally{i.free(),rtl._Release(e)}},this.ShowPopup=function(t){t?this.FModalResult=this.FPopupForm.ShowModal():(this.FPopupForm.Show$1(),this.HandleFocusedControl())},this.HandleFocusedControl=function(){var t=null;null!=this.FPopupForm&&null!=this.FFocusedControl&&(this.FPopupForm.FShowModal||null!=(t=pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.GetParentForm(this.FFocusedControl))&&t!==this.FPopupForm&&t.SetFocus(),pas["WEBLib.Controls"].TControl.isPrototypeOf(this.FFocusedControl)&&rtl.as(this.FFocusedControl,pas["WEBLib.Controls"].TControl).CanFocus()&&rtl.as(this.FFocusedControl,pas["WEBLib.Controls"].TControl).SetFocus())},this.FormPaint=function(t){var e=null,i=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(null!=this.FPopupForm){(e=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("Create$1",[this.FPopupForm.GetCanvas$1(),!1])).BeginScene();try{e.FFill.SetKind(1),e.FStroke.SetKind(1),-1!==this.FFillColor&&-1!==this.FStrokeColor?(e.FFill.SetColor(this.FFillColor),e.FStroke.SetColor(this.FStrokeColor)):(e.FFill.SetColor(pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultPopupFillColor),e.FStroke.SetColor(pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultPopupStrokeColor)),i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,this.FPopupForm.GetWidth(),this.FPopupForm.GetHeight())),e.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),2),null!=this.FOnPopupPaint&&this.FOnPopupPaint(this,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i))}finally{e.EndScene(),e=rtl.freeLoc(e)}}},this.DoPopupPaint=function(t,e,i){null!=this.FOnPopupPaint&&this.FOnPopupPaint(this,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i))},this.Notification=function(t,e){pas.Classes.TComponent.Notification.apply(this,arguments),1===e&&(t===this.FContentControl&&(this.FContentControl=null),t===this.FFocusedControl&&(this.FFocusedControl=null),t===this.FPopupForm&&(this.FPopupForm=null),t===this.FPlacementControl&&(this.FPlacementControl=null,this.HasPopupForm()&&this.FPopupForm.SetPlacementControl(null)))},this.MarginsChanged=function(t){null!==this.FPopupForm&&this.FPopupForm.SetPlacementRectangle(this.FPlacementRectangle)},this.DoClosePopup=function(){null!=this.FOnClosePopup&&this.FOnClosePopup(this)},this.DoPopup=function(){null!=this.FOnPopup&&this.FOnPopup(this)},this.DoPopupShown=function(){null!=this.FOnPopupShown&&this.FOnPopupShown(this)},this.ClosePopup=function(){var e=null;this.HasPopupForm()&&!this.FDestroyingPopup&&(this.FDestroyingPopup=!0,this.FModal&&0===this.FModalResult?this.SetModalResult(2):(this.FIsOpen=!1,null!=this.FContentControl&&(e=this.GetParent(),this.FContentControl.SetVisible(!1),null!=e&&pas["WEBLib.Controls"].TWinControl.isPrototypeOf(e)?this.FContentControl.SetParent(rtl.as(e,pas["WEBLib.Controls"].TWinControl)):this.FContentControl.SetParent(pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.GetParentForm(this))),3 in this.FComponentState||this.HasPopupForm()&&(t.TTMSFNCNonFocusablePopup.isPrototypeOf(this)&&rtl.free(this,"FPopupForm"),this.DoClosePopup(),this.FPopupForm=null),this.FDestroyingPopup=!1))},this.DoCreatePopup=function(t){var i=null,s=rtl.createIntfRefs();try{if(e.GetTickCountX()-this.FCloseTime<200&&this.FCheckTime)return void(this.FCheckTime=!1);if(this.FIsOpen)return;this.HasPopupForm()&&this.FPopupForm.Close(),this.FPopupForm=this.CreatePopupForm();try{try{this.FPopupForm.SetFormStyle(1),this.FPopupForm.FOnPaint=rtl.createCallback(this,"FormPaint"),this.FPopupForm.FOnPopupPaint=rtl.createCallback(this,"DoPopupPaint"),this.FPopupForm.FreeNotification(this),this.FPopupForm.SetPlacement(this.FPlacement),this.FPopupForm.SetOffset(pas["WEBLib.TMSFNCTypes"].PointF(this.FHorizontalOffset,this.FVerticalOffset)),this.FPopupForm.SetPlacementRectangle(this.FPlacementRectangle),this.FPopupForm.SetDragWithParent(this.FDragWithParent),this.UpdatePopupSize(),this.FPopupForm.FOnDeactivate=rtl.createCallback(this,"DeactivateProc"),this.FPopupForm.FOnBeforeShow=rtl.createCallback(this,"BeforeShowProc"),this.FPopupForm.FOnBeforeClose=rtl.createCallback(this,"BeforeCloseProc"),this.FPopupForm.FOnClose=rtl.createCallback(this,"CloseProc"),this.FPopupForm.FOnShow=rtl.createCallback(this,"ShowProc"),this.FPopupForm.FShowModal=t,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.ScaleForCurrentDPI(this.FPopupForm),this.FPopupForm.SetContentControl(this.FContentControl),pas.SysUtils.Supports$1(s.ref(1,rtl.queryIntfT(this.FContentControl,pas.System.IUnknown)),rtl.getIntfGUIDR(pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),{get:function(){return i},set:function(t){i=t}})&&i.SetAdaptToStyle(this.FAdaptToStyle),null!=this.FContentControl&&this.FContentControl.SetAlign(5)}finally{}}catch(t){throw pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FPopupForm},set:function(t){this.p.FPopupForm=t}}),t}3 in this.FComponentState||this.FPopupForm.DoBeforeShow(),this.ShowPopup(t),null!=this.FOnPopupPaint&&this.FPopupForm.Paint()}finally{s.free(),rtl._Release(i)}},this.DestroyPopupForm=function(){null!=this.FPopupForm&&rtl.free(this,"FPopupForm")},this.GetPopupFormClass=function(){return t.TTMSFNCCustomPopupForm},this.GetParent=function(){var t=null;return null==(t=this.FPlacementControl)&&pas["WEBLib.Controls"].TControl.isPrototypeOf(this.FOwner$1)&&(t=rtl.as(this.FOwner$1,pas["WEBLib.Controls"].TControl)),t},this.CreatePopupForm=function(){var t=null,e=null;t=null;try{e=this.GetPopupFormClass(),t=e.$create("Create$8",[this,this.FPlacementControl])}catch(e){throw pas.SysUtils.FreeAndNil({get:function(){return t},set:function(e){t=e}}),e}return t},this.Create$1=function(t){return pas["WEBLib.TMSFNCCustomComponent"].TTMSFNCCustomComponent.Create$1.call(this,t),this.FOwner$1=t,this.FPlacement=0,this.FFocusable=!0,this.FStaysOpen=!1,this.FPlacementRectangle=pas["WEBLib.TMSFNCTypes"].TTMSFNCMargins.$create("Create$1"),this.FPlacementRectangle.FOnChange=rtl.createCallback(this,"MarginsChanged"),this.FFillColor=-1,this.FStrokeColor=-1,this},this.Assign=function(e){t.TTMSFNCCustomPopup.isPrototypeOf(e)&&(this.FModalResult=rtl.as(e,t.TTMSFNCCustomPopup).FModalResult,this.FPopupFormSize.$assign(rtl.as(e,t.TTMSFNCCustomPopup).FPopupFormSize),this.FDragWithParent=rtl.as(e,t.TTMSFNCCustomPopup).FDragWithParent,this.FStaysOpen=rtl.as(e,t.TTMSFNCCustomPopup).FStaysOpen,this.FDropDownHeight=rtl.as(e,t.TTMSFNCCustomPopup).FDropDownHeight,this.FDropDownWidth=rtl.as(e,t.TTMSFNCCustomPopup).FDropDownWidth,this.FHorizontalOffset=rtl.as(e,t.TTMSFNCCustomPopup).FHorizontalOffset,this.FPlacementControl=rtl.as(e,t.TTMSFNCCustomPopup).FPlacementControl,this.FPlacement=rtl.as(e,t.TTMSFNCCustomPopup).FPlacement,this.FPlacementRectangle.Assign(rtl.as(e,t.TTMSFNCCustomPopup).FPlacementRectangle),this.FVerticalOffset=rtl.as(e,t.TTMSFNCCustomPopup).FVerticalOffset,this.FFocusedControl=rtl.as(e,t.TTMSFNCCustomPopup).FFocusedControl,this.FContentControl=rtl.as(e,t.TTMSFNCCustomPopup).FContentControl)},this.Destroy=function(){this.FContentControl=null,this.ClosePopup(),this.HasPopupForm()&&pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FPopupForm},set:function(t){this.p.FPopupForm=t}}),pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FPlacementRectangle},set:function(t){this.p.FPlacementRectangle=t}}),pas["WEBLib.Controls"].TCustomControl.Destroy.call(this)},this.HasPopupForm=function(){return null!==this.FPopupForm},this.PointInPopup=function(t){var e=!1;return e=!1,null!=this.FPopupForm&&(e=pas["WEBLib.TMSFNCTypes"].PtInRectEx(pas["WEBLib.TMSFNCTypes"].RectF(this.FPopupForm.GetLeft(),this.FPopupForm.GetTop(),this.FPopupForm.GetLeft()+this.FPopupForm.GetWidth(),this.FPopupForm.GetTop()+this.FPopupForm.GetHeight()),t)),e},rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),rtl.createClass(this,"TTMSFNCPopup",this.TTMSFNCCustomPopup,(function(){this.RegisterRuntimeClasses=function(){pas["WEBLib.TMSFNCCustomComponent"].TTMSFNCCustomComponent.RegisterRuntimeClasses.call(this),pas.Classes.RegisterClass(t.TTMSFNCPopup)},this.Popup=function(t){this.DoCreatePopup(t)},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("StaysOpen",0,rtl.boolean,"FStaysOpen","FStaysOpen",{Default:!1}),e.addProperty("DropDownHeight",2,rtl.double,"FDropDownHeight","SetDropDownHeight"),e.addProperty("DropDownWidth",2,rtl.double,"FDropDownWidth","SetDropDownWidth"),e.addProperty("HorizontalOffset",0,rtl.double,"FHorizontalOffset","FHorizontalOffset"),e.addProperty("Placement",2,t.$rtti.TTMSFNCPopupPlacement,"FPlacement","SetPlacement",{Default:t.TTMSFNCPopupPlacement.ppBottom}),e.addProperty("PlacementRectangle",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCMargins,"FPlacementRectangle","SetPlacementRectangle"),e.addProperty("PlacementControl",2,pas["WEBLib.Controls"].$rtti.TControl,"FPlacementControl","SetPlacementControl"),e.addProperty("VerticalOffset",0,rtl.double,"FVerticalOffset","FVerticalOffset"),e.addProperty("FocusedControl",0,pas["WEBLib.Controls"].$rtti.TControl,"FFocusedControl","FFocusedControl"),e.addProperty("ContentControl",2,pas["WEBLib.Controls"].$rtti.TControl,"FContentControl","SetContentControl"),e.addProperty("OnClosePopup",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClosePopup","FOnClosePopup"),e.addProperty("OnPopupPaint",0,t.$rtti.TTMSFNCPopupPaint,"FOnPopupPaint","FOnPopupPaint"),e.addProperty("OnPopup",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnPopup","FOnPopup"),e.addProperty("OnPopupShown",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnPopupShown","FOnPopupShown"),e.addProperty("Version",1,rtl.string,"GetVersion",""),e.attr=[pas.Classes.ComponentPlatformsAttribute,"Create$1",[0]]})),rtl.createClass(this,"TTMSFNCCustomNonFocusablePopupForm",this.TTMSFNCCustomPopupForm,(function(){this.UpdateBounds=function(e){t.TTMSFNCCustomPopupForm.UpdateBounds.apply(this,arguments)},rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TTMSFNCCustomNonFocusablePopup",this.TTMSFNCCustomPopup,(function(){this.ActivatePreviousWindow=function(){},this.ShowPopup=function(e){t.TTMSFNCCustomPopup.ShowPopup.apply(this,arguments),this.FIsOpen=!0},this.GetPopupFormClass=function(){return t.TTMSFNCCustomNonFocusablePopupForm},this.Create$1=function(e){return t.TTMSFNCCustomPopup.Create$1.apply(this,arguments),this.FStaysOpen=!0,this},this.Destroy=function(){t.TTMSFNCCustomPopup.Destroy.call(this)},rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),rtl.createClass(this,"TTMSFNCNonFocusablePopup",this.TTMSFNCCustomNonFocusablePopup,(function(){this.Deactivate=function(){this.ClosePopup()},this.Activate=function(){this.DoCreatePopup(!1)},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("ContentControl",2,pas["WEBLib.Controls"].$rtti.TControl,"FContentControl","SetContentControl"),e.addProperty("Placement",2,t.$rtti.TTMSFNCPopupPlacement,"FPlacement","SetPlacement",{Default:t.TTMSFNCPopupPlacement.ppBottom}),e.addProperty("PlacementRectangle",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCMargins,"FPlacementRectangle","SetPlacementRectangle"),e.addProperty("PlacementControl",2,pas["WEBLib.Controls"].$rtti.TControl,"FPlacementControl","SetPlacementControl")})),t.$implcode=function(){e.GetTickCountX=function(){var t=0,e=0,i=0,s=0;return pas.SysUtils.DecodeTime(pas.SysUtils.Now(),{get:function(){return t},set:function(e){t=e}},{get:function(){return e},set:function(t){e=t}},{get:function(){return i},set:function(t){i=t}},{get:function(){return s},set:function(t){s=t}}),s+1e3*i+60*e*1e3+60*t*60*1e3}}}),["SysUtils","WEBLib.TMSFNCUtils","Math","WEBLib.TMSFNCStyles"]),rtl.module("WEBLib.TMSFNCCustomSelector",["System","Classes","WEBLib.TMSFNCTypes","WEBLib.TMSFNCGraphics","WEBLib.TMSFNCGraphicsTypes","WEBLib.TMSFNCCustomControl","WEBLib.Controls"],(function(){"use strict";var t=this;this.MAJ_VER=1,this.MIN_VER=0,this.REL_VER=1,this.BLD_VER=0,rtl.createClass(this,"TTMSFNCCustomSelectorItem",pas.Classes.TCollectionItem,(function(){this.$init=function(){pas.Classes.TCollectionItem.$init.call(this),this.FOwner=null,this.FRowSpan=0,this.FColumnSpan=0,this.FVisible=!1,this.FText="",this.FEnabled=!1,this.FSeparator=!1,this.FSeparatorHeight=0,this.FMargins=null,this.FCanDeselect=!1,this.FCanSelect=!1,this.FVerticalTextAlign=0,this.FHorizontalTextAlign=0,this.FHint="",this.FDataBoolean=!1},this.$final=function(){this.FOwner=void 0,this.FMargins=void 0,pas.Classes.TCollectionItem.$final.call(this)},this.SetColumnSpan=function(t){this.FColumnSpan!==t&&(this.FColumnSpan=t,this.FOwner.CalculateItems())},this.SetRowSpan=function(t){this.FRowSpan!==t&&(this.FRowSpan=t,this.FOwner.CalculateItems())},this.SetVisible=function(t){this.FVisible!==t&&(this.FVisible=t,this.FOwner.CalculateItems())},this.SetText=function(t){this.FText!==t&&(this.FText=t,this.FOwner.InvalidateItems())},this.SetEnabled=function(t){this.FEnabled!==t&&(this.FEnabled=t,this.FOwner.InvalidateItems())},this.SetSeparator=function(t){this.FSeparator!==t&&(this.FSeparator=t,this.FOwner.CalculateItems())},this.SetSeparatorHeight=function(t){this.FSeparatorHeight!==t&&(this.FSeparatorHeight=t,this.FOwner.InvalidateItems())},this.SetMargins=function(t){this.FMargins.Assign(t)},this.SetCanDeselect=function(t){this.FCanDeselect=t},this.SetCanSelect=function(t){this.FCanSelect=t},this.SetHorizontalTextAlign=function(t){this.FHorizontalTextAlign!==t&&(this.FHorizontalTextAlign=t,this.FOwner.InvalidateItems())},this.SetVerticalTextAlign=function(t){this.FVerticalTextAlign!==t&&(this.FVerticalTextAlign=t,this.FOwner.InvalidateItems())},this.IsSeparatorHeightStored=function(){return 5!==this.FSeparatorHeight},this.MarginsChanged=function(t){this.FOwner.CalculateItems()},this.Create$1=function(e){return pas.Classes.TCollectionItem.Create$1.apply(this,arguments),null!=this.FCollection&&(this.FOwner=rtl.as(this.FCollection,t.TTMSFNCCustomSelectorItems).FOwner$1),this.FSeparator=!1,this.FColumnSpan=1,this.FCanDeselect=!0,this.FCanSelect=!0,this.FRowSpan=1,this.FMargins=pas["WEBLib.TMSFNCTypes"].TTMSFNCMargins.$create("Create$1"),this.FMargins.FOnChange=rtl.createCallback(this,"MarginsChanged"),this.FEnabled=!0,this.FSeparatorHeight=5,this.FVisible=!0,null!=this.FOwner&&this.FOwner.CalculateItems(),this},this.Assign=function(e){t.TTMSFNCCustomSelectorItem.isPrototypeOf(e)&&(this.FRowSpan=rtl.as(e,t.TTMSFNCCustomSelectorItem).FRowSpan,this.FColumnSpan=rtl.as(e,t.TTMSFNCCustomSelectorItem).FColumnSpan,this.FVisible=rtl.as(e,t.TTMSFNCCustomSelectorItem).FVisible,this.FText=rtl.as(e,t.TTMSFNCCustomSelectorItem).FText,this.FEnabled=rtl.as(e,t.TTMSFNCCustomSelectorItem).FEnabled,this.FSeparator=rtl.as(e,t.TTMSFNCCustomSelectorItem).FSeparator,this.FSeparatorHeight=rtl.as(e,t.TTMSFNCCustomSelectorItem).FSeparatorHeight,this.FMargins.Assign(rtl.as(e,t.TTMSFNCCustomSelectorItem).FMargins),this.FCanDeselect=rtl.as(e,t.TTMSFNCCustomSelectorItem).FCanDeselect,this.FCanSelect=rtl.as(e,t.TTMSFNCCustomSelectorItem).FCanSelect,this.FHint=rtl.as(e,t.TTMSFNCCustomSelectorItem).FHint)},this.Destroy=function(){rtl.free(this,"FMargins"),pas.Classes.TCollectionItem.Destroy.call(this),null!=this.FOwner&&this.FOwner.CalculateItems()};var e=this.$rtti;e.addMethod("Create$1",2,[["ACollection",pas.Classes.$rtti.TCollection]]),e.addProperty("CanSelect",2,rtl.boolean,"FCanSelect","SetCanSelect",{Default:!0}),e.addProperty("CanDeselect",2,rtl.boolean,"FCanDeselect","SetCanDeselect",{Default:!0}),e.addProperty("ColumnSpan",2,rtl.longint,"FColumnSpan","SetColumnSpan",{Default:1}),e.addProperty("RowSpan",2,rtl.longint,"FRowSpan","SetRowSpan",{Default:1}),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),e.addProperty("Separator",2,rtl.boolean,"FSeparator","SetSeparator",{Default:!1}),e.addProperty("SeparatorHeight",14,rtl.double,"FSeparatorHeight","SetSeparatorHeight",{stored:"IsSeparatorHeightStored"}),e.addProperty("Margins",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCMargins,"FMargins","SetMargins"),e.addProperty("Text",2,rtl.string,"FText","SetText"),e.addProperty("HorizontalTextAlign",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsTextAlign,"FHorizontalTextAlign","SetHorizontalTextAlign",{Default:pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsTextAlign.gtaCenter}),e.addProperty("VerticalTextAlign",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsTextAlign,"FVerticalTextAlign","SetVerticalTextAlign",{Default:pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsTextAlign.gtaCenter}),e.addProperty("Hint",0,rtl.string,"FHint","FHint")})),rtl.createClass(this,"TTMSFNCCustomSelectorItems",pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection,(function(){this.$init=function(){pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection.$init.call(this),this.FOwner$1=null},this.$final=function(){this.FOwner$1=void 0,pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection.$final.call(this)},this.GetItem$1=function(t){return this.GetItem(t)},this.CreateItemClass=function(){return t.TTMSFNCCustomSelectorItem},this.GetOwner=function(){return this.FOwner$1},this.Create$3=function(t){return pas.Classes.TOwnedCollection.Create$2.call(this,t,this.CreateItemClass()),this.FOwner$1=t,this},this.Add$1=function(){return pas.Classes.TCollection.Add.call(this)},this.Insert$1=function(t){return pas.Classes.TCollection.Insert.call(this,t)},this.$rtti.addMethod("Create$3",2,[["AOwner",t.$rtti.TTMSFNCCustomSelector]])})),rtl.createClass(this,"TTMSFNCCustomSelectorAppearance",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FOwner=null,this.FStrokeHover=null,this.FFillDown=null,this.FVerticalSpacing=0,this.FStrokeDown=null,this.FFillSelected=null,this.FHorizontalSpacing=0,this.FStrokeSelected=null,this.FFill=null,this.FFillHover=null,this.FStroke=null,this.FFillDisabled=null,this.FStrokeDisabled=null,this.FSeparatorStroke=null,this.FFont=null},this.$final=function(){this.FOwner=void 0,this.FStrokeHover=void 0,this.FFillDown=void 0,this.FStrokeDown=void 0,this.FFillSelected=void 0,this.FStrokeSelected=void 0,this.FFill=void 0,this.FFillHover=void 0,this.FStroke=void 0,this.FFillDisabled=void 0,this.FStrokeDisabled=void 0,this.FSeparatorStroke=void 0,this.FFont=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetFill=function(t){this.FFill.Assign(t)},this.SetFillDown=function(t){this.FFillDown.Assign(t)},this.SetFillHover=function(t){this.FFillHover.Assign(t)},this.SetFillSelected=function(t){this.FFillSelected.Assign(t)},this.SetHorizontalSpacing=function(t){this.FHorizontalSpacing!==t&&(this.FHorizontalSpacing=t,this.Changed())},this.SetStroke=function(t){this.FStroke.Assign(t)},this.SetStrokeDown=function(t){this.FStrokeDown.Assign(t)},this.SetStrokeHover=function(t){this.FStrokeHover.Assign(t)},this.SetStrokeSelected=function(t){this.FStrokeSelected.Assign(t)},this.SetVerticalSpacing=function(t){this.FVerticalSpacing!==t&&(this.FVerticalSpacing=t,this.Changed())},this.SetFillDisabled=function(t){this.FFillDisabled.Assign(t)},this.SetStrokeDisabled=function(t){this.FStrokeDisabled.Assign(t)},this.SetSeparatorStroke=function(t){this.FSeparatorStroke.Assign(t)},this.SetFont=function(t){this.FFont.AssignSource(t)},this.IsHorizontalSpacingStored=function(){return 4!==this.FHorizontalSpacing},this.IsVerticalSpacingStored=function(){return 4!==this.FVerticalSpacing},this.Changed=function(){this.FOwner.CalculateItems()},this.FontChanged=function(t){this.FOwner.InvalidateItems()},this.FillChanged=function(t){this.FOwner.InvalidateItems()},this.StrokeChanged=function(t){this.FOwner.InvalidateItems()},this.Create$1=function(t){return this.FOwner=t,this.FFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,16777215,8421504,-1,-1]),this.FFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Lighter(13882323,50)),this.FFillHover=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,16777215,8421504,-1,-1]),this.FFillHover.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Lighter(10061943,50)),this.FFillDown=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,16777215,8421504,-1,-1]),this.FFillDown.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Lighter(9470064,50)),this.FFillSelected=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,16777215,8421504,-1,-1]),this.FFillSelected.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Lighter(9470064,50)),this.FFillDisabled=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,16777215,8421504,-1,-1]),this.FFillDisabled.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Lighter(8421504,50)),this.FStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,12632256]),this.FStroke.SetColor(11119017),this.FStrokeHover=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,12632256]),this.FStrokeHover.SetColor(10061943),this.FStrokeDown=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,12632256]),this.FStrokeDown.SetColor(9470064),this.FStrokeSelected=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,12632256]),this.FStrokeSelected.SetColor(5197615),this.FStrokeDisabled=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,12632256]),this.FStrokeDisabled.SetColor(11119017),this.FSeparatorStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,12632256]),this.FSeparatorStroke.SetColor(11119017),this.FFont=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2"),this.FFont.FOnChanged=rtl.createCallback(this,"FontChanged"),this.FSeparatorStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FFont.FOnChanged=rtl.createCallback(this,"FontChanged"),this.FFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FFillDown.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FFillHover.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FFillSelected.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FFillDisabled.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FStrokeHover.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FStrokeDown.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FStrokeDisabled.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FStrokeSelected.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FHorizontalSpacing=4,this.FVerticalSpacing=4,this},this.Assign=function(e){t.TTMSFNCCustomSelectorAppearance.isPrototypeOf(e)&&(this.FFill.Assign(rtl.as(e,t.TTMSFNCCustomSelectorAppearance).FFill),this.FFillHover.Assign(rtl.as(e,t.TTMSFNCCustomSelectorAppearance).FFillHover),this.FFillSelected.Assign(rtl.as(e,t.TTMSFNCCustomSelectorAppearance).FFillSelected),this.FFillDisabled.Assign(rtl.as(e,t.TTMSFNCCustomSelectorAppearance).FFillDisabled),this.FFillDown.Assign(rtl.as(e,t.TTMSFNCCustomSelectorAppearance).FFillDown),this.FStroke.Assign(rtl.as(e,t.TTMSFNCCustomSelectorAppearance).FStroke),this.FStrokeHover.Assign(rtl.as(e,t.TTMSFNCCustomSelectorAppearance).FStrokeHover),this.FStrokeSelected.Assign(rtl.as(e,t.TTMSFNCCustomSelectorAppearance).FStrokeSelected),this.FStrokeDown.Assign(rtl.as(e,t.TTMSFNCCustomSelectorAppearance).FStrokeDown),this.FStrokeDisabled.Assign(rtl.as(e,t.TTMSFNCCustomSelectorAppearance).FStrokeDisabled),this.FVerticalSpacing=rtl.as(e,t.TTMSFNCCustomSelectorAppearance).FVerticalSpacing,this.FHorizontalSpacing=rtl.as(e,t.TTMSFNCCustomSelectorAppearance).FHorizontalSpacing,this.FSeparatorStroke.Assign(rtl.as(e,t.TTMSFNCCustomSelectorAppearance).FSeparatorStroke),this.FFont.AssignSource(rtl.as(e,t.TTMSFNCCustomSelectorAppearance).FFont))},this.Destroy=function(){rtl.free(this,"FFont"),rtl.free(this,"FFill"),rtl.free(this,"FFillDown"),rtl.free(this,"FFillSelected"),rtl.free(this,"FFillHover"),rtl.free(this,"FFillDisabled"),rtl.free(this,"FSeparatorStroke"),rtl.free(this,"FStroke"),rtl.free(this,"FStrokeDown"),rtl.free(this,"FStrokeSelected"),rtl.free(this,"FStrokeHover"),rtl.free(this,"FStrokeDisabled"),pas.System.TObject.Destroy.call(this)};var e=this.$rtti;e.addMethod("Create$1",2,[["AOwner",t.$rtti.TTMSFNCCustomSelector]]),e.addProperty("Stroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FStroke","SetStroke"),e.addProperty("Fill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FFill","SetFill"),e.addProperty("StrokeHover",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FStrokeHover","SetStrokeHover"),e.addProperty("FillHover",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FFillHover","SetFillHover"),e.addProperty("StrokeDown",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FStrokeDown","SetStrokeDown"),e.addProperty("FillDown",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FFillDown","SetFillDown"),e.addProperty("StrokeSelected",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FStrokeSelected","SetStrokeSelected"),e.addProperty("FillSelected",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FFillSelected","SetFillSelected"),e.addProperty("StrokeDisabled",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FStrokeDisabled","SetStrokeDisabled"),e.addProperty("FillDisabled",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FFillDisabled","SetFillDisabled"),e.addProperty("VerticalSpacing",14,rtl.double,"FVerticalSpacing","SetVerticalSpacing",{stored:"IsVerticalSpacingStored"}),e.addProperty("HorizontalSpacing",14,rtl.double,"FHorizontalSpacing","SetHorizontalSpacing",{stored:"IsHorizontalSpacingStored"}),e.addProperty("SeparatorStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FSeparatorStroke","SetSeparatorStroke"),e.addProperty("Font",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFont,"FFont","SetFont")})),rtl.recNewT(this,"TTMSFNCCustomSelectorPositionItem",(function(){this.TileSet=!1,this.$eq=function(t){return this.TileSet===t.TileSet},this.$assign=function(t){return this.TileSet=t.TileSet,this}})),rtl.recNewT(this,"TTMSFNCCustomSelectorDisplayItem",(function(){this.Item=null,this.PageIndex=0,this.Column=0,this.Row=0,this.ColumnSpan=0,this.RowSpan=0,this.$new=function(){var t=Object.create(this);return t.Rect=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),t},this.$eq=function(t){return this.Rect.$eq(t.Rect)&&this.Item===t.Item&&this.PageIndex===t.PageIndex&&this.Column===t.Column&&this.Row===t.Row&&this.ColumnSpan===t.ColumnSpan&&this.RowSpan===t.RowSpan},this.$assign=function(t){return this.Rect.$assign(t.Rect),this.Item=t.Item,this.PageIndex=t.PageIndex,this.Column=t.Column,this.Row=t.Row,this.ColumnSpan=t.ColumnSpan,this.RowSpan=t.RowSpan,this}})),this.$rtti.$MethodVar("TTMSFNCCustomSelectorItemSelected",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AItemIndex",rtl.longint]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCCustomSelectorItemDeselected",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AItemIndex",rtl.longint]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCCustomSelectorItemClick",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AItemIndex",rtl.longint]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCCustomSelectorItemBeforeDrawBackground",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF],["AItemIndex",rtl.longint],["ADefaultDraw",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCCustomSelectorItemAfterDrawBackground",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF],["AItemIndex",rtl.longint]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCCustomSelectorItemBeforeDrawContent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF],["AItemIndex",rtl.longint],["ADefaultDraw",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCCustomSelectorItemAfterDrawContent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF],["AItemIndex",rtl.longint]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCCustomSelectorItemBeforeDrawText",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF],["AItemIndex",rtl.longint],["AText",rtl.string,1],["ADefaultDraw",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCCustomSelectorItemAfterDrawText",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF],["AItemIndex",rtl.longint],["AText",rtl.string]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCCustomSelectorBeforeDraw",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF],["ADefaultDraw",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCCustomSelectorAfterDraw",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF]]),methodkind:0}),rtl.createClass(this,"TTMSFNCCustomSelectorDisplayList",pas.Classes.TList,(function(){this.GetItem=function(e){var i=t.TTMSFNCCustomSelectorDisplayItem.$new();return i.$assign(rtl.getObject(this.Get(e))),i}})),rtl.createClass(this,"TTMSFNCCustomSelector",pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl,(function(){this.$init=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$init.call(this),this.FDisplayList=null,this.FUpdateCount$1=0,this.FItems=null,this.FRows=0,this.FColumns=0,this.FPageCount=0,this.FAppearance=null,this.FSelectedItemIndex=0,this.FFocusedItemIndex=0,this.FHoveredItemIndex=0,this.FDownItemIndex=0,this.FOnItemBeforeDrawText=null,this.FOnAfterDraw$1=null,this.FOnItemAfterDrawBackground=null,this.FOnItemSelected=null,this.FOnItemAfterDrawText=null,this.FOnBeforeDraw$1=null,this.FOnItemBeforeDrawBackground=null,this.FOnItemDeselected=null,this.FOnItemClick=null,this.FOnItemBeforeDrawContent=null,this.FOnItemAfterDrawContent=null,this.FBlockChange=!1,this.FClosedRemotely=!1},this.$final=function(){this.FDisplayList=void 0,this.FItems=void 0,this.FAppearance=void 0,this.FOnItemBeforeDrawText=void 0,this.FOnAfterDraw$1=void 0,this.FOnItemAfterDrawBackground=void 0,this.FOnItemSelected=void 0,this.FOnItemAfterDrawText=void 0,this.FOnBeforeDraw$1=void 0,this.FOnItemBeforeDrawBackground=void 0,this.FOnItemDeselected=void 0,this.FOnItemClick=void 0,this.FOnItemBeforeDrawContent=void 0,this.FOnItemAfterDrawContent=void 0,pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$final.call(this)},this.SetColumns=function(t){this.FColumns!==t&&(this.FColumns=t,this.UpdateCalculations(),this.CalculateItems())},this.SetRows=function(t){this.FRows!==t&&(this.FRows=t,this.UpdateCalculations(),this.CalculateItems())},this.SetAppearance=function(t){this.FAppearance.Assign(t)},this.SetSelectedItemIndex=function(t){this.FSelectedItemIndex!==t&&(this.FSelectedItemIndex=t,this.FFocusedItemIndex=t,this.InvalidateItems())},this.RegisterRuntimeClasses=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.RegisterRuntimeClasses.call(this),pas.Classes.RegisterClass(t.TTMSFNCCustomSelector)},this.GetVersion=function(){return this.$class.GetVersionNumber(1,0,1,0)},this.GetDisplayItem=function(e){var i=t.TTMSFNCCustomSelectorDisplayItem.$new(),s=0,o=null;i.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,0,0)),i.Item=null,i.PageIndex=-1,i.Row=-1,i.Column=-1,i.ColumnSpan=-1,i.RowSpan=-1;for(var n=0,a=this.FDisplayList.GetCount()-1;n<=a;n++)if(s=n,null!=(o=this.FDisplayList.GetItem(s).Item)&&o.GetIndex()===e){i.$assign(this.FDisplayList.GetItem(s));break}return i},this.GetNextSelectableItem=function(){var t=0,e=0,i=null;t=this.FFocusedItemIndex;for(var s=0,o=this.FDisplayList.GetCount()-1;s<=o;s++)if(e=s,null!=(i=this.FDisplayList.GetItem(e).Item)&&i.FEnabled&&!i.FSeparator&&i.GetIndex()>this.FFocusedItemIndex){t=i.GetIndex();break}return t},this.GetPreviousSelectableItem=function(){var t=0,e=0,i=null;t=this.FFocusedItemIndex;for(var s=this.FDisplayList.GetCount()-1;s>=0;s--)if(e=s,null!=(i=this.FDisplayList.GetItem(e).Item)&&i.FEnabled&&!i.FSeparator&&i.GetIndex()<this.FFocusedItemIndex){t=i.GetIndex();break}return t},this.GetNextSelectableRowItem=function(){var e=0,i=0,s=null,o=t.TTMSFNCCustomSelectorDisplayItem.$new();if(-1===(e=this.FFocusedItemIndex))return e=this.GetNextSelectableItem();o.$assign(this.GetDisplayItem(this.FFocusedItemIndex));for(var n=0,a=this.FDisplayList.GetCount()-1;n<=a;n++)if(i=n,null!=(s=this.FDisplayList.GetItem(i).Item)&&s.FEnabled&&!s.FSeparator&&s.GetIndex()>this.FFocusedItemIndex&&o.Column>=this.FDisplayList.GetItem(i).Column&&o.Column<=this.FDisplayList.GetItem(i).Column+(this.FDisplayList.GetItem(i).ColumnSpan-1)&&this.FDisplayList.GetItem(i).Row>o.Row){e=s.GetIndex();break}return e},this.GetPreviousSelectableRowItem=function(){var e=0,i=0,s=null,o=t.TTMSFNCCustomSelectorDisplayItem.$new();if(-1===(e=this.FFocusedItemIndex))return e=this.GetPreviousSelectableItem();o.$assign(this.GetDisplayItem(this.FFocusedItemIndex));for(var n=this.FDisplayList.GetCount()-1;n>=0;n--)if(i=n,null!=(s=this.FDisplayList.GetItem(i).Item)&&s.FEnabled&&!s.FSeparator&&s.GetIndex()<this.FFocusedItemIndex&&o.Column>=this.FDisplayList.GetItem(i).Column&&o.Column<=this.FDisplayList.GetItem(i).Column+(this.FDisplayList.GetItem(i).ColumnSpan-1)&&this.FDisplayList.GetItem(i).Row<o.Row){e=s.GetIndex();break}return e},this.GetFirstSelectableItem=function(){var t=0,e=0,i=null;t=this.FFocusedItemIndex;for(var s=0,o=this.FDisplayList.GetCount()-1;s<=o;s++)if(e=s,null!=(i=this.FDisplayList.GetItem(e).Item)&&i.FEnabled&&!i.FSeparator){t=i.GetIndex();break}return t},this.GetLastSelectableItem=function(){var t=0,e=0,i=null;t=this.FFocusedItemIndex;for(var s=this.FDisplayList.GetCount()-1;s>=0;s--)if(e=s,null!=(i=this.FDisplayList.GetItem(e).Item)&&i.FEnabled&&!i.FSeparator){t=i.GetIndex();break}return t},this.CreateItemsCollection=function(){return t.TTMSFNCCustomSelectorItems.$create("Create$3",[this])},this.CalculateItems=function(){var e,i,s,o,n,a,r,l=this,h=[],F=0,p=0,C=0,u=0,d=0,c=null,S=0,T=0,m=0,g=0,M=0,f=!1,b=0,y=0,B=0,E=0,L=0,D=0,N=0,A=0,G=t.TTMSFNCCustomSelectorDisplayItem.$new();function P(t,e,i,s,o,n,a,r,h){var F=0,p=0,C=0,u=0,d=0,c=0;s.set(!1);for(var S=e.get(),T=o-1;S<=T;S++){F=S;for(var m=i.get(),g=a-1;m<=g;m++){p=m,C=t.FColumnSpan,C=Math.min(C,l.FColumns-i.get()),u=t.FRowSpan,u=Math.min(u,l.FRows-e.get()),s.set(!0);for(var M=0,f=u-1;M<=f;M++){d=M;for(var b=0,y=C-1;b<=y;b++)c=b,h[F+d][p+c].TileSet&&s.set(!1)}if(s.get())break;i.set(i.get()+1)}if(s.get())break;i.set(0),e.set(e.get()+1)}}if(!(3 in this.FComponentState||this.FUpdateCount$1>0)&&(this.FDisplayList.Clear(),0!==this.FItems.GetCount())){for(a=this.GetCalculationWidth(),r=this.GetCalculationHeight(),i=this.FAppearance.FHorizontalSpacing,y=o=a-(s=this.FAppearance.FVerticalSpacing),this.FColumns>0&&(y=(o-this.FColumns*i)/this.FColumns),n=r-s-this.GetTotalSeparatorHeight(),e=this.GetTotalSeparatorCount(),B=n,this.FRows-e>0&&(B=(n-(this.FRows-e)*s)/(this.FRows-e)),d=0,b=0,A=0;d<=this.FItems.GetCount()-1;){for(C=0,F=0,h=rtl.arraySetLength(h,t.TTMSFNCCustomSelectorPositionItem,0,0),h=rtl.arraySetLength(h,t.TTMSFNCCustomSelectorPositionItem,this.FRows,this.FColumns);F<this.FRows;){for(;C<this.FColumns;){if(d>=0&&d<=this.FItems.GetCount()-1&&0===b){if(!(c=this.FItems.GetItem$1(d)).FVisible){d+=1;continue}c.FSeparator?(S=this.FColumns,T=1):(S=c.FColumnSpan,T=c.FRowSpan),S=Math.min(S,this.FColumns-C),T=Math.min(T,this.FRows-F),E=y*S+i*(S-1),L=c.FSeparator?c.FSeparatorHeight:B*T+s*(T-1),D=a*b+i+y*C+i*C,N=A+s+B*F+s*F+this.GetTopOffset(),G.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(D+c.FMargins.FLeft,N+c.FMargins.FTop,D+E-c.FMargins.FRight,N+L-c.FMargins.FBottom)),G.Item=c,G.PageIndex=b,G.Column=C,G.Row=F,G.ColumnSpan=S,G.RowSpan=T,this.FDisplayList.Add(t.TTMSFNCCustomSelectorDisplayItem.$clone(G)),m=(m=C)+S-1;for(var R=F,W=F+T-1;R<=W;R++){g=R;for(var v=C,I=m;v<=I;v++)M=v,h[g][M].TileSet=!0}c.FSeparator&&(A=A+c.FSeparatorHeight-B*T+s*(T-1))}if(u=C+=1,p=F,f=!1,(d+=1)>=0&&d<=this.FItems.GetCount()-1&&P(this.FItems.GetItem$1(d),{get:function(){return p},set:function(t){p=t}},{get:function(){return u},set:function(t){u=t}},{get:function(){return f},set:function(t){f=t}},this.FRows,0,this.FColumns,0,rtl.arrayRef(h)),F=p,(C=u)>=this.FColumns||F>=this.FRows)break}if(u=C=0,p=F+=1,f=!1,d>=0&&d<=this.FItems.GetCount()-1&&P(this.FItems.GetItem$1(d),{get:function(){return p},set:function(t){p=t}},{get:function(){return u},set:function(t){u=t}},{get:function(){return f},set:function(t){f=t}},this.FRows,0,this.FColumns,0,rtl.arrayRef(h)),C=u,(F=p)>=this.FRows)break}b+=1}this.FPageCount=b,this.InvalidateItems()}},this.UpdateCalculations=function(){},this.ApplyStyle=function(){var t=0;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.ApplyStyle.call(this),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleBackgroundFillColor({get:function(){return t},set:function(e){t=e}})&&this.FFill.SetColor(t),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleBackgroundStrokeColor({get:function(){return t},set:function(e){t=e}})&&this.FStroke.SetColor(t),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleDefaultButtonFillColor({get:function(){return t},set:function(e){t=e}})&&this.FAppearance.FFill.SetColor(t),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleSelectionFillColor({get:function(){return t},set:function(e){t=e}})&&(this.FAppearance.FFillSelected.SetColor(t),this.FAppearance.FFillDown.SetColor(t),this.FAppearance.FFillHover.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Blend(t,this.FAppearance.FFill.FColor,25))),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleDefaultButtonStrokeColor({get:function(){return t},set:function(e){t=e}})&&(this.FAppearance.FStroke.SetColor(t),this.FAppearance.FStrokeSelected.SetColor(t),this.FAppearance.FStrokeDown.SetColor(t),this.FAppearance.FStrokeHover.SetColor(t)),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleTextFontColor({get:function(){return t},set:function(e){t=e}})&&this.FAppearance.FFont.SetColor(t)},this.ResetToDefaultStyle=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.ResetToDefaultStyle.call(this),this.FFill.SetKind(1),this.FStroke.SetKind(1),this.FFill.SetColor(16777215),this.FStroke.SetColor(12632256),this.FAppearance.FFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Lighter(13882323,50)),this.FAppearance.FFillHover.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Lighter(10061943,50)),this.FAppearance.FFillDown.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Lighter(9470064,50)),this.FAppearance.FFillSelected.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Lighter(9470064,50)),this.FAppearance.FFillDisabled.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Lighter(8421504,50)),this.FAppearance.FStroke.SetColor(11119017),this.FAppearance.FStrokeHover.SetColor(10061943),this.FAppearance.FStrokeDown.SetColor(9470064),this.FAppearance.FStrokeSelected.SetColor(5197615),this.FAppearance.FStrokeDisabled.SetColor(11119017),this.FAppearance.FFont.SetColor(0),this.FAppearance.FFill.SetKind(1),this.FAppearance.FFillHover.SetKind(1),this.FAppearance.FFillDown.SetKind(1),this.FAppearance.FFillSelected.SetKind(1),this.FAppearance.FFillDisabled.SetKind(1),this.FAppearance.FStroke.SetKind(1),this.FAppearance.FStrokeHover.SetKind(1),this.FAppearance.FStrokeDown.SetKind(1),this.FAppearance.FStrokeSelected.SetKind(1),this.FAppearance.FStrokeDisabled.SetKind(1),this.FAppearance.FSeparatorStroke.SetKind(1)},this.GetTopOffset=function(){return 0,0},this.GetCalculationWidth=function(){return this.GetWidth()},this.GetCalculationHeight=function(){return this.GetHeight()-this.GetTopOffset()},this.GetTotalSeparatorHeight=function(){var t=0,e=0;t=0;for(var i=0,s=this.FItems.GetCount()-1;i<=s;i++)e=i,this.FItems.GetItem$1(e).FSeparator&&(t=t+this.FItems.GetItem$1(e).FSeparatorHeight+this.FAppearance.FVerticalSpacing);return t},this.GetTotalSeparatorCount=function(){var t=0,e=0;t=0;for(var i=0,s=this.FItems.GetCount()-1;i<=s;i++)e=i,this.FItems.GetItem$1(e).FSeparator&&(t+=1);return t},this.DoItemSelected=function(t){null!=this.FOnItemSelected&&this.FOnItemSelected(this,t)},this.DoItemClick=function(t){null!=this.FOnItemClick&&this.FOnItemClick(this,t)},this.DoItemDeselected=function(t){null!=this.FOnItemDeselected&&this.FOnItemDeselected(this,t)},this.DoItemBeforeDrawBackground=function(t,e,i,s){null!=this.FOnItemBeforeDrawBackground&&this.FOnItemBeforeDrawBackground(this,t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i,s)},this.DoItemAfterDrawBackground=function(t,e,i){null!=this.FOnItemAfterDrawBackground&&this.FOnItemAfterDrawBackground(this,t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i)},this.DoItemBeforeDrawContent=function(t,e,i,s){null!=this.FOnItemBeforeDrawContent&&this.FOnItemBeforeDrawContent(this,t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i,s)},this.DoItemAfterDrawContent=function(t,e,i){null!=this.FOnItemAfterDrawContent&&this.FOnItemAfterDrawContent(this,t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i)},this.DoItemBeforeDrawText=function(t,e,i,s,o){null!=this.FOnItemBeforeDrawText&&this.FOnItemBeforeDrawText(this,t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i,s,o)},this.DoItemAfterDrawText=function(t,e,i,s){null!=this.FOnItemAfterDrawText&&this.FOnItemAfterDrawText(this,t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i,s)},this.DoBeforeDraw$1=function(t,e,i){null!=this.FOnBeforeDraw$1&&this.FOnBeforeDraw$1(this,t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i)},this.DoAfterDraw$1=function(t,e){null!=this.FOnAfterDraw$1&&this.FOnAfterDraw$1(this,t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e))},this.DrawItems=function(e){for(var i=0,s=0,o=this.FDisplayList.GetCount()-1;s<=o;s++)i=s,this.DrawItem(e,t.TTMSFNCCustomSelectorDisplayItem.$clone(this.FDisplayList.GetItem(i)))},this.Draw=function(t,e){var i=!1;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Draw.apply(this,arguments),i=!0,this.DoBeforeDraw$1(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),{get:function(){return i},set:function(t){i=t}}),i&&(this.DrawItems(t),this.DoAfterDraw$1(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e)))},this.DrawItem=function(e,i){this.DrawItemBackGround(e,t.TTMSFNCCustomSelectorDisplayItem.$clone(i)),this.DrawItemContent(e,t.TTMSFNCCustomSelectorDisplayItem.$clone(i)),this.DrawItemText(e,t.TTMSFNCCustomSelectorDisplayItem.$clone(i))},this.DrawItemBackGround=function(t,e){var i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=null,o=!1,n=pas["WEBLib.TMSFNCTypes"].TRectF.$new();null!=(s=e.Item)&&(s.FSeparator?t.FStroke.Assign(this.FAppearance.FSeparatorStroke):(t.FFill.Assign(this.FAppearance.FFill),t.FStroke.Assign(this.FAppearance.FStroke),s.FEnabled?s.GetIndex()===this.FDownItemIndex?(t.FFill.Assign(this.FAppearance.FFillDown),t.FStroke.Assign(this.FAppearance.FStrokeDown)):s.GetIndex()===this.FHoveredItemIndex?(t.FFill.Assign(this.FAppearance.FFillHover),t.FStroke.Assign(this.FAppearance.FStrokeHover)):s.GetIndex()===this.FSelectedItemIndex&&(t.FFill.Assign(this.FAppearance.FFillSelected),t.FStroke.Assign(this.FAppearance.FStrokeSelected)):(t.FFill.Assign(this.FAppearance.FFillDisabled),t.FStroke.Assign(this.FAppearance.FStrokeDisabled))),i.$assign(e.Rect),o=!0,this.DoItemBeforeDrawBackground(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e.Rect),s.GetIndex(),{get:function(){return o},set:function(t){o=t}}),o&&(s.FSeparator?t.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(i.Left,pas["WEBLib.TMSFNCTypes"].CenterPointEx(i).Y)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(i.Right,pas["WEBLib.TMSFNCTypes"].CenterPointEx(i).Y)),2,2):(t.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),2),this.IsFocused()&&this.FFocusedItemIndex===s.GetIndex()&&(n.$assign(i),pas["WEBLib.TMSFNCTypes"].InflateRectEx(n,this.ScalePaintValue(-2),this.ScalePaintValue(-2)),t.DrawFocusRectangle$3(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(n),0,2))),this.DoItemAfterDrawBackground(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e.Rect),s.GetIndex())))},this.DrawItemContent=function(t,e){var i=null,s=!1;null!=(i=e.Item)&&(s=!0,this.DoItemBeforeDrawContent(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e.Rect),i.GetIndex(),{get:function(){return s},set:function(t){s=t}}),s&&this.DoItemAfterDrawContent(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e.Rect),i.GetIndex()))},this.DrawItemText=function(t,e){var i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=null,o="",n=!1;null!=(s=e.Item)&&""!==s.FText&&(i.$assign(e.Rect),o=s.FText,n=!0,pas["WEBLib.TMSFNCTypes"].InflateRectEx(i,-2,-2),t.FFont.AssignSource(this.FAppearance.FFont),this.DoItemBeforeDrawText(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e.Rect),s.GetIndex(),{get:function(){return o},set:function(t){o=t}},{get:function(){return n},set:function(t){n=t}}),n&&(t.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),o,!1,s.FHorizontalTextAlign,s.FVerticalTextAlign,0,0,-1,-1,!0,!1,-1,-1),this.DoItemAfterDrawText(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e.Rect),s.GetIndex(),o)))},this.HandleMouseDown=function(t,e,i,s){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseDown.apply(this,arguments),this.CaptureEx(),this.FDownItemIndex=this.XYToItem(i,s),this.InvalidateItems()},this.HandleMouseUp=function(t,e,i,s){var o=0;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseUp.apply(this,arguments),this.ReleaseCaptureEx(),(o=this.XYToItem(i,s))===this.FDownItemIndex&&-1!==this.FDownItemIndex&&(this.ProcessSelection(o),-1!==o&&this.DoItemClick(o)),this.FDownItemIndex=-1,this.FHoveredItemIndex=-1,this.InvalidateItems()},this.HandleMouseMove=function(t,e,i){var s=0;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseMove.apply(this,arguments),this.FDownItemIndex>-1||(s=this.XYToItem(e,i))!==this.FHoveredItemIndex&&(this.FHoveredItemIndex=s,this.CancelHint(),this.InvalidateItems())},this.HandleKeyDown=function(t,e){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleKeyDown.apply(this,arguments);var i=t.get();38===i?(this.FFocusedItemIndex=this.GetPreviousSelectableRowItem(),this.InvalidateItems()):37===i?(this.FFocusedItemIndex=this.GetPreviousSelectableItem(),this.InvalidateItems()):40===i?(this.FFocusedItemIndex=this.GetNextSelectableRowItem(),this.InvalidateItems()):39===i?(this.FFocusedItemIndex=this.GetNextSelectableItem(),this.InvalidateItems()):36===i?(this.FFocusedItemIndex=this.GetFirstSelectableItem(),this.InvalidateItems()):35===i&&(this.FFocusedItemIndex=this.GetLastSelectableItem(),this.InvalidateItems()),13===t.get()&&(this.FDownItemIndex=this.FFocusedItemIndex,this.InvalidateItems())},this.HandleKeyUp=function(t,e){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleKeyUp.apply(this,arguments),13===t.get()&&(this.FDownItemIndex=-1,this.ProcessSelection(this.FFocusedItemIndex),this.InvalidateItems())},this.HandleMouseLeave=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseLeave.call(this),this.FHoveredItemIndex=-1,this.InvalidateItems()},this.ProcessSelection=function(t){var e=null,i=0;t>=0&&t<=this.FItems.GetCount()-1&&(e=this.FItems.GetItem$1(t)).FCanSelect&&(i=this.FSelectedItemIndex,e.FCanDeselect&&e.GetIndex()===this.FSelectedItemIndex?this.FSelectedItemIndex=-1:this.FSelectedItemIndex=e.GetIndex(),-1!==this.FSelectedItemIndex&&(this.FFocusedItemIndex=this.FSelectedItemIndex),e.FCanDeselect&&-1!==i&&this.DoItemDeselected(i),-1!==this.FSelectedItemIndex&&this.DoItemSelected(this.FSelectedItemIndex))},this.Create$1=function(e){return pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Create$1.apply(this,arguments),this.FColumns=4,this.FRows=4,this.FItems=this.CreateItemsCollection(),this.FDisplayList=t.TTMSFNCCustomSelectorDisplayList.$create("Create$1"),this.FAppearance=t.TTMSFNCCustomSelectorAppearance.$create("Create$1",[this]),this.FSelectedItemIndex=-1,this.FFocusedItemIndex=-1,this.FHoveredItemIndex=-1,this.FDownItemIndex=-1,this.IsDesignTime()&&this.InitializeDefault(),this},this.Destroy=function(){rtl.free(this,"FAppearance"),rtl.free(this,"FDisplayList"),rtl.free(this,"FItems"),pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Destroy.call(this)},this.Assign=function(e){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Assign.apply(this,arguments),t.TTMSFNCCustomSelector.isPrototypeOf(e)&&(this.FItems.Assign(rtl.as(e,t.TTMSFNCCustomSelector).FItems),this.FAppearance.Assign(rtl.as(e,t.TTMSFNCCustomSelector).FAppearance),this.FRows=rtl.as(e,t.TTMSFNCCustomSelector).FRows,this.FColumns=rtl.as(e,t.TTMSFNCCustomSelector).FColumns)},this.BeginUpdate=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBase.BeginUpdate.call(this),this.FUpdateCount$1+=1},this.EndUpdate=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBase.EndUpdate.call(this),this.FUpdateCount$1-=1,0===this.FUpdateCount$1&&this.CalculateItems()},this.InvalidateItems=function(){this.Invalidate()},this.UpdateControlAfterResize=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.UpdateControlAfterResize.call(this),this.CalculateItems()},this.InitializeDefault=function(){},this.XYToItem=function(t,e){var i=0,s=0,o=null;i=-1;for(var n=0,a=this.FDisplayList.GetCount()-1;n<=a;n++)if(s=n,pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.FDisplayList.GetItem(s).Rect,pas["WEBLib.TMSFNCTypes"].PointF(t,e))&&null!=(o=this.FDisplayList.GetItem(s).Item)&&o.FEnabled&&!o.FSeparator){i=o.GetIndex();break}return i},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),rtl.createClass(this,"TTMSFNCDefaultSelector",this.TTMSFNCCustomSelector,(function(){rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown);var t=this.$rtti;t.addProperty("Fill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FFill","SetFill"),t.addProperty("Stroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FStroke","SetStroke"),t.addProperty("Version",1,rtl.string,"GetVersion","")})),t.$init=function(){pas.Classes.RegisterClass(t.TTMSFNCCustomSelector)}}),["Math","SysUtils","WEBLib.TMSFNCUtils","WEBLib.TMSFNCStyles"]),rtl.module("WEBLib.TMSFNCImage",["System","Classes","WEBLib.TMSFNCCustomControl","WEBLib.TMSFNCBitmapContainer","WEBLib.TMSFNCTypes","WEBLib.TMSFNCGraphics","WEBLib.TMSFNCGraphicsTypes"],(function(){"use strict";var t=this;this.MAJ_VER=1,this.MIN_VER=0,this.REL_VER=0,this.BLD_VER=1,rtl.createClass(this,"TTMSFNCCustomImage",pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl,(function(){this.$init=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$init.call(this),this.FBitmap=null,this.FBitmapContainer=null,this.FStretch=!1,this.FBitmaps=null,this.FCropping=!1,this.FCenter$1=!1,this.FAutoSize=!1,this.FAspectRatio=!1,this.FOnBitmapChanged=null,this.FBitmapMargins=null},this.$final=function(){this.FBitmap=void 0,this.FBitmapContainer=void 0,this.FBitmaps=void 0,this.FOnBitmapChanged=void 0,this.FBitmapMargins=void 0,pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$final.call(this)},this.SetBitmapContainer=function(t){this.FBitmapContainer=t,this.ApplyAutoSize(),this.Invalidate()},this.SetBitmaps=function(t){this.FBitmaps.Assign(t),this.Invalidate()},this.SetBitmap=function(t){this.FBitmap.Assign(t),this.Invalidate()},this.GetBitmapContainer=function(){return this.FBitmapContainer},this.SetBitmapMargins=function(t){this.FBitmapMargins.Assign(t)},this.GetVersion=function(){return this.$class.GetVersionNumber(1,0,0,1)},this.ApplyAutoSize=function(){var t=null;null!=(t=this.GetBitmap())&&this.FAutoSize&&!pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(t)&&(this.SetWidth(Math.round(t.GetWidth()+this.FBitmapMargins.FLeft+this.FBitmapMargins.FRight)),this.SetHeight(Math.round(t.GetHeight()+this.FBitmapMargins.FTop+this.FBitmapMargins.FBottom)))},this.BitmapMarginsChanged=function(t){this.ApplyAutoSize(),this.Invalidate()},this.Notification=function(t,e){pas["WEBLib.Menus"].TWebCustomControl.Notification.apply(this,arguments),1===e&&t===this.FBitmapContainer&&(this.FBitmapContainer=null)},this.BitmapChanged=function(t){null!=this.FOnBitmapChanged&&this.FOnBitmapChanged(this),this.ApplyAutoSize(),this.Invalidate()},this.SetStretch=function(t){this.FStretch=t,this.Invalidate()},this.SetCropping=function(t){this.FCropping=t,this.Invalidate()},this.SetCenter=function(t){this.FCenter$1=t,this.Invalidate()},this.SetAS=function(t){this.FAutoSize=t,this.ApplyAutoSize(),this.Invalidate()},this.SetAspectRatio=function(t){this.FAspectRatio=t,this.Invalidate()},this.GetBitmap=function(){return pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(this.FBitmap)?pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.GetScaledBitmap(this.FBitmaps,0,this.FBitmapContainer):this.FBitmap},this.Create$1=function(t){return pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Create$1.apply(this,arguments),this.IsDesignTime()&&this.DisableBackground(),this.FBitmapMargins=pas["WEBLib.TMSFNCTypes"].TTMSFNCMargins.$create("Create$1"),this.FBitmapMargins.FOnChange=rtl.createCallback(this,"BitmapMarginsChanged"),this.FCenter$1=!0,this.FStretch=!1,this.FAspectRatio=!0,this.FCropping=!1,this.FBitmaps=pas["WEBLib.TMSFNCTypes"].TTMSFNCScaledBitmaps.$create("Create$3",[this]),this.FBitmaps.FOnChange=rtl.createCallback(this,"BitmapChanged"),this.FBitmap=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),this.FBitmap.FOnChange=rtl.createCallback(this,"BitmapChanged"),this.SetWidth(100),this.SetHeight(100),this},this.Destroy=function(){rtl.free(this,"FBitmap"),rtl.free(this,"FBitmaps"),rtl.free(this,"FBitmapMargins"),pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Destroy.call(this)},this.Draw=function(t,e){var i=null;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Draw.apply(this,arguments),4 in this.FComponentState&&(t.FStroke.SetKind(3),t.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),2)),null!=(i=this.GetBitmap())&&(e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left+this.FBitmapMargins.FLeft,e.Top+this.FBitmapMargins.FTop,e.Right-this.FBitmapMargins.FRight,e.Bottom-this.FBitmapMargins.FBottom)),t.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i,this.FAspectRatio,this.FStretch,this.FCenter$1,this.FCropping))},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),rtl.createClass(this,"TTMSFNCImage",this.TTMSFNCCustomImage,(function(){this.RegisterRuntimeClasses=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.RegisterRuntimeClasses.call(this),pas.Classes.RegisterClass(t.TTMSFNCImage)},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("AspectRatio",2,rtl.boolean,"FAspectRatio","SetAspectRatio",{Default:!0}),e.addProperty("Bitmap",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCBitmap,"FBitmap","SetBitmap"),e.addProperty("BitmapMargins",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCMargins,"FBitmapMargins","SetBitmapMargins"),e.addProperty("Version",1,rtl.string,"GetVersion",""),e.addProperty("Bitmaps",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCScaledBitmaps,"FBitmaps","SetBitmaps"),e.addProperty("BitmapContainer",3,pas["WEBLib.TMSFNCBitmapContainer"].$rtti.TTMSFNCBitmapContainer,"GetBitmapContainer","SetBitmapContainer"),e.addProperty("Stretch",2,rtl.boolean,"FStretch","SetStretch",{Default:!1}),e.addProperty("Cropping",2,rtl.boolean,"FCropping","SetCropping",{Default:!1}),e.addProperty("Center",2,rtl.boolean,"FCenter$1","SetCenter",{Default:!0}),e.addProperty("AutoSize",2,rtl.boolean,"FAutoSize","SetAS",{Default:!1}),e.addProperty("Fill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FFill","SetFill"),e.addProperty("Stroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FStroke","SetStroke"),e.attr=[pas.Classes.ComponentPlatformsAttribute,"Create$1",[0]]}))}),["WEBLib.Controls","WEBLib.Graphics","WEBLib.TMSFNCUtils"]),rtl.module("WEBLib.TMSFNCToolBarRes",["System"],(function(){"use strict";var t=this;this.TMSFNCTOOLBAREXPAND="data:image/PNG;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOvwAADr8BOAVTJAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC4zjOaXUAAAACVJREFUGFdj+P//P07MEBYW9h8Xxi8JAjglYACnBAzglMAEDAwARZ1DA4NRF38AAAAASUVORK5CYII=",this.TMSFNCTOOLBAREXPANDLARGE=this.TMSFNCTOOLBAREXPAND,this.TMSFNCTOOLBAREXPAND2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOvgAADr4B6kKxwAAAABl0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC4xNkRpr/UAAAA3SURBVBhXY3j69KktLgyS/I8LE5RsQxeE4jaQpCKIgSQIlgBiRQYQADGgAqgSMABVkI2QYGAAANnukE/t/B6ZAAAAAElFTkSuQmCC",this.TMSFNCTOOLBAROPTIONSMENU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAJCAYAAAD+WDajAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOvwAADr8BOAVTJAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC4zjOaXUAAAACpJREFUKFNjwAvCwsL+48IM///jxvh1YhOEYZz2giVgAKcEDOCUwAQMDAAqj1EKDJG5XAAAAABJRU5ErkJggg==",this.TMSFNCTOOLBAROPTIONSMENULARGE=this.TMSFNCTOOLBAROPTIONSMENU,this.TMSFNCTOOLBARQUICKMENU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABl0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC4xNkRpr/UAAAAlSURBVBhXYwCC/9gwEAApKAMbJl4SnY0igCQIw3gkcUowMPwHALBNZJw15C+yAAAAAElFTkSuQmCC",this.TMSFNCTOOLBARQUICKMENU2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAL0lEQVQYV2P4jxswwCRBNAYGESCAIQHCIAIEYAIgAGejC8D4YEBQEqvE/////wMA7H6pV7j5gXMAAAAASUVORK5CYII=",t.$init=function(){pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCTOOLBAREXPAND),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCTOOLBAREXPAND2),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCTOOLBAROPTIONSMENU),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCTOOLBARQUICKMENU),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCTOOLBARQUICKMENU2)}}),["WEBLib.TMSFNCTypes"]),rtl.module("WEBLib.TMSFNCEdit",["System","Classes","WEBLib.TMSFNCToolBar","WEBLib.TMSFNCToolBarRes","WEBLib.TMSFNCCustomControl","WEBLib.TMSFNCTypes","WEBLib.TMSFNCPopup","WEBLib.ExtCtrls","WEBLib.StdCtrls","WEBLib.Graphics","WEBLib.Controls","WEBLib.TMSFNCGraphicsTypes","WEBLib.TMSFNCBitmapContainer"],(function(){"use strict";var t=this,e=t.$impl;this.MAJ_VER=1,this.MIN_VER=0,this.REL_VER=3,this.BLD_VER=4,this.LOOKUPITEMHEIGHT=18,this.TTMSFNCEditType={0:"etString",etString:0,1:"etNumeric",etNumeric:1,2:"etSignedNumeric",etSignedNumeric:2,3:"etFloat",etFloat:3,4:"etSignedFloat",etSignedFloat:4,5:"etUpperCase",etUpperCase:5,6:"etMixedCase",etMixedCase:6,7:"etLowerCase",etLowerCase:7,8:"etMoney",etMoney:8,9:"etHex",etHex:9,10:"etAlphaNumeric",etAlphaNumeric:10,11:"etValidChars",etValidChars:11},this.$rtti.$Enum("TTMSFNCEditType",{minvalue:0,maxvalue:11,ordtype:1,enumtype:this.TTMSFNCEditType}),this.TTMSFNCEditPrecisionDisplay={0:"pdNormal",pdNormal:0,1:"pdShortest",pdShortest:1},this.$rtti.$Enum("TTMSFNCEditPrecisionDisplay",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TTMSFNCEditPrecisionDisplay}),rtl.createClass(this,"TTMSFNCEditLookupSettings",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FDisplayList=null,this.FValueList=null,this.FDisplayCount=0,this.FColor=0,this.FEnabled=!1,this.FNumChars=0,this.FCaseSensitive=!1,this.FHistory=!1,this.FMulti=!1,this.FSeparator="",this.FAcceptOnTab=!1,this.FWidth=0,this.FHeight=0,this.FUseValueList=!1,this.FMinimumWidth=0,this.FMinimumHeight=0},this.$final=function(){this.FDisplayList=void 0,this.FValueList=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetDisplayList=function(t){this.FDisplayList.Assign(t)},this.SetValueList=function(t){this.FValueList.Assign(t)},this.SetNumChars=function(t){t>0&&(this.FNumChars=t)},this.SetHeight=function(t){this.FHeight=t},this.SetWidth=function(t){this.FWidth=t},this.SetMinimumHeight=function(t){this.FMinimumHeight=t},this.SetMinimumWidth=function(t){this.FMinimumWidth=t},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FUseValueList=!0,this.FWidth=0,this.FMinimumWidth=0,this.FHeight=0,this.FMinimumHeight=0,this.FDisplayList=pas.Classes.TStringList.$create("Create$1"),this.FDisplayList.SetSorted(!0),this.FDisplayList.FDuplicates=0,this.FValueList=pas.Classes.TStringList.$create("Create$1"),this.FColor=16777215,this.FDisplayCount=4,this.FNumChars=2,this.FEnabled=!1,this.FSeparator=";",this},this.Destroy=function(){rtl.free(this,"FValueList"),rtl.free(this,"FDisplayList"),pas.System.TObject.Destroy.call(this)},this.Assign=function(e){t.TTMSFNCEditLookupSettings.isPrototypeOf(e)&&(this.FAcceptOnTab=rtl.as(e,t.TTMSFNCEditLookupSettings).FAcceptOnTab,this.FCaseSensitive=rtl.as(e,t.TTMSFNCEditLookupSettings).FCaseSensitive,this.FColor=rtl.as(e,t.TTMSFNCEditLookupSettings).FColor,this.FDisplayCount=rtl.as(e,t.TTMSFNCEditLookupSettings).FDisplayCount,this.FDisplayList.Assign(rtl.as(e,t.TTMSFNCEditLookupSettings).FDisplayList),this.FEnabled=rtl.as(e,t.TTMSFNCEditLookupSettings).FEnabled,this.FHistory=rtl.as(e,t.TTMSFNCEditLookupSettings).FHistory,this.FNumChars=rtl.as(e,t.TTMSFNCEditLookupSettings).FNumChars,this.FValueList.Assign(rtl.as(e,t.TTMSFNCEditLookupSettings).FValueList),this.FMulti=rtl.as(e,t.TTMSFNCEditLookupSettings).FMulti,this.FSeparator=rtl.as(e,t.TTMSFNCEditLookupSettings).FSeparator,this.FWidth=rtl.as(e,t.TTMSFNCEditLookupSettings).FWidth,this.FHeight=rtl.as(e,t.TTMSFNCEditLookupSettings).FHeight,this.FMinimumWidth=rtl.as(e,t.TTMSFNCEditLookupSettings).FMinimumWidth,this.FMinimumHeight=rtl.as(e,t.TTMSFNCEditLookupSettings).FMinimumHeight,this.FUseValueList=rtl.as(e,t.TTMSFNCEditLookupSettings).FUseValueList)};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("CaseSensitive",0,rtl.boolean,"FCaseSensitive","FCaseSensitive",{Default:!1}),e.addProperty("DisplayCount",0,rtl.longint,"FDisplayCount","FDisplayCount",{Default:4}),e.addProperty("DisplayList",2,pas.Classes.$rtti.TStringList,"FDisplayList","SetDisplayList"),e.addProperty("Enabled",0,rtl.boolean,"FEnabled","FEnabled",{Default:!1}),e.addProperty("History",0,rtl.boolean,"FHistory","FHistory",{Default:!1}),e.addProperty("NumChars",2,rtl.longint,"FNumChars","SetNumChars",{Default:2}),e.addProperty("ValueList",2,pas.Classes.$rtti.TStringList,"FValueList","SetValueList"),e.addProperty("Multi",0,rtl.boolean,"FMulti","FMulti",{Default:!1}),e.addProperty("Separator",0,rtl.char,"FSeparator","FSeparator"),e.addProperty("Width",2,rtl.longint,"FWidth","SetWidth",{Default:0}),e.addProperty("Height",2,rtl.longint,"FHeight","SetHeight",{Default:0}),e.addProperty("MinimumWidth",2,rtl.longint,"FMinimumWidth","SetMinimumWidth",{Default:0}),e.addProperty("MinimumHeight",2,rtl.longint,"FMinimumHeight","SetMinimumHeight",{Default:0}),e.addProperty("UseValueList",0,rtl.boolean,"FUseValueList","FUseValueList",{Default:!0})})),this.$rtti.$MethodVar("TTMSFNCEditLookupSelectEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Value",rtl.string,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCEditLookupIndexSelectEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Index",rtl.longint],["Value",rtl.string,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCEditLookupNeedDataEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Value",rtl.string],["List",pas.Classes.$rtti.TStrings],["ItemIndex",rtl.longint,1]]),methodkind:0}),rtl.createClass(this,"TTMSFNCLookupListBoxItem",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FIdx=0},this.Create$1=function(t){return this.FIdx=t,this}})),rtl.createClass(this,"TTMSFNCLookupList",pas.Classes.TList,(function(){})),rtl.createClass(this,"TTMSFNCEdit",pas["WEBLib.StdCtrls"].TCustomEdit,(function(){this.$init=function(){pas["WEBLib.StdCtrls"].TCustomEdit.$init.call(this),this.FLookupListBoxItems=null,this.FAllowFocus=!1,this.FLookupFormTimer=null,this.FKeyDown=0,this.FShiftState={},this.FEditType$1=0,this.FValidChars="",this.FLookupList=null,this.FLookupListBox=null,this.FLookup=null,this.FOnLookupSelect=null,this.FOnLookupIndexSelect=null,this.FSigned=!1,this.FPrefix="",this.FSuffix="",this.FIsModified=!1,this.FLengthLimit=0,this.FFullTextSearch=!1,this.FAutoThousandSeparator=!1,this.FPrecision=0,this.FPrecisionDisplay=0,this.FBlockChange=!1,this.FAllowNumericNullValue=!1,this.FAutoComplete=!1,this.FOnLookupNeedData=null,this.FAutoClose=!1,this.FOnLookupClose=null,this.FOnLookupOpen=null},this.$final=function(){this.FLookupListBoxItems=void 0,this.FLookupFormTimer=void 0,this.FShiftState=void 0,this.FLookupList=void 0,this.FLookupListBox=void 0,this.FLookup=void 0,this.FOnLookupSelect=void 0,this.FOnLookupIndexSelect=void 0,this.FOnLookupNeedData=void 0,this.FOnLookupClose=void 0,this.FOnLookupOpen=void 0,pas["WEBLib.StdCtrls"].TCustomEdit.$final.call(this)},this.CloseLookup=function(){this.CanFocus()&&this.SetFocus(),null!=this.FLookupList&&(this.FLookupList.FIsOpen&&this.DoLookupClose(),this.FLookupList.SetIsOpen(!1))},this.DoneLookup=function(){var t=0,e=0,i="",s="",o="",n=null;if(null!=this.FLookupListBox&&-1!==this.FLookupListBox.GetItemIndex()){if(t=-1,null!=(n=this.FLookupListBox.FItems.GetObject(this.FLookupListBox.GetItemIndex()))&&(t=n.FIdx),i=t>=0&&t<this.FLookup.FValueList.GetCount()&&this.FLookup.FUseValueList?this.FLookup.FValueList.Get(t):this.FLookupListBox.FItems.Get(this.FLookupListBox.GetItemIndex()),null!=this.FOnLookupSelect&&this.FOnLookupSelect(this,{get:function(){return i},set:function(t){i=t}}),null!=this.FOnLookupIndexSelect&&this.FOnLookupIndexSelect(this,t,{get:function(){return i},set:function(t){i=t}}),this.FLookup.FMulti){for(i+=this.FLookup.FSeparator,s=this.GetT(),o="",e=-1;pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos(this.FLookup.FSeparator,s,{get:function(){return e},set:function(t){e=t}})>0;)o+=pas.System.Copy(s,1,e),pas.System.Delete({get:function(){return s},set:function(t){s=t}},1,e);this.SetT(o+i)}else this.SetT(i);this.FLookup.FMulti?this.SetSelStart(this.GetT().length):this.SelectAll(),this.CloseLookup()}},this.UpdateLookup=function(){var i=0,s=0,o=0,n=0,a=0,r=0,l="",h=0,F=null;if(this.FLookup.FEnabled&&null!=this.FLookupListBox){if(this.FLookup.FMulti)for(l=this.GetT(),r=-1;pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos(this.FLookup.FSeparator,l,{get:function(){return r},set:function(t){r=t}})>0;)pas.System.Delete({get:function(){return l},set:function(t){l=t}},1,r);else l=this.GetT();if(l.length>=this.FLookup.FNumChars){n=18*this.FLookup.FDisplayCount+4,this.FLookupListBox.SetParent(this),this.CleanupLookupList(),this.FLookupListBox.FItems.Clear();for(var p=1,C=this.FLookup.FDisplayList.GetCount();p<=C;p++)i=p,this.FLookup.FCaseSensitive?1===pas.System.Pos(l,this.FLookup.FDisplayList.Get(i-1))&&(F=t.TTMSFNCLookupListBoxItem.$create("Create$1",[i-1]),this.FLookupListBox.FItems.AddObject(e.CleanString(this.FLookup.FDisplayList.Get(i-1)),F),this.FLookupListBoxItems.Add(F)):(r=pas.System.Pos(pas["WEBLib.TMSFNCTypes"].AnsiUpperCase(l),pas["WEBLib.TMSFNCTypes"].AnsiUpperCase(this.FLookup.FDisplayList.Get(i-1))),(this.FFullTextSearch?r>0:1===r)&&(F=t.TTMSFNCLookupListBoxItem.$create("Create$1",[i-1]),this.FLookupListBox.FItems.AddObject(e.CleanString(this.FLookup.FDisplayList.Get(i-1)),F),this.FLookupListBoxItems.Add(F)));if(h=0,this.DoLookupNeedData(l,this.FLookupListBox.FItems,{get:function(){return h},set:function(t){h=t}}),s=this.FLookupListBox.FItems.GetCount(),this.FLookup.FDisplayList.GetCount()>0&&this.FLookupListBox.FItems.GetCount()>0&&this.FLookupListBox.SetItemIndex(h),s<this.FLookup.FDisplayCount&&(n=18*s+4),this.FLookupListBox.SetSorted(!0),o=50,this.FLookupList.SetDropDownWidth(0),s>0){for(var u=1,d=s;u<=d;u++)i=u,a=0,null!=this.FLookupListBox.GetCanvas()&&(a=Math.round(this.FLookupListBox.GetCanvas().TextWidth(this.FLookupListBox.FItems.Get(i-1)))),a>o&&(o=a);o+=26}this.FLookup.FWidth>0&&(o=this.FLookup.FWidth),this.FLookup.FHeight>0&&(n=this.FLookup.FHeight),this.FLookupList.SetPlacementControl(this),s>0?(this.FLookupList.SetDropDownWidth(Math.max(this.FLookup.FMinimumWidth,o)),this.FLookupList.SetDropDownHeight(Math.max(this.FLookup.FMinimumHeight,n)),this.FLookupList.HasPopupForm()&&(this.FLookupListBox.SetParent(this.FLookupList.FPopupForm),this.FLookupList.FPopupForm.SetWidth(Math.round(this.FLookupList.FDropDownWidth)),this.FLookupList.FPopupForm.SetHeight(Math.round(this.FLookupList.FDropDownHeight))),this.FLookupList.FIsOpen||this.DoLookupOpen(),this.FLookupList.SetIsOpen(!0),this.FLookupFormTimer.SetEnabled(this.FAutoClose)):(this.FLookupList.FIsOpen&&this.DoLookupClose(),this.FLookupList.SetIsOpen(!1))}else this.FLookupList.FIsOpen&&this.DoLookupClose(),this.FLookupList.SetIsOpen(!1)}},this.UpdateAutoComplete=function(){var t,i="",s=0;if(this.FAutoComplete&&(i="",(t=this.GetT()).length>=1)){for(var o=1,n=this.FLookup.FDisplayList.GetCount();o<=n;o++)if(s=o,this.FLookup.FCaseSensitive){if(1===pas.System.Pos(t,this.FLookup.FDisplayList.Get(s-1))){i=this.FLookup.FDisplayList.Get(s-1);break}}else if(1===pas.System.Pos(pas["WEBLib.TMSFNCTypes"].AnsiUpperCase(t),pas["WEBLib.TMSFNCTypes"].AnsiUpperCase(this.FLookup.FDisplayList.Get(s-1)))){i=this.FLookup.FDisplayList.Get(s-1);break}""!==i&&(this.SetT(e.CleanString(i)),this.SetSelStart(t.length),this.SetSelLength(this.GetT().length-this.GetSelStart()))}},this.SetLookup=function(t){this.FLookup.Assign(t)},this.AllowMin=function(t){return this.FSigned&&this.FEditType$1 in rtl.createSet(3,4,1,2,8)&&"-"===t},this.FixedLength=function(t){var e,i=0;return t=pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.StripThousandSep(t),i=(e=pas.System.Pos(pas.SysUtils.FormatSettings.DecimalSeparator,t))>0?e:t.length+1,this.FSigned&&this.FEditType$1 in rtl.createSet(3,4,1,2,8)&&pas.System.Pos("-",t)>0&&(i-=1),i},this.SetModified=function(t){0 in this.FComponentState||this.FReadOnly||(this.FIsModified=t)},this.DecimalPos=function(){var t;return 0===(t=pas.System.Pos(pas.SysUtils.FormatSettings.DecimalSeparator,this.GetT()))?this.FPrefix.length+this.GetT().length+this.FSuffix.length+1:this.FPrefix.length+t},this.AutoSeparators=function(){var t,e,i,s="",o="",n="",a=0;a=(s=this.GetT()).length,e=this.GetSelStart(),""!==s&&(1===pas.System.Pos("-",s)?(pas.System.Delete({get:function(){return s},set:function(t){s=t}},1,1),n="-"):n="",s=pas.System.Pos(pas.SysUtils.FormatSettings.DecimalSeparator,s)>0?pas.System.Copy(s,pas.System.Pos(pas.SysUtils.FormatSettings.DecimalSeparator,s),255):"",t=pas.System.Trunc(Math.abs(this.GetFloat())),o=this.FAutoThousandSeparator?pas.SysUtils.Format("%n",pas.System.VarRecs(3,t)):pas.SysUtils.Format("%f",pas.System.VarRecs(3,t)),o=pas.System.Copy(o,1,pas.System.Pos(pas.SysUtils.FormatSettings.DecimalSeparator,o)-1),i=this.FPrecision,this.FPrecision=0,this.FBlockChange=this.GetT()!==this.FPrefix+n+o+s+this.FSuffix,this.FBlockChange&&pas["WEBLib.StdCtrls"].TCustomEdit.SetText.call(this,this.FPrefix+n+o+s+this.FSuffix),this.FBlockChange=!1,this.FPrecision=i,a=this.GetT().length-a,this.SetSelStart(e+a),this.SetSelLength(0))},this.GetFloat=function(){var t=0,i="",s=0,o=0;t=0;var n=this.FEditType$1;return 9===n?""!==this.GetT()&&(t=e.HexToInt(this.GetT())):0===n?(i=this.GetT(),","===pas.SysUtils.FormatSettings.DecimalSeparator&&(i=pas.SysUtils.StringReplace(i,",",".",rtl.createSet(0))),pas.System.val$8(i,{get:function(){return s},set:function(t){s=t}},{get:function(){return o},set:function(t){o=t}}),t=s):1===n||2===n||3===n||4===n?""!==this.GetT()&&(t="-"===(i=this.GetT())?0:this.EStrToFloat(i)):8===n&&""!==this.GetT()&&(i=pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.StripThousandSep(this.GetT()),pas.System.Pos(pas.SysUtils.FormatSettings.DecimalSeparator,i)===i.length&&pas.System.Delete({get:function(){return i},set:function(t){i=t}},pas.System.Pos(pas.SysUtils.FormatSettings.DecimalSeparator,i),1),t=""===i||"-"===i?0:this.EStrToFloat(i)),t},this.SetFloat=function(t){var e="",i=this.FEditType$1;9===i?this.SetT(pas.SysUtils.IntToHex(pas.System.Trunc(t),0)):1===i||2===i?this.FPrecision>=0?this.SetT(pas.SysUtils.Format("%."+pas.SysUtils.IntToStr(this.FPrecision)+"n",pas.System.VarRecs(3,t))):this.SetT(pas.SysUtils.Format("%g",pas.System.VarRecs(3,t))):3===i||4===i||0===i?this.FPrecision>=0?(e=pas.SysUtils.Format("%."+pas.SysUtils.IntToStr(this.FPrecision)+"f",pas.System.VarRecs(3,t)),this.SetT(e)):this.SetT(pas.SysUtils.Format("%g",pas.System.VarRecs(3,t))):8===i&&(this.FPrecision>=0?this.SetT(pas.SysUtils.Format("%."+pas.SysUtils.IntToStr(this.FPrecision)+"f",pas.System.VarRecs(3,t))):this.SetT(pas.SysUtils.Format("%g",pas.System.VarRecs(3,t))),this.AutoSeparators()),this.SetModified(!0)},this.SetAutoThousandSeparator=function(t){this.FAutoThousandSeparator=t,this.FEditType$1 in rtl.createSet(1,2,8,3,4)&&this.AutoSeparators()},this.SetPrecision=function(t){this.FPrecision!==t&&this.FEditType$1 in rtl.createSet(3,4,8,0)&&(this.FPrecision=t,""===this.GetT()&&this.FAllowNumericNullValue||(e.IsType(this.GetT())in rtl.createSet(1,0)?this.SetFloat(this.GetFloat()):this.SetFloat(0)))},this.SetPrecisionDisplay=function(t){this.FPrecisionDisplay!==t&&(this.FPrecisionDisplay=t,this.SetFloat(this.GetFloat()))},this.EStrToFloat=function(t){var e=0;e=0,pas.System.Pos(pas.SysUtils.FormatSettings.ThousandSeparator,t)>0&&(t=pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.StripThousandSep(t)),this.FPrecision>0&&t.length>this.FPrecision&&t.charAt(t.length-this.FPrecision-1)===pas.SysUtils.FormatSettings.ThousandSeparator.charAt(-1)&&(t=rtl.setCharAt(t,t.length-this.FPrecision-1,pas.SysUtils.FormatSettings.DecimalSeparator.charAt(-1)));try{pas.SysUtils.TryStrToFloat(t,{get:function(){return e},set:function(t){e=t}})}catch(t){e=0}return e},this.GetInt=function(){var t=0;t=0;var i=this.FEditType$1;return 9===i?""!==this.GetT()&&(t=e.HexToInt(this.GetT())):2===i||1===i||4===i||3===i?t=e.ValStr(this.GetT()):8===i&&(t=e.ValStr(pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.StripThousandSep(this.GetT()))),t},this.SetInt=function(t){var e=this.FEditType$1;9===e?this.SetT(pas.SysUtils.IntToHex(t,0)):2===e||1===e||4===e||3===e?this.SetT(pas.SysUtils.IntToStr(t)):8===e&&(this.SetT(pas.SysUtils.IntToStr(t)),this.AutoSeparators()),this.SetModified(!0)},this.SetEditType$1=function(t){var i=0;if(this.FEditType$1!==t){if(this.FEditType$1=t,0 in this.FComponentState)return;if(""!==this.GetT()||!this.FAllowNumericNullValue){i=e.IsType(this.GetT());var s=this.FEditType$1;9===s?i in rtl.createSet(0,5)||this.SetInt(0):1===s||2===s?0!==i&&this.SetInt(0):3!==s&&4!==s&&8!==s||i in rtl.createSet(1,0)||this.SetFloat(0)}!(4 in this.FComponentState)||0 in this.FComponentState||3!==this.FEditType$1&&4!==this.FEditType$1||0!==this.FPrecision||this.SetPrecision(2)}var o=this.FEditType$1;11===o||10===o||8===o||0===o||5===o||6===o||7===o?this.SetEditType(0):1===o?this.SetEditType(3):2===o?this.SetEditType(5):3===o?this.SetEditType(1):4===o?this.SetEditType(4):9===o&&this.SetEditType(2),this.SetCharCase(1);var n=this.FEditType$1;5===n?this.SetCharCase(3):6===n?this.SetCharCase(2):7===n&&this.SetCharCase(0)},this.IsLookupListVisible=function(){return null!=this.FLookupList&&this.FLookupList.FIsOpen},this.GetAllowFocus=function(){return this.FAllowFocus},this.SetAllowFocus=function(t){this.FAllowFocus=t},this.GetVersionNumber=function(t,e,i,s){return"",""},this.Validate=function(t){var e=!1,i=0,s="",o=!1;pas["WEBLib.StdCtrls"].TCustomEdit.Validate.apply(this,arguments),e=!0;for(var n=1,a=t.length;n<=a;n++){i=n,s=t.charAt(i-1),o=!0;var r=this.FEditType$1;if(1===r?pas["WEBLib.TMSFNCTypes"].CharIsNumber(s)||(o=!1):3===r?pas["WEBLib.TMSFNCTypes"].CharIsNumber(s)||s===pas.SysUtils.FormatSettings.DecimalSeparator||(o=!1):4===r||2===r?pas["WEBLib.TMSFNCTypes"].CharInArray(s,["-"])||pas["WEBLib.TMSFNCTypes"].CharIsNumber(s)||s===pas.SysUtils.FormatSettings.DecimalSeparator||(o=!1):8===r?pas["WEBLib.TMSFNCTypes"].CharIsNumber(s)||s===pas.SysUtils.FormatSettings.DecimalSeparator||s===pas.SysUtils.FormatSettings.ThousandSeparator||(o=!1):9===r?pas["WEBLib.TMSFNCTypes"].CharIsHex(s)||(o=!1):10===r&&(pas["WEBLib.TMSFNCTypes"].CharIsLetterOrNumber(s)||(o=!1)),!o){e=!1;break}}return e},this.GetVersion=function(){return this.$class.GetVersionNumber(1,0,3,4)},this.DoLookupFormTimer=function(t){null!=this.FLookupList&&null!=this.FLookupListBox?(null!=this.FLookupList.FPopupForm&&this.FLookupList.FPopupForm.ApplyPlacement(),this.FLookupList.FIsOpen&&(this.IsFocused()||this.FLookupList.IsFocused()||this.FLookupListBox.Focused())||(this.LookupList().FIsOpen&&this.DoLookupClose(),this.FLookupList.SetIsOpen(!1),this.FLookupFormTimer.SetEnabled(!1))):this.FLookupFormTimer.SetEnabled(!1)},this.GetT=function(){var t="";return t=pas["WEBLib.StdCtrls"].TCustomEdit.GetText.call(this),""!==this.FPrefix&&1===pas.System.Pos(pas["WEBLib.TMSFNCTypes"].AnsiUpperCase(this.FPrefix),pas["WEBLib.TMSFNCTypes"].AnsiUpperCase(t))&&pas.System.Delete({get:function(){return t},set:function(e){t=e}},1,this.FPrefix.length),""!==this.FSuffix&&pas.System.Delete({get:function(){return t},set:function(e){t=e}},t.length-this.FSuffix.length+1,this.FSuffix.length),t},this.GetCaretPosition=function(){return this.GetSelStart()},this.CleanupLookupList=function(){var t=0,e=null;if(null!=this.FLookupListBoxItems){for(var i=0,s=this.FLookupListBoxItems.GetCount()-1;i<=s;i++)t=i,null!=(e=rtl.getObject(this.FLookupListBoxItems.Get(t)))&&(e=rtl.freeLoc(e));this.FLookupListBoxItems.Clear()}},this.SetCaretPosition=function(t){this.SetSelStart(t),this.SetSelLength(0)},this.SetT=function(t){var i="",s=0,o="";if(""!==(o=t)||!this.FAllowNumericNullValue){var n=this.FEditType$1;3===n?e.IsType(o)in rtl.createSet(1,0)||(o="0"):9===n?e.IsType(o)in rtl.createSet(5,0)||(o="0"):1===n&&(e.IsType(o)in rtl.createSet(0)||(o="0")),0===this.FPrecisionDisplay?(this.FPrecision>=0||8===this.FEditType$1)&&""!==o&&(this.FEditType$1 in rtl.createSet(8)&&this.FPrecision>=0&&(i="%."+pas.SysUtils.IntToStr(this.FPrecision)+"n",o=pas.SysUtils.Format(i,pas.System.VarRecs(3,this.EStrToFloat(o)))),this.FEditType$1 in rtl.createSet(3,4)&&(i="%."+pas.SysUtils.IntToStr(this.FPrecision)+"f",s=this.EStrToFloat(o),o=pas.SysUtils.Format(i,pas.System.VarRecs(3,s)))):this.FEditType$1 in rtl.createSet(3,8,4)&&(s=this.EStrToFloat(o),o=pas.SysUtils.Format("%g",pas.System.VarRecs(3,s)))}this.FEditType$1 in rtl.createSet(9,5)?o=pas["WEBLib.TMSFNCTypes"].AnsiUpperCase(o):this.FEditType$1 in rtl.createSet(7)&&(o=pas["WEBLib.TMSFNCTypes"].AnsiLowerCase(o)),pas["WEBLib.StdCtrls"].TCustomEdit.SetText.call(this,this.FPrefix+o+this.FSuffix),this.SetModified(!1)},this.InsertText=function(t){var e="";this.FReadOnly||(e=this.GetT(),pas.System.Delete({get:function(){return e},set:function(t){e=t}},this.GetSelStart()+1,this.GetSelLength()),pas.System.Insert(t,{get:function(){return e},set:function(t){e=t}},this.GetSelStart()+1),(this.FMaxLength<=0||e.length<=this.FMaxLength)&&(this.SetT(e),this.SetCaretPosition(this.GetSelStart()+t.length)),this.SetSelLength(0))},this.ListKeyUp=function(t,e,i){13===e.get()&&this.DoneLookup(),9===e.get()&&this.FLookup.FAcceptOnTab&&this.DoneLookup()},this.ListMouseUp=function(t,e,i,s,o){this.DoneLookup()},this.KeyPress=function(t){var i=this,s="",o="",n="",a="",r=!1,l=0,h=!1,F=0,p="";function C(){i.FKeyDown in rtl.createSet(38,40)||t.set("\0")}if(null!=this.FLookupListBox){if(s=t.get(),p=t.get(),18!==this.FKeyDown&&27!==this.FKeyDown||this.CloseLookup(),!(8===this.FKeyDown&&""!==this.FPrefix&&this.GetSelStart()<=this.FPrefix.length&&0===this.GetSelLength()))if(this.FLengthLimit>0&&this.FixedLength(i.GetT())>this.FLengthLimit&&0===this.GetSelLength()&&this.GetSelStart()<this.DecimalPos()&&8!==this.FKeyDown&&this.FKeyDown!==pas.SysUtils.FormatSettings.DecimalSeparator.charCodeAt(-1)&&!this.AllowMin(p))C();else{if(this.FKeyDown in rtl.createSet(36,35,9,37,39,33,34,46,8))return 8===this.FKeyDown?(s=i.GetT(),0===this.GetSelLength()?pas.System.Delete({get:function(){return s},set:function(t){s=t}},this.GetSelStart()-this.FPrefix.length,1):pas.System.Delete({get:function(){return s},set:function(t){s=t}},Math.max(1,this.GetSelStart()-this.FPrefix.length),this.GetSelLength()),h=s!==this.GetT()||this.FIsModified,this.SetModified(h),pas["WEBLib.StdCtrls"].TCustomEdit.KeyPress.apply(this,arguments),8===this.FEditType$1&&this.AutoSeparators(),""!==this.GetT()||""===s&&!h||this.Change(),this.SetModified(h),void this.UpdateLookup()):(this.FKeyDown in rtl.createSet(36,35,9,37,39,33,34)&&this.FAutoComplete&&this.GetSelLength()>0&&this.IsLookupListVisible()&&this.CloseLookup(),n=i.GetT(),pas["WEBLib.StdCtrls"].TCustomEdit.KeyPress.apply(this,arguments),void(i.GetT()!==n&&this.SetModified(!0)));if(13===this.FKeyDown&&this.IsLookupListVisible())return pas["WEBLib.StdCtrls"].TCustomEdit.KeyPress.apply(this,arguments),void this.DoneLookup();if(this.FKeyDown in rtl.createSet(9,13,27))pas["WEBLib.StdCtrls"].TCustomEdit.KeyPress.apply(this,arguments);else if(36===this.FKeyDown&&this.IsLookupListVisible())this.FLookupListBox.FItems.GetCount()>0?this.FLookupListBox.SetItemIndex(0):this.FLookupListBox.SetItemIndex(-1);else if(35===this.FKeyDown&&this.IsLookupListVisible())this.FLookupListBox.FItems.GetCount()>0?this.FLookupListBox.SetItemIndex(this.FLookupListBox.FItems.GetCount()-1):this.FLookupListBox.SetItemIndex(-1);else if(34===this.FKeyDown&&this.IsLookupListVisible())this.FLookupListBox.FItems.GetCount()>0?this.FLookupListBox.GetItemIndex()+this.FLookup.FDisplayCount<this.FLookupListBox.FItems.GetCount()?this.FLookupListBox.SetItemIndex(this.FLookupListBox.GetItemIndex()+this.FLookup.FDisplayCount):this.FLookupListBox.SetItemIndex(this.FLookupListBox.FItems.GetCount()-1):this.FLookupListBox.SetItemIndex(-1);else if(33===this.FKeyDown&&this.IsLookupListVisible())this.FLookupListBox.FItems.GetCount()>0?this.FLookupListBox.GetItemIndex()>this.FLookup.FDisplayCount?this.FLookupListBox.SetItemIndex(this.FLookupListBox.GetItemIndex()-this.FLookup.FDisplayCount):this.FLookupListBox.SetItemIndex(0):this.FLookupListBox.SetItemIndex(-1);else{if(38===this.FKeyDown&&this.IsLookupListVisible())return this.FLookupListBox.FItems.GetCount()>0?this.FLookupListBox.GetItemIndex()>0&&this.FLookupListBox.SetItemIndex(this.FLookupListBox.GetItemIndex()-1):this.FLookupListBox.SetItemIndex(-1),void pas["WEBLib.StdCtrls"].TCustomEdit.KeyPress.apply(this,arguments);if(40===this.FKeyDown&&this.IsLookupListVisible())return this.FLookupListBox.FItems.GetCount()>0?this.FLookupListBox.GetItemIndex()+1<this.FLookupListBox.FItems.GetCount()&&this.FLookupListBox.SetItemIndex(this.FLookupListBox.GetItemIndex()+1):this.FLookupListBox.SetItemIndex(-1),void pas["WEBLib.StdCtrls"].TCustomEdit.KeyPress.apply(this,arguments);if(27===this.FKeyDown&&this.IsLookupListVisible())this.CloseLookup();else{if(46===this.FKeyDown&&this.GetSelStart()>=this.FPrefix.length){if(s=i.GetT(),0===this.GetSelLength()?pas.System.Delete({get:function(){return s},set:function(t){s=t}},this.GetSelStart()-this.FPrefix.length+1,1):pas.System.Delete({get:function(){return s},set:function(t){s=t}},this.GetSelStart()-this.FPrefix.length+1,this.GetSelLength()),this.FLengthLimit>0&&this.FixedLength(s)-1>this.FLengthLimit)return void C();this.SetModified(!0)}if(!(this.FMaxLength>0&&0===this.GetSelLength()&&this.GetT().length>=this.FMaxLength)){if(""!==this.FPrefix&&this.GetSelStart()<this.FPrefix.length&&this.SetSelStart(this.FPrefix.length),rtl.eqSet(this.FShiftState,rtl.createSet(2))&&""===p){o=pas["WEBLib.TMSFNCUtils"].TTMSFNCClipBoard.GetText(),l=e.IsType(o),r=!0;var u=this.FEditType$1;return 1===u||2===u?r=0===l:3===u||4===u?r=1===l:5===u?o=pas["WEBLib.TMSFNCTypes"].AnsiUpperCase(o):6===u?o=e.ShiftCase(o):7===u?o=pas["WEBLib.TMSFNCTypes"].AnsiLowerCase(o):8===u?r=1===l:9===u&&(r=l in rtl.createSet(5,0)),r&&this.InsertText(o),void C()}var d=this.FEditType$1;0===d||(1===d?pas["WEBLib.TMSFNCTypes"].CharIsNumber(p)||C():3===d?(pas["WEBLib.TMSFNCTypes"].CharIsNumber(p)||p===pas.SysUtils.FormatSettings.DecimalSeparator||C(),pas.System.Pos(pas.SysUtils.FormatSettings.DecimalSeparator,this.GetT())>0&&t.get()===pas.SysUtils.FormatSettings.DecimalSeparator&&C()):4===d||2===d?(4===this.FEditType$1?pas["WEBLib.TMSFNCTypes"].CharInArray(p,["-"])||pas["WEBLib.TMSFNCTypes"].CharIsNumber(p)||p===pas.SysUtils.FormatSettings.DecimalSeparator||C():pas["WEBLib.TMSFNCTypes"].CharInArray(p,["-"])||pas["WEBLib.TMSFNCTypes"].CharIsNumber(p)||C(),pas.System.Pos(pas.SysUtils.FormatSettings.DecimalSeparator,this.GetT())>0&&t.get()===pas.SysUtils.FormatSettings.DecimalSeparator&&C(),pas.System.Pos("-",this.GetT())>0&&"-"===t.get()&&this.GetSelLength()!==this.GetT().length&&C()):5===d?(p=(s=pas["WEBLib.TMSFNCTypes"].AnsiUpperCase(s)).charAt(0),t.set(p)):7===d?(p=(s=pas["WEBLib.TMSFNCTypes"].AnsiLowerCase(s)).charAt(0),t.set(p)):8===d?pas["WEBLib.TMSFNCTypes"].CharInArray(p,["-"])||pas["WEBLib.TMSFNCTypes"].CharIsNumber(p)||p===pas.SysUtils.FormatSettings.DecimalSeparator||p===pas.SysUtils.FormatSettings.ThousandSeparator||C():9===d?pas["WEBLib.TMSFNCTypes"].CharIsHex(p)||C():10===d?pas["WEBLib.TMSFNCTypes"].CharIsLetterOrNumber(p)||C():11===d&&""!==this.FValidChars&&0===pas.System.Pos(pas["WEBLib.TMSFNCTypes"].AnsiUpperCase(s),pas["WEBLib.TMSFNCTypes"].AnsiUpperCase(this.FValidChars))&&C()),s=i.GetT(),pas["WEBLib.StdCtrls"].TCustomEdit.KeyPress.apply(this,arguments),i.GetT()!==s&&this.SetModified(!0),this.FEditType$1 in rtl.createSet(8,4,2)&&(a=this.GetT(),pas.System.Pos("-",a)>1&&(pas.System.Delete({get:function(){return a},set:function(t){a=t}},pas.System.Pos("-",a),1),this.SetT("-"+a))),8===this.FEditType$1&&this.AutoSeparators(),this.FEditType$1 in rtl.createSet(3,4,8)&&(F=this.GetT().length-s.length)>1&&this.SetCaretPosition(this.GetCaretPosition()+F),rtl.eqSet(this.FShiftState,{})&&this.UpdateLookup()}}}}}else pas["WEBLib.StdCtrls"].TCustomEdit.KeyPress.apply(this,arguments)},this.KeyDown=function(t,e){pas["WEBLib.Controls"].TControl.KeyDown.apply(this,arguments),this.FKeyDown=t.get(),this.FShiftState=rtl.refSet(e)},this.KeyUp=function(t,i){var s=0,o="";pas["WEBLib.Controls"].TControl.KeyUp.apply(this,arguments),o=String.fromCharCode(t.get()),t.get()in rtl.createSet(113,13,38,40,27)||this.UpdateLookup(),9===t.get()&&this.IsLookupListVisible()&&this.FLookup.FAcceptOnTab&&this.DoneLookup(),6===this.FEditType$1&&(s=this.GetSelStart(),this.SetT(e.ShiftCase(this.GetT())),this.SetSelStart(s)),""!==o&&"\b"!==o&&this.UpdateAutoComplete()},this.DoLookupNeedData=function(t,e,i){null!=this.FOnLookupNeedData&&this.FOnLookupNeedData(this,t,e,i)},this.DoLookupOpen=function(){null!=this.FOnLookupOpen&&this.FOnLookupOpen(this)},this.DoLookupClose=function(){null!=this.FOnLookupClose&&this.FOnLookupClose(this)},this.DoExit=function(){var t,e=!1;pas["WEBLib.Controls"].TControl.DoExit.call(this),0 in this.FComponentState||(this.FPrecision>=0&&this.FEditType$1 in rtl.createSet(3,4,8)&&(""===this.GetT()&&this.FAllowNumericNullValue||(e=this.FIsModified,this.SetFloat(this.GetFloat()),this.SetModified(e))),this.FEditType$1 in rtl.createSet(1,2)&&""===this.GetT()&&!this.FAllowNumericNullValue&&this.SetT("0"),this.FEditType$1 in rtl.createSet(3,4,8)&&""===this.GetT()&&!this.FAllowNumericNullValue&&this.SetFloat(0),t=pas.SysUtils.Trim(this.GetT()),this.FLookup.FEnabled&&this.FLookup.FHistory&&""!==t&&-1===this.FLookup.FDisplayList.IndexOf(t)&&this.FLookup.FDisplayList.Add(t))},this.LookupList=function(){return this.FLookupList},this.CanFocus=function(){return pas["WEBLib.Controls"].TControl.CanFocus.call(this)&&this.GetAllowFocus()},this.Create$1=function(e){return pas["WEBLib.Controls"].TControl.Create$1.apply(this,arguments),this.FAutoClose=!0,this.FAllowFocus=!0,this.SetAutoCompletion(51),this.FLookupFormTimer=pas["WEBLib.ExtCtrls"].TTimer.$create("Create$1",[this]),this.FLookupFormTimer.FOnTimer=rtl.createCallback(this,"DoLookupFormTimer"),this.FLookupFormTimer.SetEnabled(!1),this.FLookupFormTimer.SetInterval(1),this.FAutoThousandSeparator=!0,this.FLengthLimit=0,this.FAutoComplete=!1,this.FLookup=t.TTMSFNCEditLookupSettings.$create("Create$1"),this.FLookupListBoxItems=t.TTMSFNCLookupList.$create("Create$1"),this.FLookupList=pas["WEBLib.TMSFNCPopup"].TTMSFNCPopup.$create("Create$1",[this]),this.FLookupList.FStaysOpen=!0,this.FLookupListBox=pas["WEBLib.StdCtrls"].TListBox.$create("Create$1",[this]),this.FLookupListBox.SetItemHeight(18),this.FLookupListBox.FOnKeyUp=rtl.createCallback(this,"ListKeyUp"),this.FLookupListBox.FOnMouseUp=rtl.createCallback(this,"ListMouseUp"),this.FLookupListBox.SetVisible(!1),this.FLookupListBox.SetAlign(5),this.SetAutoSize(!1),this.FLookupList.SetContentControl(this.FLookupListBox),this.FLookupList.FFocusedControl=this,this},this.Destroy=function(){rtl.free(this,"FLookupFormTimer"),rtl.free(this,"FLookup"),this.CleanupLookupList(),null!=this.FLookupListBox&&(rtl.free(this,"FLookupListBox"),this.FLookupListBox=null),rtl.free(this,"FLookupListBoxItems"),null!=this.FLookupList&&(rtl.free(this,"FLookupList"),this.FLookupList=null),pas["WEBLib.Controls"].TCustomControl.Destroy.call(this)},rtl.addIntf(this,pas.System.IUnknown);var i=this.$rtti;i.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]]),i.addProperty("AllowFocus",3,rtl.boolean,"GetAllowFocus","SetAllowFocus",{Default:!0}),i.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),i.addProperty("Alignment",2,pas.Classes.$rtti.TAlignment,"FAlignment","SetAlignment"),i.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),i.addProperty("AutoSelect",2,rtl.boolean,"FAutoSelect","SetAutoSelect",{Default:!0}),i.addProperty("AutoSize",2,rtl.boolean,"FAutoSize","SetAutoSize",{Default:!1}),i.addProperty("Hint",2,rtl.string,"FHint","SetHint"),i.addProperty("TextHint",2,rtl.string,"FTextHint","SetTextHint"),i.addProperty("BorderStyle",2,pas["WEBLib.Controls"].$rtti.TBorderStyle,"FBorderStyle","SetBorderStyle",{Default:pas["WEBLib.Controls"].TBorderStyle.bsSingle}),i.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor"),i.addProperty("DoubleBuffered",0,rtl.boolean,"FDoubleBuffered","FDoubleBuffered",{Default:!1}),i.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),i.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),i.addProperty("HideSelection",2,rtl.boolean,"FHideSelection","SetHideSelection"),i.addProperty("MaxLength",2,rtl.longint,"FMaxLength","SetMaxLength",{Default:0}),i.addProperty("PasswordChar",2,rtl.char,"FPasswordChar","SetPasswordChar",{Default:"\0"}),i.addProperty("ReadOnly",2,rtl.boolean,"FReadOnly","SetReadOnly",{Default:!1}),i.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),i.addProperty("TabOrder",2,rtl.longint,"FTabOrder","SetTabOrder"),i.addProperty("TabStop",2,rtl.boolean,"FTabStop","SetTabStop",{Default:!0}),i.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),i.addProperty("OnChange",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnChange","FOnChange"),i.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),i.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),i.addProperty("OnEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnEnter","FOnEnter"),i.addProperty("OnExit",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnExit","FOnExit"),i.addProperty("OnKeyDown",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyDown","FOnKeyDown"),i.addProperty("OnKeyPress",0,pas["WEBLib.Controls"].$rtti.TKeyPressEvent,"FOnKeyPress","FOnKeyPress"),i.addProperty("OnKeyUp",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyUp","FOnKeyUp"),i.addProperty("OnMouseDown",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseDown","FOnMouseDown"),i.addProperty("OnMouseEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseEnter","FOnMouseEnter"),i.addProperty("OnMouseLeave",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseLeave","FOnMouseLeave"),i.addProperty("OnMouseMove",0,pas["WEBLib.Controls"].$rtti.TMouseMoveEvent,"FOnMouseMove","FOnMouseMove"),i.addProperty("OnMouseUp",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseUp","FOnMouseUp"),i.addProperty("Text",3,rtl.string,"GetT","SetT"),i.addProperty("Version",1,rtl.string,"GetVersion",""),i.addProperty("AutoComplete",0,rtl.boolean,"FAutoComplete","FAutoComplete",{Default:!1}),i.addProperty("EditType",2,t.$rtti.TTMSFNCEditType,"FEditType$1","SetEditType$1",{Default:t.TTMSFNCEditType.etString}),i.addProperty("Lookup",2,t.$rtti.TTMSFNCEditLookupSettings,"FLookup","SetLookup"),i.addProperty("ValidChars",0,rtl.string,"FValidChars","FValidChars"),i.addProperty("AllowNumericNullValue",0,rtl.boolean,"FAllowNumericNullValue","FAllowNumericNullValue",{Default:!1}),i.addProperty("AutoThousandSeparator",2,rtl.boolean,"FAutoThousandSeparator","SetAutoThousandSeparator",{Default:!0}),i.addProperty("FullTextSearch",0,rtl.boolean,"FFullTextSearch","FFullTextSearch",{Default:!1}),i.addProperty("LengthLimit",0,rtl.smallint,"FLengthLimit","FLengthLimit",{Default:0}),i.addProperty("Precision",2,rtl.smallint,"FPrecision","SetPrecision",{Default:0}),i.addProperty("PrecisionDisplay",2,t.$rtti.TTMSFNCEditPrecisionDisplay,"FPrecisionDisplay","SetPrecisionDisplay",{Default:t.TTMSFNCEditPrecisionDisplay.pdNormal}),i.addProperty("OnLookupSelect",0,t.$rtti.TTMSFNCEditLookupSelectEvent,"FOnLookupSelect","FOnLookupSelect"),i.addProperty("OnLookupIndexSelect",0,t.$rtti.TTMSFNCEditLookupIndexSelectEvent,"FOnLookupIndexSelect","FOnLookupIndexSelect"),i.addProperty("OnLookupNeedData",0,t.$rtti.TTMSFNCEditLookupNeedDataEvent,"FOnLookupNeedData","FOnLookupNeedData"),i.addProperty("OnLookupOpen",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnLookupOpen","FOnLookupOpen"),i.addProperty("OnLookupClose",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnLookupClose","FOnLookupClose"),i.attr=[pas.Classes.ComponentPlatformsAttribute,"Create$1",[0]]})),rtl.createClass(this,"TTMSFNCEditButton",pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl,(function(){this.$init=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$init.call(this),this.FBlockDropDown=!1,this.FPopup=null,this.FEdit=null,this.FButton=null,this.FPopupControl=null,this.FOnButtonClick=null,this.FModalPopup=!1,this.FBitmap=null,this.FBitmapName="",this.FButtonSize=0,this.FBitmapContainer=null},this.$final=function(){this.FPopup=void 0,this.FEdit=void 0,this.FButton=void 0,this.FPopupControl=void 0,this.FOnButtonClick=void 0,this.FBitmap=void 0,this.FBitmapContainer=void 0,pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$final.call(this)},this.SetPopupControl=function(t){this.FPopupControl=t,this.FPopup.SetContentControl(this.FPopupControl)},this.GetText=function(){return this.FEdit.GetT()},this.SetText=function(t){this.FEdit.SetT(t)},this.GetBitmapContainer=function(){return this.FBitmapContainer},this.SetBitmap=function(t){this.FBitmap=t,null!=this.FButton&&(this.FButton.FBitmaps.Clear(),this.FButton.FBitmaps.AddBitmap(t,1))},this.SetBitmapContainer=function(t){this.FBitmapContainer=t,null!=this.FButton&&this.FButton.SetBitmapContainer(t)},this.SetBitmapName=function(t){this.FBitmapName=t,null!=this.FButton&&(this.FButton.FBitmaps.Clear(),this.FButton.FBitmaps.AddBitmapName(t,1))},this.SetButtonSize=function(t){this.FButtonSize=t,null!=this.FButton&&this.FButton.SetWidth(t)},this.SetAdaptToStyle=function(t){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.SetAdaptToStyle.apply(this,arguments),null!=this.FButton&&this.FButton.SetAdaptToStyle(this.GetAdaptToStyle())},this.BeforeDropDown=function(){},this.Loaded=function(){pas["WEBLib.Controls"].TCustomControl.Loaded.call(this),null!=this.FButton&&null!=this.FBitmapContainer&&""!==this.FBitmapName&&(this.FButton.FBitmaps.Clear(),this.FButton.FBitmaps.AddBitmapName(this.FBitmapName,1))},this.KeyDown=function(t,e){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBase.KeyDown.apply(this,arguments),115!==t.get()||this.DropDown()},this.Notification=function(t,e){1===e&&t===this.FPopupControl&&(this.FPopupControl=null),1===e&&t===this.FBitmapContainer&&(this.FBitmapContainer=null),pas["WEBLib.Menus"].TWebCustomControl.Notification.apply(this,arguments)},this.ButtonClick=function(t){this.FBlockDropDown||this.DropDown(),this.FBlockDropDown=!1,null!=this.FOnButtonClick&&this.FOnButtonClick(this)},this.ButtonDblClick=function(t){this.FBlockDropDown=!0},this.BitmapChanged=function(t){null!=this.FButton&&(this.FButton.FBitmaps.Clear(),this.FButton.FBitmaps.AddBitmap(this.FBitmap,1))},this.Create$1=function(e){return pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Create$1.apply(this,arguments),this.FModalPopup=!1,this.FButton=pas["WEBLib.TMSFNCToolBar"].TTMSFNCToolBarDropDownButton.$create("Create$1",[this]),this.FButton.SetTabStop(!1),this.FButton.SetAllowFocus(!1),this.FButton.FStored=!1,this.FButton.SetWidth(18),this.FButton.FAppearance.SetRounding(0),this.FButton.SetAlign(4),this.FButton.SetParent(this),this.FButton.FOnClick=rtl.createCallback(this,"ButtonClick"),this.FButton.FOnDblClick=rtl.createCallback(this,"ButtonDblClick"),this.FButton.FBitmaps.AddBitmapFromResource$1(pas["WEBLib.TMSFNCToolBarRes"].TMSFNCTOOLBAREXPAND,pas["WEBLib.TMSFNCTypes"].HInstance(),1),this.FButton.FBitmaps.AddBitmapFromResource$1(pas["WEBLib.TMSFNCToolBarRes"].TMSFNCTOOLBAREXPANDLARGE,pas["WEBLib.TMSFNCTypes"].HInstance(),1.5),this.FButton.FDisabledBitmaps.AddBitmapFromResource$1(pas["WEBLib.TMSFNCToolBarRes"].TMSFNCTOOLBAREXPAND,pas["WEBLib.TMSFNCTypes"].HInstance(),1),this.FButton.FDisabledBitmaps.AddBitmapFromResource$1(pas["WEBLib.TMSFNCToolBarRes"].TMSFNCTOOLBAREXPANDLARGE,pas["WEBLib.TMSFNCTypes"].HInstance(),1.5),this.FEdit=t.TTMSFNCEdit.$create("Create$1",[this]),this.FEdit.SetParent(this),this.FEdit.SetAlign(5),this.FPopup=pas["WEBLib.TMSFNCPopup"].TTMSFNCPopup.$create("Create$1",[this]),this.FPopup.SetPlacement(0),this.FPopup.FStored=!1,this.FPopup.SetDragWithParent(!0),this.FPopup.SetWidth(240),this.FPopup.SetHeight(160),this.FButtonSize=18,this.FBitmap=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),this.FBitmap.FOnChange=rtl.createCallback(this,"BitmapChanged"),this.SetWidth(118),this.SetHeight(22),this},this.Destroy=function(){rtl.free(this,"FButton"),rtl.free(this,"FPopup"),rtl.free(this,"FBitmap"),pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Destroy.call(this)},this.DropDown=function(){null!=this.FPopupControl&&(this.FPopup.SetPlacementControl(this),this.FPopup.FIsOpen?this.FPopup.SetIsOpen(!1):(this.BeforeDropDown(),this.FPopup.Popup(this.FModalPopup)))},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]]),e.addProperty("BitmapContainer",3,pas["WEBLib.TMSFNCBitmapContainer"].$rtti.TTMSFNCBitmapContainer,"GetBitmapContainer","SetBitmapContainer"),e.addProperty("Bitmap",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCBitmap,"FBitmap","SetBitmap"),e.addProperty("BitmapName",2,rtl.string,"FBitmapName","SetBitmapName"),e.addProperty("ButtonSize",2,rtl.longint,"FButtonSize","SetButtonSize",{Default:18}),e.addProperty("PopupControl",2,pas["WEBLib.Controls"].$rtti.TControl,"FPopupControl","SetPopupControl"),e.addProperty("OnButtonClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnButtonClick","FOnButtonClick"),e.addProperty("Text",3,rtl.string,"GetText","SetText"),e.attr=[pas.Classes.ComponentPlatformsAttribute,"Create$1",[0]]})),t.$implcode=function(){e.TTMSFNCEditAutoType={0:"atNumeric",atNumeric:0,1:"atFloat",atFloat:1,2:"atString",atString:2,3:"atDate",atDate:3,4:"atTime",atTime:4,5:"atHex",atHex:5},rtl.createClass(e,"TTMSFNCPopupOpen",pas["WEBLib.TMSFNCPopup"].TTMSFNCPopup,(function(){rtl.addIntf(this,pas.System.IUnknown)})),e.CheckTerminator=function(t){return pas["WEBLib.TMSFNCTypes"].CharInArray(t,[" ",",",".","/","\\",":","*","$","-","(",")","[","]",'"',"'","&"])},e.ShiftCase=function(t){var i,s=0,o="",n=!1;n=!0,o=t;for(var a=1,r=i=t.length;a<=r;a++)s=a,e.CheckTerminator(o.charAt(s-1))?n=!0:n?(o=rtl.setCharAt(o,s-1,pas["WEBLib.TMSFNCTypes"].AnsiUpperCase(t).charAt(s-1)),n=!1):o=rtl.setCharAt(o,s-1,pas["WEBLib.TMSFNCTypes"].AnsiLowerCase(t).charAt(s-1)),("Mc"===pas.System.Copy(o,1,s)||"Mac"===pas.System.Copy(o,1,s)||pas.System.Pos(" Mc",o)===s-2&&s>2||s>i-3&&(" I"===pas.System.Copy(o,s-1,2)||" II"===pas.System.Copy(o,s-2,3)))&&(n=!0);return o},e.IsType=function(t){var e=0,i=0,s=!1,o=!1,n=!1,a=0,r=0,l=0;e=2,s=!0,o=!0,n=!0,""===t&&(s=!1,o=!1,n=!1),a=-1,r=0,l=0;for(var h=1,F=t.length;h<=F;h++)i=h,pas["WEBLib.TMSFNCTypes"].CharIsNumber(t.charAt(i-1))||(s=!1),pas["WEBLib.TMSFNCTypes"].CharIsNumber(t.charAt(i-1))||pas["WEBLib.TMSFNCTypes"].CharInArray(t.charAt(i-1),[".",","])||(o=!1),pas["WEBLib.TMSFNCTypes"].CharIsNumber(t.charAt(i-1))||pas["WEBLib.TMSFNCTypes"].CharIsLetter(t.charAt(i-1))||(n=!1),t.charAt(i-1)===pas.SysUtils.FormatSettings.ThousandSeparator&&i-a<3&&(o=!1),t.charAt(i-1)===pas.SysUtils.FormatSettings.ThousandSeparator&&(a=i),t.charAt(i-1)===pas.SysUtils.FormatSettings.DecimalSeparator&&(r+=1),"-"===t.charAt(i-1)&&(l+=1);return n&&!s&&(e=5),s?e=0:o&&(e=1),(l>1||r>1)&&(e=2),e},e.HexToInt=function(t){var e=0,i=0,s=0;function o(t){var e=0;return e=0,t>="0"&&t<="9"&&(e=t.charCodeAt()-48),t>="A"&&t<="F"&&(e=t.charCodeAt()-65+10),t>="a"&&t<="f"&&(e=t.charCodeAt()-97+10),e}i=0,s=1;for(var n=t.length;n>=1;n--)e=n,i+=s*o(t.charAt(e-1)),s<<=4;return i},e.ValStr=function(t){var e=0,i=0;return pas.System.val$6(t,{get:function(){return e},set:function(t){e=t}},{get:function(){return i},set:function(t){i=t}}),e},e.CleanString=function(t){var e=0;return(e=pas.System.Pos("\r",t))>0&&pas.System.Delete({get:function(){return t},set:function(e){t=e}},e,1),(e=pas.System.Pos("\n",t))>0&&pas.System.Delete({get:function(){return t},set:function(e){t=e}},e,1),(e=pas.System.Pos("\v",t))>0&&pas.System.Delete({get:function(){return t},set:function(e){t=e}},e,1),t}},t.$init=function(){pas.Classes.RegisterClass(t.TTMSFNCEditButton)}}),["SysUtils","Types","WEBLib.TMSFNCUtils","Math"]),rtl.module("WEBLib.TMSFNCColorWheelResources",["System"],(function(){"use strict";this.GetColorWheelResource=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMjHxIGmVAACqeElEQVR4Xuz9BbhVZdjufQM2onR3SSPdId0h3d0p3VLSISkp3S3S3SIhKSmpgISUNDLn9xvP5j3e3N+u59nv3vt9psdfFnOOcd/3uK9znec1FmvNFeH/i49aEUJxa0YIpawdIZS6foTQ+EYRQ+OboVXE0LG2EcPhjpHC4c7ohl7oi/4YhCEYgdH4FhMw2TlTnTvTGLMw15iLjR+wNEIo9ttp//3xv9qjVIRw8TIRQiUqRAxt+zJi6HC1SKG/ahFEvXfC4YZo+m443AKt0f69cPgrdEUP9H4/HP4aA/ENhmEUxnptPCZhCqY793vMwXxjLsJSc6yIFLq72pxrI4ZWrreGTRFCRd4u698f/zM+CkYItSwcMTy8eMTww1IKXE6hKyl6FdQghDqoTyCNPwiHm6EV2n7IrdAZ3T7iVuiL/hiMoRiB0RiHifjOsdMwE7ONMQ8LscTYy82xCj+Ycx02WsPmSKHQNmvaGSHUa3eEULO3y/33x/+oj88jhBJmixCqkytiaGk+QiqkiEUVs4TClkEFha6s4NUIoBbqEkVDNI3MrdD6Y26Fr6JwK/RAb3yNgZ9wKwzDKIz13HhMwhTMwCznzsECYy3GMmOvxBpz/YgN5t5sDVutZQd2W9s+a/zJWn+OGPr+sLWfjhCO9/Zy/v3x/+YjVYRQorQRQlUyRAzt+TxS6J8cCpVHwQooXGFFLKaYpRS1nAJXUuwqqKH4tQmhPhoTSTO0+pRboWNUboVu6BWNW6E/BmMoRmA0xmEivsM0x87EbMwzxkIsMeYKrDLHD1hnzo3m3oLt1rLLmvZa2wFr/Nlaj1jzMWs/ESn07JRrORMhVPKCa3t7mf/++O/1SBYhVBijU0cKPUmnIJkUJqsC5VSovApWUOGKKGAJhSyjqOUVt7JCV1P0mqhLBA2JoglaROdWaB+DW6EresTkVvgaA/ENhmMUxmI8JmEqZmCWc+ZiARYbaxlWGnsNfjTXBnNuxjZr2Gkte6xpv7UdtMZD1nrUmo9b+ynXcMa1nHdNF13blQjhAVcjhPK/vex/f/zbPMLvxrbJCSKGtifRp6S0+WkUIoOCfK4w2RUot0LlV7TCilcUJRWzLCoqbhVFrq7gtRW/PhoRRLNY4XBLtI0dDndAZ3SLw63QFwPicisMxQiMwThMxHden4aZmIP5zl2EpVhhzNVYa4715tqIrebeYQ27rGWvNR3Az9Z4BMes+aS1/+oazrmWC67pkmu76hqvu9abrvlmhHD2cIRwpLeb8e+Pf41H1AjhL2JGDB2Ipx9J5DM6mU1PpQBpFSKjgmTx2Z9DcfJwhAIK9oXiFVfE0opZXlEro6pC10RdhW9ACE3QgkBao308boWu8bkVeuPrBNwKQzAcozAW4zEZUzEDsxw7Fwuw2BjLsNKYa7DOHBuw2ZzbzL2T0PZYy34ctLbD1viLtZ6w5lPWfsY1nHctv7mmK67tumv8w7Xecs13XPtfEUM77kUI5Xq7Lf/++K99fBAhVOzjiKGz0Xzmxra58W1yYpud3MZ/pgDpFSKzz/hsCpNLgfIpVCEFK6pwJRWxrGJWUNQvFbe6QtdW9HpoRATNiKIl2ibkVuiciFuhV2Juhf4YjKEYkYRbYRwm4jvPTcf3mIP5zluEpVhhrNVYa+z12GSurebcgd3WsM9afrKmQ9Z21BqPWetJa/7V2s+5houu5bJruurafneNNwnstmu+59of2INH74TePIkYOvgsQrjA223698d/3iP8boQIoXzvRQzv+kgMfGIzY9jUODY3AUEltdkpbXoan+EZFOFzxcihMLkVqIBCFVawYgpXSgHLKWQlBa2quDUVuY6CN1D8JmhOEK2JpB2+Ssqt0CMZt8LXGJicW2E4RmEsJmAypmIGZmGuYxdiCZYbYxV+MOY6bDTHFnNtxy5z77WG/dZy0JoOW9sv1njCWk9b81lrv+AaLrmWK67pumu74Rr/dK13XPNfBPbQHvxtL57Zkxf25rU9CnGwf4/I/9Tjo1DCiO+GFkXiUO/bvMg2MarNjElQ8WxuIp/JyWx2Khufzmd4JkXIqiA5FSavAhVUqCKKVkLxyihiBcX8UlGro5Yi11PsRgrflAhaoi1hdEDnFNwqJbdCXwxIxa0wFCMxBuNScytM8fF0fI85mI9FzlmKFcZZjbXGXI/N5tiKHebcbe591vCTtRzCUes7bp2n8CuRnbP2i67hsmu55pr+cG23XONt13rPNT9w7Y/twVMCe25PXtmbN/YpHCkUDkV8OZHAEr7dxX9//J8eUUKVIn0UfviOjXvPxn2AKD6OZjNj2dT4NjexTU5usz/zmZ3e5mdWiGwKklth8hNUYUUqRkylFK6sIlZUzCqKWkNx6yh0AzRW+OZE0Jog2uErYumCHp9xK3ydhlthCIan5Vb4FhMwGVMxE7MxzzELsQTLnbsKPxhrHTYaewu2m2uXOfea+4B1/Iwj1nTM2k5Y42lrPWvNF6z9kmu46lp+d003XNufrvGua73vmh+59if24Jm9eGlP/rE3IXsUfu9NOPzOq3Ao0rP7oQhPSr3dzX9/EFTsiFFDV9+xce+y//dt3oc2L7II+AQx/D2O1xLY3KQ2OaXNTmPTM9r8LAqRQ0Hy+OwvoDhfKFRxBSutcOUVsLJiVlPUWopbV5EbKnhTtCSANsTQAZ0IpFs6boW+6bkVBmMoRmbgVhiHSZiC6fgeczDfMYuwDCudvwY/YoMxNxt7G3aaa4859+OgNRyylqPWdNzaTlnjGWs9b82/Wftl13DNtfzhmm65tjuu8S/X+sA1P3btT+3BC3vxyp6E7E04cshmvbZpL2zeU+J6HApFfHgqHOFG5Le7+//RR+xQ/UixQ+feYf/v2bwPbN5HIuBjGxjFBkZFTB/H9VwiryezyalsdjqbnsnmZ1WInD7j8ypKQQUqqlAlFayswlVUwCoKWV1BaytufUVurODNFb4VIbTDV8TRJSO3Qm98nYlbYUhmboVR+BYTMBnTMBOzMQ8LsQTLnbMKPxhjPTYadwt2mGOX+fbigLl/toYj1nLMmk5a26/WeM5aL1jzJWu/6hp+dy03XdNt13bPNd53rY9c8xPX/twevLQX/9iTsE/CcJR/bNZLm/bM5j2xiY+4133ReO9sKMKfdd7u8v+HHmlCn0RMGN71ToJQ6F2foe/bwA9tYGQxEMUmfmoToxFbdBsZC/H8PbHnkzvmM8emt+mZbX52n+m5FSO/whRWoGIKVUrByilcJQWsqpA1FbWuAjdEU8VuofBtiKADQXRCt8/D4Z7om8WdIAZn5VYYiTEYl41bYQqmYxbmYoHXFmMZVmKNc3/EBmNtxjZj7zTPHuw350FzH7aGX3DCmk5Z2xlrPG+tv1nzFWu/7hpuENgt13THtf3lGh+61r9d8zPX/sIevLYXIXsSji4Co72yWdwqylOb99gmPrCZ97jXHe5181Uowu9rNfbvvd31/8UfyUM5IyYL/fSODXzPBn5gAz/yWfqxTfzEJkYltOg2MoaNjEVocWxmAh8n8VxKr6dxXEbnZHFuDoLKoxgFFaaIApVQqDIKVkHhvlTA6opZW1HrK24jhW6m4K3QjgA6EkMXAumB3tm5FQbm4FYYjlE5uRUmYDKmYSZmYx4WYSlWOHY11mK9MTZhqzF3YLc59pnrJ3P+jKPWcMxaTlrTr9Z2zhovcrLL1nzN2n93DTcJ7LZruufaHrjGx671iWt+7tpf2YM39iIcRwTGEoExuFV0bvXp3zbvoU28bzPv2tQ/be4N7nWde13ZHYpwKefb3f9f9JE2VCJS6tCbd23g+8TwoU2MbBOj4FNCi4oYNjOmzYxNbHFtaHwbmpDYkvk4lefTeT2TTc/qnJzGyGesQgpTVIFKElRZBauocFUUsIZC1lHQBorbRJFbKHZrhW+PToTQjTB65uJW6J+bW2EoRubhVhiHSZiSl1thFuZigecWYxlWYo1zfsQGbDHWduw09l5z7DfXQRw29y/WcMJaTlvTWWu7YI2/WesVArtu7Tdcw5+u5a5r+su1PXKNf7vWZ675pWv/xx6E7EU4PreKy61iP7dZIjA6t4rKrT7lVlFu29SbNvcPm3yNuC5zr4tPQhEu5Hlbhf+FHoXD70bIEJofKV3o5Xs28QOb+KFN/Bif2MioPluj2cyYNjMWscWxofGQgNAS2dQkNjW5Pz+zyek9n9lx2Z2T27n5jVHYmMUJqrRClVewygpXTQFrKWQ9BW2ksM0UuaVit1X0jgTQhSC6ozeh9MvHrfANhufnVvgWEwpwK0zDTMzGPCzCUqxwzGqsxXrnbsJW4+3AbmPvM89POGTOo+Y+bg2nrOWMNZ2ztovWeNlar1nzH9Z+yzXcdi33XNMD1/bYnjx1rS9c8yvX/sYehBNzq4TcKoEIjMet4nCrWNwq5l828Q5xcatPuFXk6zb5is3+TTSeJ66zf4cinJ4hGiO+rcr/Ao8soRWRbOB7+MAmfmQTP8YnPluj2szoNjMmYhNcXJsa36YmJJzENjapjU1GbClsbhofZ/B8Fq/ncGwe5xR0fhFjlTBuGYWqoGBfKlwNBaytkPUVtLHiNkdrxW6v6J0IoCsx9CSOvuhfkFthaCFuhTGFuRUmYQqmYxbmYgEWYzlW4Qesc85GbDHGduwy5l4cMMfP5jpizl/MfdIaTuOsNV2wtkvWeNVaf7fmm9b+p2u461ruu6ZHru2JvXjmWl/ah3/sQdgehJNp2JNwq8TcKiG3iq9hjysCY4vAmNwqOreK+rvNvWqTL9nsizb9HHH9Gg5HOhkORTi28G1V/id+pAp9EDFHeNk7NvE9m/gBPrKRH9vITxHNZsYgtlg2NA7i2dQExJbIxiaxscmIJ7nNTWlzUxNUWn9m8vesXsvluHyOL+S8osYpabxyxq9krqoKV1MB6ypmQ0VtqrgtFbmNYndAZ8XvTgi9iaLfF9wK3xThVhhVlFthAiZjWjFuhdmYj0VYihVeW4212IBNzt2KncbaY9x9+Mkch8111JzHccoazljLeWv6zdqucLJr1vqHNd+y9juu4S/X8tA1PXZtT13jC9f62jWHXHs4tQhMya2Sc6ukGvYkIjARt0rAreJxqzi3bKYIjCECo3GrT7nVx+dt+hmbf0oRjovGX/Rdh6ZwrnfeVul/skf68PsR84ZWvmMT37eJHyKyYkdBVBsazYbGsKGxEdemxie4hDY2MZLa3OQEl9IGp7LBn9ngtMSW3iZn9mc2z+X2Wn7HfeG84s4vbZzyxq1s/OrmqqWA9RWysYI2U9zWitxOsb9S+K4E0BN9CKI/kQzG0OLh8IgS3ArjMKkkt8IMzMJcLMASLMcq/IB1jt2ILdhujF3G2osDxv7ZHEdwzJwnzf2rNZyzlovWdMnarlrj79Z605pvW/s913DftTyyB09c23PX+Mq1vnHN4XQiMC23+kzDnkoEpuRWyblVUm6VmFslFIHxRWBcbhWbW8XgVtEuENdZm37a5p9UhGPEdYS4fiauA9//TxmLEQuFlr9jI9+3kR8iss38xGZGRXQbGhOxiS6ujY1vYxMhic1NSnApbHAqG5yaaNLY5HQ2OQOhZbLRnyOHv+fxWkHHFHF8CeeVMU5F41Uxbg1z1TFnA/M3UdAWCttGgTsodmdF70YAvQihHwYSxzeluBVGleZWmFAmHP4O0zATs8tyKyzCUqzw3Gr8iA3Y7Jxt2GmMPdhvzIPGPoxfzHXCnKfMfdYazlvLb9Z0xdquW+MNa71lzXes/S/X8NC1/O2anrm2F679tWsNueZwRm6VQQSm41ZpuFVqbpVSw55cw56UWyURgYm4VXxuFfeyzRWBMblVdG4VlVtF4VaRjyrGIeL6ibj2EdfuRW/L9T/BozqnKkZUNvJ9fGgzI9vMKIhqQ6Mjpk2Ng3g2NoGNTURsSZDMBqe0wals8GdIa5PTI6ONzkxsWWx2VoLK6c98nivktaKOK+Wccs6vZKyqxqxljnrma2TuZtbQSmHbKXBHhe6i6D0Uvw8hfE0UgzCUWEaU41YYV55bYQpmVOBWmIsFWILlWIUfsM4xG7EVO5y7C/uM9ZMxf8YRcxw310lz/mruc9Zw0VouW9M1a/vdGm9a621rvmftD1zDY9fyxDU9d22vXPMb1xrOyq2yiMBM3Cojt0qvYU8rAj/jVqm4VQpulYxbJdGwJxKBCbhVPG4Vh1vF5FbRT9j8XxThsGL8rCgHiGsvce0iru0a+mX/g8diaT1VafFnM9+3mR8isg2Ngqg2NTpi2tg4iGdzE9jcxEhqg5Pb4JTElhppbHQ6G53BRmcits9tdlabnY2r5bDhuZHfx4U9X9wxpR1b3nlfGqO68Wobu745GpuvublbW097Re6k2N0UvhcB9MMAgviGQIZV5FYYW4lbYTKmVeZWmIP5WPQlt8JKH6/Bj9iAzY7dhp3YY4z9OGjMw8b+xRwncNqcZ819wRouWcsVa7pubTes8U9rvWvNf1n7Q9fwt2t55ppeurZ/XGPItYZzcKts3Cqrhv1zEZhJBGbgVum4VRoNe2pulVIEJheBSblVYm6VQMMeT8MeRwTG5FbRuVVUbhWFW0Xepzi7iWsHcW0lrk3E1f9/3O+QiFheo24j38eHNjMyPkFUmxrDpsZCXBsbHwmJLjGS2uTkNjkVPrPRaW10ehudkdgyI4sNz2bDsxNbTpue26bnJbYCKOLvJbxW1jEVnVPFuTWMU9eYDY3d1Hwtzd3WGjpaUxfF7q7ovRX/a0IYhCHEMYJgxmBcFW6FKVXdCWJWNW6FhViC5ViFtVjv9U3Yih3O2Y19xvgJh4x51NjHccpcZ8x5ztwXreGytVyzpj+s7ZY13rHWe9b8wNofu4anruWFa3rl2t64xnBebpWbW+UUgdlFYDZu9Tm3yqxhzygC02vY03Krz7hVKm6VXMOeVAQmFoEJRWB8bhWXW8XiVjEOKsZ+4tqjODsVaRtxbSGujcS1/n/AWAy+TlU5tOIdG/q+zfwQkW1oFES1qTEQy8bGRXybmxBJbHAypLDJqWzyZ0hLcBlsdiabnRlZbXh2Ysth03PZ9DyEls/GF7DxhVDUx6U8X87rlRxbzTm1jFHPWI2M28w8rczZzvxfWUtX6+ppjX0VfwAhDCaKYRhFKGOrcytMrsGtMLMmt8J8LMIyrMQa/IgN2Ixtjt2Fvc49gJ+NdcSYx3DSHKfNddacF8x9yRquWsvv1nTTtf9pjXet9b41P7L2J67huWt56Tr/cW1hn0zh/Br2fNwqD7fKxa1ycKtsIjCLCMzMrTJxq/TcKi23+kwEphKBKbhVMm6VhFsl1LDH17DHFYGxRGAMbhWVW0XhVpG3KtYm4lpPXGvDoQirZv+PFYvVQvMj2dD38KENjYwoiGpjYyCWzY2L+DY4IZLY5GRIYaNT2+g0SGezMxBCJnxu07Pa9Ow2PSdy2/i8BJff5he0+YWJ7QsFKI7S/l7e8186prpjazu3vjGaGLOF8duYp4M5O5u/uzX1xtfWOZAIhhDECOIYjXG1uFVtboUZdbgV5mJhXW6F5ViNtVjv+U3Yih3Y7Zx9+MkYh4x1FMeNfcocZ8x13py/4Yo1XLOWP6zplrXdcc1/WetDa35s7U9dwwvX8to1hVxb+AsRWJhbFeRW+blVXg17bm6Vk1tl51ZZudXnGvZMGvYM3Codt0rDrVJzqxTcKpkITCICE4rA+CIwLreKxa1icKuo3CrKZsXaoGg/Kt4P4XCklcS1dOTbqv6//KgVKhGpVujlezb1A0S2qZ8gqo2NjliIa4PjI6FNTmKDkyEFUhNdGpudDhlteGYbngXZbHoOwsiFPDY/n80vYPMLEdsXClBUAYoRWglFKOPjip6r4vUajqvrnIbOb2q8lsZta46O5upi/p7W0sfa+lvnYEIYhpGEMZZYJtTjVpiGmfW5FeY34FZYhpVYg3XYiC3Y7phd2OucA/jZOEdwzJgnjf0rzpnvIi6Z+6rr/91ablrTbWu7Z40PrPWRNT+x9ueu4ZVreeOawiVEYDFuVUTD/oWGvZAILMCt8nGrPNwql4Y9hwjMJgKzcKvM3CoDt0qnYU+jYU8tAlNwq2QiMAm3Ssit4mvY4+5SlO2KIwKjbiSudYq2VvFWh8PvrgiHIi1+FoqwKPfb6v6/9GgUyhmpXujNezb1A3yEKDY2KqLb3JiIi/g2OCGSKGgypLDRqZHGZqdDRkXPbNOzILuNz4ncNj+Pzc9v8wsSW2EUUYSiilCc2EoqRGmFKEdslXxc1fO1vF7P8Y2c19wYrY3X3tidzNXNvL2soZ/1DLS+IdY6nChGYxyRTGzIrTC9EbfC3MbcCkuwHKubcCus9/EmbMNO7Hbsfhx07mH8YqwTxjyFM+Y4b67fzHnF3Net4Ya13LKmu9b2lzU+tNa/rfmZtb90Da9dS8g1hUtzq5IisLgILMqtinCrQhr2ghr2/CIwjwjMxa1ycqtsGvYsGvbMIjCDCEwnAtNwq1TcKgW3SsatkojAhCIwvgiMIwJjisDo3Coqt4qyRvFWKuIy4lqs31rwJhRhbo63Vf7v/GgS+iRi49BP79rcD2zsR/gYUW1udMREHJscHwltchIks9EpkNpmp0E6ZLTpmW16FmSz8TltfG7kJbgCClAQhRWhqCIUI7YSClFKIcoQWjnFqKAYlf1Z3XO1vdbAcU0c38L5bYzTwbhdzNHDXH3M/bV1DLKmodY30nrHWv94TCaaaU25FWY341ZYhGVY2ZxbYR02YovntmMX9uKAc37GEWMcM9ZJ/Grsc+a4aK7L5rxm7j+s4aa13Had96ztgTU+ttan1vzc2l+5hjeuJVyeW5UTgWVEYCluVYJbFROBRUVgYW5VkFsV4FZ5uVVuEZhTBGbjVlm4VWZulYFbpdOwp+FWqTTsKbhVMhGYhFsl5FbxuFUcbhWTW0UXgZ+uUrzlirhEk7xQvzWPuOZsE4sfva32f79HxGbhXe/Y1PfxIT7GpzY3GmIijk2Oh4RIYqOTIYXNTo00NjwdMtr0z5HVxmdHTpufG3kVoIACFMIXhFFUIYorREmFKI2yxFZeQSoqSCViq6IoNXxc13MNvd7Usa2c1875Xxmvq7F7mqevOQeY/xtrGW5do63zW+ueSCxTML0Ft2rJrbAQS1pxK6zGWqzHZmzDTuxxzH4cxGHn/mKMEzhtzLPGvmCOS+a6as7r5r5hDX9ay11rum9tj6zxb2t9Zs0vrf0f1xByLeFK3KoityrPrcpq2EuLwJLcqji3KsqtvuBWhTTsBURgXhGYm1vl5FbZuVVWbvW5CMyoYU/HrdJwq9TcKgW3SsatknCrhNwqnoY9jgiMKQKjrVC8pYq4SDHnK+oc4vpevzV98dty/3d6tAnVf6dVKPSezf0QH+MTRLPBMRAb8Wx0AiRGMpudAqlteBqkQ0Yb/zmy2vwcyKUAeZBPEQoqQiF8oRDFFKIESilGGYIrpyAVFKQSsX2pKFUUpRqh1fJnPX9v7LXmjmvt+PbO62Sc7sbsbeyvzTPQ3EOsZYR1jbHO8Zhs7VNbcyvMacOtsKgtt8JKrME6bMQWbMdu7MNPjj2Eo849jlPGOmPMc7hojsvmu4Y/zH3LGu5Yyz1remhtj63xqet5Yc2vrf2NawhX41ZVuFVlblVJBFbgVuW4VRluVUrDXkLDXoxbfSECC3GrAtwqn4Y9j4Y9l4Y9uwjMKgI/51YZuVU6DXsabpVKw55Cw55Mw55YBCYQgfFEYGxuFUMERlusiNwq8jxFnaWZn6nfmvomFOG78m+r/m/8aB+KHald6Ny77UQgIuMTRLXJMRAbcW10AiRGUpudAqmRxqanQ0ab/jmy2vjsyIU8ip1PAQqiMMEVQXHFKKEYpVBWQcorSEViq6woVVBVYaoTUU3Fqa049f3ZxHMtHNPGsR2d18UYPYzVx/j9zTPYvMOsYZT1fGt9E6z3O0x3Dd+351ZY2IFbYQVWd+RWWI/N2Iad2OO1/TiIw875BSeMcdpYZ3HB2JfMcdVcv5vzprlvu7a71nLfmh65nifW+Nx1vLTmf6w97BrCNTXs1TXsVblVFW5ViVtV1LCXF4FlRGApblWCWxXjVkW4VWERWFAE5uNWebhVLm6VnVtl1bBnFoEZNOzpRGAaEZhKBKbgVklFYGJulYBbxeVWsblVDG4VlVt9wq0if6+40/VbU0TipF9DEcbEeFv9f7tHxK9CV9/5ilviI0RBVBsdHbEQF/FtdiIkRXIbngppkM7GZ0RmZLX5OZBLAfIgnyIURGGFKILiilFSMUqjLFGUV5SK+FJhqipMNaKpoTi1FKcOIdVToIZo6u8tvdbOMV85vqtzexqrnzEHGn+IuUaYd4w1jLOmSdY41Zpnuo7ZmN+JW2EZVnYOh3/AOmzEFuzAbuzDT445hKM47txTOGOs88b8zdhXzHHNXDfMecvcd6zhL9fz0Jr+tran1vjCWl9bc8jaw/VEYB1uVYtb1eBW1TTsVUVgZRFYkVuV51ZlNeyluVVJDXtxEViEWxXmVgW5VT5ulYdb5RKB2UVgVhGYmVtlEIHpuFUabpWKWyXnVkm5VSINe3xuFZdbxVqgiHNFIreKMkNxpyryZJE4gbi+Pf62/P9Gj66hSu905ZL4EB/jU0TrIqoRB/GRyKYnQXKksumfIR0y2vjMyILsCpALeRQhHwqisGIUUYziKKkgpVFOUSooSiV8qTBViaS64tRUnNqoq0D1ia2hIjVSpOb+bO259l7r7NjuzultjK+NNci4Q80x0lxjzT3BOr6zrunW+b11z8UC17Okm94Kq7EW67tzK2zDTuzx3AH8jCOOP4aTzj2Nc8a6aMxLxr5qjt/NddOct819zxoeWMsja3pibc+t8ZW1vrHmcCMR2JBb1edWdTXstUVgTW5VnVtV5VZfcqtKIrCChr0styotAktyq+LcqoiGvbCGvaCGPR+3ysOtcnGr7NwqC7fKzK0ycKt0GvbPuFVKDXtyEZhEw55Iwx5fBMYRgTFnK+ZMRZ2muN8p8kTFHicSR4fCEUb/G/3kde9Qwkg9ww/f7cklERmf9OBWiInYiIeENj4JkiGljf8MaZHB5mdGFmRDTkXIg3wKURCFFaMIiitISZRWlHKooDCVFKYKqilODcWphToKVI/YGihSI0VqTGxNFaoF2vi4o+e7OKaHY/s4d4BxvjHecGOPNt84c0/CFGubgdnWO8/6F2GZa1uJH3pxK2zEVuzAbuzDTzjkmKM47pxTOGOM88b6zfVdMfZ13DDXn+a8a+6/rOGha/jbmp5Z+0trfG2tIWsON+VWjTXsjURgA25Vj1vV4Va1uFUNDXs1EfilCKzErSpwq7LcqrSGvaQILC4Ci3CrwtyqILfKx63ycKucGvZs3CqLhj2zCEyvYU8rAj8TgSlFYDIRmFgEJhSB8URgbBEYQwRGnaK4kxR5vGKPFYmjuNbwP8IR+kd5q4Z/pUf/8LsR+4YWvdOXO+IjROljfsRALMRFgt7WiaRIidQ2Py0yIBOyKEJ25FSE3MiHgopRGEVQXFFKoozClENFhamsMFVQjehqoLYi1VWk+orUgGAao4liNVOsFoTUSsHa+fMrf+/mtV6O6+ecgc4dYpwRxh1jjvHmm2z+adbzvbXNwQJrXuI6lmO1a1yLDdiMbdiFvTiAn3EExxx7Er8695wxLuKyMa8Z+w9z3DTXHddxz9wPrOGxtTy1pufW9soa31hvuBW3aiECm4nAJtyqMbdqoGGvr2Gvy61qicAa3Koat6qiYa/MrSqKwHIisAy3KsmtinOrIhr2whr2ghr2fCIwt4Y9pwjMJgKziMBMIjC9CEwrAlOLwBQiMKkITCwCE3CruCIwlgiMIQI/naDI3yr2aEUfIRKHEtfgaWHd0FtV/Cs8+ofyRRrAFfEhPu5vXkRHTMRB/K+5KpIiBVIhTT/XgUz4HNkUIidyI69iFERhFFGU4iipKGVQXmEqorLiVEV1BaqJ2opUlzDqK1RDNFGsporVXLFaEltrBWurYO3R2cfdPd/b6187drDzhhljlPG+NfZE80wx5wzzz7Keeda3CEuteyXWuKZ12Oh6t2IHdmMffsJhr/2CE449jbPOvYBLxrpqzOvGvmGOP81115z3rf2RNfxtLc+s6aW1/WONYZ8U4bbcqjW3asmtmmvYm4rAJiKwIbeqz63qcqva3KqmCKyuYa/CrSpzq4rcqjy3KqNhLykCi4vAIiKwsAgswK3yisDcIjAnt8rGrT4XgZm4VTpulUYEpuJWyblVEm6VSATG51ZxuFVMERh9HNcao9gjFX2Y4n8TDkcaGA5F6J/trSr+2x8RB4d3vTuYKyIyoiAaYiD2IC6KhEiC5EiFzwZaPzIis0JkRQ7kRl4FKYBCKKIoxVESpRWmHCoqTmVUVaDqqKlIdVBPoRooVCM0UaxmhNJCwVopWBu0U7QOitYRXdDD3/t6foDjvnH8cOePMc44Y042/lRzzTTvHOtYYF2LrXU5Vlv/WmxwfZuxDbuwFwfwM47gmGNO4oxzzuGiMS4b65ox/zD2LXPcMddf5nxo7sfW8NRaXljTa2t7Y43hjtyqA7dqx63aiMBWIrAFt2rGrZpo2BtxqwYa9noisDa3qsmtqnOrKtyqsoa9oggsJwJLi8CS3Kq4CCzCrQpxqwLcKi+3ysWtcnCrrNwqM7fKyK3ScavPuFVKbpVMw56EWyXkVvFEYGxuFYNbRR2l2MMVfQjXcqHv9OdafTe+lcV/42NIqFikYaHQe0QbCPdjfIroiDWUeyIBEiMZUiK1daRFBmRGVmLPjlzIgwKKUghfoLj1lkRplFOciqisQFVRXZFqoo5C1UMDxWqEpgrWXMFaorWitVW09sTWUeE6KVxnYuumeL183M9zA70+1HEjnTfW+ROM9Z1xp5tjlnnnWcdCLLW2lda7Butcx0ZsxQ7Xuhv7cRCHPfcLTuC0Y8/ignMvGeMqfjfmTWPfNsddc9035yNzP7GG59byypr+sbawNYY7a9g7adg7isD23Kott2rNrVqKwOYa9qbcqhG3asCt6nGr2hr2mhr26iKwigisLAIriMBy3Ko0tyrJrYpp2L/gVoW4VQENex4Ney5ulV3DnkXDnplbZdCwp9WwpxaBKbhVMg17Yg17Am4Vl1vFEoHRReCnLvJjFxVE1Xv9NPK9X4Ui9Pxv/7fEiKNCZ/Vu4Q8QGZ8gGneMiTiIj0RIiuRIZS1pkB6ZkAXZiT4n8iA/CirOFyiGEtZdGuVQQYEqoyqqK1RN1HFN9dBAsRqhKeE1d40t0Ubh2ilce4X7Cp0JrQu6KWAPBeyNr/19sKIO8/oox3/rvEnGmWrMmcafY6755l5sLcuxyvrWWvMGbHY927ALe3EAh3AUx3HKMWdw3jm/OfcKrhvrhjFvGfuOOf4y10Nz/m3uZ9bwwlpeW1/I2sI9RGA3EdiFW3XiVl9xq/Ya9nYisA23asmtmnOrptyqkYa9gQisJwJrc6ua3Ko6t6rCrSpzqwoa9nLcqrQILKFhL6Zh/0IEFhSB+TXseURgThGYTcP+uQjMJALTi8A0GvZUIjC5CEzCrRJq2ONr2OModEwXFs2FfGLTI9voD2ymu7dQxG7b38rjv/LxbfiLd8zxXtDD+TMKoiI6YiMeEiCJKE6GlPgM6ZARnxN9NuRAbuSz1oIojKIooTilUBYVFKgSqqC666mJOqinWA0UqxGaormitXStbdBO4TooXCd0du1dFbC7Ava0B70Vsa8iDvDnN54b7rUxjhvvnMnGmGas74091xwLzbnUGlZY0xqss9aN1r8VO7Ab+13nQRz28S84gdM469iLzrmEq8b43Vg3jXnb2PfM8cA6H5nzibmfW8Mra3ljTeE+IrA3t+rJrbpzq64a9s4i8CsR2IFbteNWbTTsLTXszblVUxHYiFs14Fb1uFVtblWTW1XnVlVEYCUNewURWFYElhKBJURgURFYWAQWFIH5RGBuEZhDBGYTgZlFYEYRmE4EfiYCU2rYk4nAxIqdwEXFdSGxbFR0C49q0R/bzA99NrzXnWt1CYUidP7srUr+Cx873QlOCB1411wfIDI+QTTERBzEJ+5ESIoUSI20yIDM3DQrsiMX8qKANRdGURRHKYUqi/KopEhVUA01XVcd1EMDBWuEporWAq1cbxu0V7yOitcJXRSwmz3ooYi90Ech+9mP/sQ2UDGH+Hik58Y6ZoJjpzh3hjFmG2++sReZZ5l5V1nHWutaj83Wuw27XMteHMAhHMVxnPLaGZx37G+44tzrxrhhrD+NedfY983x0Fx/m/OZuV9awz/WErKm8Nfcqh+36qNh7yUCe3CrbtyqC7fqpGHvIALbicA23KoVt2rBrZpyq0Ya9gYa9noa9toa9poisJoI/JJbVRKB5blVWW5VilsVF4FFuFUhEVhABOblVrlEYHYRmFUEZhKBGURgWhGYWgSmcEFJXUQQQfFtbBwLjmmx0XwmfMJmI8vwD+T3u524VodN/3V3iFNC+SOZ7z18hCiIiuBONDbiISGSIDlSIQ0nTYdMyIJsyIk8yG/dhVAExVCSMMugPCriS8Wqhhqo7frqoYGCNUJTtFC4VmjrutujowJ2RldF7G4feipib/RVyK/tyQDFHKiY3xDaMH+O8tw4r01y7FTnzHTuHOMsMOYSc63AGnOvs5aN1rcFO6x7N/bjIA7jGE7iV5xzzEVcds415/5hjFu4Y8x7xn5gjsfmemrOF+Z+ZU1vrCU8mFsN1LAPEIH9uFVfbtWbW/XgVt1EYFcR2JlbdeRW7TXsbblVKw17CxHYVAQ2EoENuFU9EVhbBNbgVtW41ZfcqiK3Ks+tynCrktyqGLcqwq0Kcqv83CqPCMzJrbJxqywiMKMIDIqWxgWksvDkFpzEYhNaaFyfBbHZf/A1pU81sR9rXj90K/6eW/BI7dwhtvz8rVr+8x8Rp4W2v0vMHyAyPkE0xEQcxEciJEUKThq4aVpkQGZkRQ7ktu58KIgvUBQlCLQ0yqEiviTKqqiB2qjrOhugkaI1RXO0Ury2aO/6O6KzAnZFd6LrZT96o69i9lfMgRikmN9gKLENt09jfDzenk12zHTHznLePOMsMuYy468y3w/mXo/N1rTNOndhLw64jkM4iuM45bmzOI/fHHvVOddxwxh/GuuuMe8b+5E5npjrmTlfmvsfawlZS3got/pGBA7iVgO51dca9r4a9t7cqie36s6tunKrTiKwo4a9vQhsKwJbicDm3Kopt2rErRpwq7rcqpaGvQa3qqphr6xhr6BhL8etSmvYS3CrotzqCw17QW6Vj1vl5lY5RGBWxcts4RksOK3FprZxKSwyqc+ARNwqvgiMIwJjisBo7jY+cSsb+SuiaM+1WnOtFpveyuU/8/F9qHCk790J6us+wsccMypiIDbiISGSIDlSIQ3SI5P1ZkF25EJeFEBhFPUJUhylUBYVUNm1VUV11EJdhauPRmiK5orXEm0UsD06orO96IruCtlLIfugn73pr5gDMZjghtinYYo6QlFH2a+x/pzo71O8NsMxs50z3/mLjbPcmKvN8aP5NlrDFuywtt3Yb90HcRjHcBK/4pzXLuKyY6/hD+feMsYdY/1lzIfG/tuanprrhTlfmztkHeFR3GoEtxrGrYZo2AeLwIHcqj+36set+nCrnhr27iKwqwjsLAI7cqv2IrANt2rJrZpr2Jtyq0bcqr4IrKthryUCq4vAKiKwkoa9gggsq2EvpWEvLgKLaNgLcav8Gva8iprL4rNbcBYbkckC09ugND77UrH25Gw+iT4ioQiMJwKDf1aJIQI/7UQMHbhWG67VUq/V1B1i4/+CO8Q5odHvmP8DREbwD97REBNxEB+JkDS4U8VnSIeMyIxsyIngEyMfxy2EL1AMJVEG5V1bJVRBNdREHcKsj4ZoguYK2BJt0N4+dERnReyK7uilmH3sTT8MUNBB+EZRhyrqcPs1EqMVdizG2btJ/pzque+9PtexC5231BgrjfWDsdebZ5N5t1nLTuy1zgM4hKM4jtM4iwu45Jir+N05N5172xj3jHXfmI+M/cQcz831ypz/mDv8LVGN1bCP5lYjReBwETiUW33DrQZp2Ptr2PuJwD4isCe36s6tunKrztyqI7dqp2FvIwJbatiba9ibiMCGIrC+CKwjAmuKwGoisIoIrCQCy4vAMiKwpAgspmH/QgQWtPB8FpvbInNYXFYLy0z1GVlqWnYafK0ohQhMyq0SicD4IjCOCIwpAqOJwE/aEkWrcPj95uHwO03EYYO+b1Xzn3jMDyWKtCD05D3r+BAf41NCj47YiIfgn5aSIPiibSqkQXoEd7BZEPSGuZAXBVAYRVECpVHO9VXEl6iKGqhNqPXQAE3QDC0Jsw3aoaP96Iyu6K6YvdBHQfthgH0ahG8UdqjCjrBnozBGcb9V3PHENsEeTsY0f5/l+XmOW+T4Zc5bbYy1xt2ALebaYe7d2G9dB3HEmo/hJH7FOc/9hiuOuYY/nHPLuXfwl7EeGvNvYz8zxwtzvTZnyNzhCSJwvIb9W241mluN4lYjNOxDReA3InAQt+rPrfpxqz7cqie36q5h78qtOonADiKwnQhsw61aiMBmIrAxt2ogAuuJwNoisIYIrCoCK4vACiKwrAgsLQKDzS9qoYUtsICF5bUpuSg+O2vPwkqDrw2lF4FpRGAqDXtybpVEBCYQgXFFYCwRGL0dMbQmihbE0ZRrNeJa9W6EIzSM9lY9/38ei0NV3iHw9/ERoiAqYiIO4iMRkiL4p6bUHDYtMiAzsiEn8iA/CiFw4eKurRTKoAIqoQqqoxbx1kUDNEZTtCDQ1miHDvakE7qiO3opah/0U9QBGGy/hmCYwo4guFEYY//GKfAETLSPkzGF2Gb4c7aiL/D6EsetcM4aY6wz3iZjbzPfTuy1hgM4ZH1HcQKncRYXcMlrV/G7Y2867zbuGeOBsR4b84mxn5vjlbnemDM8hVtNFoETudV4bjWOW40RgaNE4AhuNYxbDeFWg7nVAA17Pw17HxHYU8PenVt1EYFficAO3Kott2rNrVpwq6YisDG3asCt6nKrWiKwOreqIgIricDyNr+MRZaysGIW9YUFFaL24G4qN7fKIQKzisDMIjCDCEwrAlNr2FOIwKQiMJEIjC8C44jAGCIwakuiaEYcjYmkAdeqw7Vq/KffeyvistCedwn9A0TGp4jOTWMhLhIgMZIjFdIgPTIhC7IjF/KigOsqjKIogdIoh4r4EtV8MtVEHdRHIzRBc4JthbZoj072pgu6o5ei9kE/DFDYwRhi34ZhpOKOxlgFHmcfJ2ASwX2n0FPt6XSFnom5Pl7o+aVeX+X4tc7dYJwtxtxujt3m3I+D1nIEx3ASZ3Aev+EKrjvmBv50zl3n3jfGQ2P9bcxnxn5pjn/MFTJneDq3msqtvtOwT9KwTxCB47jVWG41mluN1LAP07APEYGDRWB/EdiPW/XhVj25VTdu1YVbfaVhb8+t2nKrVhr25tyqCbdqxK3qc6s63Komt6qmAF9aXEWLCiKitE0o4bOsqM+uwtyqAFHlFYG5RGDwFewsIjCTCExPVGk07ClFYDIRmFgEJhCBcUVgLBEYTQR+0oQ4iOqDupr4Wpr46ivfyuc/8lgaShhpVeif96zrQ3yMqIiB4DtY4yEhkiIFUiMtMojy4J+gsiIH8iA/CiG40y2OUiiLCqjsk6kqaqA26qEhGqMZIbdEG7THV/anM7qhJ3oTZD8MwCDFHYJhGGkPRyvwWIxX5ImYbE+nKPQ0hZ6B7xV7NuZhsb8v99pqx/3onI3O32qcncbdY54D5j6Eo9Z0AqdxFhdwCde89gduOva2c+4594ExHhvrqTFfGPuVOd6YKzyLW33PrWaIwGkicAq3msytJnKr8Rr2sSJwtAgcKQKHcash3GoQt+rPrfpp2Htzqx7cqpsI7Kxh76hhby8C23Crlhr2Zhr2xhr2htyqroY92NQaFhVEQmWLqEDhZam7FOssLpe/4FaFRGB+EZhbBOYQgVlFYPCPuhmIKviWlNQiMLkITEJUCUVgPBEYWwTGEIHBT8x8XI9IaovDGuKwyutQhNIfvFXR/8NjbajOO9b2Pj7CJ8QfDTERB/GRGMkQfK/YZ0iHTMiC7Aj+SSovCqAwinLlEiiNcqiIL1ENNVEH9e1FIzRFC7RGO3Qk2s7oih7oTZR90R+D7N03GIaRCjwaYxV5PCba08mYqtjTFXsmZin4HPs8l9gWKPoSH6/w3BrHrHfsZudtN9Zu7DP+QfMdtoZjOIkzOI/fcAXXccMxfzr2rnPum/+RMZ4Y65kxXxr7H3OEzRWeq2GfIwK/51YzudV0bjVFwz5ZBE4UgeO51VhuNZpbjeRWw7jVNxr2QSKwv4a9r4a9twjsIQK7isBOIrCDhr2dCGwtAluIwKYa9kbBZlpQHQup6aKrmfxLyq7INsuJwNIisIRmr6g7mcIisIAIzCsCg3/EzSYCg29BySgC04nAz0RgSn1VMhEYfI95fBEYRwTGFIHR6ovDOkRSk1iqisPK4XCE8pXfquj//oi4PrT0XcL/AB/jU0RHLAQ/1JEQSZAcqZAGGZCZA2dFDuRGPhREEQRf/C2FsqiAyqiKGvahNuqhIZqgOVqhLToQdid0QXf0Ql9C7Y+B+MYeDsUIjFbksRiPiYo9GVPt73QFn4nZij7XXs/DAoVfZM+XKv4qH6/12gbHbHHODufvMd4B4x/CUXOewGnrOYuLuIxrnvsDtxxzx/F/4aFz/zbnU2O9MOZrY4fMEV7ErRaIwHncai63mq1hnykCp4vAqdxqMreayK3Gc6uxGvbRGvYRInCoCPxGBA4UgV+LwL4isJcI7C4Cu4jAr0RgBxHYVgS2sqHNLaaJi2ho8nomru0zKLgrqioCK4vACiKwrAgsJQKLicAvRGBBEZhPBOYWgTlEYFZ3gZlFYHoRmEYEpiKq5CIwiQhMIALjElUsERhdBH5aSxxWI5YvxWFFcVj2P/4TPZE46nsIfpw/CqIiBmIjPhIhKYLvx0+NdMiIz5ENwbf95EEBFEZRlEDp4Ot1qIgvUQ01URcN0BjN0AJtfPK1R0d0Rjf0RB8C/hoDMRhD7eUIjMJYjFfwiZis4FMx3T7PxGxFn4v5Cr/Ivi9W/KWKv9z+r/bnj57b5LVtjt3lvH3G+Ml4h81xDCfNfQbn8Ruu4Hfc9Npt3HPsfec8cu4TYzw31itjvjF2eDlRLeVWi7nVQg37fBE4l1vN4lYzudV0bjVVwz5Zwz5RBI7nVmNF4CgROIJbDRWBg0XgQG7Vj1v1EYE9RWA3EdhZBHa0ue0sorXJA6tvZtJGFF2fVdYRgTVFYDUR+KUIDL4SXW6CYnCrEiKwqAgsLALzi8A8/RVPBGYTgZ+LwIxElVYEphaBwU/CJCWq4Of44onA2CIwhgiMWp37VCGWSkRTThyWevFWRv+Xx7ZQy3c46/v4CFEQDTERBwmQGMmQEp8hPTK5vuA7X7MjN/KhIL5A8A/sJVEGFVAZVVEDtVEPDX3SBb1nc7QKPgERfCJ2Qlf04PS90Q8DMAhD7OdwjMIYjCPIiZis4FMxHd/b7zmYp/ALFH4Rltj/ZYq/AqvU4Qes9/Fmr2133G7H73fuz8Y6atwT5jqNs7hoLZdxzcd/4BbuOOYvxz50zt/OfWaMl+Z4bcyQscOrNOwruNUyEbiEWy3kVgu41TxuNVvDPlMETheBU0TgZG41kVuNE4FjuNUobjWcWw3hVoO4VX9u1VcE9uZWPWx8VwvoZOIOFt/WZ04rnzHNWXITdtyQWwVfu6ktAmuIwKoisJIILE9UZURgSREYfGvJFyKwoL4qrwjMJQKzi8As+qpMIjB9e0UWgSlFYDJ9VeJG3EUExhGBMWsQhwiMIgI/Kk80ZcRhSXeHxRu/VdP//oi4Mzz8XbH9AYJ3uPkU0RELcZEQSZAcwY+opUEGZEZW5EAe5EfwPWZFUBylUc4nWEV8iWqoiTqoj8ZohpYIetH2+ApdOH139EJf9MdAfGNPh2EkxmAcJhDoZEzFdMWfiTn2fR4WYDEBLCWA5VihFquJ4AciWKsmG/y51XM7vbbXcT85/rDzfzHWSWOfwXnzXsJV/I6bnruNe4554NjHznni3OfGeGWsN8YMr+VWP2jYV3OrFdxqObdaqmFfpGFfIALnicDZ3Gomt5rOraZq2CdzqwncapyGfTS3GsmthmnYv9GwD+RWX3OrPhbQ06TdTdbFRF9RcTsW2ZoFtxSBTblVI25VXwTWEYE1RWA1ERj8Y2xFEVhWBJYSgcWJqoi+qpAIzCcC84jAHPqqrJ0UVQRmEIFpiCqVviq5CEwiAhMQVVx9VSwRGJ2oPqlALGWJppQ4LEZYRfq9ldP//oi4J/wweJO3D/ExPkUMxPZJEg+JkBQpkBrpkBGfIxtyIi8KoDCKogTKoDwqoQqqozbqIfiicRM0t1+t0BYd0Ald0QN90A8DfKIOxlCMwGh8iwmEOwlTMB0ziXI25mGBGizGUiJYTgSrsEZNfiCEH7GeGDapzzZ/7vL8PscddPwR5x7HaeOdNcdFXMY13MCfuOu1+455iL+d88zYL43xj7FCxgyv51Y/cqsfuNUaDftKEbhcBC4VgYu41QJuNY9bzeJWM0XgdA37FG41SQSO17B/q2EfLQJHiMChGvbBNmqASftZZGDhPXx2dGWPnVhjBxHYVgS2csfQnKiaiMDgny/qisBaRFXdXWAVd4GVRGB5EVhGBJbQVxUVgYVFYAERmFdflVMEZhOBnxNVBn1VWhGYWgSmEIFJ9FUJ9VXxRGBsfVWMikRSjliI6sPihFVEn1XwzFs5vX0cCBePxGnfw0eIgqiIgTiIj0RIhpT4DOmRCVmQHbmRDwXxBYqhFMrakwqojKqoiTqoj0ZoipZog/b4Cl3QHb18kvZFfwzCEAzHKIwl+vGYiO8wDTPt/WzMxQJiXIylRLAcK7FGXdYSwjpsIIZNarSFILb7c4+/H/D8Icf94ryTxjhjzPP4zXxX8Ttu4rbn7nn9AR479qlzXjj3tTHeGC+8hVtt4lYbNOzrROBabrWGW63kVsu51VJutUjDvkDDPlcEzhKBMzTs00TgdyJwoggcLwLHisBRNnG4CYeYZJAJ+lNvX7bYi912F4FdRGBHEdhOBLYWgS1EYFMR2EgE1heBdYiqpgisKgIri8AKIrCsvqqkCCwmAr8gquAnWvKJwFwiMLu+Kou+KlML7iECPyOqlPqqZPqqREQVX18VR18VQwRGLU0sJYimKPEUDocj5eda+TO8VZXHT6ES77iG9xG8ReUniIZYCN6vKwESIzlSIQ3SIzOCH7jNgdzIj0IoguD7+ksj+I7ZivgS1VELdRH8w3xjNEcrn5TBF5M7oBO6Iriz7o2gZx2AwRiGkRgjGb7FBEzGVMzALDWYi/lYRJhLsRwriWEN1qrPOmwkiM0EsRXb1Wsnwe3150+eP+L144495byzxrlo3Mu4jhv4E3dx32uPHPPEsc+d89K5/xgjbKzwdg37VhG4WQRu5FbruNVabrWGW63UsC8XgUtF4EIROF8EzhGBs7jVDBE4VQROFoETRGBwkaNNMMJCh1LuYKodwA77icDeIjD4GkxXEdhJBHYQgW3dBbYSgc1EYGMRGHyLSF0RWEsEVhOBXxJVRREYfA94KRFYXAQW0VcVEoH5RWBufVUOfVVWEZiZqNLrq9Loq1KJwGT6qsT6qgQiMA5RxdRXRStJLET1EVG9X0CflZewcv7vwop4JLTtXdfyAYI31v0UwVtWxkI8JETw/l3JkRppkcEn1OfIhpzIgwIojKIogTIoj0qoihoIvjetHhqiCVqgNYJ/AuuIzuiOXuiL/hgkEYZgOEZhLMZjEqZguhp8jzmYh0VYQrDLsQpriHEt1qnTRmwmiq3YQRi71G03YezDz/5+1PMnHPOr48879zdjXcXv5rmJOz7+Cw+99rdjnjr2hXNeOzdkjPBuEbhLBO7gVlu51WYN+0YN+zoN+1oRuEYEruRWy7nVEhG4UATO41ZzROD3InC6CAwuapLBxxt0LMWOotbhbHWICBwkAvuLwL4isJcI7CYCO4vAjiIw+EfV1iKwBVE1cRfY0F1gPRFYWwRWF4FVhiiGCCwvAssQVQl9VVERGPxQZwF9VR4RmFMEZtNXZdZXZdBXpSWq4D2nkuurkojAhPqquPqqWCIwejHC+oJoiOqDvOIwlzjMvuCtrAjreOjwuz5RPsTH+BQxEBvxkAhJkQKpkQ4Z8TmC96DIhbwogC9QDCVRFhVQGVVRE3VQH8H3qjXj+C3RBu3xFbqiB3qjHwZgMIZiJMZgHIK0+E4NpmEmZmMuFmAx4S/DCqzBWuJch43qtQXbCGMHdhHHHvXbRxwHcMjHxzx3yjFnHX/BuZdx3Zg38Cfu4r7nHnn9CZ479pVz3jg3fEAE7uNWe7jVLm61QwRuE4FbuNVGbrWOW63lVqu51QputYxbLeZWCzTsc7nVLJsyw6BTDTiZWidQ6jg2OEYEjhCBQ0XgYBE4QAT2E4G9RWAPouoy3+aJwPYisI0IbElUwTeyNRKB9UVgHaKqqa+qKgIrE1UFfVVZEVhSBBbTV32hryogAvOKwFz6qmz6qs9FYEZ9VTp9VWoRmIKokuqrgvf5jEdUsfVV0YsQS0GiyUc8uQkrO2Fl+fE/qOpkKG6kk6G/3nNdHyIKgrcFj4E4iI9ESIaU+AzpkQlZkB25kQ/B2wcUQXGUQjlUxJeohlqoiwZojOZohbbogM7ohp7og68xCEOCO28Ed+BjMR6TMAXT8T3mYD4W+aRfihVYjR+wTr02YjO2EeRO7CaQvdhPJD+p5c8EcgTHfXza8+cc85vjrzr/d9zCHfyFh/jba88c89Kxr50Tcm74Z271E7far2HfKwJ3i8Cd3Gobt9rMrTZyq3Ua9h807Ku51QputVQELuJW8w06x2CB9U6n8imsdJIIHC8Cx4rAUSJwuAj8RgQOFIFfi8A+IrCnvqqrCAy+9aMDUbXVV7USgc1EYGOiaqCvqisCaxJVNX3Vl/qqir0Ji6hK6auCHz3/QgQGb5yRT1+VWwRmJ6os+qpM+qp0RPWZviqlviopUSXSV8XXV8UmqhiFiCU/YRHVhzn0WVkJK9ONUIRUH0SIcCqUMpJPmPcQ/GaMKIiGmIiDBAjegDcZUiEN0iMzsiIHgnfQyY9CKIISKI3gB3UrIfgRuOoIfrikHhqiCYLvtG2NduiILuiOXuiL4J/KBmMoRuhrR+NbTAx6XAS97kzMxjwsxBIsxyq1+gE/YgM2E+hW7MBuAtyLA2p5EIeI5AiR/KKuJ/x5xnMXvH7ZsdecewN/4i4e4DGeeu25Y1459o1zwr9wqyMa9kMi8KAIPMCt9nKr3Rr2HRr2rRr2zSJwgwj8UcO+RsO+SgQGi11ioIUGmUehs1nfTBE4TQROFoETROC3InC0CBwhAoeKwMEisD9R9dVX9RKB3UVgF31VRxHYzl1gaxHYXF/VRF/VcLhNF4G19FXV9VVVRGBFfVXwo+alRWAJoiqiryqkr8pPVLn1VTn0VVmJKpO+Kr2+Kg1RpdRXJdNXJSaq+PqqOPqqmEQVNQ/R5CSerESUWQOfXp+V+eMIEX4LpX6HG7+Pj/AJoiEW4iIBkiA5UiF479QMyIxsyIk8KIDCKIoSKIPyqISqqIHaqI9GaIqWaIP2+Apd0AO90Q8D8A2GYSTGYDwmYQqm43sEve98NVqEpViB1ViL9diErYxhB3ZhLw4Q60EcUtejOEYsx4nllBqf9fFFz13x+u+OveX8O/gLD/G355557aVj/nFsyDnh4yLwGLc6wq0OcauD3Gq/CNwrAneJwB0icKsI3CQC14vAtRa92iArTLqUshexzvncao4I/F4ETheBU0TgJKIaLwLHiMCRIjD4x9Fv9FUDRGA/EdhbBPbQV3WZZhNFYHuiaqOvaqGvaioCGxFVfX1VbRFYg6iq6qsq6avKE1UZfVUJfVVRoiqsr8qvr8pDVDn1VVn1VZmJKoNmPXj34VRElVyznlhflYCo4uqrYuqrgt9d80k24vmciDJo4NMSVqpPI0S4GBr/Dlf+AJHxCaIjFuIiIZIgOVIjLTLic2RDLgRvKlcAX6AYSqIMKqAyqqIm6qA+GqMZWqItOqATuqEn+uBrDLL/wT/0D8cojMUETEbw9cQZmIV5WIglWI5V+AHrsJExbMF27MIe7MdBKXQIR9X3GE4QzCmC+VWtz/nzkr9f8/oN/On4e3iAx3jquRd47Zg3jg3/yq1OcasT3OoYtzqiYT/ErQ6KwP0icA+32iUCt4vALS5so5PXOTGw1FUsbzmrXCJLF4rAuSJwlgicIQKn6qsmbyIsEThWBI4SgcP1VUMWi0MR+LUI7KOv6iECu4rATvqqDvqqNiKwJVE101c1FoH1RWAdfVVNfVVVERi8IUYFfVUZfVVJzXoxfVVhfVUBzXrwdorB+3Vm06x/rq/KQFRpNeup9VXJiSqJZj2BviouUcXKRSzZiYaoImckrLSElZqwUo6PEPFKaPy7rvcDRManiI7g9/zEQ0IkRQqkRjpkxOfIjlzIh4L4AsH7gZVC8E47FfElqiF424G6CH6gtzGCH5VrhbboiM7ohl7oi/4YjKEYgeAf/sdhIr7DNMzEHMzHIkawFEFPvBo/YgMCg9iGndiNfVLoJxzCURxT5xM4TYRncI5wLqr7ZR9f9/xNx9zBX859hCc+fo6XXvvHMWHHhs9xqzMa9lMa9hPc6hi3OsKtDnGrn7jVPhG4m1vtMMBWEwQWup7drWV1q0XgChG4VAQGXyOZLwJni8CZInAaUX0nAieKwG+JKvgWjhEicKgIHERU/fVVfUVgT6Lqpq/qrK/qSFRt9VWt9FXNiaoxUQU/Ql5XXxW8AUY1fdWXRFWBqMrqq0oRVTGi+kJfVZCo8mrWc+mrshPV55r1jPqq4A34U2vWU+irkhBVQs16PKKKRVTRsxANUUVOR0SfEVYKfVZSwrpOWD6ZPsDH+BQxEBvxkAhJEfxGjc+QDhmRBdmRG/lQEEVQHKVQDhURvPNOddRCPTREEzRHawQ/OvcVuqA7eqEfBmAwgu99G4kxGIdJmILgn9hmYS4WYDGWYRV+QNAjb8QWbMcudd2LA/gZR3AMJ7Q8p3EW5wn0otpfIpyr/vzD3//0/D3HPcBjPMULz732Wsgx4Usa9osi8LwIPMOtTnGrExr2Y9zqCLf6WcN+wAL2OmEXJW5nj1vY4kYRGNxV/CACV7oLXCYCF4vABSJwDlF9LwKDf/ScQlST9FXjROAYEThSBA7VVwXfNjtABPbTV/XSV3UXgV30VR31Ve30Va2/scn6qiZE1ZCo6uqrahFVdc36l/qqikRVVrNeSl9VnKiKaNYL6qvyEVUuzXp2fVUWosqoWU9HVKmJKoVmPam+KqFmPZ5mPTZRRc9ENOmJh6g+SOnOMClhJSKsbceOvcupP8THiIoYiI34SIRkSInPEPyGjUzIghzIjXwohCII3iKzNMqhEqqgOmqjHhqiKVqgNdrjK3RBD/RGPwzENxiGUQi+F248gu8ymYoZ6jUr+FcRLMQSrMBqrMV6bMI27MAe7MdBHMYvWp7jOIUzOM9ULuIyDVzBNQK64c87nvvL64+c8wTPffzKc2+8Fr4mAq9wq8vc6iK3Oq9hPyMCT2nYj2vYj1roIQcfpMT91LqbvQWN3lYRuEkErheBa/VVq0TgchG4RAQu1FfNE4Gz3AXO0FdN1VdNWuniRWDwXYwj9VXD9FXfENVAfVU/fVVvouqhr+pCVF8RVTt9VWuiaqFZb6qvaqivqqdZr6Wvqk5UVTTrFfVV5YiqtGa9uL6qCFEV0qznI6rcRJVds56FqIJfE5JOs/4ZUaUkqqSa9UREFU+zHpuoYhDVp2mIh6g+TEZYicPHIsY6FiGi638PHyIKoiIG4iA+EiMZUiIN0iMTsiIHciM/CqEoSqA0yqMSqqAGaqMeGqEpWiJ4e4L26ISu6IE++BoDMQTDMQrfYgImYxpmYjbmYxGWYgXW4EdswGZsxy7sZR4HAgNBYCTHcBK/4hwuSqzLuIrr9HCDiG7hro8feP1vPMNL/OO5kNfCf3Cr69zqKre6LAIvisBzIvBXEXjSQMeoMLDGn1nbARG4VwTuEoHbROBmotqgr/pRBK4RgStE4FJ91aKthCUCZ+urgu/7mSoCJxPVBH3VWH3VKKIarq8aQlQDieprfVVvouqhWe+qr+pEVO0168EbW7QgqqZE1UizXo+oamvWaxBVFaKqpFkvp1kvTVQlNOtFiKqQZj14Y/3cRJVDs56VqDIRVXrN+mdElZKokmnWExFVfHeAsYkqBlFFTUVYRPVhYmJKEA5HjBOOEMkn13v4EFEQFcGvF46D+EiMZEiFNEiP4PcDZUUO5EF+FEbwNuQlELzBb3lUQlXUQB0E7yPWCME79LREG3RAJ3RDT/TB1xiEIRiB0fgWwXfyfodp+B5zMB+LsQzBP8X9gHXYiC3YgeCOfx9+wmH8ghM4jbO4ILUu4Qqu4wZu0cZtgvzLn4/8/Qme4xXeeC58m1vd0rDf0LBfF4FXROAlERgMdpb6TlPeCbZ2lKgOach+EoH7ROBuEbhDBG7RV20UgetE4BqiWqmvWiYCFxHVfH3VHBE4k6im6au+01dNIKpv9VWj9VXDNetD9FWDiOprzXoffVXwo+BdNeud9FUdiKqNZr2lZr0pUTXSrAfvVFfbHWANzXpVoqpEVOU166WJqoRmvahmvRBR5des5yGqHO4As2rWMxFVeneAaYgqJVElcweYmKjiuwOMQ1QxiCpqcuJJQkRE9V7ccDhSTMLySfYePkIURENMxEECJEbwizxTIQ3SIzOyIifyID8KoyhKogzKozKqIngrzTqoj8ZohpYI3rGnAzqhG3qiL/pjEIIfuRuBMRiHiZiC4Dt7v8ccLMBiLMcqKfQD1mMTtmIH9mA/DuIIjuEkfsU5/IYruIYbuEUft3GP+dzHYx8/8/xL/OPjsOfCd0XgbW51i1v9IQKvWcAVL1ykxnMs7VcReFIEBncHh0XgQRG4XwTuIaod+qqtInATUQX/ePmDvmoVUS3TVy0mqgVENUdf9b2+ajpRfadZn0hU44hqtGZ9BFEN0awP0qz3J6q+mvWemvVuRNVJs95BXxW8t1NLzXozomqkWa+vWa9DVDU061WJqhJRldeslyGqkkRVVLNemKjyuwPMQ1Q5iSqrO8DMRJXeHWAaokpFVMncASYmqvjuAOMEvyGeqKISVRSi+oio3otFWNEIi4O/h48QBdEQ/Mb9uEiAxEiOVEiLDMiMrMiJPCiAwiiKkiiDCqiMaqiJOmiAxmiGVmiLDuiMbgjeG6Mv+mMwhmIkxmAcgh9umYLpmIW5WIAlWI7VWIv12Ixt2Ingi+AH8DOO4jhO4Qwu4BKu4nf6uInbuIf7eMiInuCFj18j5OPwQ251n1vd41a3udVNT/5OcVdZ2SUReD5o3IjqlL7quAg8IgJ/JqrgK7J7ROBOotqmr9qkr1pPVGv1Vav0Vcs160v0VQv0VXOJapZmfTpRTdGsT9SsBz/PNkazPkKzPpSoBmnW+xNVX6LqqVnvRlSdiaqDZr0tUbXSrDcjqsZEVZ+o6hBVTXeAVYmqMlGVdwdYhqhKElXwu2QKE1UBd4B5iConUWV1B5iZqDK4A0xDVKmIKpk7wMRElYCo4hBVTKKKmpB4iOojonovOmF9Qlg+4d7HR4iCaIiJuEiA4JelJ0cqpEUGZEY25ETw284KoDCKoSTKoAIqoxpqoi4aoDGaoRXaoiM6oxt6oS8GYDCGYiTGYDwmYQpmYBbmYiGWYAVWYy02YDO2YRf24iccwlGcwGmcxQVcxjX8gcCA7uI+HuJvPflTvPTxPwg/Jaq/udVDDft9L9yhtlus7A8ReE0EXhaBF/RVZ0Vg8DWM40QVfAX2kL7qAFHt1Vft0ldtI6rgWyw26KvWEtVqzfpyolpCVAs163OJKvgJkOlENYWoJmnWxxHVGKIaQVRDiWqwZn2AZr0vUfXSrHcjqs5E1ZGo2hJVK3eAzYiqsTvA+u4A6xBVTXeAVYmqMlGVdwdYhqhKVlQ8d4CFiaqAO8Dg9/flJKpsRJWZqDJkJyyiSkVUyYgqMVElSEFYRBWTqKLGIx6i+oio3v+EsCITFjd/Hx/hE0RDTMRFAgS/iT85UiEtgl9LnBnBL/zMibwogMIohuD3CpVFBVRGNdREXTRA8MbAzdEKbdERndEdvdAXAzAYwzASYxD8APEkBD+aNwOzMA8LsQTBdwCvRvC9dRuwGdsRfKPBPgT/hHcIv+AETuMcgq8UXEbQg99AkG738ACP8RQv8BohhF9o2IMnH1PZAzZ3l6j+1KjdEIFB1x/cVl68anCiOh185VVfdZSoDh2zCH3VXqLapVnfRlSbiWqDZv1HolqtWQ++Z3oJUS3UrM8jqlnuAGcQ1RSimqRZH0dUY9wBjtSsDyWqwUQ1gKj6ElUvd4DdiapzD5tKVG2JqpU7wGZEFbyldAOiqkNUNesRFlFVJqoK7gDLElXwG6+KEVVhoipQRFGJKmc+RSaqzESVIQthEVWqdMRAVImJKkFSwiKqmEQVLTbxENVHnxJTZML6gLB8Ar6Pj/AJoiEm4iIBkiA5UiMtMiAzsiEngl8AWgCFUQwlURYV8CWC3+BRE3XRAE3QHMEbBbdF8BacndEdvdAXAxC8088wjMRYjMckTMUMBD+qNw8LsQQrsBo/YgOC77Xbjl3Yh59wGME/6Z3AaZzDRVzBddxE0JPfQ5B2f+M5XuENPYXf+OClCHwmAv8mqof6qqARC7r8G0R1XV91JfhimL7qHFGdJqoTmvVfiOoQUf1EVHuJapdmfTtRBd9luEGz/iNRrSaqFUS1hKgWEtU8oprlDnAGUU0hqklENZ6oxhDVSKIaSlSD3QEOIKq+RNWLqLoTVeeuNpWognf5Dd5CujlRNW5q84mqDlHVrE1YRFWZqCoQVVmiKlla8YiqMFEVIKrgV9jmzK3IRJWZqDIQVRqiSvUZMRBVYqJKQFRxiComUUUjqk+I6qOPiekDwnqXsMJvwu/jI3yCaIiJuEiAJEiO1EiLDMiMbMiJvCiAwiiGkiiLCvgS1VATddEATdAcrdAWHdEZ3dELfTEAgzEMIzEW4zEJUzEDszAPC7EEK7AaP2IDtmA7dmEffsJh/IITOI1zuIgruI6buI17eIi/8RyvEPwXDonA1yLwRZCPIvARt7ovAu+IwFv6qj9EYPCV1Uv6qgsi8Iy+6pS+6rgIPKKv+llftV+zvkdftUNftVUEbtJXrROBwU92rNJXLdOsL9ZXzReBczTr3+urpmnWv9OsTxCB32rWR+urhrsDHKJZD95Z7mt3gH006z1EYFfNeid9VXt3gG30VcEb3zfVrDfUV9VzB1hbs169ajhcxR1gJX1VOX1Vac16cX1VEXeABTXr+URgbs16Dn1VFneAmTTr6dwBfuYOMKW+KmnicDiRZj1enHA4dsxwOHq0cPhTEfjxR+HwB++Hw+9GCoT1irBeEdYrwnpFWK8I6xVhvSKsV4T1irBehVMhLTIgM7IhJ/KiAAqjGEqiLCqgMqqhJuqiARqjOVqhLTqiM7qjF/piAAZjGEZiDMZjEqZiBmZhHhZiCVZgNX7EBmzGduzCPvyEQ/gFJ3Aa53ARl3EdN3Ab9/AAj/EUL8Ivw68RQvgNt3qlYX8edPUa9kca9r807HcI6xZh/R582Z6wgn9sPE9YwbdKnHQXeIywjhDWQcLaT1i73QXucBcY/CTHRsJaR1g/ENZKwlpGWMGPas8nrDmENZOwphHW5HHERVjfEtYowhpOWEMIayBhfU1YvQmrB2F1Iazgje7bE1abZsRFWE0JqyFhBb/JqhZhBb+HrwphVSSscoRVirCKE1bwi7YLElY+wspFWNkJKwthZSSsdIT1GWGlIKykhJWQsOIRVuyoxBWFuAgrMmF98C/Cek5YzwnreTgKoiEm4iIBEiM5UiEtMiAzsiEn8qAACqMYSqIMKqAyqqEm6qABGqMZWqEtOqIzuqEX+mIABmMoRmIMxmMSpmAGZmEuFmIJVmA11mIDNmMbdmEvfsIhHMUJnMZZXMBlXAs/C/+BW7iL+3iIv/HUfy/9+Q9YlS6eWwVfe3gmBv8Wgw/F4D0xeNudYPCPi79fEIlnw+HfCOv88XD4V8I6+TNxHZDHhHWQsIKf3NhNWDvWi8S1xEVY65aH/+VHs1cS1tK54fAiwpo/PRyeTVgzCWsaYQXvHDdhhP6AsEYR1vD+4fA3hBW8NXS/bsRFWD0IqwthfUVY7QmrNWG1qK8PIayGhFWPsGoRVvXy+pUyxEVY5QirFGEVJ6wv8hAXYeUjrFyElZ2wshBWRsJKl0xfRFgpCCspYSUkrHiEFYuwohPWp4QV+V+E9Xf4PXyEKIiGmIiDBEiM5EiFtMiAzMiKnMiDAiiMoiiJMqiAyqiKmqiDBmiMZmiFtuiAzuiGXuiL/hiMoRiJMRiHSZiC6ZiFuViAJViO1ViL9diMbdiJPTiAn3EEx3EKZ3ABl3AVv+MmbuMu7vOsh3iC5/7+Gm98HA4R1WuiesGtnorBx+4EH2ja7wb/uKi/uqG/uq6/Cr6h6yJhndNf/UpYJwjrF/3V4Z36LcLap7/aRVjbCSv4UewNhPXjYuJaoN8irKWEFbzX0jzCCt4pbgZhTSWsyYQ1nrDGDiIuwhpGWN/01G8RVj/C6t1Bv0VYXQgr+E1V7QirNWE1J6wmNYiLsOoSVi3CqkZYXxJWxaL6LcIqRVjFCesLwiqYlbgIKxdhZSeszwkrI2GlJazUhJWCsJIQVkLCikdYsQgr+nv6rX8R1iPCekRYjwjrEWE9IqxHhPWIsB4R1iPCekRYj8JpkB6ZkRU5kQf5URhFURJlUB6VURU1UQf10RjN0BJt0QGd0A090Rf9MQhDMQJjMA4TMQXT8T3mYAEWYzlWkcEPWI9N2Iod2IP9OIgjOIaT+BXn8Buu4Br+EIK3cBv3SCv477GPA/96iX98rLHiWkT1iqiec6u/udUjbnWfW90Rg8E3cP3xazh8zd3gJY37hcPh8FmN+2mN+3HCOqpxP6Rx/4mw9mrcd2nctxNW8AYSGwhrLWGt1riv+F4zT1gLvyMuwppFWDNGa+YJa5LGfTxhjSGs4A3shxHWYMIa0Im4CKsXYXVvqZknrI6NiIuwWhFWc8JqQlgNKhEXYdUkrODX/39JWBUIq2x+4iKsYoT1BWEVIKy86YmLsLIR1ueElYGw0sYnLsJKHoO4CCshYcUlrFiEFe1fhPUXYf0V/hBREBUxEQfxkRjJkAppkB6ZkRU5kAf5URhFUQJlUB6VUBU1UAf10QjN0BJt0AGd0BU90QdfYxCGYARG41tMxHeYhu8xB/OxGMuwEmuwDhuxBTuwG/vwEw7jF5zAaZwlnwu4hCu4zqtu4Fb4DnHd8cwdcrrLte5xraD7usu1xF+IqF4T1QuiCr7l4bGm/QG3uicGb4vBm2Lwd251VQxe0l+d11+d2aeZ301chHVE4x78yPUBwgreMGKnO8JthLXJHeF6d4RrCSt4R7jl7giXENYCd4Rz3RHOIqzp7ginEFbwhvXj3BGO6RMOjyCsoe4IBxNW8Bup+rYhLsLq5o6wM2F1JKy27ghbEVYzwmpMWA0Iq447wpqEVY2wKhciLsIqS1glcxAXYRXORFyElZewcqYkLsLKTFgZCCstYaUirOSElYSwEnxIXIQVi7Ai2qT38CGiICpiIA7iIxGSISXSID0yIStyIDfyoxCKogRKozwqoQpqoDbqoRGaoiXaoD06oSt6oA++xkAMwXCMwreYgMmYhpmYjXlYhKVYgTX4ERuwGduxC3vJ5AB+xhEcw0n8inO4GP5Tr/WnSLxFXLc4103/v/kvEnvg+ceOeYaXPv7HcyGvhd8Q1Suiei4CnxDVI251n1vd5VZ/cqsb3Oq6GLwiBi+KweCHFH8Vg8GPWB/TXx3RuB/UuO/XX+3RuO9YqpknrOAd4NbN1swT1qqpmvnJmnnCCt7iee4od4qENZ2wpgwMhycS1rje7hR7EBdhDf0qHB7UPhzuT1h9WoTDPQmrG2F1qhf+l1+Q3bZ6ONyyCnERVuNy4XB9wqpDWDWLhMNVCasyYZXPHQ6XIayShFWUsAoTVoHPwuE8hJWTsLImIi7CyhA7HE5DWKkIK/nH4XBiwkpAWHEiElbo5rF3bdSH+BhREQOxER+JkAwp8RnSIROyIAdyIx8KoQhKoDTKoRKqoDpqox4aoilaoDXa4yt0QQ/0Rj8MxDcYhlEYi/GYjKmYobCzMA8LsQTLsRprsR6bsBU7sAf7cRCH8QtfOo5TOIPzpHQRl3VaV3CNvG7487bn/vLRIzzBc7zy3BuvhUPi7x9OFXzX3zOi+ltv9VBv9Zfe6g63usWt/uBW18TgZTF4gVud5VanxeAJMfiL/uqQ/uonMbhPf7Vb475d476FsDbqr9a5I1xDWCs17svG67cIa747wjnDNPPfaOYJ67t+mnnC+pawRnfRzBPWkHbE1dqdImH1IayeDcPhroTVqRZxEVYbwmpZ0Z0iYTUirPrFw+HahFWDsKrkC4crEVb57MSVJRwuQVhF04XDhQgrP2HlSRoO5yCsrPGIi7DSE1aaT8PhlISVjLASvxsOxY94jLCuj3/XJn2Aj/EpYiA24iERkiIFPkM6ZEQWZEdu5ENBFEFxlEI5VMSXqI5aqIuGaILmaI12+Apd0B290A8DMBjDMBJjMA6TMAXTMQtzsQCLsQwr8QPWYSO2YDt2EcpeHMDPOIJjOEFCp3CGV53HRbK6RF5X/fmH///ptbuOe4DHeIoXnnvttZDjwm+I6jVRvSCqp0T1mKgenBCJ3Oq23uomt/qdW13lVpfcDQZvBHFGDJ4Sg8fF4FExeEgMHhCDe/VXu/RX28TgZv3VBv3VWo37Gv1V8Eb0SzXuiwhrnsZ9tjvCmQM08/qrye4IJ3TXzBPWKHeEwwnrG437wObE1UQzT1jBr/HvSlhfEVb7L4mLsFqUJa5SmnnCqvcFcRV0p0hYVXIRF2GVI6zSGYmLsIqkJq4UxEVYuRMSF2FlIaxM0YmLsD4jrJQfEBdhJYo4nrCuENZVwroajoxPER2xEQ8JkRQpkBrpkBGfIztyIS8K4gsUQymURUV8iWqoibpogMZojlZoi47ojG7ohb7oj8EYihEYjXGYiO8wDTMxB/OxiBCWYgVWYy02YBO2Yid2Yx8x/IRDOIJjZHQCp7TwZ8jqHC7477I/r3v+po/u4C/nPsITHwdfoHjptX8cw4a4lvh7SVTPiOoJUT0iqvsi8C63Cn50+obe6jq3usKtfuNW57jVr9zqJLcK3tntiBj8WQzuF4N79Fc7xeA2MbhJf7Vef7VWDK7SXy3XXy3RuC8Ug/P0V7M07jMIa6r+apLGfbw7wrH6q5Ea9+AXX39DWAPcEfZrQFyE1b2mO8VqxOWOsF0Fd4qE1YKwmhQjLsKqR1i18hIXYX1JWBU/Jy7CKpXWnSJhFSGsgkncKRJWbsLKHou4CCsTYaWLTFyElfKdcCgpYUUIXRz/jk36AJHxCaIjFuIiIZIgOVIjLTLgc2RDLuRFARRGMZREGVRAZVRFTdRBfTRGM7REW3RAJ3RFT/TB1xik2EMwHKMwFhMwGVMxA7MwDwuxBMuxCj9gncJvxBZsxy7swX5iOIhDOMKnjpHTCZzSyv9KXuf8ecn/r3nthmP+dM49PMBjPPXcC6+9dswbx4ZDeqrXRPWCqJ4S1WOiekhU90TgbRF4y53g79zqmt4qeC+kC9zqLLc67W7whBj8RQwe5lY/cat9c0WiGNwhBreKwU36q3Vi8AcxuEp/tUx/tZiwFojBufqr7zXu08XgFP3VRI37OMIao78aqXEf6o5wMGEN0Lj3dUfYi7C6a9w7E1ZHwmrnjrBVSXeKhNXEHWGDAu4UCauWO8Jq2YjLHWHFDJp5wipFWMWSu1MkrIIJNPNx3SkSVnbC+vyTcDgjYaV7350iYaWMEAjrAo2dD7+Pj/AJoiEW4iIBkiA5UiENMiAzsiEn8qAACqMoSqAMyqMSqqIGaqM+GqEpWqIN2uMrdEEP9EY/DMA3GIaRGIPxmIQpmI7vMQfzFXkRlmIFVmMt1mOT4m/FDuzCXuI5gIM4REpH3B8ew3HSOqWlP+vji56/4vXf/e2WMe7gLwRfoPjbc8+89tIx/zg25JzwGz3VK6J6TlRPiOoRUd0nqrsiMHh7mhsi8Dq3usKtfuNW57lV8P6Tp7jVcW51lFsd4lYHxOBeMbhLDG4Xg5vF4EYx+KMYXCMGV+qvlumvFonB+fqrOfqrmYQ1TQx+p7+aqHEPfj3/aP3VCP3VEI37IP1Vf417H3eEPQmrm8a9szvCDoTVVuPeyh1hM8JqrHFv4I6wDmHV1LhXI6zKhFXBHWGZVJp5wirmjvALwipAWHljauajuVMkrM8/0swTVlrCyhzhY8I6lTKSTXoPHyEKoiEm4iABEiMZUiEN0iMTsiIHciM/CqEISqA0yqESqqA6aqMeGqIJWqA12qEjuqA7eqEv+mMwhmKEIo7Gt5iA7zANMzEb87AQS7BcsVfhB/yIDdhMMluxA7sJYS/286mDOERSR0jrF/+d8OcZ/7/g9cuOvebcG/gTd/EAj/DUa88d88q5b5wTDmnUX+upXhLVM6L6m6geEtVfIvCOCLxFVME7tl1zJxi83+RFvdU5bvUrtzrJrY5p2oM3lP9ZDB4Qg3u41U5utU0MbhaD68Vg8PvuVnOrFWJwiRhcKAbn6a+CX2g9UwwGv45/sv5qgsZ9rBgcpb8arr8aIgYH6q++1l/10bj30F911bh30rh3IKw2GveWGvdmhNVI417fHWEdwqqhca/qjrASYZXXuJdxR1iSsIq6IywcR79FWHncEeaMQlyEldkdYYZI/5uwLsSOFDp59z0b9SGiICpiIA7iIxGSISU+QzpkQhZkR27kQ0EUQXGUQjlUxJeohpqoiwZojGYK0wpt0QGd0Q090QdfYxC+wXCMwliMxyRMwXQi+B5zMB+LsBQrsFrRf8A6bFT8zdiGnQS0G3vDR4nriJ7riIb+sP8f/heJnfb8Ocf95m9X8buxbuEOgq+APfRc8PX7Z4556djXzgmRZ/iNRv2Vnuo5UT0lqkdE9YCo7onA20R1k6h+F4FXReAlorpAVGe51WludYJb/cKtDnGrg9xqP7cKfkPUDjG4VQxuEoPruNUP3GqVGFwuBoNfYL1AfzVXDM4SgzPE4BT91ST91XgxOEYMjtRfDSOsb8TgQP1VP417b8Lqob/qor/6SuPeXn/VWn/VQuPeVH/VUH9VT+Nem7BqaNyruCOsRFjlNe6l3RGWIKwiGvdC7gjzE1ZujXsOd4RZ3wuHMkW8HkoV4T+8g3LE0PHD79qoD23Ux/gUMRAb8ZAISZECqZEOGfE5siMX8qIAvkAxlERZVEBlVEVN1EF9NEIztEQbtMdX6IIe6I1+GIDBGEoIIzEG4zAR32EaZmIW5iryAizGMqzAGkVfi3XYSDhbsI0IdmAXOe3hWftI6wAO+fiY50766Kzjgg7ssjGu44bx/8RdH9/HI689cUzwL5CvnPPGuaxGI69RD97T6Jn4+5uoHhLVfaK6S1R/EtUNERi85fIVEfibO8Hz3OqM3uqU3ir4nSpH9VY/c6sD3Govt9rFrbZzqy3caoO7wXXuBteIwZVicJkYXCwG54vBOWLwezE4XQx+p7+aKAbHicEx+qsR+quhYnCwGBygv+qrv+pFWN31V130Vx0Jq53+qrX+qjlhNdFfNdS419W419JfVddffalxr0hY5TTupTTuxQmriP6qkMY9H2Hl1rhnd0eYJeLbNwXxiBg6svJdG/UBIuNTREcsxENCJEFypEZaZMDnyIacyIMCKIyiKIEyKI9KqIoaqI16aIgmaIHWCtQOHdEZ3dALfdEfgzAEwzEKYzFeQSdhCqbje8zBPEVeiCVYjpUKvgZrCWcdNmIzAWzlVTuwi6x28659+Nnfj3rthGN+dc55z/xmzKv4HTdxG395/iEeO+apY18457VzQ8YIh7jUa6J6oad6Kv6C95F8QFTBu+DeIapbIvCPlSKRqC4vEYki8JwI/JVbnRSBx7jVEW4V/B67/dxqD7faya22ado3i8ENYnAtt1rNrVZwq6XuBheJwflicLYYnCkGp4nB78TgBDH4rf5qtP5qhBgcIgYH6a/666/6iMGeYrCb/qqz/qqjGGyrv2qlv2pOWI31Vw30V3UJq6b+qpr+6kuNewXCKqu/KqVxL0ZYX+ivCmrc8xJWLv1V9giT38rKI/RTiXds1PuIjE8QDTERFwmQGMmQCmmQHpmRFTmQG/lRCEVQHKVtfDlUxJeohlqoiwZojGZohbbogE7oih7ojX4KNwCDMRQjMBrfYgImK+pUzMD3mIv5irwQS7GcZFZijaKvxToetRGbyWkrWW0XjMF/e338k+eO+OiY408596yxLiL4AsU13MCfuOu5+3jkmCeODb5/4qVz/zGG7OJaXOoVUT0jqidE9Yio7hPVXU51m6huiMDrIvAqUf0mAs8T1VkReIpbBb+37hdudYhb/cSt9nGr3dxqB7fayq02cat13OoHbrWKWy0Xg0vE4EIxOFcMzuJWM8TgVDE4SQxOEINj9VejxOBwMThEDA7UX30tBvuIwR76q676q05isL3+qo3+qqX+qhlhNdJf1ddf1SGsmvqrqvqryhr3CvqrMvqrkhr3YoRVWH9VQOOel7ByRvg/vKNfaF+RSKH9ofds1EeIgqiIgTiIj0RIhpT4DOmRCVmQHbmRDwXxBYqhFMqiAiqjKmqiDuqjEZqiBdooUDt8hS7ojl7oi/4YhCEYroijMBbjMRHfYRqxzMRszMUChV6EpYq9HCuJZw3WKvw6ctqATUJxC3ltxx7/P/A2IIMO7KRnfsV5Y/+Gq/gdN3Eb97z2AI8d+9S4L5wbfAfYG2OFQ1u4lru/F0T1lKj+JqqHnOovorpDVLeI6g991TUReFkEXhSB54jq12lc6zuu5U7wiDvBn90JHuBWe7nVLm61nVtt0bRv1LT/qGlfo2lfKQaXcavF3GoBt5rjbvB7MThdDE4Rg5O41Tj91RgxOFIMDhODg8XgADHYTwz2FoPd9VddCOsrMdhef9Vaf9VCf9VUf9VQf1VPf1VbDNbQX1XRX1UirPL6qzL6qxIa96L6q8L6q/yR3oRyR0j3VlX/4RExvOfhezbqQ3yMTxEDsREPiZAUKZAa6ZARnyMbciIvCqAwiqIEyqC8za+EKqiOWqiHhmiC5miFtuiATuiKHorcG/0wAIMxFCMwWjG/xXhMwhSFnY6ZmKXA87AAi4hnKZYr+EoyWo0f+NWPZLWedwX/bfPxLs/vc8xBfztijOM4bdzgCxTBV8Au4xr+wJ+447Xgn7iD758IvkHnmXNfGuMfY4WMGX6znmu5+3uuUX/CqR4R1QOiukdUt4nqJlH9TlRXieqSCLwgAs8S1WkReEIE/iICD3Org9xqP7faw612cqtt3Gozt9rArdZyq9XcagW3WsqtFmna54nBOWJwJreaxq2+41YTxeC3YnC0GBzBrYaKwcFisL8Y7CsGe+mvuonBzmKwoxhsp79qLQabi8Em+quG+qu6YrCWGKyuv6qiv6ooBsvpr0rrr4oTVhH9VcGI/5c3tw0eoZ293rVZHyAyPkV0xEJcJEASJEcqpEEGm5oZWZEDeZAfhVAExVEaZVERX6IaaqIO6qMRmhFAS7RGe3yFLuiOXuiDrxVvIL7BMIzEaIxT0AmYjCkKOx0zMZt45mGBQi/CUsVezqdWYDVJreFba8lrgz+3+PtOr+91XNCBBS3+L8Y7afwzOI/frOEqfvfxTdzGPcc8cOxj5zxx7nNjvDLWG2OGQ1zqNZd66e7vmUb9bz3VQ6L6i6juENWf+qobs0UiUV0hqt/0VedF4BkReEoEHieq4NflH3In+JM7wX3uBHfrrXborbbqrTZyq/V6qx+41SputZxbLRGDC7nVPG41i1vN0LRP5VaTxeB4MfitGBzFrYaLwSFicJAY/FoM9uFWPcVgVzHYSQx2EINtCaulGGwmBhvrrxoQVl0xWFN/VU1/9SVhVRSDZfVXpfRXxcVg0QhfvVXT/+ER2tbsHZv1Pj5CFERDTMRBfCRGMqTEZzY1PTIhC7IjF/KhIL5AMZREGZRHZVRFDdRGPUVpiCZojlZoiw7ohK4K1gO90Q8DMEgBh2A4RmGMYo7DREwmk6mYjpkKPBvzFHkBAS3EElJaxq9WkNUq8lrzLxIL/GstyazjkeuF8gbd4UZN/CZN/CautZlrbeZaW7jWFq61mWttDt/y2h0E36Dz0DnBtxc+M8ZLY702ZsjY4TdE9YpLvSCqpxr1x3qqB0QV/P6520R1k6j+IKqrRHWZqIJfMH1OBP4qAk+KwGMi8IgI/FkEHhCBe0XgLm61jVtt5lYbuNWP3GoNt1rJrZZxq8XcaoGmfY6m/XsxON3d4BQxOIlbjdO0jykjEsXgMDH4jRgcIAb7uRvsLQZ7iMGuYvArMdheDLYRgy3FYFP9VSP9VX0xWEcM1tBfVdVfVRaD5fVXZfRXJQmrWIQGb9X0f35EslHv4UNEQVTEQGzERyIkRQqkRlpkxOfIhpzIgwIojKIogdI2vxwq4ktUQ03UQX00RjO0UKDWaIeO6Ixu6KlofdAPAzFYAYdiBEYRzFiMx0RFnYypCjsdM0lnFuYq8nxSWojFAnEpaS3332p//ui5TT7a5vhdzt3nmeD+8TCOmeuk+c/gPH5D8C+Qv3v+Bv50zF3cd84j5z4xV/AN0q+MGfx4RzhEVP9wqZeLuRZR/a1Rf0RU98XfXaL6k6huEFXwC6WvENUlojovAs8Q1WkReEIE/iICD3OrgyJwP7faza12uBPcyq02cav13Gott1qtt1rBrZZyq4Xcaj63ms2tZnKradzqO241UQyOE4OjxeAIMTiUWw12NzhADPYVg73EYHcx2JlbfSUG24nB1mKwhf6qqRhsKAbricHa+qsaYrCKGKwkBsvrr8pEevFWRv/3R8TQuu/ftWEf4GN8iuiIhbhIiCRIjlRIg/TIbHOzIgdyIx8KogiKoxTKogIqoypqKEZt1ENDNEFztEJbReqATuiC7uil8H3xNQbiG0UcihEYrZhjMV5BJ2Iy8UzBdMWdiVlENIdXzSOpBXxrEXkt9ecq/1/7NiC3OH6HZ/YY7wAOmeOoV48j+Pr9WVzEZVzz3B+45ZjgO8D+MvcD5z42xlNjvTDma2OHzBMOib7XXOqF6Hvq7i/4LZkPiOovorpDVLeI6g+iukZUl4nqogg8R1S/EtVJEXicqI6KwJ+51QEN+z4RuEvDvv0rjXx7kdjGXSK3+oFbreJWy7nVEm61kFvN5VazuNUMTftUTftkMTiBW33LrUZxq+HcaogYHCQG+4vBPmKwJ7fq5m6wsxjsIAbbisFWYrC5GGwsBhuIwbpisBZhVReDX4rBivqrchFnvpXR/8MjtLbOOzbsfXyET2xcNMREHMRHYiRDSnyGdMiELMiOXMiLAiiMoja+BEqjHCriS1RDTdRBfYVphKZogdZoh46K1Qld0QO9Fa4v+mOQAn6DYRipkKMxlnjGY6KiTsZU4pmuuDMwi5zm8Ky5pLWAfy3x8QrPrfHResdudt52Y+z2bPAFioPmO4xj1nESZ3AevyH4/onrXruBPx171zn3nfvIGE+M9cx8L439jzlYB9fiUi+J6vn3Gnl3f4+I6j5R3SWq20R1k6h+J6qrRHVJX3VBX3WWqE6LwBMi8BeiOiwCD4rA/SJwjwjcKQK3cavN3GoDt/qRW63hViu51TJutZhbzedWc7jV99xqOreawq0mcavx3GqMpn2kpn2YGPyGWw3kVv24Ve+MIlEMdhWDncRgBzHYRgy2FIPNxGBjMVhfDNYRgzXFYDUxWPkdrhXhP/5r5SKEl8WLFFr17D0b9iE+RlTEQGzEQ0IkRQqkRlpksLmZkRU5kAf5UQhFUBylUBYVFKEyqqIGaqMeGqKx4jRDS7RBe3ylWJ3RDT3QW+H6oT8GEcUQDFPIkRitmGMxXkEnYjIJTVHYabxqBkl9T1qzMQ+L/H+511Y77kd/2+j8rcbaadw95jmAQ444iuAfiE7jLC7gkueuIvgOsJu47Zx7zn1gjMfGemreF8YOfkDtjbnCIS71mku9IKqn00Siu7+HRPUXUd0hqltE9QdRXSeqK0T1m77qPFGdIapTIvA4UR0lqkMi8CcRuE8E7uZWO7jVVg37pmYisbFIdCe42p3gCm61lFstdCc4j1vN5lYzudU0bvUdt5rIrcZxq9FicAS3GsqtBnOrAZr2vmKwlxjsLga7cKuO3Kq9GGwtBluIwaZisFFUkSgGa4vBGmKwSqS/w9UjvP9WRf/Pj4ihZXvetWkfIDI+tXHREQtxkQCJkQwpkQbpkQlZkB25kNdmF0BhFEUJlEY5VMSXClENNVEH9dEITRSnOVqhLdor1Ffogm7oSQh90E/x+mMwhijiMIxUyNEENBbjFHQCGU3Cd/xqKllNF4zBf4HEFnp+qWNW+tsPzl1vnM2eDb5AEXwFbL+5D1rPYRzDSQT/xH0ewTfoXPH6ddxw7J+449z7xnhorODnh54Z+6U5XpsrRNbhN1zq1VSuRVRPJnEtd38PiOoeUd0mqptE9TtRXSWqy0R1kajOEdWv+qqT+qpjRHVEBP4sAg8Q1V4N+y4RuF0EbhGBG0XgOhH4A7daxa2WcavF3GoBt5rLrWZxqxncaiq3msytJnCrb7nVKE37cE37EE37IDHYn1v15VY9uVU3btWZW3UUg23FYCsx2JxbNXE32FAM1hODtcRg9Yj/iV/dGzxCi/X3i8XhYnG4WBO/mGstFoeLxeFicbhYE7+Yay3mWou51iKutYhrLeJai7jWIk38Iq61iGst4lqL3CEu5FoLudZCd4gL3SEuDFdCFVRXjFqoiwZojKaK0wKt0Q4dCKYTuqK7ovVEH4XrhwGKNxhDiGcYRijkKIwhoHEKOp6cJvKsyaQ1BTMw23MLvL7EcUEHtsYz64y1yfjbsNOcex1xAIes8SiO4zTO4gIuee0qfnds8A3St3HPGA+M9diYT4z93ByvzBX8/HY4JPr+4VIvudSz8VzrW67l7u++Rv2unupPorpBVNeJ6soArkVU54nqDFGd1ledIKpfiOqwCDxIVPuJao8I3CkCt4nAzSJwA7daW0skVheJ3GqpO8FF7gTnuxOcU0okcqvp3GqKpn2S3mo8txrDrUZyq2Hc6htuNZBbfc2t+mjae2jauyYSiWKwA7dqw61acqtmYrCxGGwgBjVPoVr/x6+2/8ceofmJIoUWPHnPpn2Ij/GpzYuO2IiHhEiC5EiFNEiPTMiC7DY5F/KiAAqjKEqgNFGUQ0VURlXUQG1FqYcGaIJmCtQSbdBOoTqgM7oqWHf0RB+F64f+5DJIAb/BUCIaoZCjMJqUvuVX48lqAu+ajEBiszw/z0eLHL/MuauMsdZ4G7wSfAVsh/l3Y791HcRhRx/DSQTfoHPOcxdxxTHX8Idzbjn3jjH+MtZDYwY//fjMGl6Y67U5Q+YOv+FSr7jUCy71lEs9JqoHRHVPo35HT3WLqP7gVNeI6jJRXSSqc0T1q77qpL7qGFEd0Vcd0lcdIKq9InC3CNwuArdyq00icL0I/EHDvkoELheBS0TgQm41j1vN5lYzudU0bvUdt5rIrb7lVqO51QhuNVTTPljTPkDT3k8M9uJW3blVF271Fbdqp2lvo2lvIQabisFGYrBexBvhhhGi/Qfx/Kce4bkD3rFhHyAyPkE0xEQcxEciJLWhKZAaaZERmZEVOZAb+Wx4QXyBYiiJMiivCJVQBdVQE3UUpT4aooniNEdLtFGkduiITgTRFd0VrSf6KFw/9CegQQr4DYYq4nA+NZKcRpPVWN4V/DfJx1M9N9NHcx230HlBi7/SeMEXKNaZa5NXt2Gn9ey1zgM4hKM4jlM4iwu45JjgG6R/xw3n3jbGXWPdN2bwE5BPzBH8/PYrc/5jblXkWlzqJVE9E31PhotEorpPVHeJ6k+iukFUvxPVVaK6RFQXiOosUZ3WV50gql+I6rC+6qAI3E9Ue0TgTqLaJgI3i8ANIvBHbrVGBK7kVsu41WK91QJuNZdbzdJbzeBWU7nVZG41nluN5VajuNVwbjWEWw3iVv25VV9u1ZNbddO0d9a0dxSD7cRgK27VnFs14VYNInR6q5r/jEdodv5IoZmh92zchzbtY0RFDMRGPCREEiRHKqSxsemRCVmQHbmQF/lR2KYXQXGUQllUUIRKqIrqqKUgdVEfjRSmKZqjJdG0QXuF6ojO6Kpg3dGTgPooXD/0V7yBBDRYAYdgGEmNEIqjyGssJvj/lLcBOdvf5jt/sbGWG3u1V34070ZssZbgH4h2Yz8OOuMwjuEkfvXcOVzEZcdec84fuGWMO8b6y5gPrOuxOZ6a64W1vDZ3yBrCIS71mku9EH1PRd/jwSJxoEaeqO4Q1S2i+oOorhHVZaK6SFTnieqMvuqUZv04UR0lqkP6qp9E4D4RuFsE7iCqrSJwE1GtF4FrudVqbrVCBC4tLhKLiEQROEfD/j23mu5OcIo7wYncahy3GqO3GsmthnGrb7jVQE17P27VW9PeQwx25VaduFUHbtWWW7XkVk0jvQo1iZDjrWr+8x4RQ9O2v2vTPkBkfIJoiIk4NjE+EiEpUiA10iIDMiOrTc6B3MiHgvgCRW18CZRGOVRUhMqoihqopdh10QCNFKcpmqOVIrVFe4XqiM4E0hXdFa2novVGXyL6WvEGktIgfvUNhvKu4L8xJDbe85N9NN2xs5w3zzPBPWTwBYpV5vsB6x2xybq2YZf17sUBBN+gcxTHcQpncd4xv+GKc64794Zx/rTGu8a8b22PzPHEXM+s6aW5/7GGkLWE33Cpl1zqOZd6QlSPvuZafUWiu7/bRHWTqH4nqqtEdYmoLhDVWaI6ra86SVTHiOoIUf0sAg8Q1V591S4RuF0EbhGBG4lqnYb9BxG4SgQuF4FLROBCbjWPW83mVjO41TRu9R23msCtvuVWo7nVCG41lFsN5lYDuFVfbtWLW3XnVl241Vea9vaa9taa9hYRN72Vy3/BI/xd9kg27D18iCiIihiIjXhIiCRIblNTIg3SISOyIJuNzok8yI9CKIJiNr8kyqA8KirEl6iGGgpSG/XQQGEaoanitEAromiL9grVEZ0Uqwu6EVAPReutaH3Rj1f1J6mBfGsweQ3z5yh/H+e1SW87sJnOn2OsBcZdYo4VXg2+xPqj9WzEFuvcgd3O2I+DOIxfEHz/6q9eO4eLjr2Ma879wxg3jXXbmPeM/cAcj8311JwvzP3KGt5YSzjEpV4T1Asu9YxL/U1UD4nqrx5cy93fnxr1G0R1naiuENVvRHWeqM4Q1SmiOk5UvxDVYRF4UF+1n6j2iMCd7gK3icDNInADUf0oAteIwJUicBlRLeZWC/KIRG41i1tN/5xrZdTIc6vx7gTHuhMcxa2Gc6sh3GqQ3qo/t+rDrXpyq27cqjO36vieSIwUDrWN8NlbtfwXPML9I0UMTdjxrk37AJHxic2LhpiIg/hIhKRIgdQ2Ni0yIBOyIjty2ey8KIBCKGrji6MUyqC8IlTCl6imGDVRG/UUpQEaEU5TtFCgVmijSO3QgWS+Uqwu6KZgPYioFyn14Vd9yepr94wDMeRf/GuwmYa4iqG8ZrhAGyEOgy9QjOJao7nWGK41VhM/lmt9G95s3cE/ce/CXhxwfYdw1MfHcQpncN6xvznnCq4b44ax/jTmHWPfN8dDawze3uSZuV9aw2trCVlT+A2XekVQz0Xfk14ikageENU9orrt7u+mRv13PdU1orpMVBeJ6pw7wF+J6iRRHSOqo0T1swg8QFT7iGq3CNxBVFv1VZtE4DoRuFYErhaBKzTsS0XgIg37PA37HBH4vQicxq2+41YTudU4bjWGW43kVsO41WBuNZBbfc2tenOrHtyqK7fqxK06RFz9Vin/FY/QmFzvhMa+ec+mfYgoiIroiI14NjIBEiMZUuIzpLO5GfE5siEHctvsfCiIwihq40ugFMqigiJUQhVUV/iaqK0o9dBAYRqhqeI0R0sCaoN2CtVBob4in87oqmDdeVVPkurNt/r6b4A/v/HccB+Ncex45wQt/jTjfW/suV5ZaM6l1hB8DX+Ntf1ovRux1Rk7sBv7cRCHEXyD9AmcdsxZXHDOJedexe/GumnM28a+Z60PzPXInE/MHbxB0ytreWNN4RBB/cOlXoq+Z6Lvb9H3qLNIJKq7RPUnUd3QqF/XU10lqkuc6gJRnSWq00R1gqh+IarD+qqDRLWfqPaIwJ36qm1EtUUEbhCBP4rAH7jVSqJaJgIXi8AFInCuCJzFrWZwq6ncajK3mpBMJLoTHM2tRnCroe4EB3Or/tyqL7fqxa266606R3odah8h0VuV/Nc9IoZGHnzXhn2AyPgE0RATcRAfCW1mEiRHKqRBepubCZ8jG3Iij83Oj4L4QmGLoQRKo6wiVEBlhaiC6qipILVRT1EaoBHxNFWc5mipQG0IqC3aK1RHIurEq7qQVDe+1YO8er+VWOBfwxwzyjnfOneScaYad4Y5gq+AzTf/Yix31CrrXIv1rmEztmGXa9yLA/gZRz13HKdwxrHn8ZtzrxjjmvH+QPAGAXfM/Je5Hprzbyt5ag0vrOW1NYWsLfyGS73mUi+41FPR91j0PRB999qKRKK6RVR/ENU1orpMVBeJ6hxRnSGqU0R1nKiOatYP6at+Iqp9RLVbBO4gqq1EtUkErieqtfqq1SJwhQhcKgIXicD53GpOeq6lYZ+uYZ8iAieJwPEJRSK3GsWthnOrIdxqILf6mlv14VY9uVXX/xa3+t8e4eEFIoWGukMcxrWGuUMcFv7UBkZHLMRFAiRGUhuaEqmRFhmQ2QZnQXbkQh4FLYBC+MLGF0NJlFaAsqiIygpRBdUJoSZqK0o9NFCYRgrTFM2JqIUCtSaitmivUB3I6Sue1Zm0uvqvl4/7eW6gj4Y6dqTzxnpmgrG+M+50c8zy6jzzL7Sepda30prXYB02OmsrdmA39uMgDuMXnHDMaZzFBedeMsZVY/1uzBvGvm2Ou+a6b85H1vvEGoK3l3tlTf9Ym1zhWlzqJZd6zqWeENUjorov+u624FpEdZOofieqq0R1iaguENVZojpNVCeJ6heiOkJUPxPVAaLaq6/apa/aTlRbROBGfdU6ovpBBK4SgctF4BJutVAEzhOBs0XgTBE4TQR+x60mcqtx3GoMtxrBrYZxq8HcagC36setekd6EeoRIetbdfy3PSKGB+96x6Z9gMiIgmiIYRNjIx4SIgmS29SU+AzpkBGZbXJW5EAum50XBVAIRWx8cZS0+aVRTvErojKqKEZ1xaiJ2gpSDw0IqJHCNEEzxWlBRK0UqA2vakdSHfhWR/Lq4s8e/t/3bUB+42/DnT/aWOOMO8krU80309xzrGOBoxZb63Ksdh1rsR6bXec2BN+/uhcH8DOOeO0Ygh9QO+Occ7hojMvGumbMP4x9yxzB++fcM+cD635sDU+t5YU1vbbWN9YYDnGp1wT1QvQ91U89JqqHRPVXM67VmGsR1Q2iuk5UV4jqN6I6T1RniOoUUR3XrB91B3iIqA4S1T6i2qOv2klU24hqswjcQFQ/isA1InAlUS0TgYtF4AIROFcEzhKBM7jVVG41OZ5I1LB/G4NrReVaUbgWtxr0vkh8JxzqG3HjW1n8KzxC/XNFsmnv4UMb9zE+RXTERBwbGR+JkBTJbWoqpEF6ZLLBnyMbctro3MiLAja8MIqguKKXRBkFKIeKilAZVRSiOmoSUG0FqYv6BNNQYRorTFM0J6SW5NSarNryruC/Tj7u7vnePvra8YOdN8wYo4wZfIFiormmeHWGdcyyrnnWuQhLHb0Sa1zXOmx0zVuxA7uxDz95Pvj5oV9wwrGncda5F4xzCVeNed3YN8zxp7numvO+uR9aw9/W8syaXlrvP9YY8ukQfkNQr0Tfc9H3hEs90qTfJ6p7DTXy9blWXa5FVFeJ6hJRXSSqc0T1K1GdJKpjmvUjRPUzUR0gqr36qt2a9R1EtVVftUkErieqtSJwNVGtIKqlInCRCJwvAucQ1fca9ukicIoInCgCx4nAMSJwJLcaxq2+cSc40J1g/wiZ36riX+HxL3eIfSa+Y9Pex0eIYvM+RXTEQlwksJmJkRQpkNrGpkV6ZLLBWZANOW10buRDQeUvjCI2vjhK2vwyKKcAFVCZgKqgmmLUIJRaqKso9RWlAQE1Vpgm5NSMZ7UgrVZoh688181HvRwXdGADnT/EOCOMOcb448052fzTEPwD0RxHLrDmJVjuWla7xrVYj83Yhp3YiwP4GUdwzLEnnfMrzhnjorEuG/Ma/jDHTXPdNuc9cz+whsfW8tSanltb8Pa+b6w1HOJS/3CpF1zqmej7m0s95FJ/cam7RPVnLa5Vg2u5+7uiUf+NqM6Lv7NEdZqoThDVL0R1mKgOEtV+otqjr9pJVNuIaou+aoMIXKev+kFftYqolovAJSJwoQicJwJni8AZInCqCPxOBE4Qgd9yq9EfiURuNZRbDYo4+K0i/hUfod4JI4V63H/Xxn2AyPjE5kVFTMRGPBuZEEmQDCmV9jOkRQYbnBlZkM1G50Qem50PBVHYphdBcZIoidIKUA4VFKESAX2JaopRQzFqEVEd1FOUBqTUiF81JqumvKsFAol19HwXr/dwfB/nDTDON54dbuzR5hvn1YmYYj0zrG+29c5z9CIsc20r8QPWEctGbMEO7Ebw80M/ee0QjuK4c04heIOA88b6zZhXjH3dPDdcU/AOYHfNHbx/4UNrCd599Zm1vbTG19YasubwGy71iks951JPudRjonpQh2txqdtEdZOo/iCqa+7+LhPVRT3VOfF3hqhOEtVxojpKVIeI6iei2qev2k1UO4hqK1FtEoHriWqtvmq1CFxBVEtF4GKimk9Uc0TgLBE4XQROEYGTuNV4EThWwz5Kwz484vVw/whR3qrhX/kR6l4qUqirRr6rSOwqErtyrS76rS7E1UUkdhGJnUViZ+LqLBI7i8ROxNVJv9WJuL4irq+Iq6NmvqN+qyNxdSCuDsTVnrjaE1c74mpHXG2Jqw1xtSGu1sTVirhahasSUXXFqKkYtflUXXKqj4Z8qxF5NfNna/9v7/VOju3unKDFD+4fBxl3qFdGmm+suSdYy3eOmmad31v7XCxwTUuwnEBWYy3WG2UztmEn9nhuPw7iiGOP4aRzT+OcsS4a85Kxgzdo+t1cN81529z3rOGBtTyypifW9twaX1l78O734RCX+odLvSSoZ1zqb9H3iKjui767VbkWUd0gqutEdZWoLhHVBaI6S1SnieoEUR1zB3iEqH4mqgP6qr2a9V1EtZ2otmjWN4rAdUT1g75qlQhcLgKX6KsWisB5InC2CJwpAqdxq+9E4EQROE7DPibS69CYCLnequDf5hEx1OnUOzbtfXyEKPjUBkZHLMS1kfGRCEmR3KamQhqks7kZkNkGZ0V25CKcPDY7HwqisE0vYtOLoyQBlUZZBShPLBUVobIiVEE1IqpBSrVIqg7fqkteDd9KrKXng4D8yt+6OrenMfoZd6Dxh5hvhHnHOGKcNU2yxqnWPQOznTGfKBZhGVYSyRqsw0ZswXbsxj785JhDOOq84zhljDPGO4/fjH3FHNfM9Yc5g/cvDN4g8y9reWhNf1vbU2t8Ya2vrTlk7eE3BPWaS70QfU+51GMu9VA/9Zfou6OfulWeaxHVNaK6TFS/EdV5ojpDVKc41XGiOkpUh4jqJ6Lap6/aQ1Q7iWobUW0WgRuI6keiWiMCV+qrlhHVYhG4QATOFYGziGqGCJwqAieLwAki8NsI+9+W/9/wEW4ROWKo/dl3bdoHiIxPbF5UxEBsxLWRCZAYSW1oCqRW2DRIhww2+HNktcnZkctG50E+4imIwja9iE0vhhIEVMrml0V5BahARJUUoYogrEpO1VGTdwX/1SexJp5v4aM2ju3onC6e6WG8Psbt75XB5h1mDaOs6VtHTcB31hx8/8T3mEsQCwljCZYj+AbptViPzdiGndjjtf0Ifn77sHN+ce4JnDbWWWNewCVzBG8v97s5b7q+P63hrrXct6ZH1vbEGp9b60tr/sfaw64h/A+XesmlnnOpJ0T1iEvd51J3ieq2fupmKY18Ca5FVJeI6gJRnSWqX4nqJFEdI6ojRPUzUR0gqr1EtYuothPVVs36JhG4jqjWEtVqEbiCqJYS1SIROF8EzhGB34vA6SJwigicGPF0eNl/4rtD/9UeoVZ1IoVavXrPpn2IyPjE5kVDDMRWwHhIgMQ2NBlSILWNTYN0NjcjPrfBWZEduQgoj83OhwI2vBC+IKJiNr6EjS9FQGVQTgEqKEAlXlWZpKrwrWrkVdOf9fy/kdeaO6a1v7V3bifjdPNsb+N/bZ7gS6xDrGGEo8ZY33jrnWz9U50xE8F3gM3HIgJZhpVYg3XYiOAH1LZjF/bhJ8cewlHnHjPOKZwx5jljXzTHZXNdM+cf5r5lDcHb+95zXQ+s7bE1PrXWF9Yc/P6ON64hHOJSrwnqBZd6yqX+JqqHmvS/uNQdorpFVDeKisQvNPKFuBZRnSeqM0R1iqhOENUvRHXYHeBBd4D7iWoPUe0kqm1EtVlftYGofiSqNfqqVfqq5US1WAQuJKp5RDVbBM4UgVMjPQ9NjlDubdX/Oz1Czde+Y9Pex4f42OZ9imiIiTg2Mh4S2swkSIYUNjUV0ih2OmS0wZmR1SZnR04bnZt48qKADS9kw79AUSIqbuNL2vjSRFSWlMrzqwpkVUnnVQU1/L+u5xv6qKljWzqvnTGCe8jgCxQ9zdPXqwPM/421DLe2UY781tqD75/4DtOJYRbmOnshlhDJcqzGWqzHJmzFTuxxzH4cdM5h/GKMEzhtzLPGvmCO38x1xZzXzX3DGv60lrvWdN/aHlpj8OsVnlnzS2v/xzWEXEv4DZd6RVDPudQT0feYqB6IvnvFuRZR3SSq34nqWn6RmFcj7+7vnEb9V6I6SVTHOdURojpEVD8R1T6i2k1UO4hqq2Z9E1GtJ6q1RLVaX7WCqJaKwEX6qvlENVcEfi8Cp0eY9rba/x0f4RbvRQw12v2OTfsAH9m4j/EpotvAmIiD+DYyIZIQTTKkQCobm8bGpkMGZLbBWYgnG3La6Nw2Oi8KEFFBG16YiIqgmI0vYeNL8aoyJFVW11WevCr7s7r/1/ZaA8cFHVgL57cxVgdjdjZHd3P2NvfX1hL8A9FQ6xxp3WMVfjwmO2sqMczEbMwnjkVYhpVYQzDBD6gFPwG5BduxC3sdewA/I3j/nGPGOolfjX3OHBfNddmc18wdvL3vTau8bU33rO2BNT621qfW/Nzag98+9Ma1hEME9Q9BvRB9z7jU31zqoej7S/TdFX1/atJvENV1orpCVL8R1QV3f2c16qeJ6oT4+4WoDhPVQaI6QFR7iWoXUW3XrG8hqo1EtY6oftBXrSKq5US1RF+1kKjmEdXsiOvdBb77ttr/nR+hRjkjheo/edemfYCPbFwUREV0xYyJuIhvMxMiiQ1NhhQ2NTXS2Nh0yEAWmW1wFmSzyTkJKBfy2Oz8NrsgERWy4UWIqCiKk1NJsipNXuX+RWLlnFXByBWtorKSfkkCVYVTNXFYXRwGX16tFe5lDf2sZ6D1DXHkcAUfjeAbdCYSwRRMd/YszMVCAlmC5ViNtViPTdiKnY7ZjeDtTX5y7iEcNdZxY54y/hnznMdv5rxi7uvWcMNagjcov2ttwa9XeGitwS+HeWbtL1zDa9cSck3hN1zqFZd6zqWecqnHXOoBl7pHVHdE303R94fou0ZUl4nqIlGdI6pfieoUUR0nqqNEdYiofiKqfUS1m6h2aNa3uQPcRFQbiOpHfdUazfpKolqmr1qsr1oQ8Ulo7n/hN/D9qz9CdfNECtX6+12b9oFNi4woiEow0RHLJsZFfBuZEElsZjKkIJxUSGNj0yGDzc1MIlmQzSbnsMm5CCgP8tnsAoRU0IZ/QU5FeFYx0irhvzI+rui5Kl6v4bi6zmvomabGaWnctl7paL4u5u5hHX2sLfgXyMHWO1SxRyr6WGeNx2RimIbgG6TnYD4WYRmxrMQa/Ijg57e3YDt2Ya9zDuBnYxxB8PZyJ439qznOmuuClV0yd/D+0b9by01rum1t96zxvrU+suYn1v7cNbxyLf+4pnCIS/3DpV5yqWdc6m+CeqSfus+l7hLVn0R1I4dIFH1XieoSUV0gqrNE9StRnSCqY0R1hKh+JqoDRLWXqHYR1XbN+hai2khU64lqrb5qNVGtIKolke6HlkTI+La6/y8/QtVnRLJp79m0DxHZxkVBVMSwgbEQl3DiI6HNTIJkNjSFDU2FNMSTDultbiab+zmykkx2m5zTJucmorxElB8FSaoQ3/oCxVHa38t7vrLjqvtbbefWN04Tz7YwRxtzdfBqZ2vobj29re9rax3o6CEKPkLhg+8AG0cEkzDFCNMxizjmYiGCH1BbjlX4AeuxCVuxw7G7sc+5P+GQsY7iuLFPmeOMuYK39/3N3Fes4Zq1/GFNt6wt+P0df1nrQ2t+bO1PXecL1/LaNb1xbeE3XOo1l3pBVE9F32Oieij6/uJSd/RTt4jqD036tUwiMb1IJKrzRHWGqE4R1XGiOkpUh4nqIFHtJ6o9RLVTs75N/G0mqg1E9aO+6of3uFakcGh5hH+Dr67/1z7CESJGCFVe+I5Ne8+mfYjINi4KohJODMSyiXER30YmRBKbmQwpCCiVTf0MaYkjvc3NZHMzIwvpZLPJOWxyLj6Vh5zy6bjyk1bwX1Efl/RcOR9Vcmw159QyRj1jNTJuM+O3Mmc7839lLV0d1dMa+ypw8P0TgxV8GEY5cywRTEDwDdLTMBNzCGQ+FmEZViL4+e0fscHrm7ENu5y3Fwfws7EOG/MXnDDHaXOdNecFc1+yhqvWEvx6hZvW9qc13rXW+67ikbU/ca3PXctL1/SPawv7NAr/Q1CvRN9zLvWESz3iUvdF310udZtL3dSk/05UV9Nyrc+4VkqRSFS/EtVJojpGVEeI6meiOkBU+4hqN6faQVRbiWoTUa0nKrdioTURvntb0f+xHhFD5aa8Y9Pes2kfIrKNi4KoiGEDYyl6HMSzkQmR2GYmJYjkSGlTP7OpaZGOiDLa3Mw293MCyobswjAnSeVGXvIqgCL+X8JrZR1X0fFVnFvDOHU828D4Tc3V0txtHRH8A1FnIuuusL0d/TUGKXbwHWAjFD/4/tVxRpiEKUQxHbMQ/IDaQizBcqzCD1iPTQjeP2eHc4J3/9pnjJ+MdwhHjX3cHCdxxpznzH3RGi5byzV78Ye13bLG29Z6z5ofWPtj1/DUtbxwTcGvF33jGsMhLvWaS73gUs+41N9c6iGX+ouo7hDVn1zqBpe6TlRXiOq35FwrKddKpJF393dCo/4LUR0mqoNEtZ+o9hDVLqLaTlRbiGojUa0P3vT/f9RHuPo7EUOl3KiWIq6SxFWSuEoQVwniKq7nKq6hL0ZcRYmraDgBaSS2mUmR3IamtKGpfZamQTobm4GIMtnczKSUlV9lI6scvCv4L5BYYc8X91Fpx5Z3bmXPVDdW8AWK+uZp7NXm5m5tHe2tqRORdVPYXuiryAOc9Y2iD8MoAhiLCQQxGcHPD8004hzMxyIsRfAGAWvwIzY4ZjO2Yadz9yB4/8KDOGzsX8xxwlyncdYqL1jDb9ZyxZquW9sNa/zTWu9ac/D70x667uC3Pz5zzS9d2z+uMeTTKfyGS73iUs+51FOCeiz6Huin7hHVbaK6mVokcqlrRHWZqC4S1Tmi+pWoTrr7O65RP6qn+v+1d5/RUpTZGse7G5CcBSQKShIRkSAYBgczRlRUFFFEFBFFJIgwhIsgQxDJIjmIBEFykAySJMeD5HDIOWeovr/y8mHWXWu+3GuAkWL94Zzuqvfdez9P77fo06dqieVvEVPNZ6q5TDWbqaYz1Y/RdvFw1bmmNwFGg4eHJlGwZEjBPKkULg3SK15GZGaCrIp4C3IoZC7myIO8CnqbguZnooKKWpiBiqAoO92F4vrWPexV2r/3+76c5x623xOOedrxzxvrJWO+ao4q5qtm7hr2eJ+AtQn5MUHrE7aRI/5B6OaM9jnCz6+2Q0ejdEZ3puiJ3gh/A3IQowzBcIzEaI+Nw0RMwXTHzMIcY8zHImMuxjJzrDTXGnMmmHuDGDaLZZuYdoptlxj3yuKAmA+L/ZgcTsrltJzOye2iHMO7b8cDXeqyLnWBoc7qUqcsfcctfUd1qUPOp/Yz1R5LX2IeXYuptjLVJqb6hanWMdVqplqhUy1lqsVMtZCp5iWLB3OSBMHMaPdr31T/skWDcn2SKFgypFC0VEijcOlZIiMyK2AWBsqG7AqZSyFzs8ytyKegtzNPAUUtxEp3sNSdFsWietfdCC1W1uMP2qe87x5zbAVjPGfMF439inleN++bRKvOZO8R8AN71iFoPcKGH9Bp7Khm+C+ityZ+W3RghE7oih5G7IW+GMAs32IoRmCUx8ZgAibbdypmYLYxfsICY/5s7KVYYa7V5lxr7vD2ChvFskVM28WWKMY9Yg3vn3ZQ7EfkcFwup+R0Vm7n5XhJroGc41cY6pIudV6XOqNLndSljln6DutSB3Wpfc6ndjuf2ul8als2XYupNjLVeqZay1SrmGo5Uy1hqkU61QKdak60+1W5rqPt12XxPua6j7nKMldZ5irDXPfG0yEDA2VSwCzIpojZmSinQuZWyDzskxe36VP5UZClCutd4Z9iLFbCY2V89YB9H3LMo45/0jjPGLeiZyqZq7J5qxIs/AFR+BPI9wn5ob3rErYBGhH5H8RuQfTwA9JtjNIOHZmhM7ozR0/0Rvj724MwBMMwEqMxzn4TMQXTHDsTc4w1DwuNHV4/epm5wqvfrzF3ghg2iGWTmLaKLby91S6x7hXzAfU4JIejcgnvX3tabuHdty/I9bKc415e8cu61AVd6qwudVqXOqFLHdWlDjHVAV1qD1PtYqodzqe2Op/alEHXsvwlMNUaplrJVMuYajFTLbgelr9/t8UjsWhQyrJYirlKxpMjJVukVrh0yKB4mRjoZgXMilsUMQcT5VLIPEyUVzHzsdTt+lYB9irs37v8fY/nStvvft+Vc9zDxnnco08b+3lzhW+xvspkVYj2FvHesWdNNvyAoHUQfgLsU0c2JnYztCR8ayZoiw4If0GtK3qgF5P0xQB8i6EYgVGeG4PxmOyYHxFeIHM2wsv7zscicywx13JzrjJ/eP+O9QjvPrSFmbaJcadYd4t5n9jD24sekctxOZ2U2xl1OK8Gl+QcyD8e6FKXdKnzutQZXeokUx239B1hqoOWvn1O0ncz1U6m2s5UW5hqY2pdK6WuldySyFQrmGpptMv1a6p/3YLiA2IMlFTBkiOloqVmjLQKlx4ZGSWzAmZRwGzMkx05WSk38uhZefWu8E8hX9/pseK+KmXfso77m0fKGy98g6KCOZ4lzgtEepmJX7NX+BPItwn4LiFrOeIjRvuEuA0I/RnCD0i3MMrnaMMI7dERnRmjO3qiN/pjEIZgGL7HDxhn34mYgmnGmIk5xpxn7IVYbK5l5lxh7tViWCeWX8S0SWxbxbhDrLvEvEfs++VwSC5H5RTefTu8vftZuV6Q82Uvr7gaxC/rUhcZ6pwuddrSd0KXOqpLHbb0HbD07bX07bL07UirazHVZqbawFQJSXWtWDxYeY2+pfB/2iyLkaBo+1hQ5GxSBroJKRQtlaKlRTqvxgyKl4lxblbArAp4i16Vg6VyOuvKzV75/FvQ30U8V8x+4RlYGcc+YJyHPPooMZ5k1mc8W5FI4Q+IKhPsDcJVs/c7hKxJ0PATYB87sj4+JXYTojdDSwZojbZG7IBO6MogPdALfTEA4fVzhiK8+tco+4zBeExy7I+YbqxZmGvs+eZYZL4lWG7uVWII7z6UIKYNYtssxm1i3clMu8W+Tw4H1OawnI7J7aQcz8j1nJwvyv2KGsQDhrrEUOd1qbO61Cld6rgudUSXOqhL7del9jBVoqVvu6Vvy02WxKTxYH3saLDuWnrz87fcggJlokGBK0kU6yakYKJUipZG0dIxUXpkYqLMyMJO2SyK2dkr568Wy+WIPMp+KxnykeU2UuUnZQG9opAFqbDl8A6n1kWcxBd1En+Xk/hiTuLvdhJf3El8+OmvErpWCV2rpK5VStcqrWuVjjclfAu0YoQ2aM8UHdEZ3dGTUXqjHwZhiMeG4XuE1y8c65gJmGyMaZhpzNn4yRzh7RV+NudSrBDDarGsE9MvYtskxi3MtF3MiWLfI4f9Xj6H5BTe3v24HE/J9aycL8j9shoEahG/oktd1KXO6VJndKmTutQxXeowUx1wPrWXqXYz1U6m2mbp2xw9Hay/Vn5M83ttwW2lokHeGUkUKxmSK1hKJkqtaGlZKJ3CZWSnTHrWzayV1Z8c/s3jsds9X+jqGVhxx5ZS9LKK/zfP/J0YjxGlgj2eJdALxHrZnq/hDQJWI2QNvE/UDx39MZHr41OCNyF+M7REa6O2RQfG6ISu6IFe6IsBGIzvMAKj7DsG4x07CT9iujHDq9/PxXxzLTJneIOY5VgpljViSsAGZtos1m1i3iH2XXLYK5cDcjost2NyPCnX03I+pwoX1eCKWsQDXeqyLnVBlzqrS51iqBO61FFL3yFL335L3x7nU4lMtS06KdjyZ/9A+Y/aglwpI0HOYbEgx5WkinUTE6VQsFRIw0hp9av0+lZG3IzQYrk9ns/zBe1fhMGKKXZJRS+j+OE7YA959hGiPOGV/jSBnrfnSwR7lXBVCPiWo6oT8z3d7APi1sEnRmlI9M/QlAFaoBUztEF7dERnJumGnuiNfhiIIZ4bhu8RXn11rGMnYLKxphp3Bmab4ycsMOfP5l4qhhViWSWmtWJbL8aNYt0i5u1iT5TDbrnsk9NBGR+R43GGOiXns3I/rwaX1CJQk/gVXeqSLnWeoc7oUid1qWO61BFd6qClb2/sXLA70is++8/66MufuQXZnokGWRKSKFYyxUquT6Vkp9TOuNKwVnr9K7Ovs3ksl6/yMlx+xb3j1/8/ZidnDj0jl8Upt66Vx3KY13KYz3J4m+Xwdl0rv65VQNcq6CS+kJP4wk7iww9Hh5++LxKvS+z6aET4Jmhu1Jb4Am0ZowM6oSt6ILxAUx+El5cbjO8w3L4jMRrjjDEJU4w5DTPNMcdc88y7EOHtrZaJJbw53xqxJYhxg1g3iXmr2HfIYZdc9sppv9wOy/GoXE/I+bTcz6nBBbW4rCZxtYlfZqgLutRZXeq0LnVClzqqSx2Krgv2/dGf/LzWtiBdpmiQflUsSB8kVaybWCoFUrFXWmT0d1YWy6GYtzLe7YpbSJGLerQ4y5VS/LKefVAX+ztRHiXOk/Z8hlAVCVaJcJUdVYWQbxH0HdQk7gdGqYNPCB7+gtpnDNAULZihFdqgPXN0RHj9nG7oid7oh4EIL5A5FOHlfX9w7FhMMNZkTDX2DMw2V3j3ofnm/xlLxLJcTKvEFt5edL1Yw5sjbxH7NjnslMtuOe2T20E5HpHrMTmfVIkzanBejS6qSaA28UCXuqRLndelzuhSJ2OXgmORBfH4H/UZ9ethi6d5MBqk2J2ErZLpXeGf0GIZWOxmRcyumLkVNZ9HCjJY+AZFMc+UUPx7ifCAV3Y5e4U/gXyCQE/Z+zmCvYhXCPg6qjo6/ID0u8SthQ8JXZfo9dEITYzcHC0Z4gu0RQd8ha7ogW/QBwMwGN9huGNGIrxA+ThMxBRjTzPHTMwx5zxzLxTDYkYK7/64AqvFuE6sv4h5k9i3ymGHXBKZaY/c9svxEEMdlfMJuZ9Sg7NqcUFNLqtN4GUYv6JLXdSlzkUTgzO/869oXbdbPJImGiTpFYvHlCyJ8iXTq5Ir7/+cgeVS1LyKm1+RCyv2XYp+D5OVJkL4A6K/MVl5ez5GoAqEepZgLxCukiMrE/ENYlYj7DuoaaTaxA5/Qa0e4RviMyZoihZoZZY2aI+O6Ixu+Bq90Q8D8a19h2IERhljDMYbM7x/x1RzTDfXLMw193wxLBLLEjEtF9sqMa4Va4KYN4h9sxy2yWWnnHbLbZ8cD8j1sJyPyf2kGpxWi3NqclFtrqhRPIjFg0vRVrrU7/TLpP8pW/iOcBApkSyITkkZxC6mjSdV5mTKnpwUKciTioSp9Ynw7dV0TpXTWw4zOInPpGtldhJ/s5P4LLpWVifx2ZzE3+IkPruulUPXyhl/E9WJ+y6Ra+FDI9ZFfeI3QhNmaI6WaI226MAkX6ErwusXfuOxPuiPQRiC4Y4didHGGoeJxp6Caeaaac45mCeG8O6PP4tpqdhWiHG1WNeJ+Rexb5TDFrlsl1Oi3PbIcb9cD8r5iNyPq8EptTirJueD2PmLanQh+C2vpfAX2VIGkTJpgujMDEEsyKKY2RU1t+LmU+SCil1E0YtZMEsQ4F5i3E+Ucl7pDxPocUI9RbBnCfcCAV/Ga8R8g6jVjFQDNQldG3WIXg8NmaAxmpqlBVohvEBTO4SXl+uMbvgavdAPA/GtY4ZihDFGYYwxx2OSOcLbW0035yxzzxXDfCwS02KxLRNjePftNWJOEPsGOWyWyzY57ZDbLv+V2SvXA3I+LPejanAiiF06HUTHMNRvcymhv/KWNogUzBxEf8xmicyluHkVOXyLtbCiF1X84kxWihBlCfKgV3r4AZ1HCfUkwZ4h3PN4iYivErMKUd9EdQK/S+xa+IjwddEAjRihCcLr57RkjtZoiw74Cl3QA9+gj336YxCGOHYYvscPxhyLCeaYbK6pmGHu2WIIby+6QFw/Y6kYV4h3NdaKfb0cNspli5y2yy1Rjrvluk/OB+V+mKEOB//PK+nd2P7XZonMEkTuzsFgeSyRtzu/KKTodyr+3V7RJQlRhiAPEKYcgR4m1ONe/U8RLfyA9ItEfJmYr6EqcasRuQZqErw26hC/HhqiMUM0RXiBplZog3boiM7ohq8RXj+6LwY6Jry9wlCMMNYojDb2eEwy1xRzTscsMcwRyzwxLRTbYjEuE+tKMa8Re4IcNshlk5y2ym2HHBPlulfOB724rlbixvZ7bXktkWiaP4jtuUPx7/KKvocQpQlyH2HCT4CVJ9RjBKtAuGcIWJGQlfAqUcNfUHsL1Qn9HsFr4SPUZYIGaIQmTNEcLdEabdEBXyG8vG939LRfH/THIAwxxjCEdx/6wdhjzTEBk8051dwzMFss4c2RF4htkRiXiHW5mFeJfa0c1stlo5w2B9E924PIJzuDv8q75tfQdms8kqFwEClbNIj+cLdzj5IEKUuYBwj0EKEeIdgThHuagM/hRWK+QtTXUJXA1QhdA+8TvjbqoB4jNERjNEULhNcvbIN2+NL3ndANX6MXwtsrDHDsYHyH4cYcidHmGGeuiZhi7mlimCmeOZgntoViXCzWZWJeIfbVQezUOrkkBJE7t8vtapo3tj9zyx9EkpeMRyreG0SH3e9/TOUIVZ5gj6EC8Z4lYkViViJqZVQh8luoTvD3UIv4H6EuGjBEIzRBc7Rkktb4Jzr4Prx+dBd0R0/0cUx/DMQQYw3D98b+AWPNNd68kzFVDNPFMktMc8U3H4vEujiI9l0p9nU33ti89rcHg8jb5YNIs0eC6PonnPg+TcTnCfoiXiHu66hK6LdRg+jvozYTfIx6aMgUjRFev7AFPkcbtMOX6ISu+Nq+vdAXA4wxGN8ZczhGmmM0xplzovmnYGoQuzJDTHODSN15wb+5h/KN7frYnrC0PPsr0SEvBNEJlZy/VGa2KoR+C9XxHvFr4SNGqIsGaIQmDNIMLdEa/0R7fOW5LuiOnujt2H4YaKxvMRQjzDEqiCaONee4INJjihgmBpE7roZ1Y/tP2560bL4RRFJXCSLpqgaRLtWCaJcaqBlEV9aOR3WtmK4V07ViulZM14rpWjFdKxb/Au3wJTqhK3o4pqdjexujPwYZc7DxQ7qY6+q0f6EtEvlvLj6dTNsMZuwAAAAASUVORK5CYII=","data:image/png;base64,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"}})),rtl.module("WEBLib.TMSFNCColorWheel",["System","WEBLib.ExtCtrls","WEBLib.Controls","Web","Classes","Types","WEBLib.Graphics","WEBLib.TMSFNCCustomControl","WEBLib.TMSFNCImage","WEBLib.TMSFNCGraphics","WEBLib.TMSFNCGraphicsTypes","WEBLib.TMSFNCTypes","WEBLib.TMSFNCEdit","WEBLib.TMSFNCStyles","WEBLib.TMSFNCUtils"],(function(){"use strict";var t=this;this.MAJ_VER=1,this.MIN_VER=0,this.REL_VER=1,this.BLD_VER=0,rtl.createClass(this,"TTMSFNCRGBTrackBar",pas["WEBLib.ExtCtrls"].TWebTrackBar,(function(){this.SetValue=function(t){this.SetPosition(Math.round(t))},this.GetV=function(){return this.GetPosition()},this.Create$1=function(t){return pas["WEBLib.Controls"].TControl.Create$1.apply(this,arguments),this.SetMax(255),this.SetWidth(100),this},rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),rtl.createClass(this,"TTMSFNCImageColor",pas["WEBLib.TMSFNCImage"].TTMSFNCImage,(function(){this.$init=function(){pas["WEBLib.TMSFNCImage"].TTMSFNCImage.$init.call(this),this.FDPIChanged=!1,this.FMouseDown=!1,this.FImageLoaded=!1,this.FPixelColor=0,this.FOnColorChanged=null,this.FX=0,this.FY=0,this.FImgDt=null,this.FOffS=0,this.Fsc=0},this.$final=function(){this.FOnColorChanged=void 0,this.FImgDt=void 0,pas["WEBLib.TMSFNCImage"].TTMSFNCImage.$final.call(this)},this.SetPixelColor=function(t){this.FPixelColor!==t&&(this.FPixelColor=t)},this.SetX=function(t){this.FX!==t&&(this.FX=t)},this.SetY=function(t){this.FY!==t&&(this.FY=t)},this.SetCoordinates=function(t,e){var i,s=0,o=0,n=0,a=pas["WEBLib.TMSFNCTypes"].TPointF.$new();a.$assign(this.GetCenterPoint()),i=this.GetRadius()-1*this.Fsc,0===(s=Math.abs(a.X-e))&&(s=1),0===(o=Math.abs(a.Y-t))&&(o=1),n=180*Math.atan(s/o)/Math.PI,t>=a.X&&e<=a.Y?n=360-n:t<=a.X&&e>=a.Y?n=180-n:t<=a.X&&e<=a.Y&&(n=180+n),n=pas.Math.DegToRad(n),this.FX=a.X-.5+i*Math.cos(n),this.FY=a.Y-.5+i*Math.sin(n)},this.PtInColorWheel=function(t,e){return pas.System.Sqr$1(t-75*this.GetDPIScale())+pas.System.Sqr$1(e-75*this.GetDPIScale())<=pas.System.Sqr$1(74*this.GetDPIScale())},this.DoAfterDraw=function(t,e){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.DoAfterDraw.apply(this,arguments),this.FDPIChanged&&(this.FDPIChanged=!1,this.MapPixels())},this.ColorChanged=function(){null!=this.FOnColorChanged&&this.FOnColorChanged(this)},this.BitmapLoaded=function(t){this.FImageLoaded=!0},this.HandleMouseDown=function(t,e,i,s){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseDown.apply(this,arguments),this.CaptureEx(),this.FMouseDown=!0,this.PtInColorWheel(i,s)&&(this.SetPixelColor(this.XYToColor(i,s)),this.ColorChanged(),this.Invalidate())},this.HandleMouseMove=function(t,e,i){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseMove.apply(this,arguments),this.FMouseDown&&(this.PtInColorWheel(e,i)?this.SetPixelColor(this.XYToColor(e,i)):(this.SetCoordinates(e,i),this.SetPixelColor(this.XYToColor(this.FX,this.FY))),this.ColorChanged(),this.Invalidate())},this.HandleMouseUp=function(t,e,i,s){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseUp.apply(this,arguments),this.FMouseDown=!1,this.ReleaseCaptureEx()},this.GetDPIScale=function(){return this.FPaintScaleFactor},this.Create$1=function(t){return pas["WEBLib.TMSFNCImage"].TTMSFNCCustomImage.Create$1.apply(this,arguments),this.SetWidth(150),this.SetHeight(150),this.SetX(this.GetWidth()/2*this.GetDPIScale()),this.SetY(this.GetHeight()/2*this.GetDPIScale()),this.FImageLoaded=!1,this.FDPIChanged=!1,this.FStroke.SetKind(0),this.FOnBitmapChanged=rtl.createCallback(this,"BitmapLoaded"),this},this.Destroy=function(){this.UnmapPixels(),pas["WEBLib.TMSFNCImage"].TTMSFNCCustomImage.Destroy.call(this)},this.Draw=function(t,e){pas["WEBLib.TMSFNCImage"].TTMSFNCCustomImage.Draw.apply(this,arguments),this.FImageLoaded&&(this.FImageLoaded=!1,this.MapPixels()),t.FStroke.SetKind(1),t.FFill.SetKind(0),t.FStroke.SetColor(0),t.DrawEllipse(this.FX-this.ScalePaintValue(5),this.FY-this.ScalePaintValue(5),this.FX+this.ScalePaintValue(5),this.FY+this.ScalePaintValue(5),2),t.FStroke.SetColor(16777215),t.DrawEllipse(this.FX-this.ScalePaintValue(4),this.FY-this.ScalePaintValue(4),this.FX+this.ScalePaintValue(4),this.FY+this.ScalePaintValue(4),2)},this.MapPixels=function(){0!==this.GetWidth()?this.Fsc=Math.round(this.GetCanvas().FElementCanvas.width/this.GetWidth()*100)/100:this.Fsc=1,this.FImgDt=this.GetCanvas().FContext.getImageData(0,0,Math.round(this.GetWidth()*this.Fsc),Math.round(this.GetHeight()*this.Fsc))},this.UnmapPixels=function(){},this.XYToColor=function(t,e){return this.FOffS=4*(Math.round(t*this.Fsc)+Math.round(e*this.Fsc)*Math.round(this.GetWidth()*this.Fsc)),pas["WEBLib.Graphics"].RGB(this.FImgDt.data[this.FOffS+0],this.FImgDt.data[this.FOffS+1],this.FImgDt.data[this.FOffS+2])},this.GetCenterPoint=function(){var t=pas["WEBLib.TMSFNCTypes"].TPointF.$new();return t.$assign(pas["WEBLib.TMSFNCTypes"].PointF(this.GetWidth()/2,this.GetHeight()/2)),t},this.GetRadius=function(){return this.GetWidth()/2},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),rtl.recNewT(this,"TTMSFNCColorWheelHSColor",(function(){this.Hue=0,this.Saturation=0,this.$eq=function(t){return this.Hue===t.Hue&&this.Saturation===t.Saturation},this.$assign=function(t){return this.Hue=t.Hue,this.Saturation=t.Saturation,this}})),this.$rtti.$MethodVar("TTMSFNCCustomColorWheelBeforeDrawSelectedColorPanelEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ARectF",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF],["ASelectedColor",pas["WEBLib.Graphics"].$rtti.TColor],["AAllow",rtl.boolean,1],["ADefaultDraw",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCCustomColorWheelAfterDrawSelectedColorPanelEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ARectF",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF],["ASelectedColor",pas["WEBLib.Graphics"].$rtti.TColor]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCCustomColorWheelSelectedColorChangedEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ASelectedColor",pas["WEBLib.Graphics"].$rtti.TColor]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCCustomColorWheelRValueChangedEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AR",rtl.longint],["ASelectedColor",pas["WEBLib.Graphics"].$rtti.TColor]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCCustomColorWheelGValueChangedEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AG",rtl.longint],["ASelectedColor",pas["WEBLib.Graphics"].$rtti.TColor]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCCustomColorWheelBValueChangedEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AB",rtl.longint],["ASelectedColor",pas["WEBLib.Graphics"].$rtti.TColor]]),methodkind:0}),rtl.createClass(this,"TTMSFNCCustomColorWheel",pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl,(function(){this.$init=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$init.call(this),this.FImage=null,this.FREdit=null,this.FGEdit=null,this.FBEdit=null,this.FHEXEdit=null,this.FRTrackBar=null,this.FGTrackBar=null,this.FBTrackBar=null,this.FSelectedColor=0,this.FGValue=0,this.FRValue=0,this.FBValue=0,this.FHSColor=t.TTMSFNCColorWheelHSColor.$new(),this.FOnBValueChanged=null,this.FOnGValueChanged=null,this.FOnAfterDrawSelectedColorPanel=null,this.FOnSelectedColorChanged=null,this.FOnRValueChanged=null,this.FOnBeforeDrawSelectedColorPanel=null,this.FFont$1=null},this.$final=function(){this.FImage=void 0,this.FREdit=void 0,this.FGEdit=void 0,this.FBEdit=void 0,this.FHEXEdit=void 0,this.FRTrackBar=void 0,this.FGTrackBar=void 0,this.FBTrackBar=void 0,this.FHSColor=void 0,this.FOnBValueChanged=void 0,this.FOnGValueChanged=void 0,this.FOnAfterDrawSelectedColorPanel=void 0,this.FOnSelectedColorChanged=void 0,this.FOnRValueChanged=void 0,this.FOnBeforeDrawSelectedColorPanel=void 0,this.FFont$1=void 0,pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$final.call(this)},this.SetSelectedColor=function(t){this.FSelectedColor!==t&&(this.FSelectedColor=t,this.FRValue=this.ColorToRValue(this.FSelectedColor),this.FREdit.SetT(pas.SysUtils.IntToStr(this.FRValue)),this.FGValue=this.ColorToGValue(this.FSelectedColor),this.FGEdit.SetT(pas.SysUtils.IntToStr(this.FGValue)),this.FBValue=this.ColorToBValue(this.FSelectedColor),this.FBEdit.SetT(pas.SysUtils.IntToStr(this.FBValue)),this.FHEXEdit.SetT(pas.SysUtils.IntToHex(this.FRValue,2)+pas.SysUtils.IntToHex(this.FGValue,2)+pas.SysUtils.IntToHex(this.FBValue,2)),this.FRTrackBar.FOnChange=null,this.FRTrackBar.GetV()!==this.FRValue&&(this.FRTrackBar.SetValue(this.FRValue),this.DoRValueChanged(this.FRValue,this.FSelectedColor)),this.FRTrackBar.FOnChange=rtl.createCallback(this,"RTrackBarChanged"),this.FGTrackBar.FOnChange=null,this.FGTrackBar.GetV()!==this.FGValue&&(this.FGTrackBar.SetValue(this.FGValue),this.DoGValueChanged(this.FGValue,this.FSelectedColor)),this.FGTrackBar.FOnChange=rtl.createCallback(this,"GTrackBarChanged"),this.FBTrackBar.FOnChange=null,this.FBTrackBar.GetV()!==this.FBValue&&(this.FBTrackBar.SetValue(this.FBValue),this.DoBValueChanged(this.FBValue,this.FSelectedColor)),this.FBTrackBar.FOnChange=rtl.createCallback(this,"BTrackBarChanged"),this.FHSColor.$assign(this.RGBToHS(this.FRValue,this.FGValue,this.FBValue)),this.SetIndicator(),this.DoSelectedColorChanged(this.FSelectedColor),this.Invalidate())},this.SetBValue=function(t){this.FBValue!==t&&(this.FBValue=t,this.FBEdit.SetT(pas.SysUtils.IntToStr(t)),this.FHEXEdit.SetT(pas.SysUtils.IntToHex(this.FRValue,2)+pas.SysUtils.IntToHex(this.FGValue,2)+pas.SysUtils.IntToHex(this.FBValue,2)),this.FBTrackBar.SetValue(this.FBValue),this.FSelectedColor=this.RGBToGraphicsColor(this.FRValue,this.FGValue,this.FBValue),this.FHSColor.$assign(this.RGBToHS(this.FRValue,this.FGValue,this.FBValue)),this.SetIndicator(),this.DoBValueChanged(this.FBValue,this.FSelectedColor),this.DoSelectedColorChanged(this.FSelectedColor),this.Invalidate())},this.SetGValue=function(t){this.FGValue!==t&&(this.FGValue=t,this.FGEdit.SetT(pas.SysUtils.IntToStr(t)),this.FHEXEdit.SetT(pas.SysUtils.IntToHex(this.FRValue,2)+pas.SysUtils.IntToHex(this.FGValue,2)+pas.SysUtils.IntToHex(this.FBValue,2)),this.FGTrackBar.SetValue(this.FGValue),this.FSelectedColor=this.RGBToGraphicsColor(this.FRValue,this.FGValue,this.FBValue),this.FHSColor.$assign(this.RGBToHS(this.FRValue,this.FGValue,this.FBValue)),this.SetIndicator(),this.DoGValueChanged(this.FGValue,this.FSelectedColor),this.DoSelectedColorChanged(this.FSelectedColor),this.Invalidate())},this.SetRValue=function(t){this.FRValue!==t&&(this.FRValue=t,this.FREdit.SetT(pas.SysUtils.IntToStr(t)),this.FHEXEdit.SetT(pas.SysUtils.IntToHex(this.FRValue,2)+pas.SysUtils.IntToHex(this.FGValue,2)+pas.SysUtils.IntToHex(this.FBValue,2)),this.FRTrackBar.SetValue(this.FRValue),this.FSelectedColor=this.RGBToGraphicsColor(this.FRValue,this.FGValue,this.FBValue),this.FHSColor.$assign(this.RGBToHS(this.FRValue,this.FGValue,this.FBValue)),this.SetIndicator(),this.DoRValueChanged(this.FRValue,this.FSelectedColor),this.DoSelectedColorChanged(this.FSelectedColor),this.Invalidate())},this.SetHEXValue=function(t){var e="",i=0,s=0,o=0;6===t.length&&(e=pas.System.Copy(t,1,2),i=pas.SysUtils.StrToInt("$"+e),e=pas.System.Copy(t,3,2),s=pas.SysUtils.StrToInt("$"+e),e=pas.System.Copy(t,5,2),o=pas.SysUtils.StrToInt("$"+e),this.SetSelectedColor(this.RGBToGraphicsColor(i,s,o)),this.FHSColor.$assign(this.RGBToHS(i,s,o)),this.SetIndicator())},this.GetHEXValue=function(){return this.FHEXEdit.GetT()},this.IsHEXValueStored=function(){return"FFFFFF"!==this.GetHEXValue()},this.SetFnt=function(t){this.FFont$1.AssignSource(t)},this.Loaded=function(){pas["WEBLib.Controls"].TCustomControl.Loaded.call(this)},this.Draw=function(t,e){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Draw.apply(this,arguments),this.DrawColorPanel(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e)),this.DrawText(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e))},this.DrawColorPanel=function(t,e){var i,s=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),o=!1,n=!1;i=35+this.FREdit.GetHeight()+this.FBEdit.GetHeight()+this.FGEdit.GetHeight()+this.FHEXEdit.GetHeight(),s.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,this.ScalePaintValue(25),this.ScalePaintValue(25))),pas["WEBLib.TMSFNCTypes"].OffsetRectEx$1(s,this.ScalePaintValue(30)+this.FImage.GetWidth(),i),s.Right=this.FREdit.GetLeft()+this.FREdit.GetWidth(),t.FFill.SetColor(this.FSelectedColor),o=!0,n=!0,this.DoBeforeDrawSelectedColorPanel(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),this.FSelectedColor,{get:function(){return o},set:function(t){o=t}},{get:function(){return n},set:function(t){n=t}}),o&&(n&&t.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),2),this.DoAfterDrawSelectedColorPanel(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),this.FSelectedColor))},this.DrawText=function(t,e){t.FFont.AssignSource(this.FFont$1),t.DrawText(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(30+this.FImage.GetWidth(),this.FREdit.GetTop()+7)),"R",0,!0,!1,-1,-1),t.DrawText(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(30+this.FImage.GetWidth(),this.FGEdit.GetTop()+7)),"G",0,!0,!1,-1,-1),t.DrawText(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(30+this.FImage.GetWidth(),this.FBEdit.GetTop()+7)),"B",0,!0,!1,-1,-1),t.DrawText(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(30+this.FImage.GetWidth(),this.FHEXEdit.GetTop()+7)),"HEX",0,!0,!1,-1,-1)},this.RFieldKeyDown=function(t,e,i){var s=0;13===e.get()&&((s=this.FREdit.GetInt())<0?s=0:s>255&&(s=255),s===this.FRValue?this.FREdit.SetT(pas.SysUtils.IntToStr(s)):(this.SetSelectedColor(this.RGBToGraphicsColor(s,this.FGValue,this.FBValue)),this.FHSColor.$assign(this.RGBToHS(s,this.FGValue,this.FBValue)),this.SetIndicator()))},this.GFieldKeyDown=function(t,e,i){var s=0;13===e.get()&&((s=this.FGEdit.GetInt())<0?s=0:s>255&&(s=255),s===this.FGValue?this.FGEdit.SetT(pas.SysUtils.IntToStr(s)):(this.SetSelectedColor(this.RGBToGraphicsColor(this.FRValue,s,this.FBValue)),this.FHSColor.$assign(this.RGBToHS(this.FRValue,s,this.FBValue)),this.SetIndicator()))},this.BFieldKeyDown=function(t,e,i){var s=0;13===e.get()&&((s=this.FBEdit.GetInt())<0?s=0:s>255&&(s=255),s===this.FBValue?this.FBEdit.SetT(pas.SysUtils.IntToStr(s)):(this.SetSelectedColor(this.RGBToGraphicsColor(this.FRValue,this.FGValue,s)),this.FHSColor.$assign(this.RGBToHS(this.FRValue,this.FGValue,s)),this.SetIndicator()))},this.HEXFieldKeyDown=function(t,e,i){var s="",o=0,n=0,a=0;13===e.get()&&6===this.FHEXEdit.GetT().length&&(s=pas.System.Copy(this.FHEXEdit.GetT(),1,2),o=pas.SysUtils.StrToInt("$"+s),s=pas.System.Copy(this.FHEXEdit.GetT(),3,2),n=pas.SysUtils.StrToInt("$"+s),s=pas.System.Copy(this.FHEXEdit.GetT(),5,2),a=pas.SysUtils.StrToInt("$"+s),this.SetSelectedColor(this.RGBToGraphicsColor(o,n,a)),this.FHSColor.$assign(this.RGBToHS(o,n,a)),this.SetIndicator())},this.DoBeforeDrawSelectedColorPanel=function(t,e,i,s,o){null!=this.FOnBeforeDrawSelectedColorPanel&&this.FOnBeforeDrawSelectedColorPanel(this,t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i,s,o)},this.DoAfterDrawSelectedColorPanel=function(t,e,i){null!=this.FOnAfterDrawSelectedColorPanel&&this.FOnAfterDrawSelectedColorPanel(this,t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i)},this.DoSelectedColorChanged=function(t){null!=this.FOnSelectedColorChanged&&this.FOnSelectedColorChanged(this,t)},this.DoRValueChanged=function(t,e){null!=this.FOnRValueChanged&&this.FOnRValueChanged(this,t,e)},this.DoGValueChanged=function(t,e){null!=this.FOnGValueChanged&&this.FOnGValueChanged(this,t,e)},this.DoBValueChanged=function(t,e){null!=this.FOnBValueChanged&&this.FOnBValueChanged(this,t,e)},this.ColorChanged=function(t){this.SetSelectedColor(this.FImage.FPixelColor)},this.RTrackBarChanged=function(t){this.SetRValue(Math.round(this.FRTrackBar.GetV()))},this.GTrackBarChanged=function(t){this.SetGValue(Math.round(this.FGTrackBar.GetV()))},this.BTrackBarChanged=function(t){this.SetBValue(Math.round(this.FBTrackBar.GetV()))},this.FillColorChanged=function(t){this.FillChanged(this),this.FImage.FFill.SetColor(this.FColor)},this.ApplyStyle=function(){var t=0;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.ApplyStyle.call(this),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleBackgroundFillColor({get:function(){return t},set:function(e){t=e}})&&this.FFill.SetColor(t)},this.ResetToDefaultStyle=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.ResetToDefaultStyle.call(this),this.FFill.SetColor(16777215)},this.UpdateControlAfterResize=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.UpdateControlAfterResize.call(this),null!=this.FImage&&this.FImage.SetTop(Math.round(this.GetHeight()/2-this.FImage.GetHeight()/2))},this.SetIndicator=function(){var t,e,i=pas["WEBLib.TMSFNCTypes"].TPointF.$new();i.$assign(this.FImage.GetCenterPoint()),e=this.FImage.GetRadius()-.5,t=pas.Math.DegToRad(this.FHSColor.Hue),this.FImage.SetX(i.X+e*this.FHSColor.Saturation*Math.cos(t)),this.FImage.SetY(i.Y+e*this.FHSColor.Saturation*Math.sin(t)),this.FImage.Invalidate()},this.RGBToHS=function(e,i,s){var o,n,a=t.TTMSFNCColorWheelHSColor.$new(),r=0,l=0;return r=0,n=(o=Math.max(Math.max(e,i),s))-Math.min(Math.min(e,i),s),l=0===o?0:n/o,0===n?r=0:o===e?r=(i-s)/n:o===i?r=(s-e)/n+2:o===s&&(r=(e-i)/n+4),r*=60,a.Hue=r,a.Saturation=l,a},this.Create$1=function(e){return pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Create$1.apply(this,arguments),this.SetWidth(350),this.SetHeight(175),this.FRValue=255,this.FGValue=255,this.FBValue=255,this.FSelectedColor=16777215,this.FFill.FOnChanged=rtl.createCallback(this,"FillColorChanged"),this.FFont$1=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2"),this.FImage=t.TTMSFNCImageColor.$create("Create$1",[this]),this.FImage.SetParent(this),this.FImage.FBitmaps.AddBitmapFromResource$1(pas["WEBLib.TMSFNCColorWheelResources"].GetColorWheelResource(),pas["WEBLib.TMSFNCTypes"].HInstance(),1),this.FImage.SetTop(Math.round(this.GetHeight()/2-this.FImage.GetHeight()/2)),this.FImage.SetLeft(10),this.FImage.FOnColorChanged=rtl.createCallback(this,"ColorChanged"),this.FImage.SetStretch(!0),this.FREdit=pas["WEBLib.TMSFNCEdit"].TTMSFNCEdit.$create("Create$1",[this]),this.FREdit.SetParent(this),this.FREdit.SetWidth(35),this.FREdit.SetLeft(this.GetWidth()-this.FREdit.GetWidth()-15),this.FREdit.SetTop(15),this.FREdit.SetEditType$1(1),this.FREdit.FOnKeyDown=rtl.createCallback(this,"RFieldKeyDown"),this.FREdit.SetMaxLength(3),this.FREdit.SetT("255"),this.FGEdit=pas["WEBLib.TMSFNCEdit"].TTMSFNCEdit.$create("Create$1",[this]),this.FGEdit.SetParent(this),this.FGEdit.SetWidth(35),this.FGEdit.SetLeft(this.GetWidth()-this.FGEdit.GetWidth()-15),this.FGEdit.SetTop(45),this.FGEdit.SetEditType$1(1),this.FGEdit.FOnKeyDown=rtl.createCallback(this,"GFieldKeyDown"),this.FGEdit.SetMaxLength(3),this.FGEdit.SetT("255"),this.FBEdit=pas["WEBLib.TMSFNCEdit"].TTMSFNCEdit.$create("Create$1",[this]),this.FBEdit.SetParent(this),this.FBEdit.SetWidth(35),this.FBEdit.SetLeft(this.GetWidth()-this.FBEdit.GetWidth()-15),this.FBEdit.SetTop(75),this.FBEdit.SetEditType$1(1),this.FBEdit.FOnKeyDown=rtl.createCallback(this,"BFieldKeyDown"),this.FBEdit.SetMaxLength(3),this.FBEdit.SetT("255"),this.FHEXEdit=pas["WEBLib.TMSFNCEdit"].TTMSFNCEdit.$create("Create$1",[this]),this.FHEXEdit.SetParent(this),this.FHEXEdit.SetWidth(125),this.FHEXEdit.SetLeft(210),this.FHEXEdit.SetTop(105),this.FHEXEdit.SetEditType$1(9),this.FHEXEdit.FOnKeyDown=rtl.createCallback(this,"HEXFieldKeyDown"),this.FHEXEdit.SetMaxLength(6),this.FHEXEdit.SetT("FFFFFF"),this.FRTrackBar=t.TTMSFNCRGBTrackBar.$create("Create$1",[this]),this.FRTrackBar.SetParent(this),this.FRTrackBar.SetLeft(195),this.FRTrackBar.SetTop(this.FREdit.GetTop()-1),this.FRTrackBar.SetValue(255),this.FRTrackBar.FOnChange=rtl.createCallback(this,"RTrackBarChanged"),this.FGTrackBar=t.TTMSFNCRGBTrackBar.$create("Create$1",[this]),this.FGTrackBar.SetParent(this),this.FGTrackBar.SetLeft(195),this.FGTrackBar.SetTop(this.FGEdit.GetTop()-1),this.FGTrackBar.SetValue(255),this.FGTrackBar.FOnChange=rtl.createCallback(this,"GTrackBarChanged"),this.FBTrackBar=t.TTMSFNCRGBTrackBar.$create("Create$1",[this]),this.FBTrackBar.SetParent(this),this.FBTrackBar.SetLeft(195),this.FBTrackBar.SetTop(this.FBEdit.GetTop()-1),this.FBTrackBar.SetValue(255),this.FBTrackBar.FOnChange=rtl.createCallback(this,"BTrackBarChanged"),this},this.Destroy=function(){rtl.free(this,"FImage"),rtl.free(this,"FREdit"),rtl.free(this,"FGEdit"),rtl.free(this,"FBEdit"),rtl.free(this,"FRTrackBar"),rtl.free(this,"FGTrackBar"),rtl.free(this,"FBTrackBar"),rtl.free(this,"FFont$1"),pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Destroy.call(this)},this.ColorToRValue=function(t){return 255&t},this.ColorToGValue=function(t){return Math.floor((65280&t)/256)},this.ColorToBValue=function(t){return Math.floor((16711680&t)/65536)},this.RGBToGraphicsColor=function(t,e,i){return pas["WEBLib.Graphics"].RGB(t,e,i)},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),rtl.createClass(this,"TTMSFNCColorWheel",this.TTMSFNCCustomColorWheel,(function(){rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Font",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFont,"FFont$1","SetFnt"),e.addProperty("Fill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FFill","SetFill"),e.addProperty("Stroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FStroke","SetStroke"),e.addProperty("SelectedColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FSelectedColor","SetSelectedColor",{Default:16777215}),e.addProperty("RValue",2,rtl.longint,"FRValue","SetRValue",{Default:255}),e.addProperty("BValue",2,rtl.longint,"FBValue","SetBValue",{Default:255}),e.addProperty("GValue",2,rtl.longint,"FGValue","SetGValue",{Default:255}),e.addProperty("HEXValue",15,rtl.string,"GetHEXValue","SetHEXValue",{stored:"IsHEXValueStored"}),e.addProperty("OnBeforeDrawSelectedColorPanel",0,t.$rtti.TTMSFNCCustomColorWheelBeforeDrawSelectedColorPanelEvent,"FOnBeforeDrawSelectedColorPanel","FOnBeforeDrawSelectedColorPanel"),e.addProperty("OnAfterDrawSelectedColorPanel",0,t.$rtti.TTMSFNCCustomColorWheelAfterDrawSelectedColorPanelEvent,"FOnAfterDrawSelectedColorPanel","FOnAfterDrawSelectedColorPanel"),e.addProperty("OnSelectedColorChanged",0,t.$rtti.TTMSFNCCustomColorWheelSelectedColorChangedEvent,"FOnSelectedColorChanged","FOnSelectedColorChanged"),e.addProperty("OnRValueChanged",0,t.$rtti.TTMSFNCCustomColorWheelRValueChangedEvent,"FOnRValueChanged","FOnRValueChanged"),e.addProperty("OnGValueChanged",0,t.$rtti.TTMSFNCCustomColorWheelGValueChangedEvent,"FOnGValueChanged","FOnGValueChanged"),e.addProperty("OnBValueChanged",0,t.$rtti.TTMSFNCCustomColorWheelBValueChangedEvent,"FOnBValueChanged","FOnBValueChanged"),e.attr=[pas.Classes.ComponentPlatformsAttribute,"Create$1",[0]]}))}),["Math","SysUtils","WEBLib.TMSFNCColorWheelResources"]),rtl.module("WEBLib.TMSFNCColorSelector",["System","Classes","WEBLib.TMSFNCGraphics","WEBLib.TMSFNCCustomControl","WEBLib.TMSFNCCustomSelector","WEBLib.Controls","WEBLib.TMSFNCTypes","WEBLib.ExtCtrls","WEBLib.TMSFNCGraphicsTypes","WEBLib.StdCtrls","Types"],(function(){"use strict";var t=this,e=t.$impl;this.MAJ_VER=1,this.MIN_VER=0,this.REL_VER=0,this.BLD_VER=1,this.TMSFNCColorSelectorColorSetCount=15,this.TMSFNCColorSelectorColorSet=[0,128,32768,32896,8388608,8388736,8421376,12632256,8421504,255,65280,65535,16711680,16711935,16776960,16777215],this.TMSFNCColorSelectorExtendedColorSetCount=39,this.TMSFNCColorSelectorExtendedColorSet=[0,10040064,3355392,13056,13158,8388608,3355445,3355443,128,26367,32896,32768,8421376,16711680,10053222,8421504,255,39423,52377,6723891,13421619,16737843,8388736,10066329,16711935,52479,65535,65280,16776960,16763904,6697881,12632256,13408767,10079487,10092543,13434828,16777164,16764057,16751052,16777215],rtl.createClass(this,"TTMSFNCColorSelectorItem",pas["WEBLib.TMSFNCCustomSelector"].TTMSFNCCustomSelectorItem,(function(){this.$init=function(){pas["WEBLib.TMSFNCCustomSelector"].TTMSFNCCustomSelectorItem.$init.call(this),this.FOwner$1=null,this.FColor=0},this.$final=function(){this.FOwner$1=void 0,pas["WEBLib.TMSFNCCustomSelector"].TTMSFNCCustomSelectorItem.$final.call(this)},this.SetColor=function(t){this.FColor!==t&&(this.FColor=t,null!=this.FOwner$1&&this.FOwner$1.InvalidateItems())},this.Create$1=function(e){return pas["WEBLib.TMSFNCCustomSelector"].TTMSFNCCustomSelectorItem.Create$1.apply(this,arguments),null!=this.FCollection&&(this.FOwner$1=rtl.as(this.FCollection,t.TTMSFNCColorSelectorItems).FOwner$2),this},this.Assign=function(e){pas["WEBLib.TMSFNCCustomSelector"].TTMSFNCCustomSelectorItem.Assign.apply(this,arguments),t.TTMSFNCColorSelectorItem.isPrototypeOf(e)&&(this.FColor=rtl.as(e,t.TTMSFNCColorSelectorItem).FColor)};var e=this.$rtti;e.addMethod("Create$1",2,[["ACollection",pas.Classes.$rtti.TCollection]]),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor",{Default:-1})})),rtl.createClass(this,"TTMSFNCColorSelectorItems",pas["WEBLib.TMSFNCCustomSelector"].TTMSFNCCustomSelectorItems,(function(){this.$init=function(){pas["WEBLib.TMSFNCCustomSelector"].TTMSFNCCustomSelectorItems.$init.call(this),this.FOwner$2=null},this.$final=function(){this.FOwner$2=void 0,pas["WEBLib.TMSFNCCustomSelector"].TTMSFNCCustomSelectorItems.$final.call(this)},this.GetItem$2=function(t){return this.GetItem$1(t)},this.CreateItemClass=function(){return t.TTMSFNCColorSelectorItem},this.Create$3=function(e){return pas["WEBLib.TMSFNCCustomSelector"].TTMSFNCCustomSelectorItems.Create$3.apply(this,arguments),this.FOwner$2=rtl.as(e,t.TTMSFNCCustomColorSelector),this},this.Add$2=function(){return pas["WEBLib.TMSFNCCustomSelector"].TTMSFNCCustomSelectorItems.Add$1.call(this)},this.Insert$2=function(t){return pas["WEBLib.TMSFNCCustomSelector"].TTMSFNCCustomSelectorItems.Insert$1.call(this,t)},this.$rtti.addMethod("Create$3",2,[["AOwner",pas["WEBLib.TMSFNCCustomSelector"].$rtti.TTMSFNCCustomSelector]])})),this.$rtti.$MethodVar("TTMSFNCCustomSelectorColorSelected",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AColor",pas["WEBLib.Graphics"].$rtti.TColor]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCCustomSelectorColorDeselected",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AColor",pas["WEBLib.Graphics"].$rtti.TColor]]),methodkind:0}),this.TTMSFNCCustomColorSelectorMode={0:"csmSimple",csmSimple:0,1:"csmExtended",csmExtended:1,2:"csmExtendedMore",csmExtendedMore:2},this.$rtti.$Enum("TTMSFNCCustomColorSelectorMode",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TTMSFNCCustomColorSelectorMode}),rtl.createClass(this,"TTMSFNCCustomColorSelector",pas["WEBLib.TMSFNCCustomSelector"].TTMSFNCDefaultSelector,(function(){this.$init=function(){pas["WEBLib.TMSFNCCustomSelector"].TTMSFNCDefaultSelector.$init.call(this),this.w=0,this.h=0,this.FColorWheel=null,this.FPanel=null,this.FBackButton=null,this.FOnColorSelected=null,this.FOnColorDeselected=null,this.FMode=0},this.$final=function(){this.FColorWheel=void 0,this.FPanel=void 0,this.FBackButton=void 0,this.FOnColorSelected=void 0,this.FOnColorDeselected=void 0,pas["WEBLib.TMSFNCCustomSelector"].TTMSFNCDefaultSelector.$final.call(this)},this.SetSelectedColor=function(t){2===this.FMode&&this.GetItems().GetCount()>0&&this.GetItems().GetItem$2(this.GetItems().GetCount()-1).SetColor(t),this.SetSelectedItemIndex(this.FindItemByColor(t))},this.GetSelectedColor=function(){return this.FindColorByItem(this.FSelectedItemIndex)},this.GetItems=function(){return this.FItems},this.SetItems$1=function(t){this.GetItems().Assign(t)},this.SetMode=function(t){if(1,this.FMode!==t){this.FMode=t;var e=this.FMode;0===e?(this.SetWidth(Math.round(135)),this.SetHeight(Math.round(135))):1===e?(this.SetWidth(Math.round(200)),this.SetHeight(Math.round(135))):2===e&&(this.SetWidth(Math.round(200)),this.SetHeight(Math.round(175))),this.AddColors()}},this.GetVersion=function(){return this.$class.GetVersionNumber(1,0,1,0)},this.BackButtonClicked=function(t){null!=this.FPanel&&(this.FPanel.SetVisible(!1),this.FPanel.SetParent(null),this.SetWidth(Math.round(this.w)),this.SetHeight(Math.round(this.h)),this.WrapperSizeChanged(this.w,this.h),this.Invalidate())},this.ColorWheelChange=function(t,i){this.FBlockChange||(this.FBlockChange=!0,this.SetSelectedItemIndex(-1),this.GetItems().GetItem$2(this.GetItems().GetCount()-1).SetColor(e.AsColorWheel(this.FColorWheel).FSelectedColor),this.SetSelectedColor(e.AsColorWheel(this.FColorWheel).FSelectedColor),this.DoItemSelected(this.FSelectedItemIndex),this.Invalidate(),this.FBlockChange=!1)},this.DoItemClick=function(t){var i=0,s=0,o=0,n=0,a=0,r=0;if(this.FClosedRemotely)return this.FClosedRemotely=!1,void pas["WEBLib.TMSFNCCustomSelector"].TTMSFNCCustomSelector.DoItemClick.apply(this,arguments);2===this.FMode&&null!=this.FPanel&&t===this.GetItems().GetCount()-2&&(this.w=this.GetWidth(),this.h=this.GetHeight(),i=0,s=0,o=0,n=0,this.FColorWheel.GetControlMargins({get:function(){return i},set:function(t){i=t}},{get:function(){return s},set:function(t){s=t}},{get:function(){return o},set:function(t){o=t}},{get:function(){return n},set:function(t){n=t}}),r=this.ScalePaintValue(205)+this.FBackButton.GetHeight()+s+n,this.SetHeight(Math.round(r)),a=this.ScalePaintValue(350),this.SetWidth(Math.round(a)),this.WrapperSizeChanged(a,r),this.FBlockChange=!0,e.AsColorWheel(this.FColorWheel).SetSelectedColor(this.FindColorByItem(t+1)),this.FBlockChange=!1,this.FPanel.SetVisible(!0),this.FPanel.SetParent(this)),pas["WEBLib.TMSFNCCustomSelector"].TTMSFNCCustomSelector.DoItemClick.apply(this,arguments)},this.WrapperSizeChanged=function(t,e){},this.DoItemSelected=function(t){var i=0;pas["WEBLib.TMSFNCCustomSelector"].TTMSFNCCustomSelector.DoItemSelected.apply(this,arguments),i=this.FindColorByItem(t),null==this.FColorWheel||this.FBlockChange||(this.FBlockChange=!0,e.AsColorWheel(this.FColorWheel).SetSelectedColor(i),2===this.FMode&&this.GetItems().GetCount()>0&&this.GetItems().GetItem$2(this.GetItems().GetCount()-1).SetColor(i),this.FBlockChange=!1),null!=this.FOnColorSelected&&this.FOnColorSelected(this,i)},this.DoItemDeselected=function(t){pas["WEBLib.TMSFNCCustomSelector"].TTMSFNCCustomSelector.DoItemDeselected.apply(this,arguments),null!=this.FOnColorDeselected&&this.FOnColorDeselected(this,this.FindColorByItem(t))},this.CreateItemsCollection=function(){return t.TTMSFNCColorSelectorItems.$create("Create$3",[this])},this.DoItemBeforeDrawContent=function(t,e,i,s){2===this.FMode&&i>=0&&i<=this.GetItems().GetCount()-1&&s.set(!this.GetItems().GetItem$2(i).FDataBoolean),pas["WEBLib.TMSFNCCustomSelector"].TTMSFNCCustomSelector.DoItemBeforeDrawContent.apply(this,arguments)},this.DrawItemContent=function(e,i){var s=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),o=null,n=!1;if(null!=(o=i.Item)&&t.TTMSFNCColorSelectorItem.isPrototypeOf(o)&&(s.$assign(i.Rect),n=!0,this.DoItemBeforeDrawContent(e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i.Rect),o.GetIndex(),{get:function(){return n},set:function(t){n=t}}),n)){var a=this.FMode;0===a?pas["WEBLib.TMSFNCTypes"].InflateRectEx(s,-5,-5):1!==a&&2!==a||pas["WEBLib.TMSFNCTypes"].InflateRectEx(s,-3,-3),e.FFill.SetKind(1),e.FFill.SetColor(rtl.as(o,t.TTMSFNCColorSelectorItem).FColor),e.FStroke.SetColor(e.FFill.FColor),e.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),2),this.DoItemAfterDrawContent(e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i.Rect),o.GetIndex())}},this.AddColors=function(){var e=0,i=null;this.BeginUpdate(),this.GetItems().Clear();var s=this.FMode;if(0===s)for(this.SetColumns(4),this.SetRows(4),e=0;e<=15;e++)this.GetItems().Add$2().SetColor(t.TMSFNCColorSelectorColorSet[e]);else if(1===s)for(this.SetColumns(8),this.SetRows(5),e=0;e<=39;e++)this.GetItems().Add$2().SetColor(t.TMSFNCColorSelectorExtendedColorSet[e]);else if(2===s){for(this.SetColumns(8),this.SetRows(7),e=0;e<=39;e++)this.GetItems().Add$2().SetColor(t.TMSFNCColorSelectorExtendedColorSet[e]);(i=this.GetItems().Insert$2(0)).SetColor(0),i.SetColumnSpan(8),i.SetText("Automatic"),i.FDataBoolean=!0,(i=this.GetItems().Add$2()).SetColumnSpan(8),i.SetText("More Colors..."),i.SetCanSelect(!1),i.FDataBoolean=!0,this.GetItems().Add$2().SetVisible(!1)}this.EndUpdate()},this.ResetToDefaultStyle=function(){pas["WEBLib.TMSFNCCustomSelector"].TTMSFNCCustomSelector.ResetToDefaultStyle.call(this),this.BeginUpdate(),this.FAppearance.FFont.SetColor(4539717),this.FAppearance.FFill.SetColor(16380654),this.FAppearance.FFillSelected.SetColor(15776936),this.FAppearance.FStrokeSelected.SetColor(15702829),this.FAppearance.FFillDown.SetColor(15106394),this.FAppearance.FFillSelected.SetKind(1),this.FAppearance.FFill.SetKind(1),this.FAppearance.FFillDown.SetKind(1),this.FAppearance.FFillHover.SetKind(1),this.FAppearance.FStroke.SetKind(1),this.FAppearance.FStrokeSelected.SetKind(1),this.FAppearance.FStrokeHover.SetKind(1),this.FAppearance.FStroke.SetColor(11119017),this.FAppearance.FStrokeHover.SetColor(this.FAppearance.FFillDown.FColor),this.FAppearance.FStrokeDown.Assign(this.FAppearance.FStroke),this.EndUpdate()},this.Create$1=function(t){return pas["WEBLib.TMSFNCCustomSelector"].TTMSFNCCustomSelector.Create$1.apply(this,arguments),this.SetWidth(135),this.SetHeight(135),this.FMode=0,this.FPanel=pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$create("Create$1",[this]),this.FPanel.SetVisible(!1),this.FPanel.FStored=!1,this.FPanel.SetControlAlignment(5),this.FBackButton=pas["WEBLib.StdCtrls"].TButton.$create("Create$1",[this.FPanel]),this.FBackButton.SetAlignWithMargins(!0),this.FBackButton.FMargins.SetTop(3),this.FBackButton.FMargins.SetLeft(3),this.FBackButton.FMargins.SetBottom(3),this.FBackButton.FMargins.SetRight(3),this.FBackButton.SetCaption("Back"),this.FBackButton.SetAlign(1),this.FBackButton.SetParent(this.FPanel),this.FBackButton.FOnClick=rtl.createCallback(this,"BackButtonClicked"),this.FColorWheel=pas["WEBLib.TMSFNCColorWheel"].TTMSFNCColorWheel.$create("Create$1",[this.FPanel]),e.AsColorWheel(this.FColorWheel).SetControlAlignment(5),e.AsColorWheel(this.FColorWheel).SetControlMargins(3,0,3,3),e.AsColorWheel(this.FColorWheel).SetParent(this.FPanel),e.AsColorWheel(this.FColorWheel).FOnSelectedColorChanged=rtl.createCallback(this,"ColorWheelChange"),this.IsDesignTime()&&this.InitSample(),this},this.FindItemByColor=function(e){var i=0,s=0,o=null;i=-1;for(var n=0,a=this.GetItems().GetCount()-1;n<=a;n++)if(s=n,(o=rtl.as(this.GetItems().GetItem$2(s),t.TTMSFNCColorSelectorItem)).FColor===e&&o.FCanSelect){i=o.GetIndex();break}return i},this.FindColorByItem=function(e){var i=0,s=0,o=null;i=-1;for(var n=0,a=this.GetItems().GetCount()-1;n<=a;n++)if(s=n,(o=rtl.as(this.GetItems().GetItem$2(s),t.TTMSFNCColorSelectorItem)).GetIndex()===e){i=o.FColor;break}return i},this.InitializeDefault=function(){pas["WEBLib.TMSFNCCustomSelector"].TTMSFNCCustomSelector.InitializeDefault.call(this),this.AddColors()},this.InitSample=function(){this.ResetToDefaultStyle()},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),rtl.createClass(this,"TTMSFNCColorSelector",this.TTMSFNCCustomColorSelector,(function(){this.RegisterRuntimeClasses=function(){pas["WEBLib.TMSFNCCustomSelector"].TTMSFNCCustomSelector.RegisterRuntimeClasses.call(this),pas.Classes.RegisterClasses([t.TTMSFNCColorSelector,t.TTMSFNCColorSelectorItem])},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Appearance",2,pas["WEBLib.TMSFNCCustomSelector"].$rtti.TTMSFNCCustomSelectorAppearance,"FAppearance","SetAppearance"),e.addProperty("Rows",2,rtl.longint,"FRows","SetRows",{Default:4}),e.addProperty("Columns",2,rtl.longint,"FColumns","SetColumns",{Default:4}),e.addProperty("Items",3,t.$rtti.TTMSFNCColorSelectorItems,"GetItems","SetItems$1"),e.addProperty("Mode",2,t.$rtti.TTMSFNCCustomColorSelectorMode,"FMode","SetMode",{Default:t.TTMSFNCCustomColorSelectorMode.csmSimple}),e.addProperty("OnColorSelected",0,t.$rtti.TTMSFNCCustomSelectorColorSelected,"FOnColorSelected","FOnColorSelected"),e.addProperty("OnColorDeselected",0,t.$rtti.TTMSFNCCustomSelectorColorDeselected,"FOnColorDeselected","FOnColorDeselected"),e.addProperty("SelectedColor",3,pas["WEBLib.Graphics"].$rtti.TColor,"GetSelectedColor","SetSelectedColor",{Default:-1}),e.addProperty("OnItemSelected",0,pas["WEBLib.TMSFNCCustomSelector"].$rtti.TTMSFNCCustomSelectorItemSelected,"FOnItemSelected","FOnItemSelected"),e.addProperty("OnItemDeselected",0,pas["WEBLib.TMSFNCCustomSelector"].$rtti.TTMSFNCCustomSelectorItemDeselected,"FOnItemDeselected","FOnItemDeselected"),e.addProperty("OnItemClick",0,pas["WEBLib.TMSFNCCustomSelector"].$rtti.TTMSFNCCustomSelectorItemClick,"FOnItemClick","FOnItemClick"),e.addProperty("SelectedItemIndex",2,rtl.longint,"FSelectedItemIndex","SetSelectedItemIndex",{Default:-1}),e.addProperty("OnItemBeforeDrawBackground",0,pas["WEBLib.TMSFNCCustomSelector"].$rtti.TTMSFNCCustomSelectorItemBeforeDrawBackground,"FOnItemBeforeDrawBackground","FOnItemBeforeDrawBackground"),e.addProperty("OnItemAfterDrawBackground",0,pas["WEBLib.TMSFNCCustomSelector"].$rtti.TTMSFNCCustomSelectorItemAfterDrawBackground,"FOnItemAfterDrawBackground","FOnItemAfterDrawBackground"),e.addProperty("OnItemBeforeDrawContent",0,pas["WEBLib.TMSFNCCustomSelector"].$rtti.TTMSFNCCustomSelectorItemBeforeDrawContent,"FOnItemBeforeDrawContent","FOnItemBeforeDrawContent"),e.addProperty("OnItemAfterDrawContent",0,pas["WEBLib.TMSFNCCustomSelector"].$rtti.TTMSFNCCustomSelectorItemAfterDrawContent,"FOnItemAfterDrawContent","FOnItemAfterDrawContent"),e.addProperty("OnBeforeDraw",0,pas["WEBLib.TMSFNCCustomSelector"].$rtti.TTMSFNCCustomSelectorBeforeDraw,"FOnBeforeDraw$1","FOnBeforeDraw$1"),e.addProperty("OnAfterDraw",0,pas["WEBLib.TMSFNCCustomSelector"].$rtti.TTMSFNCCustomSelectorAfterDraw,"FOnAfterDraw$1","FOnAfterDraw$1"),e.addProperty("OnItemBeforeDrawText",0,pas["WEBLib.TMSFNCCustomSelector"].$rtti.TTMSFNCCustomSelectorItemBeforeDrawText,"FOnItemBeforeDrawText","FOnItemBeforeDrawText"),e.addProperty("OnItemAfterDrawText",0,pas["WEBLib.TMSFNCCustomSelector"].$rtti.TTMSFNCCustomSelectorItemAfterDrawText,"FOnItemAfterDrawText","FOnItemAfterDrawText"),e.attr=[pas.Classes.ComponentPlatformsAttribute,"Create$1",[0]]})),t.$implcode=function(){e.AsColorWheel=function(t){return rtl.as(t,pas["WEBLib.TMSFNCColorWheel"].TTMSFNCColorWheel)}}}),["SysUtils","WEBLib.TMSFNCUtils","WEBLib.TMSFNCColorWheel"]),rtl.module("WEBLib.TMSFNCToolBar",["System","Classes","WEBLib.TMSFNCGraphics","WEBLib.TMSFNCPersistence","WEBLib.TMSFNCStyles","WEBLib.TMSFNCCustomControl","WEBLib.Controls","Types","WEBLib.TMSFNCPopup","WEBLib.TMSFNCTypes","WEBLib.TMSFNCBitmapContainer","WEBLib.StdCtrls","WEBLib.TMSFNCColorSelector","WEBLib.TMSFNCToolBarRes","WEBLib.TMSFNCGraphicsTypes","contnrs","WEBLib.Menus","WEBLib.ExtCtrls"],(function(){"use strict";var t=this;this.MAJ_VER=1,this.MIN_VER=0,this.REL_VER=2,this.BLD_VER=2,this.TMSFNCTOOLBAREXPANDSVG="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTIiIHdpZHRoPSIxMCI+DQogIDxwYXRoIGQ9Ik0gMiA0IEwgNSA3IEwgOCA0IFoiIHN0eWxlPSJzdHJva2U6YmxhY2s7c3Ryb2tlLXdpZHRoOjEiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgLz4NCjwvc3ZnPg==",rtl.createClass(this,"TTMSFNCToolBarCustomButtonAppearance",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FOwner=null,this.FHoverStroke=null,this.FDownFill=null,this.FNormalFill=null,this.FDownStroke=null,this.FDisabledFill=null,this.FNormalStroke=null,this.FDisabledStroke=null,this.FHoverFill=null,this.FCorners={},this.FRounding=0,this.FTransparent=!1,this.FShowInnerStroke=!1,this.FInnerStroke=null,this.FFlatStyle=!1,this.FOnChange=null},this.$final=function(){this.FOwner=void 0,this.FHoverStroke=void 0,this.FDownFill=void 0,this.FNormalFill=void 0,this.FDownStroke=void 0,this.FDisabledFill=void 0,this.FNormalStroke=void 0,this.FDisabledStroke=void 0,this.FHoverFill=void 0,this.FCorners=void 0,this.FInnerStroke=void 0,this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetDisabledFill=function(t){this.FDisabledFill.Assign(t)},this.SetDisabledStroke=function(t){this.FDisabledStroke.Assign(t)},this.SetDownFill=function(t){this.FDownFill.Assign(t)},this.SetDownStroke=function(t){this.FDownStroke.Assign(t)},this.SetHoverFill=function(t){this.FHoverFill.Assign(t)},this.SetHoverStroke=function(t){this.FHoverStroke.Assign(t)},this.SetNormalFill=function(t){this.FNormalFill.Assign(t)},this.SetNormalStroke=function(t){this.FNormalStroke.Assign(t)},this.SetCorners=function(t){rtl.neSet(this.FCorners,t)&&(this.FCorners=rtl.refSet(t),this.Changed())},this.SetRounding=function(t){this.FRounding!==t&&(this.FRounding=t,this.Changed())},this.SetInnerStroke=function(t){this.FInnerStroke.Assign(t)},this.SetShowInnerStroke=function(t){this.FShowInnerStroke!==t&&(this.FShowInnerStroke=t,this.Changed())},this.SetTransparent=function(t){this.FTransparent!==t&&(this.FTransparent=t,this.Changed())},this.IsRoundingStored=function(){return 3!==this.FRounding},this.SetFlatStyle=function(e){var i=null,s=0;if(this.FFlatStyle!==e){if(this.FFlatStyle=e,null!=this.FOwner)for(var o=0,n=this.FOwner.GetControlsCount()-1;o<=n;o++)s=o,i=this.FOwner.GetControls(s),t.TTMSFNCDefaultToolBarButton.isPrototypeOf(i)&&rtl.as(i,t.TTMSFNCDefaultToolBarButton).FAppearance.SetFlatStyle(this.FFlatStyle),t.TTMSFNCCustomToolBar.isPrototypeOf(i)&&rtl.as(i,t.TTMSFNCCustomToolBar).FAppearance.SetFlatStyle(this.FFlatStyle);this.Changed()}},this.FillChanged=function(t){this.Changed()},this.StrokeChanged=function(t){this.Changed()},this.Changed=function(){null!=this.FOwner?this.FOwner.AppearanceChanged():null!=this.FOnChange&&this.FOnChange(this)},this.Assign=function(e){t.TTMSFNCToolBarCustomButtonAppearance.isPrototypeOf(e)?(this.FNormalFill.Assign(rtl.as(e,t.TTMSFNCToolBarCustomButtonAppearance).FNormalFill),this.FDisabledFill.Assign(rtl.as(e,t.TTMSFNCToolBarCustomButtonAppearance).FDisabledFill),this.FHoverFill.Assign(rtl.as(e,t.TTMSFNCToolBarCustomButtonAppearance).FHoverFill),this.FDownFill.Assign(rtl.as(e,t.TTMSFNCToolBarCustomButtonAppearance).FDownFill),this.FNormalStroke.Assign(rtl.as(e,t.TTMSFNCToolBarCustomButtonAppearance).FNormalStroke),this.FDisabledStroke.Assign(rtl.as(e,t.TTMSFNCToolBarCustomButtonAppearance).FDisabledStroke),this.FHoverStroke.Assign(rtl.as(e,t.TTMSFNCToolBarCustomButtonAppearance).FHoverStroke),this.FDownStroke.Assign(rtl.as(e,t.TTMSFNCToolBarCustomButtonAppearance).FDownStroke),this.FRounding=rtl.as(e,t.TTMSFNCToolBarCustomButtonAppearance).FRounding,this.FCorners=rtl.refSet(rtl.as(e,t.TTMSFNCToolBarCustomButtonAppearance).FCorners),this.FShowInnerStroke=rtl.as(e,t.TTMSFNCToolBarCustomButtonAppearance).FShowInnerStroke,this.FTransparent=rtl.as(e,t.TTMSFNCToolBarCustomButtonAppearance).FTransparent,this.FFlatStyle=rtl.as(e,t.TTMSFNCToolBarCustomButtonAppearance).FFlatStyle):pas.Classes.TPersistent.Assign.apply(this,arguments)},this.Create$1=function(t){return this.FOwner=t,this.FCorners=rtl.createSet(0,1,2,3),this.FRounding=3,this.FTransparent=!1,this.FShowInnerStroke=!0,this.FFlatStyle=!1,this.FNormalFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[2,pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(249,251,252),pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(230,235,235),pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(220,220,236),pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(220,225,236)]),this.FHoverFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[2,pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(229,231,232),pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(210,215,215),pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(200,200,216),pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(200,205,216)]),this.FDownFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[2,pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(219,221,222),pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(200,205,205),pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(190,190,206),pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(190,195,206)]),this.FDisabledFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,13882323,8421504,-1,-1]),this.FNormalStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,8421504]),this.FInnerStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,16777215]),this.FHoverStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,8421504]),this.FDownStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,8421504]),this.FDisabledStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,8421504]),this.FNormalFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FHoverFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FDownFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FDisabledFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FInnerStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FNormalStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FHoverStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FDownStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FDisabledStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this},this.Destroy=function(){rtl.free(this,"FNormalFill"),rtl.free(this,"FHoverFill"),rtl.free(this,"FDownFill"),rtl.free(this,"FDisabledFill"),rtl.free(this,"FInnerStroke"),rtl.free(this,"FNormalStroke"),rtl.free(this,"FHoverStroke"),rtl.free(this,"FDownStroke"),rtl.free(this,"FDisabledStroke"),pas.System.TObject.Destroy.call(this)},this.$rtti.addMethod("Create$1",2,[["AOwner",t.$rtti.TTMSFNCDefaultToolBarButton]])})),rtl.createClass(this,"TTMSFNCToolBarButtonAppearance",this.TTMSFNCToolBarCustomButtonAppearance,(function(){var t=this.$rtti;t.addProperty("Transparent",2,rtl.boolean,"FTransparent","SetTransparent",{Default:!1}),t.addProperty("ShowInnerStroke",2,rtl.boolean,"FShowInnerStroke","SetShowInnerStroke",{Default:!0}),t.addProperty("Rounding",14,rtl.double,"FRounding","SetRounding",{stored:"IsRoundingStored"}),t.addProperty("Corners",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsCorners,"FCorners","SetCorners",{Default:rtl.createSet(0,1,2,3)}),t.addProperty("InnerStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FInnerStroke","SetInnerStroke"),t.addProperty("NormalFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FNormalFill","SetNormalFill"),t.addProperty("NormalStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FNormalStroke","SetNormalStroke"),t.addProperty("HoverFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FHoverFill","SetHoverFill"),t.addProperty("HoverStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FHoverStroke","SetHoverStroke"),t.addProperty("DownFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FDownFill","SetDownFill"),t.addProperty("DownStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FDownStroke","SetDownStroke"),t.addProperty("DisabledFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FDisabledFill","SetDisabledFill"),t.addProperty("DisabledStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FDisabledStroke","SetDisabledStroke"),t.addProperty("FlatStyle",2,rtl.boolean,"FFlatStyle","SetFlatStyle",{Default:!1})})),rtl.createClass(this,"TTMSFNCToolBarCompactAppearance",this.TTMSFNCToolBarCustomButtonAppearance,(function(){var t=this.$rtti;t.addProperty("NormalFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FNormalFill","SetNormalFill"),t.addProperty("NormalStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FNormalStroke","SetNormalStroke"),t.addProperty("HoverFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FHoverFill","SetHoverFill"),t.addProperty("HoverStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FHoverStroke","SetHoverStroke"),t.addProperty("DownFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FDownFill","SetDownFill"),t.addProperty("DownStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FDownStroke","SetDownStroke"),t.addProperty("DisabledFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FDisabledFill","SetDisabledFill"),t.addProperty("DisabledStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FDisabledStroke","SetDisabledStroke"),t.addProperty("FlatStyle",2,rtl.boolean,"FFlatStyle","SetFlatStyle",{Default:!1})})),rtl.createClass(this,"TTMSFNCToolBarQuickMenuButtonAppearance",this.TTMSFNCToolBarCustomButtonAppearance,(function(){var t=this.$rtti;t.addProperty("NormalFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FNormalFill","SetNormalFill"),t.addProperty("NormalStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FNormalStroke","SetNormalStroke"),t.addProperty("HoverFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FHoverFill","SetHoverFill"),t.addProperty("HoverStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FHoverStroke","SetHoverStroke"),t.addProperty("DownFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FDownFill","SetDownFill"),t.addProperty("DownStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FDownStroke","SetDownStroke"),t.addProperty("DisabledFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FDisabledFill","SetDisabledFill"),t.addProperty("DisabledStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FDisabledStroke","SetDisabledStroke"),t.addProperty("FlatStyle",2,rtl.boolean,"FFlatStyle","SetFlatStyle",{Default:!1})})),this.TTMSFNCToolBarElementState={0:"esNormal",esNormal:0,1:"esLarge",esLarge:1},this.$rtti.$Enum("TTMSFNCToolBarElementState",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TTMSFNCToolBarElementState}),rtl.createClass(this,"TTMSFNCCustomToolBarElement",pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl,(function(){this.$init=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$init.call(this),this.FBlockUpdate=!1,this.FOnUpdateToolBar=null,this.FOnUpdateToolBarControl=null,this.FCanCopy=!1,this.FState=0,this.FLastElement=!1,this.FControlIndex=0},this.$final=function(){this.FOnUpdateToolBar=void 0,this.FOnUpdateToolBarControl=void 0,pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$final.call(this)},this.SetState=function(t){this.FState!==t&&(this.FState=t,this.UpdateState())},this.SetLastElement=function(t){this.FLastElement!==t&&(this.FLastElement=t,this.UpdateToolBar())},this.UpdateState=function(){},this.UpdateToolBar=function(){null==this.FOnUpdateToolBar||this.FBlockUpdate||this.FOnUpdateToolBar(this)},this.VisibleChanging=function(){pas["WEBLib.Controls"].TControl.VisibleChanging.call(this),this.UpdateToolBar()},this.UpdateControlAfterResize=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.UpdateControlAfterResize.call(this),this.UpdateToolBar()},this.Assign=function(e){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Assign.apply(this,arguments),t.TTMSFNCCustomToolBarElement.isPrototypeOf(e)&&(this.FState=rtl.as(e,t.TTMSFNCCustomToolBarElement).FState,this.FLastElement=rtl.as(e,t.TTMSFNCCustomToolBarElement).FLastElement,this.FCanCopy=rtl.as(e,t.TTMSFNCCustomToolBarElement).FCanCopy)},this.Create$1=function(t){return pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Create$1.apply(this,arguments),this.DisableBackground(),this.FLastElement=!1,this.FCanCopy=!0,this.FState=0,this},this.Destroy=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Destroy.call(this)},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),this.TTMSFNCToolBarButtonBitmapPosition={0:"bbpLeft",bbpLeft:0,1:"bbpTop",bbpTop:1},this.$rtti.$Enum("TTMSFNCToolBarButtonBitmapPosition",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TTMSFNCToolBarButtonBitmapPosition}),this.TTMSFNCToolBarButtonLayout={0:"bblNone",bblNone:0,1:"bblBitmap",bblBitmap:1,2:"bblLabel",bblLabel:2,3:"bblLarge",bblLarge:3},this.$rtti.$Enum("TTMSFNCToolBarButtonLayout",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TTMSFNCToolBarButtonLayout}),rtl.createClass(this,"TTMSFNCDefaultToolBarButton",this.TTMSFNCCustomToolBarElement,(function(){this.$init=function(){t.TTMSFNCCustomToolBarElement.$init.call(this),this.FOldHeight=0,this.FBitmapVisible=!1,this.FText="",this.FPopup=null,this.FPopupPlacement=0,this.FDropDownHeight=0,this.FDropDownWidth=0,this.FDown=!1,this.FHover=!1,this.FPrevHover=!1,this.FAppearance=null,this.FBitmapContainer=null,this.FBitmaps=null,this.FApplyName=!1,this.FDropDownControl=null,this.FFont$1=null,this.FOnBeforeDropDown=null,this.FCloseOnSelection=!1,this.FDownState=!1,this.FTextVisible=!1,this.FOnCloseDropDown=null,this.FOnDropDown=null,this.FVerticalTextAlign=0,this.FHorizontalTextAlign=0,this.FWordWrapping=!1,this.FTrimming=0,this.FBitmapSize=0,this.FStretchText=!1,this.FDisabledBitmaps=null,this.FHoverBitmaps=null,this.FShowFocus$1=!1,this.FDropDownAutoWidth=!1,this.FHoverFontColor=0,this.FDownFontColor=0,this.FDisabledFontColor=0,this.FStretchBitmapIfNoText=!1,this.FBitmapPosition=0,this.FMaximumLayout=0,this.FMinimumLayout=0,this.FLayout=0,this.FCompactLayout=0,this.FLargeLayoutBitmapSize=0,this.FLargeLayoutBitmaps=null,this.FLargeLayoutHoverBitmaps=null,this.FLargeLayoutDisabledBitmaps=null,this.FAutoBitmapSize=!1,this.FLargeLayoutAutoBitmapSize=!1},this.$final=function(){this.FPopup=void 0,this.FAppearance=void 0,this.FBitmapContainer=void 0,this.FBitmaps=void 0,this.FDropDownControl=void 0,this.FFont$1=void 0,this.FOnBeforeDropDown=void 0,this.FOnCloseDropDown=void 0,this.FOnDropDown=void 0,this.FDisabledBitmaps=void 0,this.FHoverBitmaps=void 0,this.FLargeLayoutBitmaps=void 0,this.FLargeLayoutHoverBitmaps=void 0,this.FLargeLayoutDisabledBitmaps=void 0,t.TTMSFNCCustomToolBarElement.$final.call(this)},this.SetAppearance=function(t){this.FAppearance.Assign(t)},this.SetBitmapContainer=function(t){this.FBitmapContainer=t,this.UpdateLayout(),this.Invalidate()},this.SetBitmaps=function(t){this.FBitmaps.Assign(t)},this.SetText=function(t){this.FText!==t&&(this.FText=t,this.FTextVisible=""!==t,this.UpdateLayout(),this.Invalidate())},this.SetDropDownHeight=function(t){this.FDropDownHeight=t,null==this.FPopup||this.FDropDownAutoWidth||this.FPopup.SetDropDownHeight(this.FDropDownHeight)},this.SetDropDownWidth=function(t){this.FDropDownWidth=t,null!=this.FPopup&&this.FPopup.SetDropDownWidth(this.FDropDownWidth)},this.SetBitmapVisible=function(t){this.FBitmapVisible=t,this.UpdateLayout(),this.Invalidate()},this.SetTextVisible=function(t){this.FTextVisible!==t&&(this.FTextVisible=t,this.UpdateLayout(),this.Invalidate())},this.SetFont$1=function(t){this.FFont$1.Assign(t)},this.SetDropDownControl=function(t){this.FDropDownControl=t,null!=this.FDropDownControl&&(4 in this.FComponentState?4 in this.FComponentState&&(this.SetDropDownHeight(this.FDropDownControl.GetHeight()),this.SetDropDownWidth(this.FDropDownControl.GetWidth())):null!=this.FPopup&&(this.FPopup.SetContentControl(this.FDropDownControl),this.FPopup.FFocusedControl=this.FDropDownControl))},this.IsDropDownHeightStored=function(){return 135!==this.FDropDownHeight},this.IsDropDownWidthStored=function(){return 135!==this.FDropDownWidth},this.SetHorizontalTextAlign=function(t){this.FHorizontalTextAlign!==t&&(this.FHorizontalTextAlign=t,this.Invalidate())},this.SetVerticalTextAlign=function(t){this.FVerticalTextAlign!==t&&(this.FVerticalTextAlign=t,this.Invalidate())},this.SetWordWrapping=function(t){this.FWordWrapping!==t&&(this.FWordWrapping=t,this.Invalidate())},this.SetTrimming=function(t){this.FTrimming!==t&&(this.FTrimming=t,this.Invalidate())},this.IsBitmapSizeStored=function(){return 24!==this.FBitmapSize},this.SetBitmapSize=function(t){this.FBitmapSize!==t&&(this.FBitmapSize=t,this.UpdateLayout(),this.Invalidate())},this.SetStretchText=function(t){this.FStretchText!==t&&(this.FStretchText=t,this.UpdateLayout(),this.Invalidate())},this.SetDisabledBitmaps=function(t){this.FDisabledBitmaps.Assign(t)},this.SetHoverBitmaps=function(t){this.FHoverBitmaps.Assign(t)},this.GetBitmapContainer=function(){return this.FBitmapContainer},this.SetShowFocus$1=function(t){this.FShowFocus$1!==t&&(this.FShowFocus$1=t,this.Invalidate())},this.SetDropDownAutoWidth=function(t){this.FDropDownAutoWidth!==t&&(this.FDropDownAutoWidth=t,null!=this.FPopup&&(this.FDropDownAutoWidth?this.FPopup.SetDropDownWidth(this.GetWidth()):this.FPopup.SetDropDownWidth(this.FDropDownWidth)))},this.SetStretchBitmapIfNoText=function(t){this.FStretchBitmapIfNoText!==t&&(this.FStretchBitmapIfNoText=t,this.UpdateLayout(),this.Invalidate())},this.SetBitmapPosition=function(t){this.FBitmapPosition!==t&&(this.FBitmapPosition=t,this.Invalidate())},this.SetMaximumLayout=function(t){this.FMaximumLayout!==t&&(this.FMaximumLayout=t,this.UpdateToolBar())},this.SetMinimumLayout=function(t){this.FMinimumLayout!==t&&(this.FMinimumLayout=t,this.UpdateToolBar())},this.SetLayout=function(t){this.FLayout!==t&&(this.FLayout=t,this.UpdateLayout())},this.SetCompactLayout=function(t){this.FCompactLayout!==t&&(this.FCompactLayout=t)},this.IsLargeLayoutBitmapSizeStored=function(){return 32!==this.FLargeLayoutBitmapSize},this.SetLargeLayoutBitmaps=function(t){this.FLargeLayoutBitmaps.Assign(t)},this.SetLargeLayoutBitmapSize=function(t){this.FLargeLayoutBitmapSize!==t&&(this.FLargeLayoutBitmapSize=t,this.UpdateLayout(),this.Invalidate())},this.SetLargeLayoutDisabledBitmaps=function(t){this.FLargeLayoutDisabledBitmaps.Assign(t)},this.SetLargeLayoutHoverBitmaps=function(t){this.FLargeLayoutHoverBitmaps.Assign(t)},this.SetAutoBitmapSize=function(t){this.FAutoBitmapSize!==t&&(this.FAutoBitmapSize=t,this.UpdateLayout(),this.Invalidate())},this.SetLargeLayoutAutoBitmapSize=function(t){this.FLargeLayoutAutoBitmapSize!==t&&(this.FLargeLayoutAutoBitmapSize=t,this.UpdateLayout(),this.Invalidate())},this.CanDrawDesignTime=function(){return!1,!1},this.GetText=function(){return this.FText},this.GetTextSize=function(){var t=pas["WEBLib.TMSFNCTypes"].TSizeF.$new(),e=null,i=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(t.cx=0,t.cy=0,this.FTextVisible&&""!==this.GetText()){e=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("CreateBitmapCanvas",[1,1,this.FNativeCanvas,!0]),this.FNativeCanvas||e.BeginScene(),e.FBitmapContainer=this.GetBitmapContainer(),e.FOptimizedHTMLDrawing=this.FOptimizedHTMLDrawing;try{e.FFont.Assign(this.FFont$1),i.$assign(this.GetLocalRect()),pas["WEBLib.TMSFNCTypes"].InflateRectEx(i,this.ScalePaintValue(-2),this.ScalePaintValue(-2)),t.$assign(e.CalculateTextSize(this.GetText(),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),this.FWordWrapping,!0))}finally{this.FNativeCanvas||e.EndScene(),e=rtl.freeLoc(e)}}return t},this.UpdateControlAfterResize=function(){t.TTMSFNCCustomToolBarElement.UpdateControlAfterResize.call(this),3===this.FLayout&&(this.FOldHeight=this.GetHeight())},this.ApplyStyle=function(){var t=0;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.ApplyStyle.call(this),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleBackgroundFillColor({get:function(){return t},set:function(e){t=e}})&&(this.FAppearance.FNormalFill.SetColor(t),this.FAppearance.FNormalFill.SetKind(1),this.FAppearance.FDisabledFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Blend(t,11119017,20)),this.FAppearance.FDisabledFill.SetKind(1),this.FAppearance.FInnerStroke.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Blend(this.FAppearance.FNormalFill.FColor,this.FAppearance.FNormalStroke.FColor,75)),this.FAppearance.FInnerStroke.SetKind(1)),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleTextFontColor({get:function(){return t},set:function(e){t=e}})&&this.FFont$1.SetColor(t),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleBackgroundStrokeColor({get:function(){return t},set:function(e){t=e}})&&(this.FAppearance.FNormalStroke.SetColor(t),this.FAppearance.FDownStroke.SetColor(t),this.FAppearance.FDisabledStroke.SetColor(t),this.FAppearance.FNormalStroke.SetColor(t),this.FAppearance.FDownStroke.SetColor(t),this.FAppearance.FDisabledStroke.SetColor(t),this.FAppearance.FHoverStroke.SetColor(t)),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleSelectionFillColor({get:function(){return t},set:function(e){t=e}})&&(this.FAppearance.FHoverFill.SetColor(t),this.FAppearance.FHoverFill.SetKind(1),this.FAppearance.FDownFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Blend(t,this.FFill.FColor,20)),this.FAppearance.FDownFill.SetKind(1))},this.ResetToDefaultStyle=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.ResetToDefaultStyle.call(this),this.FFont$1.SetColor(0),this.FAppearance.FNormalFill.SetColor(16777215),this.FAppearance.FHoverFill.SetColor(16777215),this.FAppearance.FDownFill.SetColor(16777215),this.FAppearance.FDisabledFill.SetColor(13882323),this.FAppearance.FNormalStroke.SetColor(8421504),this.FAppearance.FInnerStroke.SetColor(16777215),this.FAppearance.FHoverStroke.SetColor(8421504),this.FAppearance.FDownStroke.SetColor(8421504),this.FAppearance.FDisabledStroke.SetColor(8421504),this.FAppearance.FNormalFill.SetKind(2),this.FAppearance.FHoverFill.SetKind(2),this.FAppearance.FDownFill.SetKind(2),this.FAppearance.FDisabledFill.SetKind(1),this.FAppearance.FNormalStroke.SetKind(1),this.FAppearance.FInnerStroke.SetKind(1),this.FAppearance.FHoverStroke.SetKind(1),this.FAppearance.FDownStroke.SetKind(1),this.FAppearance.FDisabledStroke.SetKind(1),this.FAppearance.FNormalFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(249,251,252)),this.FAppearance.FNormalFill.SetColorTo(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(230,235,235)),this.FAppearance.FNormalFill.SetColorMirror(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(220,220,236)),this.FAppearance.FNormalFill.SetColorMirrorTo(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(220,225,236)),this.FAppearance.FHoverFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(229,231,232)),this.FAppearance.FHoverFill.SetColorTo(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(210,215,215)),this.FAppearance.FHoverFill.SetColorMirror(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(200,200,216)),this.FAppearance.FHoverFill.SetColorMirrorTo(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(200,205,216)),this.FAppearance.FDownFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(219,221,222)),this.FAppearance.FDownFill.SetColorTo(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(200,205,205)),this.FAppearance.FDownFill.SetColorMirror(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(190,190,206)),this.FAppearance.FDownFill.SetColorMirrorTo(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(190,195,206))},this.SetAdaptToStyle=function(t){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.SetAdaptToStyle.apply(this,arguments),null!=this.FPopup&&this.FPopup.SetAdaptToStyle(this.GetAdaptToStyle())},this.BitmapsChanged=function(t){var e=null;e=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.GetScaledBitmap(this.FBitmaps,0,this.GetBitmapContainer()),this.SetBitmapVisible(null!=e&&!pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(e)),this.FBitmapVisible||3!==this.FLayout||(e=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.GetScaledBitmap(this.FLargeLayoutBitmaps,0,this.GetBitmapContainer()),this.SetBitmapVisible(null!=e&&!pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(e))),this.Invalidate()},this.DoFontChanged=function(t){this.Invalidate()},this.UpdateLayout=function(){var t=pas["WEBLib.TMSFNCTypes"].TSizeF.$new(),e=0;if(0!==this.FLayout&&!this.FBlockUpdate){this.FBlockUpdate=!0;var i=this.FLayout;1===i?(this.SetTextVisible(!1),this.SetBitmapPosition(0),this.SetStretchText(!1),this.SetHeight(Math.round(this.GetBitmapSize()+6)),this.SetWidth(Math.round(this.GetBitmapSize()+6))):2===i?(this.SetTextVisible(!0),this.SetBitmapPosition(0),this.SetStretchText(!1),t.$assign(this.GetTextSize()),this.FBitmapVisible?(this.SetHeight(Math.round(Math.max(this.GetBitmapSize(),t.cy)+6)),this.SetWidth(Math.round(this.GetBitmapSize()+t.cx+12))):this.FTextVisible&&""!==this.GetText()?(this.SetHeight(Math.round(t.cy+6)),this.SetWidth(Math.round(t.cx+6))):(this.SetWidth(75),this.SetHeight(24))):3===i&&(this.SetTextVisible(!0),this.SetBitmapPosition(1),this.SetStretchText(!this.FBitmapVisible),t.$assign(this.GetTextSize()),e=30,this.FBitmapVisible&&(e=Math.max(e,this.GetLargeLayoutBitmapSize()+6)),this.FTextVisible&&""!==this.GetText()&&(e=Math.max(e,t.cx+12)),this.SetWidth(Math.round(e)),-1!==this.FOldHeight&&this.SetHeight(Math.round(this.FOldHeight))),this.FBlockUpdate=!1,this.UpdateToolBar()}},this.DoClosePopup=function(t){null!=this.FOnCloseDropDown&&this.FOnCloseDropDown(this)},this.DoPopup=function(t){this.InitializePopup()},this.InitializePopup=function(){},this.UpdateState=function(){var e=0;t.TTMSFNCCustomToolBarElement.UpdateState.call(this);var i=this.FState;e=0===i?.8:1===i?1.25:1,0 in this.FComponentState||(this.SetDropDownWidth(this.FDropDownWidth*e),this.SetDropDownHeight(this.FDropDownHeight*e),this.FFont$1.SetSize(Math.round(this.FFont$1.FSize*e)),this.SetBounds(this.GetLeft(),this.GetTop(),Math.round(this.GetWidth()*e),Math.round(this.GetHeight()*e)))},this.AppearanceChanged=function(){this.Invalidate()},this.Notification=function(t,e){pas["WEBLib.Menus"].TWebCustomControl.Notification.apply(this,arguments),1===e&&t===this.FBitmapContainer&&(this.FBitmapContainer=null),1===e&&t===this.FDropDownControl&&(this.FDropDownControl=null)},this.SetName=function(t){var e;e=!(0 in this.FComponentState||this.FName!==this.GetText()||null!=this.FOwner&&pas.Classes.TComponent.isPrototypeOf(this.FOwner)&&0 in this.FOwner.FComponentState),pas["WEBLib.Controls"].TCustomControl.SetName.call(this,t),e&&this.FApplyName&&this.CanChangeText()&&this.SetText(pas.SysUtils.StringReplace(this.GetText(),"TMSFNCToolBar","",rtl.createSet(0)))},this.HandleMouseDown=function(t,e,i,s){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseDown.apply(this,arguments),this.CanFocus()&&this.SetFocus(),this.FDown=!0,this.Invalidate()},this.HandleMouseMove=function(t,e,i){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseMove.apply(this,arguments),this.FHover=!0,this.FPrevHover!==this.FHover&&this.Invalidate(),this.FPrevHover=this.FHover},this.HandleMouseUp=function(t,e,i,s){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseUp.apply(this,arguments),this.FDown=!1,this.Invalidate()},this.HandleKeyUp=function(t,e){if(pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleKeyUp.apply(this,arguments),!rtl.neSet(e,{})){var i=t.get();13!==i&&115!==i||this.CanDropDown()&&this.DropDown()}},this.HandleKeyDown=function(t,e){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleKeyDown.apply(this,arguments);var i=t.get();36===i?this.SelectFirstValue():35===i?this.SelectLastValue():38===i||37===i?this.SelectPreviousValue():40===i||39===i?this.SelectNextValue():32===i&&this.Click()},this.HandleKeyPress=function(t){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleKeyPress.apply(this,arguments),t.get()>=" "&&!(t.get().charCodeAt()in rtl.createSet(113,13,32,27,36,35,38,37,40,39))&&this.SelectValueWithCharacter(t.get())},this.HandleMouseEnter=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseEnter.call(this)},this.HandleMouseLeave=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseLeave.call(this),this.FDown=!1,this.FHover=!1,this.FPrevHover=!1,this.Invalidate()},this.SelectFirstValue=function(){},this.SelectValueWithCharacter=function(t){},this.SelectLastValue=function(){},this.SelectNextValue=function(){},this.SelectPreviousValue=function(){},this.DrawText=function(t){var e,i=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(this.FTextVisible&&""!==this.GetText()){i.$assign(this.GetTextRect()),e=t.SaveState(!1);try{t.ClipRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i)),t.FFont.Assign(this.FFont$1),this.FEnabled?(this.FDown||this.FDownState)&&-1!==this.FDownFontColor?t.FFont.SetColor(this.FDownFontColor):this.FHover&&-1!==this.FHoverFontColor&&t.FFont.SetColor(this.FHoverFontColor):-1!==this.FDisabledFontColor&&t.FFont.SetColor(this.FDisabledFontColor),t.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),this.GetText(),this.FWordWrapping,this.FHorizontalTextAlign,this.FVerticalTextAlign,this.FTrimming,0,-1,-1,!0,!1,-1,-1)}finally{t.RestoreState(e,!1)}}},this.DrawBitmap=function(e,i){var s=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),o=null,n=null,a=null,r=0,l=0;if(this.FBitmapVisible)if(s.$assign(this.GetBitmapRect$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i))),t.TTMSFNCToolBarDropDownButton.isPrototypeOf(this)&&this.GetAdaptToStyle()){(o=pas["WEBLib.Graphics"].TBitmap.$create("Create$3")).SetSize(this.ScalePaintValue(7),this.ScalePaintValue(7)),a=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("Create$1",[o.GetCanvas(),!1]);try{a.BeginScene(),a.FStroke.SetKind(1),a.FStroke.SetColor(pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultSelectionFillColor);for(var h=this.ScalePaintValue(1),F=this.ScalePaintValue(5);h<=F&&(l=h,r=Math.max(0,l-this.ScalePaintValue(2)),a.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(r,l)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(o.GetWidth()-1-r,l)),2,2),!(r>=o.GetWidth()-1-r));h++);}finally{a.EndScene(),a=rtl.freeLoc(a)}try{n=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3");try{n.Assign(o),e.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),n,!0,!1,!0,!1)}finally{n=rtl.freeLoc(n)}}finally{o=rtl.freeLoc(o)}}else{e.FBitmapContainer=this.GetBitmapContainer(),3===this.FLayout?this.FEnabled?this.FHover&&this.FLargeLayoutHoverBitmaps.GetCount()>0?e.DrawScaledBitmap(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),this.FLargeLayoutHoverBitmaps,this.FResourceScaleFactor,!0,!1,!0,!1):this.FHover&&this.FHoverBitmaps.GetCount()>0?e.DrawScaledBitmap(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),this.FHoverBitmaps,this.FResourceScaleFactor,!0,!1,!0,!1):this.FLargeLayoutBitmaps.GetCount()>0?e.DrawScaledBitmap(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),this.FLargeLayoutBitmaps,this.FResourceScaleFactor,!0,!1,!0,!1):e.DrawScaledBitmap(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),this.FBitmaps,this.FResourceScaleFactor,!0,!1,!0,!1):this.FLargeLayoutDisabledBitmaps.GetCount()>0?e.DrawScaledBitmap(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),this.FLargeLayoutDisabledBitmaps,this.FResourceScaleFactor,!0,!1,!0,!1):this.FDisabledBitmaps.GetCount()>0?e.DrawScaledBitmap(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),this.FDisabledBitmaps,this.FResourceScaleFactor,!0,!1,!0,!1):e.DrawScaledBitmap(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),this.FBitmaps,this.FResourceScaleFactor,!0,!1,!0,!1):this.FEnabled?this.FHover&&this.FHoverBitmaps.GetCount()>0?e.DrawScaledBitmap(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),this.FHoverBitmaps,this.FResourceScaleFactor,!0,!1,!0,!1):e.DrawScaledBitmap(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),this.FBitmaps,this.FResourceScaleFactor,!0,!1,!0,!1):this.FDisabledBitmaps.GetCount()>0?e.DrawScaledBitmap(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),this.FDisabledBitmaps,this.FResourceScaleFactor,!0,!1,!0,!1):e.DrawScaledBitmap(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),this.FBitmaps,this.FResourceScaleFactor,!0,!1,!0,!1)}},this.DrawButton=function(t){},this.CanDropDown=function(){return!1,!1},this.CanChangeText=function(){return!0,!0},this.GetTextRect=function(){var t=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),e=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(s.$assign(this.GetLocalRect()),e.$assign(this.GetBitmapRect()),i.$assign(this.GetDropDownRect()),this.FStretchText)t.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Left+3,s.Top+3,i.Left-3,s.Bottom-3));else{var o=this.FBitmapPosition;0===o?t.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Right+3,s.Top+3,i.Left-3,s.Bottom-3)):1===o&&t.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Left+3,e.Bottom+3,i.Left-3,s.Bottom-3))}return t},this.GetDropDownRect=function(){var t=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),e=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return e.$assign(this.GetLocalRect()),t.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Right,e.Top,e.Right,e.Bottom)),t},this.GetBitmapRect=function(){var t=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return t.$assign(this.GetBitmapRect$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(this.GetLocalRect()))),t},this.GetBitmapRect$1=function(t){var e=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=0;if(s=this.GetBitmapSize(),3===this.FLayout&&(s=this.GetLargeLayoutBitmapSize()),i.$assign(t),e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left,i.Top,i.Left,i.Bottom)),this.FBitmapVisible){var o=this.FBitmapPosition;0===o?e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left+3,e.Top+3,e.Left+3+s,e.Bottom-3)):1===o&&e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left+3,e.Top+3,e.Right-3,e.Top+3+s))}return e},this.GetBitmapSize=function(){var t=0,e=null;return t=this.FBitmapSize,this.FAutoBitmapSize&&(null==(e=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.GetScaledBitmap(this.FBitmaps,0,this.GetBitmapContainer()))||pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(e)||(t=Math.max(e.GetHeight(),e.GetWidth()))),t},this.GetLargeLayoutBitmapSize=function(){var t=0,e=null;return t=this.FLargeLayoutBitmapSize,this.FLargeLayoutAutoBitmapSize&&(null==(e=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.GetScaledBitmap(this.FLargeLayoutBitmaps,0,this.GetBitmapContainer()))||pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(e)||(t=Math.max(e.GetHeight(),e.GetWidth()))),t},this.Assign=function(e){t.TTMSFNCCustomToolBarElement.Assign.apply(this,arguments),t.TTMSFNCDefaultToolBarButton.isPrototypeOf(e)&&(this.FLayout=rtl.as(e,t.TTMSFNCDefaultToolBarButton).FLayout,this.FCompactLayout=rtl.as(e,t.TTMSFNCDefaultToolBarButton).FCompactLayout,this.FMinimumLayout=rtl.as(e,t.TTMSFNCDefaultToolBarButton).FMinimumLayout,this.FMaximumLayout=rtl.as(e,t.TTMSFNCDefaultToolBarButton).FMaximumLayout,this.FBitmapPosition=rtl.as(e,t.TTMSFNCDefaultToolBarButton).FBitmapPosition,this.FBitmapSize=rtl.as(e,t.TTMSFNCDefaultToolBarButton).FBitmapSize,this.FLargeLayoutBitmapSize=rtl.as(e,t.TTMSFNCDefaultToolBarButton).FLargeLayoutBitmapSize,this.FAutoBitmapSize=rtl.as(e,t.TTMSFNCDefaultToolBarButton).FAutoBitmapSize,this.FLargeLayoutAutoBitmapSize=rtl.as(e,t.TTMSFNCDefaultToolBarButton).FLargeLayoutAutoBitmapSize,this.FStretchBitmapIfNoText=rtl.as(e,t.TTMSFNCDefaultToolBarButton).FStretchBitmapIfNoText,this.FAppearance.Assign(rtl.as(e,t.TTMSFNCDefaultToolBarButton).FAppearance),this.FBitmapContainer=rtl.as(e,t.TTMSFNCDefaultToolBarButton).GetBitmapContainer(),this.FBitmaps.Assign(rtl.as(e,t.TTMSFNCDefaultToolBarButton).FBitmaps),this.FDisabledBitmaps.Assign(rtl.as(e,t.TTMSFNCDefaultToolBarButton).FDisabledBitmaps),this.FLargeLayoutHoverBitmaps.Assign(rtl.as(e,t.TTMSFNCDefaultToolBarButton).FLargeLayoutHoverBitmaps),this.FLargeLayoutBitmaps.Assign(rtl.as(e,t.TTMSFNCDefaultToolBarButton).FLargeLayoutBitmaps),this.FLargeLayoutDisabledBitmaps.Assign(rtl.as(e,t.TTMSFNCDefaultToolBarButton).FLargeLayoutDisabledBitmaps),this.FHoverBitmaps.Assign(rtl.as(e,t.TTMSFNCDefaultToolBarButton).FHoverBitmaps),this.FBitmapVisible=rtl.as(e,t.TTMSFNCDefaultToolBarButton).FBitmapVisible,this.FText=rtl.as(e,t.TTMSFNCDefaultToolBarButton).GetText(),this.FTextVisible=rtl.as(e,t.TTMSFNCDefaultToolBarButton).FTextVisible,this.FDropDownHeight=rtl.as(e,t.TTMSFNCDefaultToolBarButton).FDropDownHeight,this.FDropDownWidth=rtl.as(e,t.TTMSFNCDefaultToolBarButton).FDropDownWidth,this.FDropDownAutoWidth=rtl.as(e,t.TTMSFNCDefaultToolBarButton).FDropDownAutoWidth,this.FWordWrapping=rtl.as(e,t.TTMSFNCDefaultToolBarButton).FWordWrapping,this.FHorizontalTextAlign=rtl.as(e,t.TTMSFNCDefaultToolBarButton).FHorizontalTextAlign,this.FVerticalTextAlign=rtl.as(e,t.TTMSFNCDefaultToolBarButton).FVerticalTextAlign,this.FTrimming=rtl.as(e,t.TTMSFNCDefaultToolBarButton).FTrimming,this.FFont$1.Assign(rtl.as(e,t.TTMSFNCDefaultToolBarButton).FFont$1),this.FHoverFontColor=rtl.as(e,t.TTMSFNCDefaultToolBarButton).FHoverFontColor,this.FDownFontColor=rtl.as(e,t.TTMSFNCDefaultToolBarButton).FDownFontColor,this.FDisabledFontColor=rtl.as(e,t.TTMSFNCDefaultToolBarButton).FDisabledFontColor,this.FStretchText=rtl.as(e,t.TTMSFNCDefaultToolBarButton).FStretchText,this.Invalidate())},this.Create$1=function(e){return t.TTMSFNCCustomToolBarElement.Create$1.apply(this,arguments),this.FOldHeight=-1,this.FLayout=0,this.FCompactLayout=0,this.FMinimumLayout=1,this.FMaximumLayout=3,this.FFont$1=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2"),this.FFont$1.FOnChanged=rtl.createCallback(this,"DoFontChanged"),this.FHoverFontColor=-1,this.FDownFontColor=-1,this.FDisabledFontColor=-1,this.FDownState=!1,this.FApplyName=!0,this.FCloseOnSelection=!0,this.FBitmapSize=24,this.FLargeLayoutBitmapSize=32,this.FAutoBitmapSize=!1,this.FLargeLayoutAutoBitmapSize=!1,this.FStretchBitmapIfNoText=!0,this.FStretchText=!1,this.FDropDownWidth=135,this.FDropDownHeight=135,this.FDropDownAutoWidth=!1,this.FPopup=pas["WEBLib.TMSFNCPopup"].TTMSFNCPopup.$create("Create$1",[this]),this.FPopup.SetDragWithParent(!0),this.FPopup.SetDropDownWidth(this.FDropDownWidth),this.FPopup.SetDropDownHeight(this.FDropDownHeight),this.FPopup.FOnPopup=rtl.createCallback(this,"DoPopup"),this.FPopup.FOnClosePopup=rtl.createCallback(this,"DoClosePopup"),this.FPopupPlacement=0,this.FBitmaps=pas["WEBLib.TMSFNCTypes"].TTMSFNCScaledBitmaps.$create("Create$3",[this]),this.FBitmaps.FOnChange=rtl.createCallback(this,"BitmapsChanged"),this.FDisabledBitmaps=pas["WEBLib.TMSFNCTypes"].TTMSFNCScaledBitmaps.$create("Create$3",[this]),this.FDisabledBitmaps.FOnChange=rtl.createCallback(this,"BitmapsChanged"),this.FHoverBitmaps=pas["WEBLib.TMSFNCTypes"].TTMSFNCScaledBitmaps.$create("Create$3",[this]),this.FHoverBitmaps.FOnChange=rtl.createCallback(this,"BitmapsChanged"),this.FLargeLayoutBitmaps=pas["WEBLib.TMSFNCTypes"].TTMSFNCScaledBitmaps.$create("Create$3",[this]),this.FLargeLayoutBitmaps.FOnChange=rtl.createCallback(this,"BitmapsChanged"),this.FLargeLayoutDisabledBitmaps=pas["WEBLib.TMSFNCTypes"].TTMSFNCScaledBitmaps.$create("Create$3",[this]),this.FLargeLayoutDisabledBitmaps.FOnChange=rtl.createCallback(this,"BitmapsChanged"),this.FLargeLayoutHoverBitmaps=pas["WEBLib.TMSFNCTypes"].TTMSFNCScaledBitmaps.$create("Create$3",[this]),this.FLargeLayoutHoverBitmaps.FOnChange=rtl.createCallback(this,"BitmapsChanged"),this.FAppearance=t.TTMSFNCToolBarButtonAppearance.$create("Create$1",[this]),this.FTextVisible=!0,this.FBitmapVisible=!1,this.FWordWrapping=!1,this.FHorizontalTextAlign=0,this.FVerticalTextAlign=0,this.FTrimming=1,this.FBitmapPosition=0,this.SetWidth(100),this.SetHeight(24),this},this.Destroy=function(){rtl.free(this,"FFont$1"),rtl.free(this,"FPopup"),rtl.free(this,"FBitmaps"),rtl.free(this,"FDisabledBitmaps"),rtl.free(this,"FHoverBitmaps"),rtl.free(this,"FLargeLayoutBitmaps"),rtl.free(this,"FLargeLayoutDisabledBitmaps"),rtl.free(this,"FLargeLayoutHoverBitmaps"),rtl.free(this,"FAppearance"),t.TTMSFNCCustomToolBarElement.Destroy.call(this)},this.Draw=function(t,e){var i=pas["WEBLib.TMSFNCTypes"].TRectF.$new();pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Draw.apply(this,arguments),this.FAppearance.FTransparent||(this.FEnabled?this.FDown||this.FDownState?(t.FFill.Assign(this.FAppearance.FDownFill),t.FStroke.Assign(this.FAppearance.FDownStroke)):this.FHover?(t.FFill.Assign(this.FAppearance.FHoverFill),t.FStroke.Assign(this.FAppearance.FHoverStroke)):(t.FFill.Assign(this.FAppearance.FNormalFill),t.FStroke.Assign(this.FAppearance.FNormalStroke)):(t.FFill.Assign(this.FAppearance.FDisabledFill),t.FStroke.Assign(this.FAppearance.FDisabledStroke)),i.$assign(this.GetLocalRect()),this.FAppearance.FFlatStyle?(t.FFill.SetKind(1),t.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),2)):t.DrawRoundRectangle$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),this.FAppearance.FRounding,rtl.refSet(this.FAppearance.FCorners),2),this.FAppearance.FShowInnerStroke&&!this.FAppearance.FFlatStyle&&(pas["WEBLib.TMSFNCTypes"].InflateRectEx(i,-1,-1),t.FStroke.Assign(this.FAppearance.FInnerStroke),t.FFill.SetKind(0),t.DrawRoundRectangle$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),this.FAppearance.FRounding,rtl.refSet(this.FAppearance.FCorners),2))),this.DrawBitmap(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e)),this.DrawText(t),this.DrawButton(t),this.FShowFocus$1&&this.IsFocused()&&(i.$assign(this.GetTextRect()),t.DrawFocusRectangle$3(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),0,2)),this.IsDesignTime()&&this.CanDrawDesignTime()&&t.DrawFocusRectangle$3(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),0,2)},this.DropDown=function(){null!=this.FPopup&&(this.FPopup.SetPlacementControl(this),this.FPopup.FIsOpen?this.FPopup.SetIsOpen(!1):(null!=this.FOnBeforeDropDown&&this.FOnBeforeDropDown(this),this.FDropDownAutoWidth&&this.FPopup.SetDropDownWidth(this.GetWidth()),this.FPopup.SetPlacement(this.FPopupPlacement),this.FPopup.SetIsOpen(!0),null!=this.FOnDropDown&&this.FOnDropDown(this)))},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),this.TTMSFNCToolBarButtonDropDownKind={0:"ddkNormal",ddkNormal:0,1:"ddkDropDown",ddkDropDown:1,2:"ddkDropDownButton",ddkDropDownButton:2},this.$rtti.$Enum("TTMSFNCToolBarButtonDropDownKind",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TTMSFNCToolBarButtonDropDownKind}),this.TTMSFNCToolBarButtonDropDownPosition={0:"ddpRight",ddpRight:0,1:"ddpBottom",ddpBottom:1},this.$rtti.$Enum("TTMSFNCToolBarButtonDropDownPosition",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TTMSFNCToolBarButtonDropDownPosition}),rtl.createClass(this,"TTMSFNCToolBarDropDownButton",this.TTMSFNCDefaultToolBarButton,(function(){this.$init=function(){t.TTMSFNCDefaultToolBarButton.$init.call(this),this.FDefaultStyle=!1},this.SetDefaultStyle=function(t){this.FDefaultStyle!==t&&(this.FDefaultStyle=t,this.Invalidate())},this.RegisterRuntimeClasses=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.RegisterRuntimeClasses.call(this),pas.Classes.RegisterClass(t.TTMSFNCToolBarDropDownButton)},this.DrawBitmap=function(e,i){var s=null,o=null,n=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),a=null;if(this.FDefaultStyle)n.$assign(i),null!=this.FOwner&&t.TTMSFNCCustomToolBarButton.isPrototypeOf(this.FOwner)&&1===rtl.as(this.FOwner,t.TTMSFNCCustomToolBarButton).FDropDownPosition||pas["WEBLib.TMSFNCTypes"].InflateRectEx(n,this.ScalePaintValue(-2),this.ScalePaintValue(-2)),t.TTMSFNCDefaultToolBarButton.DrawBitmap.call(this,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(n));else{(o=pas["WEBLib.Graphics"].TBitmap.$create("Create$3")).SetSize(7,7),a=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("Create$1",[o.GetCanvas(),!1]);try{a.BeginScene(),a.FStroke.SetKind(1),a.FStroke.SetColor(11119017),a.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(0,1)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(6,1)),2,2),a.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(0,2)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(6,2)),2,2),a.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(1,3)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(5,3)),2,2),a.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(2,4)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(4,4)),2,2),a.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(3,5)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(3,5)),2,2)}finally{a.EndScene(),a=rtl.freeLoc(a)}try{n.$assign(i),s=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3");try{s.Assign(o),e.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(n),s,!0,!1,!0,!1)}finally{s=rtl.freeLoc(s)}}finally{o=rtl.freeLoc(o)}}},this.GetBitmapRect$1=function(t){var e=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),i=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return i.$assign(t),e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left+3,i.Top+3,i.Right-3,i.Bottom-3)),e},this.Create$1=function(e){return t.TTMSFNCDefaultToolBarButton.Create$1.apply(this,arguments),this.FDefaultStyle=!0,this},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]]),e.addProperty("DefaultStyle",2,rtl.boolean,"FDefaultStyle","SetDefaultStyle",{Default:!0}),e.addProperty("Font",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFont,"FFont$1","SetFont$1"),e.addProperty("Text",3,rtl.string,"GetText","SetText"),e.addProperty("ShowFocus",2,rtl.boolean,"FShowFocus$1","SetShowFocus$1",{Default:!1}),e.addProperty("TextVisible",2,rtl.boolean,"FTextVisible","SetTextVisible",{Default:!0}),e.addProperty("StretchText",2,rtl.boolean,"FStretchText","SetStretchText",{Default:!1}),e.addProperty("WordWrapping",2,rtl.boolean,"FWordWrapping","SetWordWrapping",{Default:!1}),e.addProperty("HorizontalTextAlign",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsTextAlign,"FHorizontalTextAlign","SetHorizontalTextAlign",{Default:pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsTextAlign.gtaCenter}),e.addProperty("VerticalTextAlign",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsTextAlign,"FVerticalTextAlign","SetVerticalTextAlign",{Default:pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsTextAlign.gtaCenter}),e.addProperty("Trimming",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsTextTrimming,"FTrimming","SetTrimming",{Default:pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsTextTrimming.gttCharacter}),e.addProperty("Bitmaps",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCScaledBitmaps,"FBitmaps","SetBitmaps"),e.addProperty("DisabledBitmaps",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCScaledBitmaps,"FDisabledBitmaps","SetDisabledBitmaps"),e.addProperty("HoverBitmaps",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCScaledBitmaps,"FHoverBitmaps","SetHoverBitmaps"),e.addProperty("BitmapVisible",2,rtl.boolean,"FBitmapVisible","SetBitmapVisible",{Default:!1}),e.addProperty("BitmapContainer",3,pas["WEBLib.TMSFNCBitmapContainer"].$rtti.TTMSFNCBitmapContainer,"GetBitmapContainer","SetBitmapContainer"),e.addProperty("State",2,t.$rtti.TTMSFNCToolBarElementState,"FState","SetState",{Default:t.TTMSFNCToolBarElementState.esNormal}),e.addProperty("LastElement",2,rtl.boolean,"FLastElement","SetLastElement",{Default:!1}),e.addProperty("Appearance",2,t.$rtti.TTMSFNCToolBarButtonAppearance,"FAppearance","SetAppearance")})),rtl.createClass(this,"TTMSFNCCustomToolBarButton",this.TTMSFNCDefaultToolBarButton,(function(){this.$init=function(){t.TTMSFNCDefaultToolBarButton.$init.call(this),this.FDropDownButton=null,this.FDropDownKind=0,this.FDropDownPosition=0,this.FHidden=!1,this.FAutoOptionsMenuText=""},this.$final=function(){this.FDropDownButton=void 0,t.TTMSFNCDefaultToolBarButton.$final.call(this)},this.SetDropDownKind=function(t){if(this.FDropDownKind!==t){if(this.FDropDownKind=t,null!=this.FDropDownButton){var e=this.FDropDownKind;0===e?(this.FDropDownButton.SetVisible(!1),this.FDropDownButton.SetParent(null),this.FDropDownButton.FAppearance.SetTransparent(!1)):1===e?(this.FDropDownButton.SetVisible(!1),this.FDropDownButton.SetParent(this),this.FDropDownButton.FAppearance.SetTransparent(!0)):2===e&&(this.FDropDownButton.SetVisible(!0),this.FDropDownButton.SetParent(this),this.FDropDownButton.FAppearance.SetTransparent(!1))}this.Invalidate()}},this.SetDropDownPosition=function(t){var e=0;if(this.FDropDownPosition!==t&&(e=pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.GetDPIScale(this,96),this.FDropDownPosition=t,null!=this.FDropDownButton)){var i=t;0===i?(this.FDropDownButton.SetAlign(4),this.FDropDownButton.SetWidth(Math.round(17*e)),this.FDropDownButton.FAppearance.SetCorners(rtl.createSet(1,3))):1===i&&(this.FDropDownButton.SetAlign(2),this.FDropDownButton.SetHeight(Math.round(10*e)),this.FDropDownButton.FAppearance.SetCorners(rtl.createSet(2,3)))}},this.SetAdaptToStyle=function(e){t.TTMSFNCDefaultToolBarButton.SetAdaptToStyle.apply(this,arguments),null!=this.FDropDownButton&&this.FDropDownButton.SetAdaptToStyle(this.GetAdaptToStyle())},this.AppearanceChanged=function(){t.TTMSFNCDefaultToolBarButton.AppearanceChanged.call(this),this.UpdateDropDownButton()},this.UpdateDropDownButton=function(){null!=this.FDropDownButton&&this.FDropDownButton.FAppearance.SetRounding(this.FAppearance.FRounding)},this.HandleMouseDown=function(e,i,s,o){t.TTMSFNCDefaultToolBarButton.HandleMouseDown.apply(this,arguments),1===this.FDropDownKind&&this.DropDown()},this.DropDownButtonClick=function(t){this.DropDown()},this.DrawButton=function(e){var i=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(t.TTMSFNCDefaultToolBarButton.DrawButton.apply(this,arguments),null!=this.FDropDownButton&&1===this.FDropDownKind){var s=this.FDropDownPosition;0===s?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(this.GetWidth()-this.FDropDownButton.GetWidth(),0,this.GetWidth(),this.GetHeight())):1===s&&i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,this.GetHeight()-this.FDropDownButton.GetHeight(),this.GetWidth(),this.GetHeight())),this.FDropDownButton.DrawBitmap(e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i))}},this.SetEnabled=function(t){var e=null;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.SetEnabled.apply(this,arguments),null!=(e=this.GetDropDownButtonControl())&&e.SetEnabled(t)},this.GetDropDownButtonClass=function(){return t.TTMSFNCToolBarDropDownButton},this.GetDropDownRect=function(){var e=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(e.$assign(t.TTMSFNCDefaultToolBarButton.GetDropDownRect.call(this)),null!=this.FDropDownButton&&0!==this.FDropDownKind)if(1===this.FDropDownKind){var i=this.FDropDownPosition;0===i?e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(this.GetWidth()-this.FDropDownButton.GetWidth(),0,this.GetWidth(),this.GetHeight())):1===i&&e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,this.GetHeight()-this.FDropDownButton.GetHeight(),this.GetWidth(),this.GetHeight()))}else e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(this.FDropDownButton.GetLeft(),this.FDropDownButton.GetTop(),this.FDropDownButton.GetLeft()+this.FDropDownButton.GetWidth(),this.FDropDownButton.GetTop()+this.FDropDownButton.GetHeight()));return e},this.GetTextRect=function(){var t=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),e=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(s.$assign(this.GetLocalRect()),e.$assign(this.GetBitmapRect$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s))),i.$assign(this.GetDropDownRect()),0!==this.FDropDownKind)if(this.FStretchText){var o=this.FDropDownPosition;0===o?t.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Left+3,s.Top+3,i.Left-3,s.Bottom-3)):1===o&&t.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Left+3,s.Top+3,s.Right-3,i.Top-3))}else{var n=this.FBitmapPosition;if(0===n){var a=this.FDropDownPosition;0===a?t.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Right+3,s.Top+3,i.Left-3,s.Bottom-3)):1===a&&t.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Right+3,s.Top+3,s.Right-3,i.Top-3))}else if(1===n){var r=this.FDropDownPosition;0===r?t.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Left+3,e.Bottom+3,i.Left-3,s.Bottom-3)):1===r&&t.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Left+3,e.Bottom+3,s.Right-3,i.Top-3))}}else if(this.FStretchText)t.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Left+3,s.Top+3,i.Left-3,s.Bottom-3));else{var l=this.FBitmapPosition;0===l?t.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Right+3,s.Top+3,i.Left-3,s.Bottom-3)):1===l&&t.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Left+3,e.Bottom+3,i.Left-3,s.Bottom-3))}return t},this.GetBitmapRect$1=function(t){var e=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),o=0;if(o=this.GetBitmapSize(),3===this.FLayout&&(o=this.GetLargeLayoutBitmapSize()),i.$assign(t),e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left,i.Top,i.Left,i.Bottom)),this.FBitmapVisible)if(0!==this.FDropDownKind){s.$assign(this.GetDropDownRect());var n=this.FBitmapPosition;if(0===n){var a=this.FDropDownPosition;0===a?e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left+3,e.Top+3,e.Left+3+o,e.Bottom-3)):1===a&&e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left+3,e.Top+3,e.Left+3+o,s.Top-3))}else if(1===n){var r=this.FDropDownPosition;0===r?e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left+3,e.Top+3,s.Left-3,e.Top+3+o)):1===r&&e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left+3,e.Top+3,i.Right-3,e.Top+3+o))}}else if(this.FTextVisible&&""!==this.GetText()){if(this.FTextVisible&&""!==this.GetText()){var l=this.FBitmapPosition;0===l?e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left+3,i.Top+3,i.Left+3+o,i.Bottom-3)):1===l&&e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left+3,i.Top+3,i.Right-3,i.Top+3+o))}}else e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left+3,i.Top+3,i.Right-3,i.Bottom-3)),-1===o||this.FStretchBitmapIfNoText||(e.Left=Math.round(i.Left+(i.Right-i.Left-o)/2),e.Top=Math.round(i.Top+(i.Bottom-i.Top-o)/2),e.Right=e.Left+o,e.Bottom=e.Top+o);return e},this.GetBitmapRect=function(){var e=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return e.$assign(t.TTMSFNCDefaultToolBarButton.GetBitmapRect.call(this)),e},this.CanDropDown=function(){return 0!==this.FDropDownKind},this.Loaded=function(){pas["WEBLib.Controls"].TCustomControl.Loaded.call(this)},this.Assign=function(e){t.TTMSFNCDefaultToolBarButton.Assign.apply(this,arguments),t.TTMSFNCCustomToolBarButton.isPrototypeOf(e)&&(this.FDropDownKind=rtl.as(e,t.TTMSFNCCustomToolBarButton).FDropDownKind,this.FDropDownPosition=rtl.as(e,t.TTMSFNCCustomToolBarButton).FDropDownPosition,this.FAutoOptionsMenuText=rtl.as(e,t.TTMSFNCCustomToolBarButton).FAutoOptionsMenuText,this.FHidden=rtl.as(e,t.TTMSFNCCustomToolBarButton).FHidden,this.Invalidate())},this.Create$1=function(e){var i="";return t.TTMSFNCDefaultToolBarButton.Create$1.apply(this,arguments),this.FHidden=!1,this.FDropDownPosition=0,this.FDropDownButton=this.GetDropDownButtonClass().$create("Create$1",[this]),this.FDropDownButton.SetTabStop(!1),this.FDropDownButton.SetText(""),this.FDropDownButton.FOnClick=rtl.createCallback(this,"DropDownButtonClick"),this.FDropDownButton.SetVisible(!1),this.FDropDownButton.SetWidth(17),this.FDropDownButton.FAppearance.SetCorners(rtl.createSet(1,3)),this.FDropDownButton.SetAlign(4),this.FDropDownButton.FStored=!1,i=t.TMSFNCTOOLBAREXPANDSVG,this.FDropDownButton.FBitmaps.AddBitmapFromResource$1(i,pas["WEBLib.TMSFNCTypes"].HInstance(),1),this.FDropDownButton.FDisabledBitmaps.AddBitmapFromResource$1(i,pas["WEBLib.TMSFNCTypes"].HInstance(),1),this.FDropDownButton.FHoverBitmaps.AddBitmapFromResource$1(i,pas["WEBLib.TMSFNCTypes"].HInstance(),1),this},this.Destroy=function(){rtl.free(this,"FDropDownButton"),t.TTMSFNCDefaultToolBarButton.Destroy.call(this)},this.GetDropDownButtonControl=function(){return this.FDropDownButton},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),rtl.createClass(this,"TTMSFNCToolBarButton",this.TTMSFNCCustomToolBarButton,(function(){this.RegisterRuntimeClasses=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.RegisterRuntimeClasses.call(this),pas.Classes.RegisterClass(t.TTMSFNCToolBarButton)},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Font",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFont,"FFont$1","SetFont$1"),e.addProperty("AutoOptionsMenuText",0,rtl.string,"FAutoOptionsMenuText","FAutoOptionsMenuText"),e.addProperty("DropDownAutoWidth",2,rtl.boolean,"FDropDownAutoWidth","SetDropDownAutoWidth",{Default:!1}),e.addProperty("DropDownKind",2,t.$rtti.TTMSFNCToolBarButtonDropDownKind,"FDropDownKind","SetDropDownKind",{Default:t.TTMSFNCToolBarButtonDropDownKind.ddkNormal}),e.addProperty("DropDownPosition",2,t.$rtti.TTMSFNCToolBarButtonDropDownPosition,"FDropDownPosition","SetDropDownPosition",{Default:t.TTMSFNCToolBarButtonDropDownPosition.ddpRight}),e.addProperty("DropDownHeight",14,rtl.double,"FDropDownHeight","SetDropDownHeight",{stored:"IsDropDownHeightStored"}),e.addProperty("DropDownWidth",14,rtl.double,"FDropDownWidth","SetDropDownWidth",{stored:"IsDropDownWidthStored"}),e.addProperty("DropDownControl",2,pas["WEBLib.Controls"].$rtti.TControl,"FDropDownControl","SetDropDownControl"),e.addProperty("OnBeforeDropDown",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnBeforeDropDown","FOnBeforeDropDown"),e.addProperty("OnDropDown",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDropDown","FOnDropDown"),e.addProperty("OnCloseDropDown",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnCloseDropDown","FOnCloseDropDown"),e.addProperty("Text",3,rtl.string,"GetText","SetText"),e.addProperty("ShowFocus",2,rtl.boolean,"FShowFocus$1","SetShowFocus$1",{Default:!1}),e.addProperty("TextVisible",2,rtl.boolean,"FTextVisible","SetTextVisible",{Default:!0}),e.addProperty("StretchText",2,rtl.boolean,"FStretchText","SetStretchText",{Default:!1}),e.addProperty("StretchBitmapIfNoText",2,rtl.boolean,"FStretchBitmapIfNoText","SetStretchBitmapIfNoText",{Default:!0}),e.addProperty("HorizontalTextAlign",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsTextAlign,"FHorizontalTextAlign","SetHorizontalTextAlign",{Default:pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsTextAlign.gtaCenter}),e.addProperty("VerticalTextAlign",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsTextAlign,"FVerticalTextAlign","SetVerticalTextAlign",{Default:pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsTextAlign.gtaCenter}),e.addProperty("Trimming",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsTextTrimming,"FTrimming","SetTrimming",{Default:pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsTextTrimming.gttCharacter}),e.addProperty("Bitmaps",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCScaledBitmaps,"FBitmaps","SetBitmaps"),e.addProperty("LargeLayoutBitmaps",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCScaledBitmaps,"FLargeLayoutBitmaps","SetLargeLayoutBitmaps"),e.addProperty("Layout",2,t.$rtti.TTMSFNCToolBarButtonLayout,"FLayout","SetLayout",{Default:t.TTMSFNCToolBarButtonLayout.bblNone}),e.addProperty("CompactLayout",2,t.$rtti.TTMSFNCToolBarButtonLayout,"FCompactLayout","SetCompactLayout",{Default:t.TTMSFNCToolBarButtonLayout.bblNone}),e.addProperty("MinimumLayout",2,t.$rtti.TTMSFNCToolBarButtonLayout,"FMinimumLayout","SetMinimumLayout",{Default:t.TTMSFNCToolBarButtonLayout.bblBitmap}),e.addProperty("MaximumLayout",2,t.$rtti.TTMSFNCToolBarButtonLayout,"FMaximumLayout","SetMaximumLayout",{Default:t.TTMSFNCToolBarButtonLayout.bblLarge}),e.addProperty("BitmapPosition",2,t.$rtti.TTMSFNCToolBarButtonBitmapPosition,"FBitmapPosition","SetBitmapPosition",{Default:t.TTMSFNCToolBarButtonBitmapPosition.bbpLeft}),e.addProperty("DisabledBitmaps",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCScaledBitmaps,"FDisabledBitmaps","SetDisabledBitmaps"),e.addProperty("HoverBitmaps",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCScaledBitmaps,"FHoverBitmaps","SetHoverBitmaps"),e.addProperty("LargeLayoutDisabledBitmaps",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCScaledBitmaps,"FLargeLayoutDisabledBitmaps","SetLargeLayoutDisabledBitmaps"),e.addProperty("LargeLayoutHoverBitmaps",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCScaledBitmaps,"FLargeLayoutHoverBitmaps","SetLargeLayoutHoverBitmaps"),e.addProperty("BitmapVisible",2,rtl.boolean,"FBitmapVisible","SetBitmapVisible",{Default:!1}),e.addProperty("BitmapContainer",3,pas["WEBLib.TMSFNCBitmapContainer"].$rtti.TTMSFNCBitmapContainer,"GetBitmapContainer","SetBitmapContainer"),e.addProperty("BitmapSize",14,rtl.double,"FBitmapSize","SetBitmapSize",{stored:"IsBitmapSizeStored"}),e.addProperty("AutoBitmapSize",2,rtl.boolean,"FAutoBitmapSize","SetAutoBitmapSize",{Default:!1}),e.addProperty("LargeLayoutBitmapSize",14,rtl.double,"FLargeLayoutBitmapSize","SetLargeLayoutBitmapSize",{stored:"IsLargeLayoutBitmapSizeStored"}),e.addProperty("LargeLayoutAutoBitmapSize",2,rtl.boolean,"FLargeLayoutAutoBitmapSize","SetLargeLayoutAutoBitmapSize",{Default:!1}),e.addProperty("State",2,t.$rtti.TTMSFNCToolBarElementState,"FState","SetState",{Default:t.TTMSFNCToolBarElementState.esNormal}),e.addProperty("LastElement",2,rtl.boolean,"FLastElement","SetLastElement",{Default:!1}),e.addProperty("Appearance",2,t.$rtti.TTMSFNCToolBarButtonAppearance,"FAppearance","SetAppearance"),e.addProperty("WordWrapping",2,rtl.boolean,"FWordWrapping","SetWordWrapping",{Default:!1}),e.attr=[pas.Classes.ComponentPlatformsAttribute,"Create$1",[0]]})),rtl.createClass(this,"TTMSFNCCustomToolBarAppearance",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FOwner=null,this.FFill=null,this.FStroke=null,this.FVerticalSpacing=0,this.FHorizontalSpacing=0,this.FDragGripColor=0,this.FDragGrip=!1,this.FFlatStyle=!1,this.FFont=null,this.FSeparatorStroke=null,this.FSeparator=!1},this.$final=function(){this.FOwner=void 0,this.FFill=void 0,this.FStroke=void 0,this.FFont=void 0,this.FSeparatorStroke=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetFill=function(t){this.FFill.Assign(t)},this.SetStroke=function(t){this.FStroke.Assign(t)},this.SetHorizontalSpacing=function(t){this.FHorizontalSpacing!==t&&(this.FHorizontalSpacing=t,this.FOwner.UpdateControls())},this.SetVerticalSpacing=function(t){this.FVerticalSpacing!==t&&(this.FVerticalSpacing=t,this.FOwner.UpdateControls())},this.SetDragGrip=function(t){this.FDragGrip!==t&&(this.FDragGrip=t,this.FOwner.UpdateControls())},this.SetDragGripColor=function(t){this.FDragGripColor!==t&&(this.FDragGripColor=t,this.FOwner.Invalidate())},this.IsHorizontalSpacingStored=function(){return 3!==this.FHorizontalSpacing},this.IsVerticalSpacingStored=function(){return 3!==this.FVerticalSpacing},this.SetFlatStyle=function(t){this.FFlatStyle!==t&&(this.FFlatStyle=t,null!=this.FOwner&&this.FOwner.ApplyFlatStyle())},this.SetSeparator=function(t){this.FSeparator!==t&&(this.FSeparator=t,this.FOwner.Invalidate())},this.SetSeparatorStroke=function(t){this.FSeparatorStroke.Assign(t)},this.FillChanged=function(t){this.FOwner.Invalidate()},this.StrokeChanged=function(t){this.FOwner.Invalidate()},this.Assign=function(e){t.TTMSFNCCustomToolBarAppearance.isPrototypeOf(e)&&(this.FSeparatorStroke.Assign(rtl.as(e,t.TTMSFNCCustomToolBarAppearance).FSeparatorStroke),this.FSeparator=rtl.as(e,t.TTMSFNCCustomToolBarAppearance).FSeparator,this.FFill.Assign(rtl.as(e,t.TTMSFNCCustomToolBarAppearance).FFill),this.FStroke.Assign(rtl.as(e,t.TTMSFNCCustomToolBarAppearance).FStroke),this.FHorizontalSpacing=rtl.as(e,t.TTMSFNCCustomToolBarAppearance).FHorizontalSpacing,this.FVerticalSpacing=rtl.as(e,t.TTMSFNCCustomToolBarAppearance).FVerticalSpacing,this.FDragGripColor=rtl.as(e,t.TTMSFNCCustomToolBarAppearance).FDragGripColor,this.FDragGrip=rtl.as(e,t.TTMSFNCCustomToolBarAppearance).FDragGrip,this.FFlatStyle=rtl.as(e,t.TTMSFNCCustomToolBarAppearance).FFlatStyle)},this.Create$1=function(t){return this.FOwner=t,this.FFont=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2"),this.FFlatStyle=!1,this.FHorizontalSpacing=3,this.FVerticalSpacing=3,this.FDragGrip=!0,this.FDragGripColor=13882323,this.FFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[2,16777215,pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(230,230,230),-1,-1]),this.FStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,8421504]),this.FFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FSeparatorStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,16777215]),this.FSeparatorStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this},this.Destroy=function(){rtl.free(this,"FSeparatorStroke"),rtl.free(this,"FFont"),rtl.free(this,"FFill"),rtl.free(this,"FStroke"),pas.System.TObject.Destroy.call(this)},this.$rtti.addMethod("Create$1",2,[["AOwner",t.$rtti.TTMSFNCCustomToolBar]])})),rtl.createClass(this,"TTMSFNCToolBarAppearance",this.TTMSFNCCustomToolBarAppearance,(function(){var t=this.$rtti;t.addProperty("FlatStyle",2,rtl.boolean,"FFlatStyle","SetFlatStyle",{Default:!1}),t.addProperty("Fill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FFill","SetFill"),t.addProperty("Stroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FStroke","SetStroke"),t.addProperty("Separator",2,rtl.boolean,"FSeparator","SetSeparator",{Default:!1}),t.addProperty("SeparatorStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FSeparatorStroke","SetSeparatorStroke"),t.addProperty("HorizontalSpacing",14,rtl.double,"FHorizontalSpacing","SetHorizontalSpacing",{stored:"IsHorizontalSpacingStored"}),t.addProperty("VerticalSpacing",14,rtl.double,"FVerticalSpacing","SetVerticalSpacing",{stored:"IsVerticalSpacingStored"}),t.addProperty("DragGrip",2,rtl.boolean,"FDragGrip","SetDragGrip",{Default:!0}),t.addProperty("DragGripColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FDragGripColor","SetDragGripColor",{Default:13882323})})),rtl.createClass(this,"TTMSFNCToolBarControl",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FControlIndex=0,this.FControl=null,this.FLayout=0,this.FBitmap=null},this.$final=function(){this.FControl=void 0,this.FBitmap=void 0,pas.Classes.TPersistent.$final.call(this)},this.Create$1=function(){return this.FBitmap=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),this},this.Destroy=function(){rtl.free(this,"FBitmap"),pas.System.TObject.Destroy.call(this)},this.$rtti.addMethod("Create$1",2,[])})),this.$rtti.$MethodVar("TTMSFNCToolBarCustomizeOptionsMenu",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["APopupMenu",pas["WEBLib.Menus"].$rtti.TPopupMenu]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCToolBarCustomizeOptionsMenuItem",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AControl",pas["WEBLib.Controls"].$rtti.TControl],["AMenuItem",pas["WEBLib.Menus"].$rtti.TMenuItem]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCToolBarCanShowOptionsMenuItem",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AControl",pas["WEBLib.Controls"].$rtti.TControl],["ACanShowItem",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCToolBarOptionsMenuItemClick",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AControl",pas["WEBLib.Controls"].$rtti.TControl],["AMenuItem",pas["WEBLib.Menus"].$rtti.TMenuItem],["AExecuteDefaultAction",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCToolBarIsLastElement",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AControl",pas["WEBLib.Controls"].$rtti.TControl],["AIsLastElement",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCToolBarAnchorClickEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AAnchor",rtl.string]]),methodkind:0}),rtl.createClass(this,"TTMSFNCCustomToolBarOptionsMenu",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FOwner=null,this.FShowItemText=!1,this.FShowItemBitmap=!1,this.FShowButton=!1,this.FItemBitmapWidth=0,this.FAutoItemBitmapWidth=!1},this.$final=function(){this.FOwner=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetShowButton=function(t){this.FShowButton!==t&&(this.FShowButton=t,this.FOwner.FOptionsMenuButton.SetVisible(this.FShowButton),this.FShowButton?this.FOwner.FOptionsMenuButton.SetParent(this.FOwner):this.FOwner.FOptionsMenuButton.SetParent(null),this.FOwner.UpdateControls())},this.SetShowItemBitmap=function(t){this.FShowItemBitmap!==t&&(this.FShowItemBitmap=t)},this.SetShowItemText=function(t){this.FShowItemText!==t&&(this.FShowItemText=t)},this.SetAutoItemBitmapWidth=function(t){this.FAutoItemBitmapWidth!==t&&(this.FAutoItemBitmapWidth=t)},this.SetItemBitmapWidth=function(t){this.FItemBitmapWidth!==t&&(this.FItemBitmapWidth=t)},this.IsItemBitmapWidthStored=function(){return 50!==this.FItemBitmapWidth},this.Assign=function(e){t.TTMSFNCCustomToolBarOptionsMenu.isPrototypeOf(e)&&(this.FShowItemText=rtl.as(e,t.TTMSFNCCustomToolBarOptionsMenu).FShowItemText,this.FShowItemBitmap=rtl.as(e,t.TTMSFNCCustomToolBarOptionsMenu).FShowItemBitmap,this.FShowButton=rtl.as(e,t.TTMSFNCCustomToolBarOptionsMenu).FShowButton,this.FAutoItemBitmapWidth=rtl.as(e,t.TTMSFNCCustomToolBarOptionsMenu).FAutoItemBitmapWidth,this.FItemBitmapWidth=rtl.as(e,t.TTMSFNCCustomToolBarOptionsMenu).FItemBitmapWidth)},this.Create$1=function(t){return this.FOwner=t,this.FShowItemText=!0,this.FShowButton=!0,this.FShowItemBitmap=!0,this.FAutoItemBitmapWidth=!0,this.FItemBitmapWidth=50,this},this.Destroy=function(){pas.System.TObject.Destroy.call(this)},this.$rtti.addMethod("Create$1",2,[["AOwner",t.$rtti.TTMSFNCCustomToolBar]])})),rtl.createClass(this,"TTMSFNCToolBarOptionsMenu",this.TTMSFNCCustomToolBarOptionsMenu,(function(){var t=this.$rtti;t.addProperty("ShowButton",2,rtl.boolean,"FShowButton","SetShowButton",{Default:!0}),t.addProperty("ShowItemBitmap",2,rtl.boolean,"FShowItemBitmap","SetShowItemBitmap",{Default:!0}),t.addProperty("ShowItemText",2,rtl.boolean,"FShowItemText","SetShowItemText",{Default:!0}),t.addProperty("AutoItemBitmapWidth",2,rtl.boolean,"FAutoItemBitmapWidth","SetAutoItemBitmapWidth",{Default:!0}),t.addProperty("ItemBitmapWidth",14,rtl.double,"FItemBitmapWidth","SetItemBitmapWidth",{stored:"IsItemBitmapWidthStored"})})),rtl.createClass(this,"TTMSFNCToolBarControlObjectList",pas.contnrs.TObjectList,(function(){this.GetItem$1=function(t){return this.GetItem(t)}})),rtl.createClass(this,"TTMSFNCToolBarControlList",pas.Classes.TList,(function(){this.GetItem=function(t){return rtl.getObject(this.Get(t))}})),this.$rtti.$MethodVar("TTMSFNCToolBarDragGripMovingEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["DeltaX",rtl.double],["DeltaY",rtl.double]]),methodkind:0}),rtl.createClass(this,"TTMSFNCToolBarPopup",pas["WEBLib.TMSFNCPopup"].TTMSFNCPopup,(function(){rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TTMSFNCCustomToolBar",pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl,(function(){this.$init=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$init.call(this),this.FCompactToolbar=null,this.FCompactPopup=null,this.FHover=!1,this.FHoverP=!1,this.FQuickMenuButtonHover=!1,this.FQuickMenuButtonHoverP=!1,this.FDown=!1,this.FQuickMenuButtonDown=!1,this.FOldWidth=0,this.FOldMenuButtonState=!1,this.FBitmapContainer=null,this.FInsideDrag=!1,this.FDragGripMoving=!1,this.FDragGripDown=!1,this.FDragGripDownPt=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),this.FHiddenControls=null,this.FCompactControls=null,this.FBlockUpdate=!1,this.FBlockResize=!1,this.FAutoSize=!1,this.FAppearance=null,this.FAutoAlign=!1,this.FOptionsMenuButton=null,this.FAutoOptionsMenu=null,this.FOnOptionsMenuCustomize=null,this.FOnOptionsMenuItemCustomize=null,this.FOnOptionsMenuButtonClick=null,this.FOptionsMenu=null,this.FCustomOptionsMenu=null,this.FOnOptionsMenuItemCanShow=null,this.FState=0,this.FOnOptionsMenuItemClick=null,this.FOnOptionsMenuItemApplyStyle=null,this.FOnUpdateDockPanel=null,this.FOnUpdateControls=null,this.FOnIsLastElement=null,this.FOnDragGripMoving=null,this.FAutoMoveToolBar=!1,this.FOnInternalDblClick$1=null,this.FOnInternalMouseDown$1=null,this.FOnInternalMouseMove$1=null,this.FOnInternalMouseUp$1=null,this.FAutoHeight=!1,this.FAutoWidth=!1,this.FOnInternalInsertControl=null,this.FAutoStretchHeight=!1,this.FText="",this.FFirstLoad=!1,this.FFont$1=null,this.FVerticalTextAlign=0,this.FTrimming=0,this.FHorizontalTextAlign=0,this.FWordWrapping=!1,this.FTextVisible=!1,this.FMinimumWidth=0,this.FCompact=!1,this.FCanCompact=!1,this.FCompactWidth=0,this.FCompactAppearance=null,this.FCompactBitmaps=null,this.FOnCompactClick=null,this.FCompactBitmapSize=0,this.FCompactBitmapVisible=!1,this.FCompactExpanderBitmaps=null,this.FQuickMenuButton=!1,this.FQuickMenuButtonAppearance=null,this.FOnQuickMenuButtonClick=null,this.FQuickMenuButtonBitmaps=null,this.FQuickMenuButtonHint="",this.FCompactAutoBitmapSize=!1,this.FOnAnchorClick=null},this.$final=function(){this.FCompactToolbar=void 0,this.FCompactPopup=void 0,this.FBitmapContainer=void 0,this.FDragGripDownPt=void 0,this.FHiddenControls=void 0,this.FCompactControls=void 0,this.FAppearance=void 0,this.FOptionsMenuButton=void 0,this.FAutoOptionsMenu=void 0,this.FOnOptionsMenuCustomize=void 0,this.FOnOptionsMenuItemCustomize=void 0,this.FOnOptionsMenuButtonClick=void 0,this.FOptionsMenu=void 0,this.FCustomOptionsMenu=void 0,this.FOnOptionsMenuItemCanShow=void 0,this.FOnOptionsMenuItemClick=void 0,this.FOnOptionsMenuItemApplyStyle=void 0,this.FOnUpdateDockPanel=void 0,this.FOnUpdateControls=void 0,this.FOnIsLastElement=void 0,this.FOnDragGripMoving=void 0,this.FOnInternalDblClick$1=void 0,this.FOnInternalMouseDown$1=void 0,this.FOnInternalMouseMove$1=void 0,this.FOnInternalMouseUp$1=void 0,this.FOnInternalInsertControl=void 0,this.FFont$1=void 0,this.FCompactAppearance=void 0,this.FCompactBitmaps=void 0,this.FOnCompactClick=void 0,this.FCompactExpanderBitmaps=void 0,this.FQuickMenuButtonAppearance=void 0,this.FOnQuickMenuButtonClick=void 0,this.FQuickMenuButtonBitmaps=void 0,this.FOnAnchorClick=void 0,pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$final.call(this)},this.SetAppearance=function(t){this.FAppearance.Assign(t)},this.SetAS=function(t){this.FAutoSize!==t&&(this.FAutoSize=t,this.UpdateControls())},this.SetAutoAlign=function(t){this.FAutoAlign!==t&&(this.FAutoAlign=t,this.UpdateControls())},this.SetOptionsMenu=function(t){this.FOptionsMenu.Assign(t)},this.SetState=function(e){var i=0,s=null;if(this.FState!==e){this.FState=e;for(var o=0,n=this.GetControlsCount()-1;o<=n;o++)i=o,s=this.GetControls(i),t.TTMSFNCCustomToolBarElement.isPrototypeOf(s)&&rtl.as(s,t.TTMSFNCCustomToolBarElement).SetState(this.FState)}},this.SetAutoHeight=function(t){this.FAutoHeight!==t&&(this.FAutoHeight=t,this.UpdateControls())},this.SetAutoWidth=function(t){this.FAutoWidth!==t&&(this.FAutoWidth=t,this.UpdateControls())},this.SetAutoStretchHeight=function(t){this.FAutoStretchHeight!==t&&(this.FAutoStretchHeight=t,this.UpdateControls())},this.SetText=function(t){this.FText!==t&&(this.FText=t,this.UpdateControls())},this.GetBitmapContainer=function(){return this.FBitmapContainer},this.SetFont$1=function(t){this.FFont$1.Assign(t)},this.SetHorizontalTextAlign=function(t){this.FHorizontalTextAlign!==t&&(this.FHorizontalTextAlign=t,this.Invalidate())},this.SetTrimming=function(t){this.FTrimming!==t&&(this.FTrimming=t,this.UpdateControls())},this.SetVerticalTextAlign=function(t){this.FVerticalTextAlign!==t&&(this.FVerticalTextAlign=t,this.UpdateControls())},this.SetWordWrapping=function(t){this.FWordWrapping!==t&&(this.FWordWrapping=t,this.UpdateControls())},this.IsMinimumWidthStored=function(){return 30!==this.FMinimumWidth},this.SetMinimumWidth=function(t){this.FMinimumWidth!==t&&(this.FMinimumWidth=t,this.UpdateControls())},this.SetCompact=function(t){this.FCompact!==t&&this.FCanCompact&&(this.FCompact=t,this.FCompact?(this.FOldMenuButtonState=this.FOptionsMenu.FShowButton,this.FOptionsMenu.SetShowButton(!1),this.FOldWidth=this.GetWidth(),this.CompactControls(),this.SetWidth(Math.round(this.FCompactWidth))):(this.SetWidth(Math.round(this.FOldWidth)),this.UncompactControls(),this.FOptionsMenu.SetShowButton(this.FOldMenuButtonState)),this.UpdateControls())},this.SetCanCompact=function(t){this.FCanCompact!==t&&(this.FCanCompact=t)},this.IsCompactWidthStored=function(){return 50!==this.FCompactWidth},this.SetCompactWidth=function(t){this.FCompactWidth!==t&&(this.FCompactWidth=t,this.FCompact&&this.SetWidth(Math.round(this.FCompactWidth)))},this.SetCompactAppearance=function(t){this.FCompactAppearance.Assign(t)},this.SetCompactBitmaps=function(t){this.FCompactBitmaps.Assign(t)},this.IsCompactBitmapSizeStored=function(){return 24!==this.FCompactBitmapSize},this.SetCompactBitmapSize=function(t){this.FCompactBitmapSize!==t&&(this.FCompactBitmapSize=t,this.Invalidate())},this.SetCompactBitmapVisible=function(t){this.FCompactBitmapVisible!==t&&(this.FCompactBitmapVisible=t,this.Invalidate())},this.SetQuickMenuButton=function(t){this.FQuickMenuButton!==t&&(this.FQuickMenuButton=t,this.Invalidate())},this.SetQuickMenuButtonAppearance=function(t){this.FQuickMenuButtonAppearance.Assign(t)},this.SetCompactAutoBitmapSize=function(t){this.FCompactAutoBitmapSize!==t&&(this.FCompactAutoBitmapSize=t,this.Invalidate())},this.GetTextRect=function(){var t,e=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=0;return s=0,this.FAppearance.FDragGrip&&(s=1===this.FState?3:2),i.$assign(this.GetLocalRect()),i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left+this.ScalePaintValue$1(s),i.Top,i.Right,i.Bottom)),pas["WEBLib.TMSFNCTypes"].InflateRectEx(i,this.ScalePaintValue(-2),this.ScalePaintValue(-2)),t=this.GetTextSize().cy,e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left,i.Bottom-t,i.Right,i.Bottom)),e},this.GetVersion=function(){return this.$class.GetVersionNumber(1,0,2,2)},this.CanDrawDesignTime=function(){return!1,!1},this.CanBuildControls=function(){return!0,!0},this.GetOptionsMenuButtonClass=function(){return t.TTMSFNCToolBarDropDownButton},this.GetTextSize=function(){var t=pas["WEBLib.TMSFNCTypes"].TSizeF.$new(),e=null,i=0,s=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(t.cx=0,t.cy=0,this.FTextVisible&&""!==this.FText){e=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("CreateBitmapCanvas",[1,1,this.FNativeCanvas,!0]),this.FNativeCanvas||e.BeginScene(),e.FBitmapContainer=this.GetBitmapContainer(),e.FOptimizedHTMLDrawing=this.FOptimizedHTMLDrawing;try{i=0,this.FAppearance.FDragGrip&&(i=1===this.FState?3:2),e.FFont.Assign(this.FFont$1),s.$assign(this.GetLocalRect()),s.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Left+i,s.Top,s.Right,s.Bottom)),pas["WEBLib.TMSFNCTypes"].InflateRectEx(s,-2,-2),t.$assign(e.CalculateTextSize(this.FText,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),this.FWordWrapping,!0))}finally{this.FNativeCanvas||e.EndScene(),e=rtl.freeLoc(e)}}return t},this.GetHiddenControl=function(t){var e=null,i=0;e=null;for(var s=0,o=this.FHiddenControls.GetCount()-1;s<=o;s++)if(i=s,this.FHiddenControls.GetItem$1(i).FControl===t){e=this.FHiddenControls.GetItem$1(i);break}return e},this.GetHiddenControlCount=function(e){var i=0,s=0,o=null;o=t.TTMSFNCToolBarControlList.$create("Create$1");for(var n=0,a=this.FHiddenControls.GetCount()-1;n<=a;n++)s=n,o.Add(this.FHiddenControls.GetItem$1(s));i=0;for(var r=0,l=o.GetCount()-1;r<=l&&(s=r,o.GetItem(s).FControl!==e);r++)i+=1;return o=rtl.freeLoc(o),i},this.GetCompactTextRect=function(){var t=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),e=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),i=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return i.$assign(this.GetLocalRect()),e.$assign(this.GetCompactBitmapRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i))),t.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left+3,e.Bottom+3,i.Right-3,i.Bottom-23)),t},this.GetCompactBitmapRect=function(t){var e=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=0;return i.$assign(t),e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left,i.Top,i.Right,i.Top)),this.FCompactBitmapVisible&&(s=this.GetCompactBitmapSize(),this.FTextVisible&&""!==this.FText?this.FTextVisible&&""!==this.FText&&e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left+3,i.Top+3,i.Right-3,i.Top+s)):(e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left+3,i.Top+3,i.Right-3,i.Bottom-3)),-1!==s&&(e.Left=Math.round(i.Left+(i.Right-i.Left-s)/2),e.Top=Math.round(i.Top+(i.Bottom-i.Top-s)/2),e.Right=e.Left+s,e.Bottom=e.Top+s))),e},this.GetCompactBitmapSize=function(){var t=0,e=null;return t=this.FCompactBitmapSize,this.FCompactAutoBitmapSize&&(null==(e=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.GetScaledBitmap(this.FCompactBitmaps,0,this.GetBitmapContainer()))||pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(e)||(t=Math.max(e.GetHeight(),e.GetWidth()))),t},this.GetQuickMenuButtonRect=function(){var t=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return t.$assign(pas["WEBLib.TMSFNCTypes"].RectF(this.GetWidth()-16,this.GetHeight()-16,this.GetWidth(),this.GetHeight())),this.FAppearance.FSeparator&&(t.Left=t.Left-this.FAppearance.FSeparatorStroke.FWidth,t.Right=t.Right-this.FAppearance.FSeparatorStroke.FWidth),t},this.HandleQuickMenuButton=function(){null!=this.FOnQuickMenuButtonClick&&this.FOnQuickMenuButtonClick(this)},this.CompactAppearanceChanged=function(t){this.Invalidate()},this.QuickMenuButtonAppearanceChanged=function(t){this.Invalidate()},this.CompactBitmapsChanged=function(t){var e;e=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.GetScaledBitmap(this.FCompactBitmaps,0,this.GetBitmapContainer()),this.SetCompactBitmapVisible(null!=e&&!pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(e)),this.Invalidate()},this.CompactExpanderBitmapsChanged=function(t){this.Invalidate()},this.QuickMenuButtonBitmapsChanged=function(t){this.Invalidate()},this.ApplyFlatStyle=function(){for(var e=0,i=null,s=0,o=this.GetControlsCount()-1;s<=o;s++)e=s,i=this.GetControls(e),t.TTMSFNCDefaultToolBarButton.isPrototypeOf(i)&&rtl.as(i,t.TTMSFNCDefaultToolBarButton).FAppearance.SetFlatStyle(this.FAppearance.FFlatStyle),t.TTMSFNCCustomToolBar.isPrototypeOf(i)&&rtl.as(i,t.TTMSFNCCustomToolBar).FAppearance.SetFlatStyle(this.FAppearance.FFlatStyle);this.Invalidate()},this.SetAdaptToStyle=function(t){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.SetAdaptToStyle.apply(this,arguments),this.UpdateControls()},this.ApplyStyle=function(){var t=0;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.ApplyStyle.call(this),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleHeaderFillColor({get:function(){return t},set:function(e){t=e}})&&(this.FAppearance.FFill.SetKind(1),this.FAppearance.FFill.SetColor(t)),pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleHeaderFillColorTo({get:function(){return t},set:function(e){t=e}})&&(this.FAppearance.FFill.SetKind(2),this.FAppearance.FFill.SetColorTo(t))},this.ResetToDefaultStyle=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.ResetToDefaultStyle.call(this),this.FAppearance.SetDragGripColor(13882323),this.FAppearance.FFill.SetColor(16777215),this.FAppearance.FStroke.SetColor(8421504),this.FAppearance.FFill.SetKind(2),this.FAppearance.FStroke.SetKind(1),this.FAppearance.FFill.SetColor(16777215),this.FAppearance.FFill.SetColorTo(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(230,230,230))},this.HandleMouseDown=function(t,e,i,s){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseDown.apply(this,arguments),this.FAppearance.FDragGrip&&!this.FDragGripMoving&&(this.FDragGripDown=pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetDragGripRect(!0),pas["WEBLib.TMSFNCTypes"].PointF(i,s)),this.FDragGripDownPt.$assign(pas["WEBLib.TMSFNCTypes"].PointF(i,s))),this.FDragGripDown||(this.FCompact?(this.FDown=!0,this.Invalidate(),this.CaptureEx()):this.FQuickMenuButton&&(this.FQuickMenuButtonDown=pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetQuickMenuButtonRect(),pas["WEBLib.TMSFNCTypes"].PointF(i,s)),this.FQuickMenuButtonDown&&(this.Invalidate(),this.CaptureEx()))),null!=this.FOnInternalMouseDown$1&&1!==t&&this.FOnInternalMouseDown$1(this)},this.HandleMouseMove=function(e,i,s){var o=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),n=0,a=0,r=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),l=null;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseMove.apply(this,arguments),this.FCompact?(this.FHoverP=this.FHover,this.FHover=!0,this.FHover!==this.FHoverP&&this.Invalidate()):this.FQuickMenuButton&&(this.FQuickMenuButtonHoverP=this.FQuickMenuButtonHover,this.FQuickMenuButtonHover=pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetQuickMenuButtonRect(),pas["WEBLib.TMSFNCTypes"].PointF(i,s)),this.FQuickMenuButtonHover!==this.FQuickMenuButtonHoverP&&this.Invalidate()),this.FAppearance.FDragGrip&&(this.FDragGripDown?(this.FDragGripMoving||(this.CaptureEx(),this.FDragGripMoving=!0),this.FDragGripMoving&&(n=this.FDragGripDownPt.X-i,a=this.FDragGripDownPt.Y-s,this.FAutoMoveToolBar&&(r.$assign(pas["WEBLib.TMSFNCTypes"].PointF(this.GetLeft()-n,this.GetTop()-a)),t.TTMSFNCCustomDockPanel.isPrototypeOf(this.FParent)&&(l=rtl.as(this.FParent,t.TTMSFNCCustomDockPanel)).FAutoAlign&&(r.Y<l.FAppearance.FMargins.FTop&&(r.Y=Math.round(l.FAppearance.FMargins.FTop)),r.X<l.FAppearance.FMargins.FLeft?r.X=Math.round(l.FAppearance.FMargins.FLeft):r.X+this.GetWidth()>l.GetWidth()-l.FAppearance.FMargins.FRight&&(r.X=Math.round(l.GetWidth()-l.FAppearance.FMargins.FRight-this.GetWidth())),this.SetBounds(Math.round(r.X),Math.round(r.Y),this.GetWidth(),this.GetHeight()))),this.FDragGripDownPt.$assign(pas["WEBLib.TMSFNCTypes"].PointF(i+n,s+a)),this.DoDragGripMoving(n,a))):(o.$assign(this.GetDragGripRect(!0)),pas["WEBLib.TMSFNCTypes"].PtInRectEx(o,pas["WEBLib.TMSFNCTypes"].PointF(i,s))?this.FInsideDrag||(this.FInsideDrag=!0,this.SetControlCursor(5)):this.FInsideDrag&&(this.FInsideDrag=!1,this.SetControlCursor(0)))),""!==this.XYToAnchor(i,s)?this.SetControlCursor(21):21===this.FCursor&&this.SetControlCursor(0),null!=this.FOnInternalMouseMove$1&&this.FOnInternalMouseMove$1(this)},this.HandleMouseLeave=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseLeave.call(this),this.FHoverP=!1,this.FQuickMenuButtonHover=!1,this.SetControlCursor(0),this.FInsideDrag=!1,this.FHoverP!==this.FHover&&(this.FHover=!1,this.Invalidate())},this.HandleMouseUp=function(t,e,i,s){var o="";pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseUp.apply(this,arguments),this.FDragGripDown?this.ReleaseCaptureEx():this.FDown&&this.FCompact?(this.Invalidate(),this.ReleaseCaptureEx(),this.HandleCompact()):this.FQuickMenuButtonDown&&this.FQuickMenuButton&&!this.FCompact&&(this.Invalidate(),this.ReleaseCaptureEx(),this.HandleQuickMenuButton()),this.FDragGripDown=!1,this.FDragGripMoving=!1,this.FDown=!1,this.FQuickMenuButtonDown=!1,""!==(o=this.XYToAnchor(i,s))&&this.DoAnchorClick(o),null!=this.FOnInternalMouseUp$1&&1!==t&&this.FOnInternalMouseUp$1(this)},this.HandleCompact=function(){var e=0,i=null;this.DeactivateAllPopups(),null!=this.FCompactToolbar&&(rtl.free(this,"FCompactToolbar"),this.FCompactToolbar=null),null!=this.FCompactPopup&&(rtl.free(this,"FCompactPopup"),this.FCompactPopup=null),this.FCompactPopup=t.TTMSFNCToolBarPopup.$create("Create$1",[this]),this.FCompactPopup.FOnClosePopup=rtl.createCallback(this,"DoCloseCompactPopup"),this.FCompactToolbar=t.TTMSFNCCustomToolBar.$create("Create$1",[this.FCompactPopup]),this.FCompactToolbar.Assign(this),this.FCompactToolbar.SetCompact(!1),this.FCompactToolbar.SetAS(!0),this.FCompactToolbar.SetAutoHeight(!1),this.FCompactToolbar.SetAutoWidth(!0),this.FCompactToolbar.SetAutoStretchHeight(!1),this.FCompactToolbar.FAppearance.SetSeparator(!1),this.FCompactToolbar.SetControlMargins(1,1,1,1),this.FCompactToolbar.SetHeight(this.GetHeight()+2);for(var s=this.FCompactControls.GetCount()-1;s>=0;s--)e=s,null!=(i=this.FCompactControls.GetItem$1(e)).FControl&&(t.TTMSFNCDefaultToolBarButton.isPrototypeOf(i.FControl)&&rtl.as(i.FControl,t.TTMSFNCDefaultToolBarButton).SetLayout(rtl.as(i.FControl,t.TTMSFNCDefaultToolBarButton).FCompactLayout),i.FControl.SetVisible(!0),i.FControl.SetParent(this.FCompactToolbar));this.FCompactToolbar.UpdateControls(),this.FCompactPopup.SetPlacementControl(this),this.FCompactPopup.SetContentControl(this.FCompactToolbar),this.FCompactPopup.SetIsOpen(!0),this.DoCompactClick()},this.DeactivateAllPopups=function(){var e=0;if(null!=this.FParent&&pas["WEBLib.Controls"].TWinControl.isPrototypeOf(this.FParent))for(var i=0,s=rtl.as(this.FParent,pas["WEBLib.Controls"].TWinControl).GetControlsCount()-1;i<=s;i++)e=i,t.TTMSFNCCustomToolBar.isPrototypeOf(rtl.as(this.FParent,pas["WEBLib.Controls"].TWinControl).GetControls(e))&&rtl.as(rtl.as(this.FParent,pas["WEBLib.Controls"].TWinControl).GetControls(e),t.TTMSFNCCustomToolBar).CloseCompactPopup()},this.DoCompactClick=function(){null!=this.FOnCompactClick&&this.FOnCompactClick(this)},this.HandleDblClick=function(t,e){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleDblClick.apply(this,arguments),null!=this.FOnInternalDblClick$1&&this.FOnInternalDblClick$1(this)},this.UpdateDockPanel=function(){null!=this.FOnUpdateDockPanel&&this.FOnUpdateDockPanel(this)},this.InsertToolBarControl=function(t,e){t.SetParent(this),e>-1&&this.SetChildOrder(t,e),null!=this.FOnInternalInsertControl&&this.FOnInternalInsertControl(t)},this.DoDragGripMoving=function(t,e){null!=this.FOnDragGripMoving&&this.FOnDragGripMoving(this,t,e)},this.VisibleChanging=function(){pas["WEBLib.Controls"].TControl.VisibleChanging.call(this),this.UpdateDockPanel()},this.GetDragGripRect=function(t){var e=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=0;return i.$assign(this.GetLocalRect()),s=1,1===this.FState&&(s=1.75),t?e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left,i.Top,i.Left+this.ScalePaintValue$1(8*s),i.Bottom)):e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left+this.ScalePaintValue(3),i.Top+this.ScalePaintValue(3),i.Left+this.ScalePaintValue$1(6*s),i.Bottom-this.ScalePaintValue(3))),e},this.CompactControls=function(){var e=0,i=null,s=null;this.FBlockUpdate=!0,this.FCompactControls.Clear();for(var o=this.GetControlsCount()-1;o>=0;o--)e=o,(s=this.GetControls(e))!==this.FOptionsMenuButton&&((i=t.TTMSFNCToolBarControl.$create("Create$1")).FControl=s,t.TTMSFNCDefaultToolBarButton.isPrototypeOf(s)&&(i.FLayout=rtl.as(s,t.TTMSFNCDefaultToolBarButton).FLayout,0===rtl.as(s,t.TTMSFNCDefaultToolBarButton).FCompactLayout&&0!==rtl.as(s,t.TTMSFNCDefaultToolBarButton).FLayout&&rtl.as(s,t.TTMSFNCDefaultToolBarButton).SetCompactLayout(rtl.as(s,t.TTMSFNCDefaultToolBarButton).FMaximumLayout)),t.TTMSFNCCustomToolBarElement.isPrototypeOf(s)?i.FControlIndex=rtl.as(s,t.TTMSFNCCustomToolBarElement).FControlIndex:i.FControlIndex=s.FTag$1,s.SetParent(null),s.SetVisible(!1),this.FCompactControls.Add$1(i));this.FBlockUpdate=!0,this.UpdateControls(),this.Invalidate()},this.UncompactControls=function(){var e=0,i=null;this.FBlockUpdate=!0;for(var s=this.FCompactControls.GetCount()-1;s>=0;s--)e=s,null!=(i=this.FCompactControls.GetItem$1(e).FControl)&&(t.TTMSFNCCustomToolBarElement.isPrototypeOf(i)&&(rtl.as(i,t.TTMSFNCCustomToolBarElement).FBlockUpdate=!0),i.SetParent(this),i.SetVisible(!0),t.TTMSFNCCustomToolBarElement.isPrototypeOf(i)&&(rtl.as(i,t.TTMSFNCCustomToolBarElement).FBlockUpdate=!1));this.FBlockUpdate=!1,this.UpdateControls(),this.Invalidate()},this.UpdateToolBar=function(t){this.UpdateControls()},this.DoIsLastElement=function(t,e){null!=this.FOnIsLastElement&&this.FOnIsLastElement(this,t,e)},this.UpdateToolBarControl=function(e){var i=null,s=null,o=null,n=null,a=0;null!=e&&(this.FBlockUpdate=!0,o=rtl.as(e,pas["WEBLib.Controls"].TControl),null!=(i=this.GetHiddenControl(o))?(n=i.FControl,a=Math.max(0,Math.min(this.GetControlsCount(),i.FControlIndex-this.GetHiddenControlCount(n))),this.FHiddenControls.Remove$1(i),this.InsertToolBarControl(n,a),n.SetVisible(!0)):(i=t.TTMSFNCToolBarControl.$create("Create$1"),t.TTMSFNCCustomToolBarElement.isPrototypeOf(o)?i.FControlIndex=rtl.as(o,t.TTMSFNCCustomToolBarElement).FControlIndex:i.FControlIndex=o.FTag$1,i.FControl=o,this.FBlockUpdate=!0,s=o.MakeScreenshot(),this.FBlockUpdate=!1,i.FBitmap.Assign(s),s=rtl.freeLoc(s),this.FHiddenControls.Add$1(i),o.SetParent(null),o.SetVisible(!1)),this.FBlockUpdate=!1,this.UpdateControls())},this.OptionsButtonClick=function(t){var e=pas["WEBLib.TMSFNCTypes"].TPointF.$new();null!=this.FOnOptionsMenuButtonClick?this.FOnOptionsMenuButtonClick(this):(e.$assign(pas["WEBLib.TMSFNCTypes"].PointF(this.FOptionsMenuButton.GetLeft(),this.FOptionsMenuButton.GetTop())),e.$assign(this.LocalToScreenEx(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(e.X,e.Y+this.FOptionsMenuButton.GetHeight())))),this.ShowOptionsMenu(e.X,e.Y))},this.DoCloseCompactPopup=function(e){var i=0,s=null;this.FCompactPopup.SetContentControl(null);for(var o=0,n=this.FCompactControls.GetCount()-1;o<=n;o++)i=o,null!=(s=this.FCompactControls.GetItem$1(i)).FControl&&(t.TTMSFNCDefaultToolBarButton.isPrototypeOf(s.FControl)&&rtl.as(s.FControl,t.TTMSFNCDefaultToolBarButton).SetLayout(s.FLayout),s.FControl.SetParent(null),s.FControl.SetVisible(!1));null!=this.FCompactToolbar&&(rtl.free(this,"FCompactToolbar"),this.FCompactToolbar=null)},this.Notification=function(t,e){pas["WEBLib.Menus"].TWebCustomControl.Notification.apply(this,arguments),1===e&&t===this.FBitmapContainer&&(this.FBitmapContainer=null),1===e&&t===this.FCustomOptionsMenu&&(this.FCustomOptionsMenu=null)},this.AlignControls=function(t,e){pas["WEBLib.Controls"].TControl.AlignControls.apply(this,arguments),this.UpdateControls()},this.UpdateControlAfterResize=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.UpdateControlAfterResize.call(this),this.UpdateDockPanel()},this.UpdateControls=function(){var e=this,i=0,s=null,o=0,n=!1,a=0,r=0,l=0,h=0,F=0,p=0,C=0,u=0,d=0,c=0,S=0,T=0,m=null,g=!1,M=null,f=pas["WEBLib.TMSFNCTypes"].TSizeF.$new(),b=null,y=0,B=0,E=0,L=0;function D(t){var i=null;if(i=null,t>=0&&t<=e.GetControlsCount()-1&&e.GetControls(t).FVisible)return i=e.GetControls(t);for(;t>=0&&t<=e.GetControlsCount()-1;)if((t+=1)>=0&&t<=e.GetControlsCount()-1&&e.GetControls(t).FVisible)return i=e.GetControls(t);return i}var N=rtl.createIntfRefs();try{if(this.FBlockUpdate||this.FBlockResize||function(){var t=!1,i=0;if(!(t=e.IsLoading()))for(var s=e.GetControlsCount()-1;s>=0;s--)if(i=s,0 in e.GetControls(i).FComponentState)return t=!0;return t}()||this.IsDestroying()||!this.CanBuildControls())return;this.FFirstLoad=!1,this.FBlockUpdate=!0,p=Math.round(this.FAppearance.FHorizontalSpacing),u=Math.round(this.FAppearance.FVerticalSpacing),r=p,this.FAppearance.FDragGrip&&(r+=Math.round(this.GetDragGripRect(!1).Right),0===p&&(r+=this.ScalePaintValue(3))),d=r,c=h=u,C=this.ScalePaintValue(30),S=0,T=0,f.$assign(this.GetTextSize()),f.cy>0&&(S=Math.round(f.cy+this.ScalePaintValue(4))),f.cx>0&&(T=Math.round(f.cx+this.ScalePaintValue(8))),l=T,a=0,F=0,o=0,n=!1;for(var A=0,G=e.GetControlsCount()-1;A<=G&&(i=A,s=e.GetControls(i),!(n=!(null!=this.GetHiddenControl(s))));A++);g=!1;for(var P=0,R=e.GetControlsCount()-1;P<=R;P++)if(i=P,s=e.GetControls(i),pas.SysUtils.Supports$1(N.ref(1,rtl.queryIntfT(s,pas.System.IUnknown)),rtl.getIntfGUIDR(pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),{get:function(){return M},set:function(t){M=t}})&&M.SetAdaptToStyle(this.GetAdaptToStyle()),g&&(r=d,c=h=F),g=!1,t.TTMSFNCCustomToolBarElement.isPrototypeOf(s)&&(g=rtl.as(s,t.TTMSFNCCustomToolBarElement).FLastElement,rtl.as(s,t.TTMSFNCCustomToolBarElement).FOnUpdateToolBar=rtl.createCallback(e,"UpdateToolBar"),rtl.as(s,t.TTMSFNCCustomToolBarElement).FOnUpdateToolBarControl=rtl.createCallback(e,"UpdateToolBarControl")),this.DoIsLastElement(s,{get:function(){return g},set:function(t){g=t}}),s!==this.FOptionsMenuButton){if(n&&(t.TTMSFNCCustomToolBarElement.isPrototypeOf(s)?rtl.as(s,t.TTMSFNCCustomToolBarElement).FControlIndex=o:s.FTag$1=o),s.FVisible){if(s.FAlignWithMargins)if(this.FAutoAlign&&(s.SetLeft(r+s.FMargins.FLeft),s.SetTop(h+s.FMargins.FTop)),this.FAutoStretchHeight||t.TTMSFNCDefaultToolBarButton.isPrototypeOf(s)&&3===rtl.as(s,t.TTMSFNCDefaultToolBarButton).FLayout?(F=this.GetHeight()-s.FMargins.FBottom-S-h,s.SetHeight(F)):F=Math.max(F,s.GetTop()+s.GetHeight()+u+s.FMargins.FBottom),null!=(b=D(i+1))&&t.TTMSFNCDefaultToolBarButton.isPrototypeOf(b)){var W=rtl.as(b,t.TTMSFNCDefaultToolBarButton).FLayout;1===W||2===W?(h=Math.max(h,s.GetTop()+s.GetHeight()+u+s.FMargins.FBottom))+b.FMargins.FTop+b.GetHeight()>this.GetHeight()-b.FMargins.FBottom-S?(r=Math.max(r,Math.max(a,s.GetLeft()+s.GetWidth()+p+s.FMargins.FRight)),h=c):(s.SetLeft(r+s.FMargins.FLeft),a=Math.max(r,Math.max(a,s.GetLeft()+s.GetWidth()+p+s.FMargins.FRight))):0!==W&&3!==W||(r=Math.max(r,s.GetLeft()+s.GetWidth()+p+s.FMargins.FRight),h=c)}else r=Math.max(r,Math.max(a,s.GetLeft()+s.GetWidth()+p+s.FMargins.FRight)),h=c;else if(this.FAutoAlign&&(s.SetLeft(r),s.SetTop(h)),this.FAutoStretchHeight||t.TTMSFNCDefaultToolBarButton.isPrototypeOf(s)&&3===rtl.as(s,t.TTMSFNCDefaultToolBarButton).FLayout?(F=this.GetHeight()-S-h,s.SetHeight(F)):F=Math.max(F,s.GetTop()+s.GetHeight()+u),null!=(b=D(i+1))&&t.TTMSFNCDefaultToolBarButton.isPrototypeOf(b)){var v=rtl.as(b,t.TTMSFNCDefaultToolBarButton).FLayout;1===v||2===v?(h=Math.max(h,s.GetTop()+s.GetHeight()+u))+b.GetHeight()>this.GetHeight()-S?(r=Math.max(r,Math.max(a,s.GetLeft()+s.GetWidth()+p)),h=c):(s.SetLeft(r),a=Math.max(r,Math.max(a,s.GetLeft()+s.GetWidth()+p))):0!==v&&3!==v||(r=Math.max(r,s.GetLeft()+s.GetWidth()+p),h=c)}else r=Math.max(r,Math.max(a,s.GetLeft()+s.GetWidth()+p)),h=c;l=Math.max(l,r)}o+=1}0===F&&(F=C),this.FOptionsMenuButton.SetVisible(this.FOptionsMenu.FShowButton),this.FOptionsMenu.FShowButton?this.FOptionsMenuButton.SetParent(e):this.FOptionsMenuButton.SetParent(null),this.FOptionsMenuButton.FVisible&&(this.FOptionsMenuButton.FControlIndex=e.GetControlsCount()-1,this.FOptionsMenuButton.SetTop(this.FOptionsMenuButton.FMargins.FTop),m=this.FOptionsMenuButton.FMargins,this.FOptionsMenuButton.FAlignWithMargins||(m.SetLeft(0),m.SetTop(0),m.SetRight(0),m.SetBottom(0)),this.FAutoSize?(this.FOptionsMenuButton.SetLeft(l+m.FLeft),this.FAutoHeight?this.FOptionsMenuButton.SetHeight(F-m.FBottom-m.FTop):this.FAutoStretchHeight&&this.FOptionsMenuButton.SetHeight(this.GetHeight()-m.FBottom-S-m.FTop)):(this.FOptionsMenuButton.SetLeft(this.GetWidth()-this.FOptionsMenuButton.GetWidth()-m.FRight),this.FOptionsMenuButton.SetHeight(this.GetHeight()-m.FBottom-m.FTop-S)),l=l+this.FOptionsMenuButton.GetWidth()+m.FRight+m.FLeft),this.FAutoSize&&(this.FAppearance.FSeparator&&(l+=Math.round(this.FAppearance.FSeparatorStroke.FWidth)),l=Math.round(Math.max(this.FMinimumWidth,l)),0===this.GetControlAlignment()&&(y=0,E=0,B=0,L=0,this.GetControlMargins({get:function(){return y},set:function(t){y=t}},{get:function(){return B},set:function(t){B=t}},{get:function(){return E},set:function(t){E=t}},{get:function(){return L},set:function(t){L=t}}),l+=Math.round(y+E)),F+=S,this.FAutoHeight&&this.FAutoWidth&&0===this.GetControlAlignment()?this.SetBounds(this.GetLeft(),this.GetTop(),l,F):this.FAutoHeight&&!(this.GetControlAlignment()in rtl.createSet(3,4,5))?this.SetBounds(this.GetLeft(),this.GetTop(),this.GetWidth(),F):this.FAutoWidth&&!(this.GetControlAlignment()in rtl.createSet(1,2,5))&&this.SetBounds(this.GetLeft(),this.GetTop(),l,this.GetHeight())),null!=this.FOnUpdateControls&&this.FOnUpdateControls(e),this.FBlockUpdate=!1}finally{N.free(),rtl._Release(M)}},this.DrawDragGrip=function(t){var e=this;var i=pas["WEBLib.TMSFNCTypes"].TRectF.$new();t.FFill.SetColor(this.FAppearance.FDragGripColor),t.FFill.SetKind(1),i.$assign(this.GetDragGripRect(!1)),function(i){var s=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),o=0;o=1===e.FState?e.ScalePaintValue(3):e.ScalePaintValue(2),i.Left=i.Left,i.Top=i.Top;for(var n=1,a=rtl.trunc(Math.round(i.Bottom)/(2*Math.round(o)));n<=a;n++)n,s.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left+(i.Right-i.Left-o)/2,i.Top+1,i.Left+o+(i.Right-i.Left-o)/2,i.Top+1+o)),s.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(s.Left),pas.System.Int(s.Top),pas.System.Int(s.Right),pas.System.Int(s.Bottom))),t.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),2),i.Top=i.Top+2*o}(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i))},this.DrawText=function(t){var e=pas["WEBLib.TMSFNCTypes"].TRectF.$new();this.FTextVisible&&""!==this.FText&&(t.FFont.Assign(this.FFont$1),e.$assign(this.GetTextRect()),t.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),this.FText,this.FWordWrapping,this.FHorizontalTextAlign,this.FVerticalTextAlign,this.FTrimming,0,-1,-1,!0,!1,-1,-1))},this.DrawCompactBitmap=function(t,e){var i=pas["WEBLib.TMSFNCTypes"].TRectF.$new();i.$assign(this.GetCompactBitmapRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e))),t.FBitmapContainer=this.GetBitmapContainer(),t.DrawScaledBitmap(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),this.FCompactBitmaps,0,!0,!1,!0,!1)},this.DrawCompactText=function(t){var e,i=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(this.FTextVisible&&""!==this.FText){i.$assign(this.GetCompactTextRect()),e=t.SaveState(!1);try{t.ClipRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i)),t.FFont.Assign(this.FFont$1),t.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),this.FText,this.FWordWrapping,this.FHorizontalTextAlign,this.FVerticalTextAlign,this.FTrimming,0,-1,-1,!0,!1,-1,-1)}finally{t.RestoreState(e,!1)}}},this.DrawCompactExpander=function(t){var e=pas["WEBLib.TMSFNCTypes"].TRectF.$new();e.$assign(this.GetLocalRect()),e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left,e.Bottom-20,e.Right,e.Bottom)),pas["WEBLib.TMSFNCTypes"].InflateRectEx(e,-2,-2),t.DrawScaledBitmap(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),this.FCompactExpanderBitmaps,0,!0,!1,!0,!1)},this.ShowOptionsMenu=function(t,e){},this.XYToAnchor=function(t,e){var i="",s=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),o=null;i="",s.$assign(this.GetTextRect()),(o=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("CreateBitmapCanvas",[1,1,!1,!0])).BeginScene(),o.FBitmapContainer=this.GetBitmapContainer();try{o.FFont.Assign(this.FFont$1),i=o.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),this.FText,this.FWordWrapping,this.FHorizontalTextAlign,this.FVerticalTextAlign,this.FTrimming,0,-1,-1,!0,!0,t,e)}finally{o.EndScene(),o=rtl.freeLoc(o)}return i},this.DoAnchorClick=function(t){null!=this.FOnAnchorClick?this.FOnAnchorClick(this,t):pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.OpenURL(t)},this.Loaded=function(){pas["WEBLib.Controls"].TCustomControl.Loaded.call(this)},this.Assign=function(e){var i=null,s=null,o=0;if(pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Assign.apply(this,arguments),t.TTMSFNCCustomToolBar.isPrototypeOf(e)){this.FCompactAppearance.Assign(rtl.as(e,t.TTMSFNCCustomToolBar).FCompactAppearance),this.FQuickMenuButtonAppearance.Assign(rtl.as(e,t.TTMSFNCCustomToolBar).FQuickMenuButtonAppearance),this.FQuickMenuButton=rtl.as(e,t.TTMSFNCCustomToolBar).FQuickMenuButton,this.FCompactBitmaps.Assign(rtl.as(e,t.TTMSFNCCustomToolBar).FCompactBitmaps),this.FCompact=rtl.as(e,t.TTMSFNCCustomToolBar).FCompact,this.FCanCompact=rtl.as(e,t.TTMSFNCCustomToolBar).FCanCompact,this.FMinimumWidth=rtl.as(e,t.TTMSFNCCustomToolBar).FMinimumWidth,this.FCompactWidth=rtl.as(e,t.TTMSFNCCustomToolBar).FCompactWidth,this.FCompactBitmapSize=rtl.as(e,t.TTMSFNCCustomToolBar).FCompactBitmapSize,this.FCompactAutoBitmapSize=rtl.as(e,t.TTMSFNCCustomToolBar).FCompactAutoBitmapSize,this.FCompactExpanderBitmaps.Assign(rtl.as(e,t.TTMSFNCCustomToolBar).FCompactExpanderBitmaps),this.FQuickMenuButtonBitmaps.Assign(rtl.as(e,t.TTMSFNCCustomToolBar).FQuickMenuButtonBitmaps),this.FCompactBitmapVisible=rtl.as(e,t.TTMSFNCCustomToolBar).FCompactBitmapVisible,this.FText=rtl.as(e,t.TTMSFNCCustomToolBar).FText,this.FTextVisible=rtl.as(e,t.TTMSFNCCustomToolBar).FTextVisible,this.FWordWrapping=rtl.as(e,t.TTMSFNCCustomToolBar).FWordWrapping,this.FHorizontalTextAlign=rtl.as(e,t.TTMSFNCCustomToolBar).FHorizontalTextAlign,this.FVerticalTextAlign=rtl.as(e,t.TTMSFNCCustomToolBar).FVerticalTextAlign,this.FTrimming=rtl.as(e,t.TTMSFNCCustomToolBar).FTrimming,this.FFont$1.Assign(rtl.as(e,t.TTMSFNCCustomToolBar).FFont$1),this.FAutoSize=rtl.as(e,t.TTMSFNCCustomToolBar).FAutoSize,this.FAutoHeight=rtl.as(e,t.TTMSFNCCustomToolBar).FAutoHeight,this.FAutoWidth=rtl.as(e,t.TTMSFNCCustomToolBar).FAutoWidth,this.FAutoAlign=rtl.as(e,t.TTMSFNCCustomToolBar).FAutoAlign,this.FAutoStretchHeight=rtl.as(e,t.TTMSFNCCustomToolBar).FAutoStretchHeight,this.FAutoMoveToolBar=rtl.as(e,t.TTMSFNCCustomToolBar).FAutoMoveToolBar,this.FAppearance.Assign(rtl.as(e,t.TTMSFNCCustomToolBar).FAppearance);for(var n=0,a=rtl.as(e,t.TTMSFNCCustomToolBar).GetControlsCount()-1;n<=a;n++)o=n,s=rtl.as(e,t.TTMSFNCCustomToolBar).GetControls(o),(t.TTMSFNCDefaultToolBarButton.isPrototypeOf(s)&&rtl.as(s,t.TTMSFNCDefaultToolBarButton).FCanCopy||!t.TTMSFNCDefaultToolBarButton.isPrototypeOf(s)||!pas["WEBLib.Controls"].TControl.isPrototypeOf(s))&&(t.TTMSFNCDefaultToolBarButton.isPrototypeOf(s)&&(rtl.as(s,t.TTMSFNCDefaultToolBarButton).FApplyName=!1),i=rtl.as(pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.Clone(s),pas["WEBLib.Controls"].TControl),t.TTMSFNCDefaultToolBarButton.isPrototypeOf(s)&&(rtl.as(s,t.TTMSFNCDefaultToolBarButton).FApplyName=!0),this.AddCustomControl(i,-1));this.Invalidate()}else pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Assign.apply(this,arguments)},this.Create$1=function(e){var i=0;return pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Create$1.apply(this,arguments),this.FFirstLoad=!0,this.FHiddenControls=t.TTMSFNCToolBarControlObjectList.$create("Create$2"),this.FCompactControls=t.TTMSFNCToolBarControlObjectList.$create("Create$2"),this.FState=0,this.FAppearance=t.TTMSFNCToolBarAppearance.$create("Create$1",[this]),this.FCompactAppearance=t.TTMSFNCToolBarCompactAppearance.$create("Create$1",[null]),this.FCompactAppearance.FOnChange=rtl.createCallback(this,"CompactAppearanceChanged"),this.FQuickMenuButtonAppearance=t.TTMSFNCToolBarQuickMenuButtonAppearance.$create("Create$1",[null]),this.FQuickMenuButtonAppearance.FOnChange=rtl.createCallback(this,"QuickMenuButtonAppearanceChanged"),this.FCompactBitmaps=pas["WEBLib.TMSFNCTypes"].TTMSFNCScaledBitmaps.$create("Create$3",[this]),this.FCompactBitmaps.FOnChange=rtl.createCallback(this,"CompactBitmapsChanged"),this.FOptionsMenu=t.TTMSFNCToolBarOptionsMenu.$create("Create$1",[this]),this.FMinimumWidth=30,this.FCompactWidth=50,this.FCompactBitmapSize=24,this.FCompactAutoBitmapSize=!1,this.FCompactBitmapVisible=!1,this.FCompactExpanderBitmaps=pas["WEBLib.TMSFNCTypes"].TTMSFNCScaledBitmaps.$create("Create$3",[this]),this.FCompactExpanderBitmaps.FOnChange=rtl.createCallback(this,"CompactExpanderBitmapsChanged"),this.FQuickMenuButtonBitmaps=pas["WEBLib.TMSFNCTypes"].TTMSFNCScaledBitmaps.$create("Create$3",[this]),this.FQuickMenuButtonBitmaps.FOnChange=rtl.createCallback(this,"QuickMenuButtonBitmapsChanged"),this.FCanCompact=!0,this.FQuickMenuButton=!1,this.FCompact=!1,this.FAutoSize=!0,this.FAutoWidth=!0,this.FAutoHeight=!0,this.FAutoAlign=!0,this.FAutoStretchHeight=!1,this.FAutoMoveToolBar=!0,this.FOptionsMenuButton=this.GetOptionsMenuButtonClass().$create("Create$1",[this]),this.FOptionsMenuButton.FAppearance.FNormalFill.SetKind(1),i=13882323,this.FOptionsMenuButton.FAppearance.FNormalFill.SetColor(i),this.FOptionsMenuButton.FAppearance.SetShowInnerStroke(!1),this.FOptionsMenuButton.FAppearance.SetRounding(0),this.FOptionsMenuButton.FAppearance.FHoverFill.Assign(this.FOptionsMenuButton.FAppearance.FNormalFill),this.FOptionsMenuButton.FAppearance.FDisabledFill.Assign(this.FOptionsMenuButton.FAppearance.FNormalFill),this.FOptionsMenuButton.FAppearance.FDownFill.Assign(this.FOptionsMenuButton.FAppearance.FNormalFill),this.FOptionsMenuButton.FAppearance.FHoverFill.SetColor(15128749),this.FOptionsMenuButton.FAppearance.FDownFill.SetColor(14599344),this.FOptionsMenuButton.FAppearance.FDisabledFill.SetColor(13882323),this.FOptionsMenuButton.SetAlignWithMargins(!0),this.FOptionsMenuButton.FMargins.SetTop(3),this.FOptionsMenuButton.FMargins.SetBottom(3),this.FOptionsMenuButton.FMargins.SetRight(3),this.FOptionsMenuButton.FCanCopy=!1,this.FAutoOptionsMenu=pas["WEBLib.Menus"].TPopupMenu.$create("Create$1",[this]),this.FOptionsMenuButton.FOnClick=rtl.createCallback(this,"OptionsButtonClick"),this.FOptionsMenuButton.SetWidth(17),this.FOptionsMenuButton.SetText(""),this.FOptionsMenuButton.FStored=!1,this.FOptionsMenuButton.FBitmaps.AddBitmapFromResource$1(pas["WEBLib.TMSFNCToolBarRes"].TMSFNCTOOLBAROPTIONSMENU,pas["WEBLib.TMSFNCTypes"].HInstance(),1),this.FOptionsMenuButton.FBitmaps.AddBitmapFromResource$1(pas["WEBLib.TMSFNCToolBarRes"].TMSFNCTOOLBAROPTIONSMENULARGE,pas["WEBLib.TMSFNCTypes"].HInstance(),1.5),this.FOptionsMenuButton.FDisabledBitmaps.AddBitmapFromResource$1(pas["WEBLib.TMSFNCToolBarRes"].TMSFNCTOOLBAROPTIONSMENU,pas["WEBLib.TMSFNCTypes"].HInstance(),1),this.FOptionsMenuButton.FDisabledBitmaps.AddBitmapFromResource$1(pas["WEBLib.TMSFNCToolBarRes"].TMSFNCTOOLBAROPTIONSMENULARGE,pas["WEBLib.TMSFNCTypes"].HInstance(),1.5),this.FOptionsMenuButton.FHoverBitmaps.AddBitmapFromResource$1(pas["WEBLib.TMSFNCToolBarRes"].TMSFNCTOOLBAROPTIONSMENU,pas["WEBLib.TMSFNCTypes"].HInstance(),1),this.FOptionsMenuButton.FHoverBitmaps.AddBitmapFromResource$1(pas["WEBLib.TMSFNCToolBarRes"].TMSFNCTOOLBAROPTIONSMENULARGE,pas["WEBLib.TMSFNCTypes"].HInstance(),1.5),this.FHorizontalTextAlign=0,this.FVerticalTextAlign=0,this.FTrimming=1,this.FWordWrapping=!1,this.FTextVisible=!0,this.FFont$1=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2"),this.FCompactPopup=t.TTMSFNCToolBarPopup.$create("Create$1",[this]),this.FCompactPopup.FOnClosePopup=rtl.createCallback(this,"DoCloseCompactPopup"),this.FCompactExpanderBitmaps.AddBitmapFromResource$1(pas["WEBLib.TMSFNCGraphics"].TMSFNCGRAPHICSDOWN,pas["WEBLib.TMSFNCTypes"].HInstance(),1),this.FQuickMenuButtonBitmaps.AddBitmapFromResource$1(pas["WEBLib.TMSFNCToolBarRes"].TMSFNCTOOLBARQUICKMENU,pas["WEBLib.TMSFNCTypes"].HInstance(),1),this},this.Destroy=function(){rtl.free(this,"FQuickMenuButtonBitmaps"),rtl.free(this,"FCompactExpanderBitmaps"),rtl.free(this,"FCompactPopup"),rtl.free(this,"FQuickMenuButtonAppearance"),rtl.free(this,"FCompactAppearance"),rtl.free(this,"FCompactBitmaps"),rtl.free(this,"FFont$1"),rtl.free(this,"FOptionsMenu"),rtl.free(this,"FAppearance"),rtl.free(this,"FHiddenControls"),rtl.free(this,"FCompactControls"),pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Destroy.call(this)},this.Draw=function(t,e){var i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),o=0;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Draw.apply(this,arguments),s.$assign(this.GetLocalRect()),this.FCompact?(this.FDown?(t.FFill.Assign(this.FCompactAppearance.FDownFill),t.FStroke.Assign(this.FCompactAppearance.FDownStroke)):this.FHover?(t.FFill.Assign(this.FCompactAppearance.FHoverFill),t.FStroke.Assign(this.FCompactAppearance.FHoverStroke)):(t.FFill.Assign(this.FCompactAppearance.FNormalFill),t.FStroke.Assign(this.FCompactAppearance.FNormalStroke)),this.FCompactAppearance.FFlatStyle&&t.FFill.SetKind(1),t.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(s.Left,s.Top+2,s.Right-3,s.Bottom-2)),2)):(t.FFill.Assign(this.FAppearance.FFill),t.FStroke.Assign(this.FAppearance.FStroke),this.FAppearance.FFlatStyle&&t.FFill.SetKind(1),t.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),2)),this.FCompact?(this.DrawCompactBitmap(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e)),this.DrawCompactText(t),this.DrawCompactExpander(t)):(this.FAppearance.FDragGrip&&this.DrawDragGrip(t),this.DrawText(t),this.FQuickMenuButton&&(this.FQuickMenuButtonDown?(t.FFill.Assign(this.FQuickMenuButtonAppearance.FDownFill),t.FStroke.Assign(this.FQuickMenuButtonAppearance.FDownStroke)):this.FQuickMenuButtonHover?(t.FFill.Assign(this.FQuickMenuButtonAppearance.FHoverFill),t.FStroke.Assign(this.FQuickMenuButtonAppearance.FHoverStroke)):(t.FFill.Assign(this.FQuickMenuButtonAppearance.FNormalFill),t.FStroke.Assign(this.FQuickMenuButtonAppearance.FNormalStroke)),this.FQuickMenuButtonAppearance.FFlatStyle&&t.FFill.SetKind(1),i.$assign(this.GetQuickMenuButtonRect()),t.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),2),pas["WEBLib.TMSFNCTypes"].InflateRectEx(i,-2,-2),t.DrawScaledBitmap(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),this.FQuickMenuButtonBitmaps,0,!0,!1,!0,!1))),this.FAppearance.FSeparator&&(t.FStroke.Assign(this.FAppearance.FSeparatorStroke),o=this.FAppearance.FSeparatorStroke.FWidth,t.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(s.Right-o,s.Top+4)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(s.Right-o,s.Bottom-4)),2,2)),this.IsDesignTime()&&this.CanDrawDesignTime()&&t.DrawFocusRectangle$3(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),0,2)},this.DropDownActive=function(){var e=!1,i=0,s=null;e=!1;for(var o=0,n=this.GetControlsCount()-1;o<=n&&(i=o,s=this.GetControls(i),!t.TTMSFNCDefaultToolBarButton.isPrototypeOf(s)||null==rtl.as(s,t.TTMSFNCDefaultToolBarButton).FPopup||!(e=rtl.as(s,t.TTMSFNCDefaultToolBarButton).FPopup.FIsOpen));o++);return e},this.CloseCompactPopup=function(){null!=this.FCompactPopup&&this.FCompactPopup.SetIsOpen(!1)},this.AddCustomControl=function(t,e){this.FBlockUpdate=!0,this.InsertToolBarControl(t,e),this.FBlockUpdate=!1,this.UpdateControls()},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),rtl.createClass(this,"TTMSFNCToolBar",this.TTMSFNCCustomToolBar,(function(){this.RegisterRuntimeClasses=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.RegisterRuntimeClasses.call(this),pas.Classes.RegisterClass(t.TTMSFNCToolBar)},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("OnOptionsMenuButtonClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnOptionsMenuButtonClick","FOnOptionsMenuButtonClick"),e.addProperty("OnOptionsMenuItemCanShow",0,t.$rtti.TTMSFNCToolBarCanShowOptionsMenuItem,"FOnOptionsMenuItemCanShow","FOnOptionsMenuItemCanShow"),e.addProperty("OnOptionsMenuCustomize",0,t.$rtti.TTMSFNCToolBarCustomizeOptionsMenu,"FOnOptionsMenuCustomize","FOnOptionsMenuCustomize"),e.addProperty("OnOptionsMenuItemCustomize",0,t.$rtti.TTMSFNCToolBarCustomizeOptionsMenuItem,"FOnOptionsMenuItemCustomize","FOnOptionsMenuItemCustomize"),e.addProperty("OnOptionsMenuItemApplyStyle",0,t.$rtti.TTMSFNCToolBarCustomizeOptionsMenuItem,"FOnOptionsMenuItemApplyStyle","FOnOptionsMenuItemApplyStyle"),e.addProperty("OnOptionsMenuItemClick",0,t.$rtti.TTMSFNCToolBarOptionsMenuItemClick,"FOnOptionsMenuItemClick","FOnOptionsMenuItemClick"),e.addProperty("OnIsLastElement",0,t.$rtti.TTMSFNCToolBarIsLastElement,"FOnIsLastElement","FOnIsLastElement"),e.addProperty("OnDragGripMoving",0,t.$rtti.TTMSFNCToolBarDragGripMovingEvent,"FOnDragGripMoving","FOnDragGripMoving"),e.addProperty("OnQuickMenuButtonClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnQuickMenuButtonClick","FOnQuickMenuButtonClick"),e.addProperty("OnAnchorClick",0,t.$rtti.TTMSFNCToolBarAnchorClickEvent,"FOnAnchorClick","FOnAnchorClick"),e.addProperty("Version",1,rtl.string,"GetVersion",""),e.addProperty("AutoHeight",2,rtl.boolean,"FAutoHeight","SetAutoHeight",{Default:!0}),e.addProperty("AutoWidth",2,rtl.boolean,"FAutoWidth","SetAutoWidth",{Default:!0}),e.addProperty("AutoSize",2,rtl.boolean,"FAutoSize","SetAS",{Default:!0}),e.addProperty("AutoAlign",2,rtl.boolean,"FAutoAlign","SetAutoAlign",{Default:!0}),e.addProperty("AutoStretchHeight",2,rtl.boolean,"FAutoStretchHeight","SetAutoStretchHeight",{Default:!1}),e.addProperty("AutoMoveToolBar",0,rtl.boolean,"FAutoMoveToolBar","FAutoMoveToolBar",{Default:!0}),e.addProperty("Appearance",2,t.$rtti.TTMSFNCToolBarAppearance,"FAppearance","SetAppearance"),e.addProperty("CanCompact",2,rtl.boolean,"FCanCompact","SetCanCompact",{Default:!0}),e.addProperty("OnCompactClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnCompactClick","FOnCompactClick"),e.addProperty("CompactBitmapVisible",2,rtl.boolean,"FCompactBitmapVisible","SetCompactBitmapVisible",{Default:!1}),e.addProperty("CompactBitmaps",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCScaledBitmaps,"FCompactBitmaps","SetCompactBitmaps"),e.addProperty("Compact",2,rtl.boolean,"FCompact","SetCompact",{Default:!1}),e.addProperty("CompactWidth",14,rtl.double,"FCompactWidth","SetCompactWidth",{stored:"IsCompactWidthStored"}),e.addProperty("CompactAppearance",2,t.$rtti.TTMSFNCToolBarCompactAppearance,"FCompactAppearance","SetCompactAppearance"),e.addProperty("CompactBitmapSize",14,rtl.double,"FCompactBitmapSize","SetCompactBitmapSize",{stored:"IsCompactBitmapSizeStored"}),e.addProperty("CompactAutoBitmapSize",2,rtl.boolean,"FCompactAutoBitmapSize","SetCompactAutoBitmapSize",{Default:!1}),e.addProperty("QuickMenuButtonHint",0,rtl.string,"FQuickMenuButtonHint","FQuickMenuButtonHint"),e.addProperty("QuickMenuButton",2,rtl.boolean,"FQuickMenuButton","SetQuickMenuButton",{Default:!1}),e.addProperty("QuickMenuButtonAppearance",2,t.$rtti.TTMSFNCToolBarQuickMenuButtonAppearance,"FQuickMenuButtonAppearance","SetQuickMenuButtonAppearance"),e.addProperty("MinimumWidth",14,rtl.double,"FMinimumWidth","SetMinimumWidth",{stored:"IsMinimumWidthStored"}),e.addProperty("WordWrapping",2,rtl.boolean,"FWordWrapping","SetWordWrapping",{Default:!1}),e.addProperty("Text",2,rtl.string,"FText","SetText"),e.addProperty("Trimming",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsTextTrimming,"FTrimming","SetTrimming",{Default:pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsTextTrimming.gttCharacter}),e.addProperty("HorizontalTextAlign",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsTextAlign,"FHorizontalTextAlign","SetHorizontalTextAlign",{Default:pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsTextAlign.gtaCenter}),e.addProperty("VerticalTextAlign",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsTextAlign,"FVerticalTextAlign","SetVerticalTextAlign",{Default:pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsTextAlign.gtaCenter}),e.addProperty("Font",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFont,"FFont$1","SetFont$1"),e.addProperty("OptionsMenu",2,t.$rtti.TTMSFNCToolBarOptionsMenu,"FOptionsMenu","SetOptionsMenu"),e.addProperty("CustomOptionsMenu",0,pas["WEBLib.Menus"].$rtti.TPopupMenu,"FCustomOptionsMenu","FCustomOptionsMenu"),e.addProperty("State",2,t.$rtti.TTMSFNCToolBarElementState,"FState","SetState",{Default:t.TTMSFNCToolBarElementState.esNormal}),e.attr=[pas.Classes.ComponentPlatformsAttribute,"Create$1",[0]]})),rtl.createClass(this,"TTMSFNCCustomDockPanelAppearance",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FOwner=null,this.FFill=null,this.FStroke=null,this.FMargins=null},this.$final=function(){this.FOwner=void 0,this.FFill=void 0,this.FStroke=void 0,this.FMargins=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetFill=function(t){this.FFill.Assign(t)},this.SetStroke=function(t){this.FStroke.Assign(t)},this.FillChanged=function(t){this.FOwner.Invalidate()},this.StrokeChanged=function(t){this.FOwner.Invalidate()},this.Create$1=function(t){return this.FOwner=t,this.FFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,16777215,8421504,-1,-1]),this.FStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,8421504]),this.FFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FMargins=pas["WEBLib.TMSFNCTypes"].TTMSFNCMargins.$create("Create$1"),this.FMargins.SetLeft(3),this.FMargins.SetTop(3),this.FMargins.SetBottom(3),this.FMargins.SetRight(3),this},this.Destroy=function(){rtl.free(this,"FMargins"),rtl.free(this,"FFill"),rtl.free(this,"FStroke"),pas.System.TObject.Destroy.call(this)},this.$rtti.addMethod("Create$1",2,[["AOwner",t.$rtti.TTMSFNCCustomDockPanel]])})),rtl.createClass(this,"TTMSFNCDockPanelAppearance",this.TTMSFNCCustomDockPanelAppearance,(function(){var t=this.$rtti;t.addProperty("Fill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FFill","SetFill"),t.addProperty("Stroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FStroke","SetStroke")})),rtl.createClass(this,"TTMSFNCCustomDockPanel",pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl,(function(){this.$init=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$init.call(this),this.FBlockUpdate=!1,this.FAppearance=null,this.FAutoSize=!1,this.FAutoAlign=!1,this.FState=0},this.$final=function(){this.FAppearance=void 0,pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$final.call(this)},this.SetAutoAlign=function(t){this.FAutoAlign!==t&&(this.FAutoAlign=t,this.UpdateControls())},this.SetAS=function(t){this.FAutoSize!==t&&(this.FAutoSize=t,this.UpdateControls())},this.SetState=function(e){var i=0,s=null;if(this.FState!==e){this.FState=e;for(var o=0,n=this.GetControlsCount()-1;o<=n;o++)i=o,s=this.GetControls(i),t.TTMSFNCCustomToolBar.isPrototypeOf(s)&&rtl.as(s,t.TTMSFNCCustomToolBar).SetState(this.FState)}},this.SetAdaptToStyle=function(t){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.SetAdaptToStyle.apply(this,arguments),this.UpdateControls()},this.UpdateControls=function(){var t=0,e=0,i=0,s=null,o=null,n=rtl.createIntfRefs();try{if(this.FBlockUpdate||this.IsLoading()||this.IsDestroying())return;if(this.FBlockUpdate=!0,e=0,i=this.ScalePaintValue(30),this.FAutoAlign&&(this.InitializeControls(),this.RearrangeControls()),this.FAutoSize){for(var a=0,r=this.GetControlsCount()-1;a<=r;a++)t=a,s=this.GetControls(t),pas.SysUtils.Supports$1(n.ref(1,rtl.queryIntfT(s,pas.System.IUnknown)),rtl.getIntfGUIDR(pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),{get:function(){return o},set:function(t){o=t}})&&o.SetAdaptToStyle(this.GetAdaptToStyle()),s.FVisible&&(e=Math.round(Math.max(e,s.GetTop()+s.GetHeight()+this.FAppearance.FMargins.FBottom)));0===e&&(e=i),4 in this.FComponentState&&(e+=this.ScalePaintValue(15)),this.SetBounds(this.GetLeft(),this.GetTop(),this.GetWidth(),e)}this.FBlockUpdate=!1}finally{n.free(),rtl._Release(o)}},this.InitializeControls=function(){for(var e=0,i=null,s=0,o=this.GetControlsCount()-1;s<=o;s++)e=s,i=this.GetControls(e),t.TTMSFNCCustomToolBar.isPrototypeOf(i)&&(rtl.as(i,t.TTMSFNCCustomToolBar).FOnUpdateDockPanel=rtl.createCallback(this,"UpdateDockPanel"),rtl.as(i,t.TTMSFNCCustomToolBar).FDragGripMoving)||i.FVisible&&(i.GetTop()<this.FAppearance.FMargins.FTop&&i.SetTop(Math.round(this.FAppearance.FMargins.FTop)),i.GetLeft()<this.FAppearance.FMargins.FLeft?i.SetLeft(Math.round(this.FAppearance.FMargins.FLeft)):i.GetLeft()+i.GetWidth()>this.GetWidth()-this.FAppearance.FMargins.FRight&&i.SetLeft(Math.round(this.GetWidth()-this.FAppearance.FMargins.FRight-i.GetWidth())))},this.RearrangeControls=function(){for(var e=null,i=null,s=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),o=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),n=0,a=0,r=0,l=this.GetControlsCount()-1;r<=l;r++)if(n=r,(e=this.GetControls(n)).FVisible&&(!t.TTMSFNCCustomToolBar.isPrototypeOf(e)||!rtl.as(e,t.TTMSFNCCustomToolBar).FDragGripMoving))for(var h=0,F=this.GetControlsCount()-1;h<=F;h++)a=h,(i=this.GetControls(a))!==e&&i.FVisible&&(s.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.GetLeft(),e.GetTop(),e.GetLeft()+e.GetWidth(),e.GetTop()+e.GetHeight())),o.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.GetLeft(),i.GetTop(),i.GetLeft()+i.GetWidth(),i.GetTop()+i.GetHeight())),o.Left>=s.Left-3&&o.Left<=s.Right+3&&(o.Top<pas["WEBLib.TMSFNCTypes"].CenterPointEx(s).Y&&o.Top>=s.Top-3?(i.SetLeft(e.GetLeft()+e.GetWidth()+3),i.SetTop(e.GetTop())):o.Top>=pas["WEBLib.TMSFNCTypes"].CenterPointEx(s).Y&&o.Top<=s.Bottom+3&&(i.SetTop(e.GetTop()+e.GetHeight()+3),i.SetLeft(e.GetLeft()))))},this.UpdateDockPanel=function(t){this.UpdateControls()},this.ApplyStyle=function(){var t=0;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.ApplyStyle.call(this),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleHeaderFillColor({get:function(){return t},set:function(e){t=e}})&&(this.FAppearance.FFill.SetKind(1),this.FAppearance.FFill.SetColor(t)),pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleHeaderFillColorTo({get:function(){return t},set:function(e){t=e}})&&(this.FAppearance.FFill.SetKind(2),this.FAppearance.FFill.SetColorTo(t))},this.ResetToDefaultStyle=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.ResetToDefaultStyle.call(this)},this.AlignControls=function(t,e){pas["WEBLib.Controls"].TControl.AlignControls.apply(this,arguments),this.UpdateControls()},this.Assign=function(e){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Assign.apply(this,arguments),t.TTMSFNCCustomDockPanel.isPrototypeOf(e)?(this.FAppearance.Assign(rtl.as(e,t.TTMSFNCCustomDockPanel).FAppearance),this.SetAS(rtl.as(e,t.TTMSFNCCustomDockPanel).FAutoSize),this.SetAutoAlign(rtl.as(e,t.TTMSFNCCustomDockPanel).FAutoAlign),this.SetState(rtl.as(e,t.TTMSFNCCustomDockPanel).FState)):pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Assign.apply(this,arguments)},this.Create$1=function(e){return pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Create$1.apply(this,arguments),this.FState=0,this.FAppearance=t.TTMSFNCDockPanelAppearance.$create("Create$1",[this]),this.FAutoSize=!0,this.FAutoAlign=!0,this.SetAlign(1),this.SetHeight(40),this},this.Destroy=function(){rtl.free(this,"FAppearance"),pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Destroy.call(this)},this.Draw=function(t,e){var i=pas["WEBLib.TMSFNCTypes"].TRectF.$new();pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Draw.apply(this,arguments),t.FFill.Assign(this.FAppearance.FFill),t.FStroke.Assign(this.FAppearance.FStroke),i.$assign(this.GetLocalRect()),t.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),2)},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),t.$init=function(){pas.Classes.RegisterClass(t.TTMSFNCToolBarButton),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCTOOLBAREXPANDSVG)}}),["Math","SysUtils","WEBLib.TMSFNCUtils","WEBLib.Graphics"]),rtl.module("WEBLib.TMSFNCPanel",["System","Classes","WEBLib.TMSFNCCustomControl","Types","WEBLib.TMSFNCTypes","WEBLib.Controls","WEBLib.TMSFNCBitmapContainer","WEBLib.TMSFNCGraphics","WEBLib.TMSFNCPopup","WEBLib.TMSFNCGraphicsTypes","TypInfo"],(function(){"use strict";var t=this;this.MAJ_VER=1,this.MIN_VER=0,this.REL_VER=2,this.BLD_VER=1,this.MINSECTIONHEIGHT=16,this.TTMSFNCPanelButton={0:"pbCompact",pbCompact:0,1:"pbClose",pbClose:1,2:"pbExpander",pbExpander:2,3:"pbDropDown",pbDropDown:3},this.$rtti.$Enum("TTMSFNCPanelButton",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TTMSFNCPanelButton}),this.$rtti.$Set("TTMSFNCPanelButtons",{comptype:this.$rtti.TTMSFNCPanelButton}),this.TTMSFNCPanelCloseAction={0:"pcaNone",pcaNone:0,1:"pcaFree",pcaFree:1,2:"pcaHide",pcaHide:2},this.$rtti.$Enum("TTMSFNCPanelCloseAction",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TTMSFNCPanelCloseAction}),this.TTMSFNCPanelDropDownAction={0:"pddaNone",pddaNone:0,1:"pddaPopup",pddaPopup:1},this.$rtti.$Enum("TTMSFNCPanelDropDownAction",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TTMSFNCPanelDropDownAction}),this.TTMSFNCPanelExpandAction={0:"peaNone",peaNone:0,1:"peaExpand",peaExpand:1},this.$rtti.$Enum("TTMSFNCPanelExpandAction",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TTMSFNCPanelExpandAction}),this.TTMSFNCPanelCompactAction={0:"pcNone",pcNone:0,1:"pcCompact",pcCompact:1},this.$rtti.$Enum("TTMSFNCPanelCompactAction",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TTMSFNCPanelCompactAction}),rtl.createClass(this,"TTMSFNCPanelElement",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FOnChanged=null,this.FText="",this.FSize=0,this.FWordWrapping=!1,this.FVerticalTextAlign=0,this.FHorizontalTextAlign=0,this.FTrimming=0,this.FFont=null,this.FShowButtons=!1,this.FButtons={},this.FVisible=!1,this.FButtonSpacing=0,this.FButtonSize=0,this.FFill=null,this.FStroke=null,this.FStretchText=!1,this.FDropDownControl=null,this.FDropDownHeight=0,this.FDropDownWidth=0},this.$final=function(){this.FOnChanged=void 0,this.FFont=void 0,this.FButtons=void 0,this.FFill=void 0,this.FStroke=void 0,this.FDropDownControl=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetText=function(t){this.FText!==t&&(this.FText=t,this.Changed())},this.IsSizeStored=function(){return 28!==this.FSize},this.SetSize=function(t){this.FSize!==t&&(this.FSize=t,this.Changed())},this.SetHorizontalTextAlign=function(t){this.FHorizontalTextAlign!==t&&(this.FHorizontalTextAlign=t,this.Changed())},this.SetVerticalTextAlign=function(t){this.FVerticalTextAlign!==t&&(this.FVerticalTextAlign=t,this.Changed())},this.SetWordWrapping=function(t){this.FWordWrapping!==t&&(this.FWordWrapping=t,this.Changed())},this.SetTrimming=function(t){this.FTrimming!==t&&(this.FTrimming=t,this.Changed())},this.SetFont=function(t){this.FFont.AssignSource(t)},this.SetButtons=function(t){rtl.neSet(this.FButtons,t)&&(this.FButtons=rtl.refSet(t),this.Changed())},this.SetShowButtons=function(t){this.FShowButtons!==t&&(this.FShowButtons=t,this.Changed())},this.SetVisible=function(t){this.FVisible!==t&&(this.FVisible=t,this.Changed())},this.IsButtonSizeStored=function(){return 20!==this.FButtonSize},this.IsButtonSpacingStored=function(){return 4!==this.FButtonSpacing},this.SetButtonSize=function(t){this.FButtonSize!==t&&(this.FButtonSize=t,this.Changed())},this.SetButtonSpacing=function(t){this.FButtonSpacing!==t&&(this.FButtonSpacing=t,this.Changed())},this.SetFill=function(t){this.FFill.Assign(t)},this.SetStroke=function(t){this.FStroke.Assign(t)},this.SetStretchText=function(t){this.FStretchText!==t&&(this.FStretchText=t,this.Changed())},this.SetDropDownControl=function(t){null===t&&null!=this.FDropDownControl&&this.FDropDownControl.SetVisible(!0),this.FDropDownControl=t,null!=this.FDropDownControl&&(this.FDropDownControl.SetVisible(!1),this.FDropDownWidth=this.FDropDownControl.GetWidth(),this.FDropDownHeight=this.FDropDownControl.GetHeight())},this.IsDropDownHeightStored=function(){return 120!==this.FDropDownHeight},this.IsDropDownWidthStored=function(){return 100!==this.FDropDownWidth},this.Changed=function(){null!=this.FOnChanged&&this.FOnChanged(this)},this.FontChanged=function(t){this.Changed()},this.FillChanged=function(t){this.Changed()},this.StrokeChanged=function(t){this.Changed()},this.IsHTML=function(){return pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IsHTML(this.FText)},this.Create$1=function(){return this.FSize=28,this.FVisible=!0,this.FStretchText=!0,this.FHorizontalTextAlign=0,this.FVerticalTextAlign=0,this.FWordWrapping=!0,this.FTrimming=0,this.FFont=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2"),this.FFont.FOnChanged=rtl.createCallback(this,"FontChanged"),this.FShowButtons=!0,this.FButtons={},this.FButtonSpacing=4,this.FButtonSize=20,this.FFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(228,228,228),8421504,-1,-1]),this.FFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,12632256]),this.FStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FDropDownWidth=100,this.FDropDownHeight=120,this},this.Destroy=function(){rtl.free(this,"FFont"),rtl.free(this,"FFill"),rtl.free(this,"FStroke"),pas.System.TObject.Destroy.call(this)},this.Assign=function(e){t.TTMSFNCPanelElement.isPrototypeOf(e)&&(this.FText=rtl.as(e,t.TTMSFNCPanelElement).FText,this.FStretchText=rtl.as(e,t.TTMSFNCPanelElement).FStretchText,this.FSize=rtl.as(e,t.TTMSFNCPanelElement).FSize,this.FHorizontalTextAlign=rtl.as(e,t.TTMSFNCPanelElement).FHorizontalTextAlign,this.FVerticalTextAlign=rtl.as(e,t.TTMSFNCPanelElement).FVerticalTextAlign,this.FWordWrapping=rtl.as(e,t.TTMSFNCPanelElement).FWordWrapping,this.FTrimming=rtl.as(e,t.TTMSFNCPanelElement).FTrimming,this.FFont.AssignSource(rtl.as(e,t.TTMSFNCPanelElement).FFont),this.FShowButtons=rtl.as(e,t.TTMSFNCPanelElement).FShowButtons,this.FButtons=rtl.refSet(rtl.as(e,t.TTMSFNCPanelElement).FButtons),this.FVisible=rtl.as(e,t.TTMSFNCPanelElement).FVisible,this.FButtonSpacing=rtl.as(e,t.TTMSFNCPanelElement).FButtonSpacing,this.FButtonSize=rtl.as(e,t.TTMSFNCPanelElement).FButtonSize,this.FStretchText=rtl.as(e,t.TTMSFNCPanelElement).FStretchText,this.FDropDownWidth=rtl.as(e,t.TTMSFNCPanelElement).FDropDownWidth,this.FDropDownHeight=rtl.as(e,t.TTMSFNCPanelElement).FDropDownHeight,this.FFill.Assign(rtl.as(e,t.TTMSFNCPanelElement).FFill),this.FStroke.Assign(rtl.as(e,t.TTMSFNCPanelElement).FStroke))};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("StretchText",2,rtl.boolean,"FStretchText","SetStretchText",{Default:!0}),e.addProperty("Text",2,rtl.string,"FText","SetText"),e.addProperty("Size",14,rtl.double,"FSize","SetSize",{stored:"IsSizeStored"}),e.addProperty("HorizontalTextAlign",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsTextAlign,"FHorizontalTextAlign","SetHorizontalTextAlign",{Default:pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsTextAlign.gtaCenter}),e.addProperty("VerticalTextAlign",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsTextAlign,"FVerticalTextAlign","SetVerticalTextAlign",{Default:pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsTextAlign.gtaCenter}),e.addProperty("WordWrapping",2,rtl.boolean,"FWordWrapping","SetWordWrapping",{Default:!0}),e.addProperty("Trimming",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsTextTrimming,"FTrimming","SetTrimming",{Default:pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsTextTrimming.gttNone}),e.addProperty("Font",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFont,"FFont","SetFont"),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("Fill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FFill","SetFill"),e.addProperty("Stroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FStroke","SetStroke"),e.addProperty("ShowButtons",2,rtl.boolean,"FShowButtons","SetShowButtons",{Default:!0}),e.addProperty("Buttons",2,t.$rtti.TTMSFNCPanelButtons,"FButtons","SetButtons",{Default:{}}),e.addProperty("ButtonSize",14,rtl.double,"FButtonSize","SetButtonSize",{stored:"IsButtonSizeStored"}),e.addProperty("ButtonSpacing",14,rtl.double,"FButtonSpacing","SetButtonSpacing",{stored:"IsButtonSpacingStored"}),e.addProperty("DropDownControl",2,pas["WEBLib.Controls"].$rtti.TControl,"FDropDownControl","SetDropDownControl"),e.addProperty("DropDownWidth",12,rtl.double,"FDropDownWidth","FDropDownWidth",{stored:"IsDropDownWidthStored"}),e.addProperty("DropDownHeight",12,rtl.double,"FDropDownHeight","FDropDownHeight",{stored:"IsDropDownHeightStored"})})),rtl.createClass(this,"TTMSFNCPanelHeader",this.TTMSFNCPanelElement,(function(){})),rtl.createClass(this,"TTMSFNCPanelFooter",this.TTMSFNCPanelElement,(function(){this.Create$1=function(){return t.TTMSFNCPanelElement.Create$1.call(this),this.FShowButtons=!1,this.FVisible=!1,this};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!1}),e.addProperty("ShowButtons",2,rtl.boolean,"FShowButtons","SetShowButtons",{Default:!1})})),this.TTMSFNCPanelButtonState={0:"bsNormal",bsNormal:0,1:"bsHover",bsHover:1,2:"bsDown",bsDown:2},rtl.createClass(this,"TTMSFNCPanelButtonStates",pas.Classes.TList,(function(){this.GetItem=function(t){return this.Get(t)},this.SetItem=function(t,e){this.Put(t,e)}})),rtl.recNewT(this,"TTMSFNCPanelDownButton",(function(){this.Button=0,this.Down=!1,this.$eq=function(t){return this.Button===t.Button&&this.Down===t.Down},this.$assign=function(t){return this.Button=t.Button,this.Down=t.Down,this}})),this.TTMSFNCPanelExpandState={0:"pesCollapsed",pesCollapsed:0,1:"pesExpanded",pesExpanded:1},this.TTMSFNCPanelCompactState={0:"pcsCollapsed",pcsCollapsed:0,1:"pcsExpanded",pcsExpanded:1},this.$rtti.$MethodVar("TTMSFNCPanelAnchorClickEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AAnchor",rtl.string]]),methodkind:0}),rtl.createClass(this,"TTMSFNCPanelSection",pas.Classes.TCollectionItem,(function(){this.$init=function(){pas.Classes.TCollectionItem.$init.call(this),this.FOwner=null,this.FSize=0,this.FTag=0,this.FText="",this.FControl=null},this.$final=function(){this.FOwner=void 0,this.FControl=void 0,pas.Classes.TCollectionItem.$final.call(this)},this.SetSize=function(t){this.FSize!==t&&(this.FSize=t,this.Changed$1())},this.IsSizeStored=function(){return 48!==this.FSize},this.SetText=function(t){this.FText!==t&&(this.FText=t,this.Changed$1())},this.SetControl=function(t){var e=0,i=null;if(this.FControl!==t){if(null!=t&&null!=(i=this.FOwner)){for(var s=0,o=i.FSections.GetCount()-1;s<=o;s++)e=s,i.FSections.GetItem$1(e).FControl===t&&i.FSections.GetItem$1(e).SetControl(null);t.FParent!==i&&t.SetParent(i)}this.FControl=t,null!=this.FControl&&this.UpdateControlBounds()}},this.Changed$1=function(){null!=this.FOwner&&this.FOwner.Invalidate()},this.UpdateControlBounds=function(){var t=0,e=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),i=null,s=null,o=0;if(null!=this.FControl&&null!=(i=this.FOwner)){e.$assign(i.GetSectionRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i.GetLocalRect())));for(var n=0,a=this.GetIndex()-1;n<=a;n++)t=n,e.Top=e.Top+i.FSections.GetItem$1(t).FSize;(s=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("CreateBitmapCanvas",[1,1,!1,!0])).BeginScene();try{s.FFont.AssignSource(i.FSectionsAppearance.FFont),o=Math.max(16,s.CalculateTextHeight$1(this.FText)+4)}finally{s.EndScene(),s=rtl.freeLoc(s)}e.Top=e.Top+o-1,this.GetIndex()!==i.FSections.GetCount()-1&&(e.Bottom=e.Top+this.FSize-o+1),pas["WEBLib.TMSFNCTypes"].EqualRectEx(pas["WEBLib.TMSFNCTypes"].ConvertToRectF(this.FControl.GetBoundsRect()),e)||(this.FControl.SetBoundsRect(pas["WEBLib.TMSFNCTypes"].ConvertToRect(e)),i.Invalidate())}},this.Create$1=function(e){return pas.Classes.TCollectionItem.Create$1.apply(this,arguments),null!=this.FCollection&&(this.FOwner=rtl.as(this.FCollection,t.TTMSFNCPanelSections).FOwner$1),this.FSize=48,this.Changed$1(),this},this.Assign=function(e){t.TTMSFNCPanelSection.isPrototypeOf(e)&&(this.FText=rtl.as(e,t.TTMSFNCPanelSection).FText,this.FSize=rtl.as(e,t.TTMSFNCPanelSection).FSize)},this.Destroy=function(){pas.Classes.TCollectionItem.Destroy.call(this),this.Changed$1()};var e=this.$rtti;e.addMethod("Create$1",2,[["ACollection",pas.Classes.$rtti.TCollection]]),e.addProperty("Text",2,rtl.string,"FText","SetText"),e.addProperty("Size",14,rtl.double,"FSize","SetSize",{stored:"IsSizeStored"}),e.addProperty("Control",2,pas["WEBLib.Controls"].$rtti.TControl,"FControl","SetControl"),e.addProperty("Tag",0,rtl.nativeint,"FTag","FTag",{Default:0})})),rtl.createClass(this,"TTMSFNCPanelSections",pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection,(function(){this.$init=function(){pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection.$init.call(this),this.FOwner$1=null,this.FOnChanged=null},this.$final=function(){this.FOwner$1=void 0,this.FOnChanged=void 0,pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection.$final.call(this)},this.GetItem$1=function(t){return this.GetItem(t)},this.Create$3=function(e){return pas.Classes.TOwnedCollection.Create$2.call(this,e,t.TTMSFNCPanelSection),this.FOwner$1=e,this},this.$rtti.addMethod("Create$3",2,[["AOwner",t.$rtti.TTMSFNCCustomPanel]])})),rtl.createClass(this,"TTMSFNCPanelSectionsAppearance",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FFont=null,this.FFill=null,this.FStroke=null,this.FOnChange=null},this.$final=function(){this.FFont=void 0,this.FFill=void 0,this.FStroke=void 0,this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetFill=function(t){this.FFill.Assign(t)},this.SetFont=function(t){this.FFont.AssignSource(t)},this.SetStroke=function(t){this.FStroke.Assign(t)},this.Changed=function(){null!=this.FOnChange&&this.FOnChange(this)},this.FillChanged=function(t){this.Changed()},this.StrokeChanged=function(t){this.Changed()},this.FontChanged=function(t){this.Changed()},this.Assign=function(e){t.TTMSFNCPanelSectionsAppearance.isPrototypeOf(e)&&(this.FFill.Assign(rtl.as(e,t.TTMSFNCPanelSectionsAppearance).FFill),this.FStroke.Assign(rtl.as(e,t.TTMSFNCPanelSectionsAppearance).FStroke),this.FFont.AssignSource(rtl.as(e,t.TTMSFNCPanelSectionsAppearance).FFont))},this.Create$1=function(){return this.FFont=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2"),this.FFont.FOnChanged=rtl.createCallback(this,"FontChanged"),this.FFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(240,240,240),8421504,-1,-1]),this.FFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,12632256]),this.FStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this},this.Destroy=function(){rtl.free(this,"FFill"),rtl.free(this,"FStroke"),rtl.free(this,"FFont"),pas.System.TObject.Destroy.call(this)};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("Font",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFont,"FFont","SetFont"),e.addProperty("Fill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FFill","SetFill"),e.addProperty("Stroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FStroke","SetStroke")})),rtl.createClass(this,"TTMSFNCCustomPanel",pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl,(function(){this.$init=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$init.call(this),this.FOldHeight=0,this.FOldWidth=0,this.FPopup=null,this.FExpandState=0,this.FCompactState=0,this.FHeaderDownButton=t.TTMSFNCPanelDownButton.$new(),this.FFooterDownButton=t.TTMSFNCPanelDownButton.$new(),this.FHeaderButtonStates=null,this.FFooterButtonStates=null,this.FHeaderAnchor="",this.FFooterAnchor="",this.FBitmapContainer=null,this.FHeader=null,this.FFooter=null,this.FOnHeaderDropDownButtonClick=null,this.FOnHeaderExpandButtonClick=null,this.FOnHeaderCloseButtonClick=null,this.FOnHeaderAnchorClick=null,this.FOnFooterAnchorClick=null,this.FOnFooterDropDownButtonClick=null,this.FOnFooterExpandButtonClick=null,this.FOnFooterCloseButtonClick=null,this.FCloseAction=0,this.FDropDownAction=0,this.FExpandAction=0,this.FCompactAction=0,this.FSections=null,this.FSectionsAppearance=null,this.FOnHeaderCompactButtonClick=null,this.FOnFooterCompactButtonClick=null,this.FOnInternalHeaderCompactButtonClick=null,this.FGlobalFont=null},this.$final=function(){this.FPopup=void 0,this.FHeaderDownButton=void 0,this.FFooterDownButton=void 0,this.FHeaderButtonStates=void 0,this.FFooterButtonStates=void 0,this.FBitmapContainer=void 0,this.FHeader=void 0,this.FFooter=void 0,this.FOnHeaderDropDownButtonClick=void 0,this.FOnHeaderExpandButtonClick=void 0,this.FOnHeaderCloseButtonClick=void 0,this.FOnHeaderAnchorClick=void 0,this.FOnFooterAnchorClick=void 0,this.FOnFooterDropDownButtonClick=void 0,this.FOnFooterExpandButtonClick=void 0,this.FOnFooterCloseButtonClick=void 0,this.FSections=void 0,this.FSectionsAppearance=void 0,this.FOnHeaderCompactButtonClick=void 0,this.FOnFooterCompactButtonClick=void 0,this.FOnInternalHeaderCompactButtonClick=void 0,this.FGlobalFont=void 0,pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$final.call(this)},this.GetBitmapContainer=function(){return this.FBitmapContainer},this.SetBitmapContainer=function(t){this.FBitmapContainer=t,this.Invalidate()},this.SetFooter=function(t){this.FFooter.Assign(t)},this.SetHeader=function(t){this.FHeader.Assign(t)},this.SetCloseAction=function(t){this.FCloseAction=t},this.SetDropDownAction=function(t){this.FDropDownAction=t},this.SetExpandAction=function(t){this.FExpandAction=t},this.SetCompactAction=function(t){this.FCompactAction=t},this.SetSections=function(t){this.FSections.Assign(t)},this.SetSectionsAppearance=function(t){this.FSectionsAppearance.Assign(t)},this.SetGlobalFont=function(t){this.FGlobalFont.Assign(t)},this.ApplyStyle=function(){var t=0;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.ApplyStyle.call(this),this.FFill.SetKind(0),this.FHeader.FStroke.SetColor(this.FStroke.FColor),this.FFooter.FStroke.SetColor(this.FStroke.FColor),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleHeaderFillColor({get:function(){return t},set:function(e){t=e}})&&(this.FHeader.FFill.SetKind(1),this.FHeader.FFill.SetColor(t),this.FFooter.FFill.SetKind(1),this.FFooter.FFill.SetColor(t)),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleHeaderFillColorTo({get:function(){return t},set:function(e){t=e}})&&(this.FHeader.FFill.SetKind(2),this.FHeader.FFill.SetColorTo(t),this.FFooter.FFill.SetKind(2),this.FFooter.FFill.SetColorTo(t)),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleTextFontColor({get:function(){return t},set:function(e){t=e}})&&(this.FHeader.FFont.SetColor(t),this.FFooter.FFont.SetColor(t))},this.ResetToDefaultStyle=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.ResetToDefaultStyle.call(this),this.FFill.SetKind(1),this.FHeader.FStroke.SetColor(12632256),this.FFooter.FStroke.SetColor(12632256),this.BeginUpdate(),this.FHeader.FFill.SetColor(16380654),this.FHeader.FFont.SetColor(4539717),this.FFooter.FFill.SetColor(16380654),this.FFooter.FFont.SetColor(4539717),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.SetFontSize(this.FHeader.FFont,14,this.FPaintScaleFactor),this.FHeader.FFont.SetStyle(rtl.createSet(0)),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.SetFontSize(this.FFooter.FFont,14,this.FPaintScaleFactor),this.EndUpdate()},this.GetElementRect=function(t,e){var i=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return e===this.FHeader?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(t.Left,t.Top,t.Right,t.Top+e.FSize)):e===this.FFooter&&i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(t.Left,t.Bottom-e.FSize,t.Right,t.Bottom)),i},this.GetTextRect=function(t,e){var i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=0;return s=e.FStretchText?t.Right:this.GetButtonsRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t),e).Left,e===this.FHeader?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(t.Left,t.Top,s,t.Top+e.FSize)):e===this.FFooter&&i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(t.Left,t.Bottom-e.FSize,s,t.Bottom)),i},this.GetSectionRect=function(t){var e=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return e.$assign(t),this.FHeader.FVisible&&(e.Top=e.Top+this.FHeader.FSize),this.FFooter.FVisible&&(e.Bottom=e.Bottom-this.FFooter.FSize),e},this.GetButtonsRect=function(t,e){var i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=0;if(e===this.FHeader?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(t.Right,t.Top,t.Right,t.Top+e.FSize)):e===this.FFooter&&i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(t.Right,t.Bottom-e.FSize,t.Right,t.Bottom)),e.FShowButtons&&rtl.neSet(e.FButtons,{}))for(s=0;s<=3;s++)s in e.FButtons&&(0===s&&0===this.FCompactState||1===this.FCompactState)&&(i.Left=i.Left-e.FButtonSpacing-e.FButtonSize);return i},this.XYToAnchor=function(t,e,i){var s="",o=null,n=0,a=0;if(s="",i.IsHTML()){(o=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("CreateBitmapCanvas",[1,1,!1,!0])).BeginScene(),o.FOptimizedHTMLDrawing=this.FOptimizedHTMLDrawing,o.FBitmapContainer=this.GetBitmapContainer();try{o.FFont.Assign(i.FFont),n=i.FHorizontalTextAlign,a=i.FVerticalTextAlign,s=o.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(this.GetTextRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(this.GetLocalRect()),i)),i.FText,i.FWordWrapping,n,a,i.FTrimming,0,-1,-1,!0,!0,t,e)}finally{o.EndScene(),o=rtl.freeLoc(o)}}return s},this.XYToButton=function(t,e,i,s){var o=!1,n=0,a=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),r=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(o=!1,!i.FShowButtons||rtl.eqSet(i.FButtons,{}))return o;for(r.$assign(this.GetButtonsRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(this.GetLocalRect()),i)),n=0;n<=3;n++)if(n in i.FButtons&&(0===n&&0===this.FCompactState||1===this.FCompactState)){if(a.$assign(pas["WEBLib.TMSFNCTypes"].RectF(r.Right-i.FButtonSpacing-i.FButtonSize,r.Top+(r.Bottom-r.Top-i.FButtonSize)/2,r.Right-i.FButtonSpacing,r.Top+(r.Bottom-r.Top-i.FButtonSize)/2+i.FButtonSize)),pas["WEBLib.TMSFNCTypes"].PtInRectEx(a,pas["WEBLib.TMSFNCTypes"].PointF(t,e))){s.set(n),o=!0;break}r.Right=r.Right-i.FButtonSpacing-i.FButtonSize}return o},this.ClearButtonStates=function(t){var e=!1,i=0,s=0;e=!1;for(var o=0,n=this.FHeaderButtonStates.GetCount()-1;o<=n;o++)i=o,0!==(s=this.FHeaderButtonStates.GetItem(i))&&(e=!0),(t&&1===s||!t)&&this.FHeaderButtonStates.SetItem(i,0);for(var a=0,r=this.FFooterButtonStates.GetCount()-1;a<=r;a++)i=a,0!==(s=this.FFooterButtonStates.GetItem(i))&&(e=!0),(t&&1===s||!t)&&this.FFooterButtonStates.SetItem(i,0);return e},this.GetButtonRect=function(t,e,i){var s=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),o=0,n=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),a=pas["WEBLib.TMSFNCTypes"].TRectF.$new();for(a.$assign(this.GetButtonsRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t),e)),o=0;o<=3;o++)o in e.FButtons&&(0===o&&0===this.FCompactState||1===this.FCompactState)&&(n.$assign(pas["WEBLib.TMSFNCTypes"].RectF(Math.round(a.Right-e.FButtonSpacing-e.FButtonSize),Math.round(a.Top+(a.Bottom-a.Top-e.FButtonSize)/2),Math.round(a.Right-e.FButtonSpacing),Math.round(a.Top+(a.Bottom-a.Top-e.FButtonSize)/2+e.FButtonSize))),a.Right=a.Right-e.FButtonSpacing-e.FButtonSize,o===i&&s.$assign(n));return s},this.GetCollapsedHeight=function(){var t=0;return t=0,this.FHeader.FVisible&&(t+=this.FHeader.FSize),this.FFooter.FVisible&&(t+=this.FFooter.FSize),t},this.GetCollapsedWidth=function(){return this.FHeader.FButtonSize+2*this.FHeader.FButtonSpacing},this.Notification=function(t,e){var i=0;if(pas["WEBLib.Menus"].TWebCustomControl.Notification.apply(this,arguments),3 in this.FComponentState||1!==e||t!==this.FBitmapContainer||(this.FBitmapContainer=null),!(3 in this.FComponentState)&&1===e)for(var s=0,o=this.FSections.GetCount()-1;s<=o;s++)i=s,t===this.FSections.GetItem$1(i).FControl&&(this.FSections.GetItem$1(i).FControl=null)},this.FooterChanged=function(t){this.Realign(),this.Invalidate()},this.HeaderChanged=function(t){this.Realign(),this.Invalidate()},this.SectionsChanged=function(t){this.UpdateControlBounds(),this.Invalidate()},this.SectionsAppearanceChanged=function(t){this.UpdateControlBounds(),this.Invalidate()},this.Draw=function(t,e){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Draw.apply(this,arguments),t.FBitmapContainer=this.GetBitmapContainer(),this.DrawSections(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(this.GetSectionRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e)))),this.DrawElement(t,this.FHeader,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(this.GetTextRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),this.FHeader)),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(this.GetElementRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),this.FHeader)),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(this.GetButtonsRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),this.FHeader)),this.FHeaderButtonStates),this.DrawElement(t,this.FFooter,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(this.GetTextRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),this.FFooter)),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(this.GetElementRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),this.FFooter)),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(this.GetButtonsRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),this.FFooter)),this.FFooterButtonStates)},this.DrawSections=function(t,e){var i=0,s=null,o=0,n=pas["WEBLib.TMSFNCTypes"].TRectF.$new();o=0,t.FFill.Assign(this.FSectionsAppearance.FFill),t.FStroke.Assign(this.FSectionsAppearance.FStroke),t.FFont.AssignSource(this.FSectionsAppearance.FFont);for(var a=0,r=this.FSections.GetCount()-1;a<=r;a++)i=a,s=this.FSections.GetItem$1(i),n.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left,e.Top+o,e.Right,e.Top+o+Math.max(16,t.CalculateTextHeight$1(s.FText)+4))),t.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(n),11),pas["WEBLib.TMSFNCTypes"].InflateRectEx(n,-2,-2),t.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(n),s.FText,!1,1,0,0,0,-1,-1,!0,!1,-1,-1),o+=s.FSize},this.DrawElement=function(t,e,i,s,o,n){var a=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),r=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),l=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),h=0,F=0,p=0;if(e.FVisible&&(t.FFill.Assign(e.FFill),t.FStroke.Assign(e.FStroke),t.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),2),1===this.FCompactState&&(a.$assign(i),pas["WEBLib.TMSFNCTypes"].InflateRectEx(a,this.ScalePaintValue(-3),this.ScalePaintValue(-3)),t.FFont.AssignSource(e.FFont),t.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(a),e.FText,e.FWordWrapping,e.FHorizontalTextAlign,e.FVerticalTextAlign,e.FTrimming,0,-1,-1,!0,!1,-1,-1)),e.FShowButtons&&rtl.neSet(e.FButtons,{})))for(r.$assign(o),h=0;h<=3;h++)if(h in e.FButtons&&(0===h&&0===this.FCompactState||1===this.FCompactState)){l.$assign(pas["WEBLib.TMSFNCTypes"].RectF(Math.round(r.Right-e.FButtonSpacing-e.FButtonSize),Math.round(r.Top+(r.Bottom-r.Top-e.FButtonSize)/2),Math.round(r.Right-e.FButtonSpacing),Math.round(r.Top+(r.Bottom-r.Top-e.FButtonSize)/2+e.FButtonSize))),F=this.FExpandState,p=this.FCompactState;var C=h;0===C?t.DrawCompactButton(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(l),p,2===n.GetItem(h),1===n.GetItem(h),!0,this.GetAdaptToStyle(),this.FPaintScaleFactor):1===C?t.DrawCloseButton(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(l),2===n.GetItem(h),1===n.GetItem(h),!0,this.GetAdaptToStyle(),this.FPaintScaleFactor):2===C?t.DrawExpanderButton(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(l),F,2===n.GetItem(h),1===n.GetItem(h),!0,this.GetAdaptToStyle(),this.FPaintScaleFactor):3===C&&t.DrawDropDownButton(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(l),2===n.GetItem(h),1===n.GetItem(h),!0,!0,this.GetAdaptToStyle(),this.FPaintScaleFactor),r.Right=r.Right-e.FButtonSpacing-e.FButtonSize}},this.HandleMouseLeave=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseLeave.call(this),this.ClearButtonStates(!1)&&this.Invalidate()},this.UpdateControlAfterResize=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.UpdateControlAfterResize.call(this),this.UpdateControlBounds()},this.HandleMouseDown=function(t,e,i,s){var o=!1,n=!1,a=0,r=0;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseDown.apply(this,arguments),this.FHeaderDownButton.Down=!1,this.FFooterDownButton.Down=!1,n=!1,a=1,(o=this.XYToButton(i,s,this.FHeader,{get:function(){return a},set:function(t){a=t}}))?(this.FHeaderButtonStates.SetItem(a,2),this.FHeaderDownButton.Down=!0,this.FHeaderDownButton.Button=a):(r=1,(n=this.XYToButton(i,s,this.FFooter,{get:function(){return r},set:function(t){r=t}}))&&(this.FFooterButtonStates.SetItem(r,2),this.FFooterDownButton.Down=!0,this.FFooterDownButton.Button=r)),o||n||(this.FHeaderAnchor=this.XYToAnchor(i,s,this.FHeader),""===this.FHeaderAnchor&&(this.FFooterAnchor=this.XYToAnchor(i,s,this.FFooter))),(n||o)&&this.Invalidate()},this.HandleMouseMove=function(t,e,i){var s="",o="",n=!1,a=!1,r=!1,l=0,h=0;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseMove.apply(this,arguments),r=!1,n=!1,a=!1,this.FHeaderDownButton.Down||this.FFooterDownButton.Down||(r=this.ClearButtonStates(!0),a=!1,l=1,(n=this.XYToButton(e,i,this.FHeader,{get:function(){return l},set:function(t){l=t}}))?this.FHeaderButtonStates.SetItem(l,1):(h=1,(a=this.XYToButton(e,i,this.FFooter,{get:function(){return h},set:function(t){h=t}}))&&this.FFooterButtonStates.SetItem(h,1))),n||a||(""===(s=this.XYToAnchor(e,i,this.FHeader))&&(o=this.XYToAnchor(e,i,this.FFooter)),""!==s||""!==o?this.SetControlCursor(21):this.SetControlCursor(0)),(a||n||r)&&this.Invalidate()},this.HandleMouseUp=function(t,e,i,s){var o=0,n=0;if(pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseUp.apply(this,arguments),""===this.FFooterAnchor&&""===this.FHeaderAnchor){if(o=1,this.XYToButton(i,s,this.FHeader,{get:function(){return o},set:function(t){o=t}})){if(o===this.FHeaderDownButton.Button&&this.FHeaderDownButton.Down){var a=o;0===a?this.HandleCompactAction(this.FHeader):1===a?this.HandleCloseAction(this.FHeader):2===a?this.HandleExpandAction(this.FHeader):3===a&&this.HandleDropDownAction(o,this.FHeader)}}else if(n=1,this.XYToButton(i,s,this.FFooter,{get:function(){return n},set:function(t){n=t}})&&n===this.FFooterDownButton.Button&&this.FFooterDownButton.Down){var r=n;0===r?this.HandleCompactAction(this.FFooter):1===r?this.HandleCloseAction(this.FFooter):2===r?this.HandleExpandAction(this.FHeader):3===r&&this.HandleDropDownAction(n,this.FFooter)}}else""!==this.FHeaderAnchor&&this.DoHeaderAnchorClick(this.FHeaderAnchor),""!==this.FFooterAnchor&&this.DoFooterAnchorClick(this.FFooterAnchor);this.FFooterAnchor="",this.FHeaderAnchor="",this.FHeaderDownButton.Down=!1,this.FFooterDownButton.Down=!1,this.ClearButtonStates(!1)&&this.Invalidate()},this.HandleDropDownAction=function(t,e){var i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=pas["WEBLib.TMSFNCTypes"].TPointF.$new();1===this.FDropDownAction&&null!=e.FDropDownControl&&(i.$assign(this.GetButtonRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(this.GetLocalRect()),e,t)),s.$assign(this.LocalToScreenEx(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(i.Left,i.Top+(i.Bottom-i.Top))))),e.FDropDownControl.SetWidth(Math.round(e.FDropDownWidth)),e.FDropDownControl.SetHeight(Math.round(e.FDropDownHeight)),this.FPopup.SetDropDownHeight(e.FDropDownHeight),this.FPopup.SetDropDownWidth(e.FDropDownWidth),this.FPopup.SetContentControl(e.FDropDownControl),this.FPopup.FFocusedControl=e.FDropDownControl,this.FPopup.SetPlacementControl(this),this.FPopup.FPlacementRectangle.SetLeft(s.X),this.FPopup.FPlacementRectangle.SetTop(s.Y),this.FPopup.FPlacementRectangle.SetRight(s.X+this.FPopup.FDropDownWidth),this.FPopup.FPlacementRectangle.SetBottom(s.Y+this.FPopup.FDropDownHeight),this.FPopup.Popup(!1)),e===this.FHeader?this.DoHeaderDropDownButtonClick():e===this.FFooter&&this.DoFooterDropDownButtonClick()},this.HandleCloseAction=function(t){var e=null,i=this.FCloseAction;1===i?(e=this,e=rtl.freeLoc(e)):2===i&&this.SetVisible(!1),t===this.FHeader?this.DoHeaderCloseButtonClick():t===this.FFooter&&this.DoFooterCloseButtonClick()},this.HandleExpandAction=function(t){if(1===this.FExpandAction){var e=this.FExpandState;0===e?this.Expand(!1):1===e&&this.Collapse(!1)}t===this.FHeader?this.DoHeaderExpandButtonClick():t===this.FFooter&&this.DoFooterExpandButtonClick()},this.HandleCompactAction=function(t){if(1===this.FCompactAction){var e=this.FCompactState;0===e?this.Expand(!0):1===e&&this.Collapse(!0)}t===this.FHeader?this.DoHeaderCompactButtonClick():t===this.FFooter&&this.DoFooterCompactButtonClick()},this.DoHeaderAnchorClick=function(t){null!=this.FOnHeaderAnchorClick?this.FOnHeaderAnchorClick(this,t):pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.OpenURL(t)},this.DoHeaderCloseButtonClick=function(){null!=this.FOnHeaderCloseButtonClick&&this.FOnHeaderCloseButtonClick(this)},this.DoHeaderExpandButtonClick=function(){null!=this.FOnHeaderExpandButtonClick&&this.FOnHeaderExpandButtonClick(this)},this.DoHeaderDropDownButtonClick=function(){null!=this.FOnHeaderDropDownButtonClick&&this.FOnHeaderDropDownButtonClick(this)},this.DoHeaderCompactButtonClick=function(){null!=this.FOnInternalHeaderCompactButtonClick&&this.FOnInternalHeaderCompactButtonClick(this),null!=this.FOnHeaderCompactButtonClick&&this.FOnHeaderCompactButtonClick(this)},this.DoFooterAnchorClick=function(t){null!=this.FOnFooterAnchorClick?this.FOnFooterAnchorClick(this,t):pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.OpenURL(t)},this.DoFooterCloseButtonClick=function(){null!=this.FOnFooterCloseButtonClick&&this.FOnFooterCloseButtonClick(this)},this.DoFooterExpandButtonClick=function(){null!=this.FOnFooterExpandButtonClick&&this.FOnFooterExpandButtonClick(this)},this.DoFooterDropDownButtonClick=function(){null!=this.FOnFooterDropDownButtonClick&&this.FOnFooterDropDownButtonClick(this)},this.DoFooterCompactButtonClick=function(){null!=this.FOnFooterCompactButtonClick&&this.FOnFooterCompactButtonClick(this)},this.UpdateControlBounds=function(){for(var t=0,e=0,i=this.FSections.GetCount()-1;e<=i;e++)t=e,this.FSections.GetItem$1(t).UpdateControlBounds()},this.AlignControls=function(t,e){this.FHeader.FVisible&&(e.Top=e.Top+Math.round(this.FHeader.FSize)),this.FFooter.FVisible&&(e.Bottom=e.Bottom-Math.round(this.FFooter.FSize)),pas["WEBLib.Controls"].TControl.AlignControls.apply(this,arguments)},this.Loaded=function(){pas["WEBLib.Controls"].TCustomControl.Loaded.call(this)},this.SetFonts=function(t){this.BeginUpdate(),this.FGlobalFont.ApplyChange(this.FHeader.FFont,t),this.FGlobalFont.ApplyChange(this.FFooter.FFont,t),this.FGlobalFont.ApplyChange(this.FSectionsAppearance.FFont,t),this.EndUpdate()},this.Create$1=function(e){var i=0;for(pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Create$1.apply(this,arguments),this.FSectionsAppearance=t.TTMSFNCPanelSectionsAppearance.$create("Create$1"),this.FSectionsAppearance.FOnChange=rtl.createCallback(this,"SectionsAppearanceChanged"),this.FSections=t.TTMSFNCPanelSections.$create("Create$3",[this]),this.FSections.FOnChanged=rtl.createCallback(this,"SectionsChanged"),this.FFooter=t.TTMSFNCPanelFooter.$create("Create$1"),this.IsDesignTime()&&this.FFooter.SetText("Footer"),this.FFooter.FOnChanged=rtl.createCallback(this,"FooterChanged"),this.FHeader=t.TTMSFNCPanelHeader.$create("Create$1"),this.IsDesignTime()&&this.FHeader.SetText("Header"),this.FHeader.FOnChanged=rtl.createCallback(this,"HeaderChanged"),this.FHeaderButtonStates=t.TTMSFNCPanelButtonStates.$create("Create$1"),i=0;i<=3;i++)this.FHeaderButtonStates.Add(0);for(this.FFooterButtonStates=t.TTMSFNCPanelButtonStates.$create("Create$1"),i=0;i<=3;i++)this.FFooterButtonStates.Add(0);return this.FCloseAction=2,this.FExpandAction=1,this.FCompactAction=1,this.FDropDownAction=1,this.FPopup=pas["WEBLib.TMSFNCPopup"].TTMSFNCPopup.$create("Create$1",[this]),this.FPopup.SetPlacement(9),this.FExpandState=1,this.FCompactState=1,this.FGlobalFont=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCAppearanceGlobalFont.$create("Create$1",[this]),this.SetWidth(200),this.SetHeight(275),this.IsDesignTime()&&this.InitSample(),this},this.Destroy=function(){rtl.free(this,"FGlobalFont"),rtl.free(this,"FHeaderButtonStates"),rtl.free(this,"FFooterButtonStates"),rtl.free(this,"FFooter"),rtl.free(this,"FHeader"),rtl.free(this,"FSections"),rtl.free(this,"FSectionsAppearance"),pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Destroy.call(this)},this.Assign=function(e){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Assign.apply(this,arguments),t.TTMSFNCCustomPanel.isPrototypeOf(e)&&(this.FHeader.Assign(rtl.as(e,t.TTMSFNCCustomPanel).FHeader),this.FFooter.Assign(rtl.as(e,t.TTMSFNCCustomPanel).FFooter),this.FCloseAction=rtl.as(e,t.TTMSFNCCustomPanel).FCloseAction,this.FDropDownAction=rtl.as(e,t.TTMSFNCCustomPanel).FDropDownAction,this.FExpandAction=rtl.as(e,t.TTMSFNCCustomPanel).FExpandAction,this.FCompactAction=rtl.as(e,t.TTMSFNCCustomPanel).FCompactAction)},this.Expand=function(t){t?0===this.FCompactState&&(this.SetWidth(Math.round(this.FOldWidth)),this.FCompactState=1):0===this.FExpandState&&(this.SetHeight(Math.round(this.FOldHeight)),this.FExpandState=1)},this.Collapse=function(t){t?1===this.FCompactState&&(this.FOldWidth=this.GetWidth(),this.SetWidth(Math.round(this.GetCollapsedWidth())),this.FCompactState=0):1===this.FExpandState&&(this.FOldHeight=this.GetHeight(),this.SetHeight(Math.round(this.GetCollapsedHeight())),this.FExpandState=0)},this.SetBounds=function(t,e,i,s){pas["WEBLib.Controls"].TControl.SetBounds.call(this,t,e,i,s),this.UpdateControlBounds()},this.InitSample=function(){this.ResetToDefaultStyle()},rtl.addIntf(this,pas["WEBLib.TMSFNCGraphicsTypes"].ITMSFNCAppearanceGlobalFont),rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),rtl.createClass(this,"TTMSFNCPanel",this.TTMSFNCCustomPanel,(function(){this.RegisterRuntimeClasses=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.RegisterRuntimeClasses.call(this),pas.Classes.RegisterClass(t.TTMSFNCPanel)},this.GetVersion=function(){return this.$class.GetVersionNumber(1,0,2,1)},rtl.addIntf(this,pas["WEBLib.TMSFNCGraphicsTypes"].ITMSFNCAppearanceGlobalFont),rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("BitmapContainer",3,pas["WEBLib.TMSFNCBitmapContainer"].$rtti.TTMSFNCBitmapContainer,"GetBitmapContainer","SetBitmapContainer"),e.addProperty("Version",1,rtl.string,"GetVersion",""),e.addProperty("Fill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FFill","SetFill"),e.addProperty("Sections",2,t.$rtti.TTMSFNCPanelSections,"FSections","SetSections"),e.addProperty("SectionsAppearance",2,t.$rtti.TTMSFNCPanelSectionsAppearance,"FSectionsAppearance","SetSectionsAppearance"),e.addProperty("Stroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FStroke","SetStroke"),e.addProperty("Header",2,t.$rtti.TTMSFNCPanelHeader,"FHeader","SetHeader"),e.addProperty("Footer",2,t.$rtti.TTMSFNCPanelFooter,"FFooter","SetFooter"),e.addProperty("CloseAction",2,t.$rtti.TTMSFNCPanelCloseAction,"FCloseAction","SetCloseAction",{Default:t.TTMSFNCPanelCloseAction.pcaHide}),e.addProperty("DropDownAction",2,t.$rtti.TTMSFNCPanelDropDownAction,"FDropDownAction","SetDropDownAction",{Default:t.TTMSFNCPanelDropDownAction.pddaPopup}),e.addProperty("ExpandAction",2,t.$rtti.TTMSFNCPanelExpandAction,"FExpandAction","SetExpandAction",{Default:t.TTMSFNCPanelExpandAction.peaExpand}),e.addProperty("CompactAction",2,t.$rtti.TTMSFNCPanelCompactAction,"FCompactAction","SetCompactAction",{Default:t.TTMSFNCPanelCompactAction.pcCompact}),e.addProperty("GlobalFont",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCAppearanceGlobalFont,"FGlobalFont","SetGlobalFont"),e.addProperty("OnHeaderAnchorClick",0,t.$rtti.TTMSFNCPanelAnchorClickEvent,"FOnHeaderAnchorClick","FOnHeaderAnchorClick"),e.addProperty("OnHeaderCloseButtonClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnHeaderCloseButtonClick","FOnHeaderCloseButtonClick"),e.addProperty("OnHeaderExpandButtonClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnHeaderExpandButtonClick","FOnHeaderExpandButtonClick"),e.addProperty("OnHeaderCompactButtonClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnHeaderCompactButtonClick","FOnHeaderCompactButtonClick"),e.addProperty("OnHeaderDropDownButtonClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnHeaderDropDownButtonClick","FOnHeaderDropDownButtonClick"),e.addProperty("OnFooterAnchorClick",0,t.$rtti.TTMSFNCPanelAnchorClickEvent,"FOnFooterAnchorClick","FOnFooterAnchorClick"),e.addProperty("OnFooterCloseButtonClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnFooterCloseButtonClick","FOnFooterCloseButtonClick"),e.addProperty("OnFooterExpandButtonClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnFooterExpandButtonClick","FOnFooterExpandButtonClick"),e.addProperty("OnFooterCompactButtonClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnFooterCompactButtonClick","FOnFooterCompactButtonClick"),e.addProperty("OnFooterDropDownButtonClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnFooterDropDownButtonClick","FOnFooterDropDownButtonClick"),e.attr=[pas.Classes.ComponentPlatformsAttribute,"Create$1",[0]]}))}),["Math","SysUtils","WEBLib.TMSFNCUtils","WEBLib.TMSFNCStyles","WEBLib.Graphics"]),rtl.module("WEBLib.TMSFNCGridDataUtil",["System","Classes","Types","SysUtils"],(function(){"use strict";var t=this.$impl;this.TTMSFNCGridAutoType={0:"atNumeric",atNumeric:0,1:"atFloat",atFloat:1,2:"atString",atString:2,3:"atDate",atDate:3,4:"atTime",atTime:4,5:"atScientific",atScientific:5},rtl.createClass(this,"TTMSFNCGridIntList",pas.Classes.TList,(function(){this.SetInteger=function(t,e){this.Put(t,e)},this.GetInteger=function(t){return rtl.trunc(this.Get(t))},this.HasValue=function(t){return-1!==this.IndexOfValue(t)},this.IndexOfValue=function(t){return this.IndexOf(t)},this.Add$1=function(t){pas.Classes.TList.Add.call(this,t)},this.Insert$1=function(t,e){pas.Classes.TList.Insert.call(this,t,e)},this.Delete$1=function(t){pas.Classes.TList.Delete.call(this,t)}})),this.IsType=function(e){var i=0,s=0,o=!1,n=!1,a=!1,r=0,l=0,h=0,F=!1;if(i=2,""===e)return i;o=!0,n=!0,a=!0,F=!1,r=-1,l=0,h=0;for(var p=1,C=e.length;p<=C;p++)s=p,t.CheckSignedNum(e.charAt(s-1))||(o=!1),"e"!==e.charAt(s-1)&&"E"!==e.charAt(s-1)||(F&&(a=!1),F=!0),s>1&&"-"===e.charAt(s-1)&&(o=!1,n=!1),1!==s||"e"!==e.charAt(s-1)&&"E"!==e.charAt(s-1)||(a=!1),s!==e.length||"e"!==e.charAt(s-1)&&"E"!==e.charAt(s-1)&&"+"!==e.charAt(s-1)&&"-"!==e.charAt(s-1)||(a=!1),t.CheckNum(e.charAt(s-1))||"-"===e.charAt(s-1)||e.charAt(s-1)===pas.SysUtils.FormatSettings.ThousandSeparator||e.charAt(s-1)===pas.SysUtils.FormatSettings.DecimalSeparator||(n=!1),t.CheckSignedFloatNum(e.charAt(s-1))&&e.charAt(s-1)!==pas.SysUtils.FormatSettings.ThousandSeparator||(a=!1),e.charAt(s-1)===pas.SysUtils.FormatSettings.ThousandSeparator&&s-r<4&&-1!==r&&(n=!1),e.charAt(s-1)===pas.SysUtils.FormatSettings.ThousandSeparator&&(r=s),e.charAt(s-1)===pas.SysUtils.FormatSettings.DecimalSeparator&&(l+=1),"-"===e.charAt(s-1)&&(h+=1);return o?i=0:(n&&!F&&(i=1),a&&F&&(2===h&&(h=1),i=5)),(h>1||l>1)&&(i=2),i},this.IsURL=function(t){var e;return e=pas.SysUtils.UpperCase(t),1===pas.System.Pos("HTTP://",e)||1===pas.System.Pos("HTTPS://",e)||1===pas.System.Pos("FTP://",e)||1===pas.System.Pos("NNTP://",e)||1===pas.System.Pos("MAILTO:",e)},this.$implcode=function(){t.IsNumber=function(t){return t.charCodeAt()in rtl.createSet(null,48,57)},t.CheckNum=function(e){return t.IsNumber(e)},t.CheckSignedNum=function(e){return t.IsNumber(e)||"-"===e},t.CheckFloatNum=function(e){return t.IsNumber(e)||e===pas.SysUtils.FormatSettings.ThousandSeparator||e===pas.SysUtils.FormatSettings.DecimalSeparator||"e"===e||"E"===e},t.CheckSignedFloatNum=function(e){return t.CheckFloatNum(e)||"+"===e||"-"===e}}}),["WEBLib.TMSFNCUtils"]),rtl.module("WEBLib.TMSFNCGridOptions",["System","Classes","WEBLib.TMSFNCGridDataUtil","WEBLib.TMSFNCGraphicsTypes"],(function(){"use strict";var t=this;this.TTMSFNCGridTabKeyHandling={0:"tkhNextControl",tkhNextControl:0,1:"tkhNextCell",tkhNextCell:1,2:"tkhMixed",tkhMixed:2},this.$rtti.$Enum("TTMSFNCGridTabKeyHandling",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TTMSFNCGridTabKeyHandling}),this.TTMSFNCGridTabKeyDirection={0:"tkdNextColumnCell",tkdNextColumnCell:0,1:"tkdNextRowCell",tkdNextRowCell:1},this.$rtti.$Enum("TTMSFNCGridTabKeyDirection",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TTMSFNCGridTabKeyDirection}),rtl.createClass(this,"TTMSFNCGridScrollBarOptions",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FOnChange=null,this.FVerticalScrollBarVisible=!1,this.FHorizontalScrollBarVisible=!1},this.$final=function(){this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetHorizontalScrollBarVisible=function(t){this.FHorizontalScrollBarVisible!==t&&(this.FHorizontalScrollBarVisible=t,null!=this.FOnChange&&this.FOnChange(this))},this.SetVerticalScrollBarVisible=function(t){this.FVerticalScrollBarVisible!==t&&(this.FVerticalScrollBarVisible=t,null!=this.FOnChange&&this.FOnChange(this))},this.Assign=function(e){t.TTMSFNCGridScrollBarOptions.isPrototypeOf(e)&&(this.SetVerticalScrollBarVisible(rtl.as(e,t.TTMSFNCGridScrollBarOptions).FVerticalScrollBarVisible),this.SetHorizontalScrollBarVisible(rtl.as(e,t.TTMSFNCGridScrollBarOptions).FHorizontalScrollBarVisible))},this.Create$1=function(){return this.FVerticalScrollBarVisible=!0,this.FHorizontalScrollBarVisible=!0,this},this.Destroy=function(){pas.System.TObject.Destroy.call(this)};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("HorizontalScrollBarVisible",2,rtl.boolean,"FHorizontalScrollBarVisible","SetHorizontalScrollBarVisible",{Default:!0}),e.addProperty("VerticalScrollBarVisible",2,rtl.boolean,"FVerticalScrollBarVisible","SetVerticalScrollBarVisible",{Default:!0})})),rtl.createClass(this,"TTMSFNCGridBandOptions",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FEnabled=!1,this.FOnChange=null,this.FBandRowCount=0,this.FNormalRowCount=0,this.FTotalRowCount=0},this.$final=function(){this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetEnabled=function(t){this.FEnabled!==t&&(this.FEnabled=t,this.Changed())},this.SetBandRowCount=function(t){t>0&&this.FBandRowCount!==t&&(this.FBandRowCount=t,this.FTotalRowCount=this.FNormalRowCount+this.FBandRowCount,this.Changed())},this.SetNormalRowCount=function(t){t>0&&this.FNormalRowCount!==t&&(this.FNormalRowCount=t,this.FTotalRowCount=this.FNormalRowCount+this.FBandRowCount,this.Changed())},this.Assign=function(e){t.TTMSFNCGridBandOptions.isPrototypeOf(e)&&(this.FEnabled=rtl.as(e,t.TTMSFNCGridBandOptions).FEnabled)},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FEnabled=!1,this.FNormalRowCount=1,this.FBandRowCount=1,this},this.Changed=function(){null!=this.FOnChange&&this.FOnChange(this)};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("NormalRowCount",2,rtl.longint,"FNormalRowCount","SetNormalRowCount",{Default:1}),e.addProperty("BandRowCount",2,rtl.longint,"FBandRowCount","SetBandRowCount",{Default:1}),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!1}),e.addProperty("OnChange",0,pas.Classes.$rtti.TNotifyEvent,"FOnChange","FOnChange")})),this.TTMSFNCGridSelectionMode={0:"smNone",smNone:0,1:"smSingleCell",smSingleCell:1,2:"smSingleRow",smSingleRow:2,3:"smSingleColumn",smSingleColumn:3,4:"smCellRange",smCellRange:4,5:"smRowRange",smRowRange:5,6:"smColumnRange",smColumnRange:6,7:"smDisjunctRow",smDisjunctRow:7,8:"smDisjunctColumn",smDisjunctColumn:8,9:"smDisjunctCell",smDisjunctCell:9},this.$rtti.$Enum("TTMSFNCGridSelectionMode",{minvalue:0,maxvalue:9,ordtype:1,enumtype:this.TTMSFNCGridSelectionMode}),rtl.createClass(this,"TTMSFNCGridSelection",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FMode=0,this.FOnChange=null,this.FShowSelectionInFixedCells=!1},this.$final=function(){this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetMode=function(t){this.FMode!==t&&(this.FMode=t,this.Changed())},this.SetShowSelectionInFixedCells=function(t){this.FShowSelectionInFixedCells!==t&&(this.FShowSelectionInFixedCells=t,this.Changed())},this.Assign=function(e){t.TTMSFNCGridSelection.isPrototypeOf(e)&&(this.FMode=rtl.as(e,t.TTMSFNCGridSelection).FMode,this.FShowSelectionInFixedCells=rtl.as(e,t.TTMSFNCGridSelection).FShowSelectionInFixedCells)},this.Create$1=function(){return this.FMode=1,this},this.Changed=function(){null!=this.FOnChange&&this.FOnChange(this)};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("Mode",2,t.$rtti.TTMSFNCGridSelectionMode,"FMode","SetMode",{Default:t.TTMSFNCGridSelectionMode.smSingleCell}),e.addProperty("ShowSelectionInFixedCells",2,rtl.boolean,"FShowSelectionInFixedCells","SetShowSelectionInFixedCells",{Default:!1}),e.addProperty("OnChange",0,pas.Classes.$rtti.TNotifyEvent,"FOnChange","FOnChange")})),this.TTMSFNCGridFixedCellSelectionMode={0:"fcsAll",fcsAll:0,1:"fcsRow",fcsRow:1,2:"fcsColumn",fcsColumn:2,3:"fcsRowRange",fcsRowRange:3,4:"fcsColumnRange",fcsColumnRange:4,5:"fcsDisjunctRow",fcsDisjunctRow:5,6:"fcsDisjunctColumn",fcsDisjunctColumn:6},this.$rtti.$Enum("TTMSFNCGridFixedCellSelectionMode",{minvalue:0,maxvalue:6,ordtype:1,enumtype:this.TTMSFNCGridFixedCellSelectionMode}),this.$rtti.$Set("TTMSFNCGridFixedCellSelection",{comptype:this.$rtti.TTMSFNCGridFixedCellSelectionMode}),this.TTMSFNCGridAutoScrollingSpeedMode={0:"asmPixels",asmPixels:0,1:"asmCell",asmCell:1},this.$rtti.$Enum("TTMSFNCGridAutoScrollingSpeedMode",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TTMSFNCGridAutoScrollingSpeedMode}),rtl.createClass(this,"TTMSFNCGridMouseOptions",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FDirectEdit=!1,this.FWheelScrollSize=0,this.FAutoDragging=!1,this.FFixedRowSizing=!1,this.FFixedColumnSizing=!1,this.FRowDragging=!1,this.FColumnDragging=!1,this.FAutoScrollingInterval=0,this.FRowSizing=!1,this.FColumnSizing=!1,this.FAutoScrollingSpeed=0,this.FAutoScrolling=!1,this.FTouchScrolling=!1,this.FTouchScrollingSensitivity=0,this.FFixedCellSelection={},this.FRowAutoSizeOnDblClick=!1,this.FColumnAutoSizeOnDblClick=!1,this.FWheelScrollKeepSelection=!1,this.FRowSizeMargin=0,this.FColumnSizeMargin=0,this.FAutoScrollingSpeedMode=0,this.FClickMargin=0},this.$final=function(){this.FFixedCellSelection=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetWheelScrollSize=function(t){this.FWheelScrollSize=t},this.SetAutoScrollingInterval=function(t){this.FAutoScrollingInterval=t},this.SetTouchScrolling=function(t){this.FTouchScrolling=t},this.SetWheelScrollKeepSelection=function(t){this.FWheelScrollKeepSelection=t},this.IsTouchScrollingSensitivityStored=function(){return 1!==this.FTouchScrollingSensitivity},this.SetColumnSizeMargin=function(t){this.FColumnSizeMargin=t},this.SetRowSizeMargin=function(t){this.FRowSizeMargin=t},this.SetClickMargin=function(t){this.FClickMargin=t},this.Assign=function(e){t.TTMSFNCGridMouseOptions.isPrototypeOf(e)&&(this.FDirectEdit=rtl.as(e,t.TTMSFNCGridMouseOptions).FDirectEdit,this.FWheelScrollSize=rtl.as(e,t.TTMSFNCGridMouseOptions).FWheelScrollSize,this.FColumnSizing=rtl.as(e,t.TTMSFNCGridMouseOptions).FColumnSizing,this.FRowSizing=rtl.as(e,t.TTMSFNCGridMouseOptions).FRowSizing,this.FFixedColumnSizing=rtl.as(e,t.TTMSFNCGridMouseOptions).FFixedColumnSizing,this.FFixedRowSizing=rtl.as(e,t.TTMSFNCGridMouseOptions).FFixedRowSizing,this.FColumnDragging=rtl.as(e,t.TTMSFNCGridMouseOptions).FColumnDragging,this.FRowDragging=rtl.as(e,t.TTMSFNCGridMouseOptions).FRowDragging,this.FAutoScrolling=rtl.as(e,t.TTMSFNCGridMouseOptions).FAutoScrolling,this.FAutoDragging=rtl.as(e,t.TTMSFNCGridMouseOptions).FAutoDragging,this.FAutoScrollingSpeed=rtl.as(e,t.TTMSFNCGridMouseOptions).FAutoScrollingSpeed,this.FAutoScrollingInterval=rtl.as(e,t.TTMSFNCGridMouseOptions).FAutoScrollingInterval,this.FTouchScrolling=rtl.as(e,t.TTMSFNCGridMouseOptions).FTouchScrolling,this.FTouchScrollingSensitivity=rtl.as(e,t.TTMSFNCGridMouseOptions).FTouchScrollingSensitivity,this.FFixedCellSelection=rtl.refSet(rtl.as(e,t.TTMSFNCGridMouseOptions).FFixedCellSelection),this.FRowAutoSizeOnDblClick=rtl.as(e,t.TTMSFNCGridMouseOptions).FRowAutoSizeOnDblClick,this.FColumnAutoSizeOnDblClick=rtl.as(e,t.TTMSFNCGridMouseOptions).FColumnAutoSizeOnDblClick,this.FWheelScrollKeepSelection=rtl.as(e,t.TTMSFNCGridMouseOptions).FWheelScrollKeepSelection,this.FColumnSizeMargin=rtl.as(e,t.TTMSFNCGridMouseOptions).FColumnSizeMargin,this.FClickMargin=rtl.as(e,t.TTMSFNCGridMouseOptions).FClickMargin,this.FRowSizeMargin=rtl.as(e,t.TTMSFNCGridMouseOptions).FRowSizeMargin,this.FAutoScrollingSpeedMode=rtl.as(e,t.TTMSFNCGridMouseOptions).FAutoScrollingSpeedMode)},this.Create$1=function(){return this.FTouchScrollingSensitivity=1,this.FTouchScrolling=!1,this.FDirectEdit=!1,this.FWheelScrollSize=4,this.FColumnSizing=!1,this.FRowSizing=!1,this.FFixedColumnSizing=!1,this.FFixedRowSizing=!1,this.FColumnDragging=!1,this.FRowDragging=!1,this.FAutoScrolling=!0,this.FAutoDragging=!0,this.FAutoScrollingSpeed=1,this.FAutoScrollingInterval=100,this.FFixedCellSelection={},this.FRowAutoSizeOnDblClick=!0,this.FColumnAutoSizeOnDblClick=!0,this.FWheelScrollKeepSelection=!1,this.FColumnSizeMargin=6,this.FRowSizeMargin=6,this.FAutoScrollingSpeedMode=0,this};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("DirectEdit",0,rtl.boolean,"FDirectEdit","FDirectEdit",{Default:!1}),e.addProperty("WheelScrollSize",2,rtl.longint,"FWheelScrollSize","SetWheelScrollSize",{Default:4}),e.addProperty("WheelScrollKeepSelection",2,rtl.boolean,"FWheelScrollKeepSelection","SetWheelScrollKeepSelection",{Default:!1}),e.addProperty("ColumnSizing",0,rtl.boolean,"FColumnSizing","FColumnSizing",{Default:!1}),e.addProperty("ClickMargin",2,rtl.longint,"FClickMargin","SetClickMargin",{Default:2}),e.addProperty("ColumnSizeMargin",2,rtl.longint,"FColumnSizeMargin","SetColumnSizeMargin",{Default:2}),e.addProperty("RowSizing",0,rtl.boolean,"FRowSizing","FRowSizing",{Default:!1}),e.addProperty("RowSizeMargin",2,rtl.longint,"FRowSizeMargin","SetRowSizeMargin",{Default:2}),e.addProperty("FixedColumnSizing",0,rtl.boolean,"FFixedColumnSizing","FFixedColumnSizing",{Default:!1}),e.addProperty("FixedRowSizing",0,rtl.boolean,"FFixedRowSizing","FFixedRowSizing",{Default:!1}),e.addProperty("FixedCellSelection",0,t.$rtti.TTMSFNCGridFixedCellSelection,"FFixedCellSelection","FFixedCellSelection",{Default:{}}),e.addProperty("ColumnAutoSizeOnDblClick",0,rtl.boolean,"FColumnAutoSizeOnDblClick","FColumnAutoSizeOnDblClick",{Default:!0}),e.addProperty("RowAutoSizeOnDblClick",0,rtl.boolean,"FRowAutoSizeOnDblClick","FRowAutoSizeOnDblClick",{Default:!0}),e.addProperty("ColumnDragging",0,rtl.boolean,"FColumnDragging","FColumnDragging",{Default:!1}),e.addProperty("RowDragging",0,rtl.boolean,"FRowDragging","FRowDragging",{Default:!1}),e.addProperty("AutoScrolling",0,rtl.boolean,"FAutoScrolling","FAutoScrolling",{Default:!0}),e.addProperty("AutoDragging",0,rtl.boolean,"FAutoDragging","FAutoDragging",{Default:!0}),e.addProperty("AutoScrollingSpeedMode",0,t.$rtti.TTMSFNCGridAutoScrollingSpeedMode,"FAutoScrollingSpeedMode","FAutoScrollingSpeedMode",{Default:t.TTMSFNCGridAutoScrollingSpeedMode.asmPixels}),e.addProperty("AutoScrollingSpeed",0,rtl.longint,"FAutoScrollingSpeed","FAutoScrollingSpeed",{Default:1}),e.addProperty("AutoScrollingInterval",2,rtl.longint,"FAutoScrollingInterval","SetAutoScrollingInterval",{Default:100}),e.addProperty("TouchScrolling",2,rtl.boolean,"FTouchScrolling","SetTouchScrolling",{Default:!1}),e.addProperty("TouchScrollingSensitivity",12,rtl.double,"FTouchScrollingSensitivity","FTouchScrollingSensitivity",{stored:"IsTouchScrollingSensitivityStored"})})),this.TTMSFNCGridInsertKeyHandling={0:"ikhNone",ikhNone:0,1:"ikhInsertRowBefore",ikhInsertRowBefore:1,2:"ikhInsertRowAfter",ikhInsertRowAfter:2},this.$rtti.$Enum("TTMSFNCGridInsertKeyHandling",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TTMSFNCGridInsertKeyHandling}),this.TTMSFNCGridEnterKeyHandling={0:"ekhNone",ekhNone:0,1:"ekhNextColumn",ekhNextColumn:1,2:"ekhNextRow",ekhNextRow:2,3:"ekhNextColumnInRow",ekhNextColumnInRow:3,4:"ekhNextRowInColumn",ekhNextRowInColumn:4,5:"ekhNextColumnAndAppend",ekhNextColumnAndAppend:5,6:"ekhNextRowAndAppend",ekhNextRowAndAppend:6,7:"ekhNextRowAndColumnAppend",ekhNextRowAndColumnAppend:7,8:"ekhNextColumnAndRowAppend",ekhNextColumnAndRowAppend:8},this.$rtti.$Enum("TTMSFNCGridEnterKeyHandling",{minvalue:0,maxvalue:8,ordtype:1,enumtype:this.TTMSFNCGridEnterKeyHandling}),this.TTMSFNCGridDeleteKeyHandling={0:"dkhNone",dkhNone:0,1:"dkhDeleteRow",dkhDeleteRow:1},this.$rtti.$Enum("TTMSFNCGridDeleteKeyHandling",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TTMSFNCGridDeleteKeyHandling}),rtl.createClass(this,"TTMSFNCGridKeyboardOptions",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FTabKeyDirection=0,this.FTabKeyHandling=0,this.FPageScrollSize=0,this.FEnterKeyHandling=0,this.FEnterKeyDirectEdit=!1,this.FDeleteKeyHandling=0,this.FInsertKeyHandling=0,this.FTabKeyDirectEdit=!1,this.FArrowKeyDirectEdit=!1,this.FAllowCellMergeShortCut=!1},this.SetPageScrollSize=function(t){this.FPageScrollSize=t},this.Assign=function(e){t.TTMSFNCGridKeyboardOptions.isPrototypeOf(e)&&(this.FTabKeyDirection=rtl.as(e,t.TTMSFNCGridKeyboardOptions).FTabKeyDirection,this.FTabKeyHandling=rtl.as(e,t.TTMSFNCGridKeyboardOptions).FTabKeyHandling,this.FEnterKeyHandling=rtl.as(e,t.TTMSFNCGridKeyboardOptions).FEnterKeyHandling,this.FDeleteKeyHandling=rtl.as(e,t.TTMSFNCGridKeyboardOptions).FDeleteKeyHandling,this.FInsertKeyHandling=rtl.as(e,t.TTMSFNCGridKeyboardOptions).FInsertKeyHandling,this.FEnterKeyDirectEdit=rtl.as(e,t.TTMSFNCGridKeyboardOptions).FEnterKeyDirectEdit,this.FTabKeyDirectEdit=rtl.as(e,t.TTMSFNCGridKeyboardOptions).FTabKeyDirectEdit,this.FArrowKeyDirectEdit=rtl.as(e,t.TTMSFNCGridKeyboardOptions).FArrowKeyDirectEdit,this.FAllowCellMergeShortCut=rtl.as(e,t.TTMSFNCGridKeyboardOptions).FAllowCellMergeShortCut)},this.Create$1=function(){return this.FTabKeyDirection=0,this.FTabKeyHandling=2,this.FPageScrollSize=0,this.FEnterKeyHandling=0,this.FDeleteKeyHandling=0,this.FInsertKeyHandling=0,this.FEnterKeyDirectEdit=!1,this.FArrowKeyDirectEdit=!1,this.FTabKeyDirectEdit=!1,this.FAllowCellMergeShortCut=!1,this};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("AllowCellMergeShortCut",0,rtl.boolean,"FAllowCellMergeShortCut","FAllowCellMergeShortCut",{Default:!1}),e.addProperty("TabKeyDirectEdit",0,rtl.boolean,"FTabKeyDirectEdit","FTabKeyDirectEdit",{Default:!1}),e.addProperty("ArrowKeyDirectEdit",0,rtl.boolean,"FArrowKeyDirectEdit","FArrowKeyDirectEdit",{Default:!1}),e.addProperty("InsertKeyHandling",0,t.$rtti.TTMSFNCGridInsertKeyHandling,"FInsertKeyHandling","FInsertKeyHandling",{Default:t.TTMSFNCGridInsertKeyHandling.ikhNone}),e.addProperty("DeleteKeyHandling",0,t.$rtti.TTMSFNCGridDeleteKeyHandling,"FDeleteKeyHandling","FDeleteKeyHandling",{Default:t.TTMSFNCGridDeleteKeyHandling.dkhNone}),e.addProperty("EnterKeyHandling",0,t.$rtti.TTMSFNCGridEnterKeyHandling,"FEnterKeyHandling","FEnterKeyHandling",{Default:t.TTMSFNCGridEnterKeyHandling.ekhNone}),e.addProperty("EnterKeyDirectEdit",0,rtl.boolean,"FEnterKeyDirectEdit","FEnterKeyDirectEdit",{Default:!1}),e.addProperty("TabKeyHandling",0,t.$rtti.TTMSFNCGridTabKeyHandling,"FTabKeyHandling","FTabKeyHandling",{Default:t.TTMSFNCGridTabKeyHandling.tkhMixed}),e.addProperty("TabKeyDirection",0,t.$rtti.TTMSFNCGridTabKeyDirection,"FTabKeyDirection","FTabKeyDirection",{Default:t.TTMSFNCGridTabKeyDirection.tkdNextColumnCell}),e.addProperty("PageScrollSize",2,rtl.longint,"FPageScrollSize","SetPageScrollSize",{Default:0})})),this.TTMSFNCGridSortBlankPosition={0:"blFirst",blFirst:0,1:"blLast",blLast:1},this.$rtti.$Enum("TTMSFNCGridSortBlankPosition",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TTMSFNCGridSortBlankPosition}),this.TTMSFNCGridSortingMode={0:"gsmNone",gsmNone:0,1:"gsmNormal",gsmNormal:1,2:"gsmIndexed",gsmIndexed:2},this.$rtti.$Enum("TTMSFNCGridSortingMode",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TTMSFNCGridSortingMode}),this.TTMSFNCGridSortColumns={0:"scAll",scAll:0,1:"scNormal",scNormal:1,2:"scSingle",scSingle:2},this.$rtti.$Enum("TTMSFNCGridSortColumns",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TTMSFNCGridSortColumns}),this.TTMSFNCGridBorders={0:"bNone",bNone:0,1:"bAll",bAll:1,2:"bVertical",bVertical:2,3:"bHorizontal",bHorizontal:3},this.$rtti.$Enum("TTMSFNCGridBorders",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TTMSFNCGridBorders}),rtl.createClass(this,"TTMSFNCGridSortingOptions",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FMode=0,this.FRow=0,this.FColumns=0,this.FMultiColumn=!1,this.FIgnoreCase=!1,this.FIgnoreBlanks=!1,this.FBlankPosition=0},this.SetMode=function(t){this.FMode=t},this.Assign=function(e){t.TTMSFNCGridSortingOptions.isPrototypeOf(e)&&(this.FMultiColumn=rtl.as(e,t.TTMSFNCGridSortingOptions).FMultiColumn,this.FMode=rtl.as(e,t.TTMSFNCGridSortingOptions).FMode,this.FColumns=rtl.as(e,t.TTMSFNCGridSortingOptions).FColumns,this.FRow=rtl.as(e,t.TTMSFNCGridSortingOptions).FRow,this.FBlankPosition=rtl.as(e,t.TTMSFNCGridSortingOptions).FBlankPosition,this.FIgnoreCase=rtl.as(e,t.TTMSFNCGridSortingOptions).FIgnoreCase,this.FIgnoreBlanks=rtl.as(e,t.TTMSFNCGridSortingOptions).FIgnoreBlanks)},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FMode=0,this.FMultiColumn=!0,this.FRow=0,this};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("BlankPosition",0,t.$rtti.TTMSFNCGridSortBlankPosition,"FBlankPosition","FBlankPosition",{Default:t.TTMSFNCGridSortBlankPosition.blFirst}),e.addProperty("Row",0,rtl.longint,"FRow","FRow",{Default:0}),e.addProperty("IgnoreCase",0,rtl.boolean,"FIgnoreCase","FIgnoreCase",{Default:!1}),e.addProperty("IgnoreBlanks",0,rtl.boolean,"FIgnoreBlanks","FIgnoreBlanks",{Default:!1}),e.addProperty("MultiColumn",0,rtl.boolean,"FMultiColumn","FMultiColumn",{Default:!0}),e.addProperty("Mode",2,t.$rtti.TTMSFNCGridSortingMode,"FMode","SetMode",{Default:t.TTMSFNCGridSortingMode.gsmNone}),e.addProperty("Columns",0,t.$rtti.TTMSFNCGridSortColumns,"FColumns","FColumns",{Default:t.TTMSFNCGridSortColumns.scAll})})),rtl.createClass(this,"TTMSFNCGridBorderOptions",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FFixedCellBorders=0,this.FCellBorders=0},this.Assign=function(e){t.TTMSFNCGridBorderOptions.isPrototypeOf(e)&&(this.FFixedCellBorders=rtl.as(e,t.TTMSFNCGridBorderOptions).FFixedCellBorders,this.FCellBorders=rtl.as(e,t.TTMSFNCGridBorderOptions).FCellBorders)},this.Create$1=function(){return this.FFixedCellBorders=1,this.FCellBorders=1,this};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("FixedCellBorders",0,t.$rtti.TTMSFNCGridBorders,"FFixedCellBorders","FFixedCellBorders",{Default:t.TTMSFNCGridBorders.bAll}),e.addProperty("CellBorders",0,t.$rtti.TTMSFNCGridBorders,"FCellBorders","FCellBorders",{Default:t.TTMSFNCGridBorders.bAll})})),this.TTMSFNCGridAutoComplete={0:"acDisabled",acDisabled:0,1:"acNormal",acNormal:1,2:"acLookupList",acLookupList:2},this.$rtti.$Enum("TTMSFNCGridAutoComplete",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TTMSFNCGridAutoComplete}),this.TTMSFNCGridAutoPost={0:"apNone",apNone:0,1:"apCell",apCell:1,2:"apRow",apRow:2},this.$rtti.$Enum("TTMSFNCGridAutoPost",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TTMSFNCGridAutoPost}),rtl.createClass(this,"TTMSFNCGridEditingOptions",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FEnabled=!1,this.FAutoComplete=0,this.FAutoCompleteItems=null,this.FAutoHistory=!1,this.FAutoCompleteCaseSensitive=!1,this.FCalcFormat="",this.FAutoPost=0,this.FAutoCancel=!1,this.FDirectComboClose=!1,this.FDirectComboDrop=!1,this.FEditWithTags=!1},this.$final=function(){this.FAutoCompleteItems=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetAutoCompleteItems=function(t){this.FAutoCompleteItems.Assign(t)},this.SetAutoPost=function(t){this.FAutoPost=t},this.SetAutoCancel=function(t){this.FAutoCancel=t},this.Assign=function(e){t.TTMSFNCGridEditingOptions.isPrototypeOf(e)&&(this.FEnabled=rtl.as(e,t.TTMSFNCGridEditingOptions).FEnabled,this.FAutoComplete=rtl.as(e,t.TTMSFNCGridEditingOptions).FAutoComplete,this.FAutoCompleteItems.Assign(rtl.as(e,t.TTMSFNCGridEditingOptions).FAutoCompleteItems),this.FAutoHistory=rtl.as(e,t.TTMSFNCGridEditingOptions).FAutoHistory,this.FAutoCompleteCaseSensitive=rtl.as(e,t.TTMSFNCGridEditingOptions).FAutoCompleteCaseSensitive,this.FCalcFormat=rtl.as(e,t.TTMSFNCGridEditingOptions).FCalcFormat,this.FAutoPost=rtl.as(e,t.TTMSFNCGridEditingOptions).FAutoPost,this.FAutoCancel=rtl.as(e,t.TTMSFNCGridEditingOptions).FAutoCancel,this.FEditWithTags=rtl.as(e,t.TTMSFNCGridEditingOptions).FEditWithTags)},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FEnabled=!0,this.FAutoCompleteItems=pas.Classes.TStringList.$create("Create$1"),this.FAutoCompleteItems.FDuplicates=0,this.FAutoComplete=0,this.FAutoHistory=!1,this.FAutoCompleteCaseSensitive=!0,this.FCalcFormat="%g",this.FAutoPost=1,this.FAutoCancel=!1,this.FEditWithTags=!0,this},this.Destroy=function(){rtl.free(this,"FAutoCompleteItems"),pas.System.TObject.Destroy.call(this)};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("AutoCancel",2,rtl.boolean,"FAutoCancel","SetAutoCancel",{Default:!1}),e.addProperty("AutoComplete",0,t.$rtti.TTMSFNCGridAutoComplete,"FAutoComplete","FAutoComplete",{Default:t.TTMSFNCGridAutoComplete.acDisabled}),e.addProperty("AutoCompleteCaseSensitive",0,rtl.boolean,"FAutoCompleteCaseSensitive","FAutoCompleteCaseSensitive",{Default:!0}),e.addProperty("AutoCompleteItems",2,pas.Classes.$rtti.TStringList,"FAutoCompleteItems","SetAutoCompleteItems"),e.addProperty("AutoHistory",0,rtl.boolean,"FAutoHistory","FAutoHistory",{Default:!1}),e.addProperty("AutoPost",2,t.$rtti.TTMSFNCGridAutoPost,"FAutoPost","SetAutoPost",{Default:t.TTMSFNCGridAutoPost.apCell}),e.addProperty("CalcFormat",0,rtl.string,"FCalcFormat","FCalcFormat"),e.addProperty("DirectComboDrop",0,rtl.boolean,"FDirectComboDrop","FDirectComboDrop",{Default:!1}),e.addProperty("DirectComboClose",0,rtl.boolean,"FDirectComboClose","FDirectComboClose",{Default:!1}),e.addProperty("Enabled",0,rtl.boolean,"FEnabled","FEnabled",{Default:!0}),e.addProperty("EditWithTags",0,rtl.boolean,"FEditWithTags","FEditWithTags",{Default:!0})})),rtl.createClass(this,"TTMSFNCGridLookupOptions",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FCaseSensitive=!1,this.FIncremental=!1,this.FEnabled=!1},this.Assign=function(e){t.TTMSFNCGridLookupOptions.isPrototypeOf(e)&&(this.FCaseSensitive=rtl.as(e,t.TTMSFNCGridLookupOptions).FCaseSensitive,this.FIncremental=rtl.as(e,t.TTMSFNCGridLookupOptions).FIncremental,this.FEnabled=rtl.as(e,t.TTMSFNCGridLookupOptions).FEnabled)},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FCaseSensitive=!1,this.FIncremental=!0,this};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("CaseSensitive",0,rtl.boolean,"FCaseSensitive","FCaseSensitive",{Default:!1}),e.addProperty("Enabled",0,rtl.boolean,"FEnabled","FEnabled",{Default:!1}),e.addProperty("Incremental",0,rtl.boolean,"FIncremental","FIncremental",{Default:!0})})),this.TTMSFNCGridFilterRows={0:"frNormal",frNormal:0,1:"frAll",frAll:1},this.$rtti.$Enum("TTMSFNCGridFilterRows",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TTMSFNCGridFilterRows}),rtl.createClass(this,"TTMSFNCGridFilteringOptions",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FRows=0,this.FDropDownFixedRow=0,this.FDropDown=!1,this.FOnChange=null,this.FDropDownHeight=0,this.FDropDownWidth=0,this.FMultiColumn=!1},this.$final=function(){this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetDropDown=function(t){this.FDropDown!==t&&(this.FDropDown=t,this.Changed())},this.SetDropDownFixedRow=function(t){this.FDropDownFixedRow!==t&&(this.FDropDownFixedRow=t,this.Changed())},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FRows=0,this.FDropDown=!1,this.FDropDownFixedRow=0,this.FDropDownWidth=100,this.FDropDownHeight=120,this},this.Assign=function(e){t.TTMSFNCGridFilteringOptions.isPrototypeOf(e)&&(this.FRows=rtl.as(e,t.TTMSFNCGridFilteringOptions).FRows,this.FDropDown=rtl.as(e,t.TTMSFNCGridFilteringOptions).FDropDown,this.FDropDownFixedRow=rtl.as(e,t.TTMSFNCGridFilteringOptions).FDropDownFixedRow,this.FDropDownWidth=rtl.as(e,t.TTMSFNCGridFilteringOptions).FDropDownWidth,this.FDropDownHeight=rtl.as(e,t.TTMSFNCGridFilteringOptions).FDropDownHeight,this.FMultiColumn=rtl.as(e,t.TTMSFNCGridFilteringOptions).FMultiColumn)},this.Changed=function(){null!=this.FOnChange&&this.FOnChange(this)};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("Rows",0,t.$rtti.TTMSFNCGridFilterRows,"FRows","FRows",{Default:t.TTMSFNCGridFilterRows.frNormal}),e.addProperty("DropDown",2,rtl.boolean,"FDropDown","SetDropDown",{Default:!1}),e.addProperty("DropDownFixedRow",2,rtl.longint,"FDropDownFixedRow","SetDropDownFixedRow",{Default:0}),e.addProperty("DropDownWidth",0,rtl.longint,"FDropDownWidth","FDropDownWidth",{Default:100}),e.addProperty("DropDownHeight",0,rtl.longint,"FDropDownHeight","FDropDownHeight",{Default:120}),e.addProperty("MultiColumn",0,rtl.boolean,"FMultiColumn","FMultiColumn",{Default:!1}),e.addProperty("OnChange",0,pas.Classes.$rtti.TNotifyEvent,"FOnChange","FOnChange")})),rtl.createClass(this,"TTMSFNCGridGroupingOptions",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FMergeHeader=!1,this.FMergeSummary=!1,this.FSummary=!1,this.FShowGroupCount=!1,this.FCalcFormat="",this.FAutoSelectGroup=!1,this.FAutoCheckGroup=!1,this.FGroupCountFormat=""},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FCalcFormat="%g",this.FGroupCountFormat="(%d)",this},this.Assign=function(e){t.TTMSFNCGridGroupingOptions.isPrototypeOf(e)&&(this.FCalcFormat=rtl.as(e,t.TTMSFNCGridGroupingOptions).FCalcFormat,this.FMergeHeader=rtl.as(e,t.TTMSFNCGridGroupingOptions).FMergeHeader,this.FMergeSummary=rtl.as(e,t.TTMSFNCGridGroupingOptions).FMergeSummary,this.FShowGroupCount=rtl.as(e,t.TTMSFNCGridGroupingOptions).FShowGroupCount,this.FAutoCheckGroup=rtl.as(e,t.TTMSFNCGridGroupingOptions).FAutoCheckGroup,this.FAutoSelectGroup=rtl.as(e,t.TTMSFNCGridGroupingOptions).FAutoSelectGroup,this.FGroupCountFormat=rtl.as(e,t.TTMSFNCGridGroupingOptions).FGroupCountFormat)};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("AutoSelectGroup",0,rtl.boolean,"FAutoSelectGroup","FAutoSelectGroup",{Default:!1}),e.addProperty("AutoCheckGroup",0,rtl.boolean,"FAutoCheckGroup","FAutoCheckGroup",{Default:!1}),e.addProperty("CalcFormat",0,rtl.string,"FCalcFormat","FCalcFormat"),e.addProperty("MergeHeader",0,rtl.boolean,"FMergeHeader","FMergeHeader",{Default:!1}),e.addProperty("MergeSummary",0,rtl.boolean,"FMergeSummary","FMergeSummary",{Default:!1}),e.addProperty("ShowGroupCount",0,rtl.boolean,"FShowGroupCount","FShowGroupCount",{Default:!1}),e.addProperty("GroupCountFormat",0,rtl.string,"FGroupCountFormat","FGroupCountFormat"),e.addProperty("Summary",0,rtl.boolean,"FSummary","FSummary",{Default:!1})})),this.TTMSFNCGridClipboardPasteAction={0:"paReplace",paReplace:0,1:"paInsert",paInsert:1},this.$rtti.$Enum("TTMSFNCGridClipboardPasteAction",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TTMSFNCGridClipboardPasteAction}),rtl.createClass(this,"TTMSFNCGridClipboardOptions",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FEnabled=!1,this.FIgnoreReadOnly=!1,this.FAllowColGrow=!1,this.FAllowRowGrow=!1,this.FPasteAction=0},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FEnabled=!0,this.FIgnoreReadOnly=!1,this.FAllowColGrow=!1,this.FAllowRowGrow=!1,this.FPasteAction=0,this},this.Assign=function(e){t.TTMSFNCGridClipboardOptions.isPrototypeOf(e)&&(this.FEnabled=rtl.as(e,t.TTMSFNCGridClipboardOptions).FEnabled,this.FIgnoreReadOnly=rtl.as(e,t.TTMSFNCGridClipboardOptions).FIgnoreReadOnly,this.FAllowColGrow=rtl.as(e,t.TTMSFNCGridClipboardOptions).FAllowColGrow,this.FAllowRowGrow=rtl.as(e,t.TTMSFNCGridClipboardOptions).FAllowRowGrow,this.FPasteAction=rtl.as(e,t.TTMSFNCGridClipboardOptions).FPasteAction)};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("Enabled",0,rtl.boolean,"FEnabled","FEnabled",{Default:!0}),e.addProperty("IgnoreReadOnly",0,rtl.boolean,"FIgnoreReadOnly","FIgnoreReadOnly",{Default:!1}),e.addProperty("AllowColGrow",0,rtl.boolean,"FAllowColGrow","FAllowColGrow",{Default:!1}),e.addProperty("AllowRowGrow",0,rtl.boolean,"FAllowRowGrow","FAllowRowGrow",{Default:!1}),e.addProperty("PasteAction",0,t.$rtti.TTMSFNCGridClipboardPasteAction,"FPasteAction","FPasteAction",{Default:t.TTMSFNCGridClipboardPasteAction.paReplace})})),rtl.createClass(this,"TTMSFNCGridHTMLExportOptions",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FHeaderFile="",this.FFooterFile="",this.FShow=!1,this.FConvertSpecialChars=!1,this.FWidth=0,this.FNonBreakingText=!1,this.FBorderSize=0,this.FCellPadding=0,this.FPrefixTag="",this.FSuffixTag="",this.FSaveFonts=!1,this.FExportImages=!1,this.FCellSpacing=0,this.FSummary="",this.FSaveColors=!1,this.FXHTML=!1,this.FTableStyle="",this.FColumnWidths=null},this.$final=function(){this.FColumnWidths=void 0,pas.Classes.TPersistent.$final.call(this)},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FShow=!1,this.FSaveColors=!0,this.FSaveFonts=!0,this.FBorderSize=1,this.FCellSpacing=0,this.FCellPadding=0,this.FWidth=100,this.FExportImages=!0,this.FColumnWidths=pas["WEBLib.TMSFNCGridDataUtil"].TTMSFNCGridIntList.$create("Create$1"),this},this.Destroy=function(){rtl.free(this,"FColumnWidths"),pas.System.TObject.Destroy.call(this)},this.Assign=function(e){t.TTMSFNCGridHTMLExportOptions.isPrototypeOf(e)&&(this.FHeaderFile=rtl.as(e,t.TTMSFNCGridHTMLExportOptions).FHeaderFile,this.FFooterFile=rtl.as(e,t.TTMSFNCGridHTMLExportOptions).FFooterFile,this.FShow=rtl.as(e,t.TTMSFNCGridHTMLExportOptions).FShow,this.FBorderSize=rtl.as(e,t.TTMSFNCGridHTMLExportOptions).FBorderSize,this.FCellSpacing=rtl.as(e,t.TTMSFNCGridHTMLExportOptions).FCellSpacing,this.FCellPadding=rtl.as(e,t.TTMSFNCGridHTMLExportOptions).FCellPadding,this.FConvertSpecialChars=rtl.as(e,t.TTMSFNCGridHTMLExportOptions).FConvertSpecialChars,this.FExportImages=rtl.as(e,t.TTMSFNCGridHTMLExportOptions).FExportImages,this.FNonBreakingText=rtl.as(e,t.TTMSFNCGridHTMLExportOptions).FNonBreakingText,this.FPrefixTag=rtl.as(e,t.TTMSFNCGridHTMLExportOptions).FPrefixTag,this.FSaveColors=rtl.as(e,t.TTMSFNCGridHTMLExportOptions).FSaveColors,this.FSaveFonts=rtl.as(e,t.TTMSFNCGridHTMLExportOptions).FSaveFonts,this.FSuffixTag=rtl.as(e,t.TTMSFNCGridHTMLExportOptions).FSuffixTag,this.FSummary=rtl.as(e,t.TTMSFNCGridHTMLExportOptions).FSummary,this.FTableStyle=rtl.as(e,t.TTMSFNCGridHTMLExportOptions).FTableStyle,this.FWidth=rtl.as(e,t.TTMSFNCGridHTMLExportOptions).FWidth,this.FXHTML=rtl.as(e,t.TTMSFNCGridHTMLExportOptions).FXHTML)};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("BorderSize",0,rtl.longint,"FBorderSize","FBorderSize",{Default:1}),e.addProperty("CellSpacing",0,rtl.longint,"FCellSpacing","FCellSpacing",{Default:0}),e.addProperty("CellPadding",0,rtl.longint,"FCellPadding","FCellPadding",{Default:0}),e.addProperty("ConvertSpecialChars",0,rtl.boolean,"FConvertSpecialChars","FConvertSpecialChars",{Default:!1}),e.addProperty("ExportImages",0,rtl.boolean,"FExportImages","FExportImages",{Default:!0}),e.addProperty("FooterFile",0,rtl.string,"FFooterFile","FFooterFile"),e.addProperty("HeaderFile",0,rtl.string,"FHeaderFile","FHeaderFile"),e.addProperty("NonBreakingText",0,rtl.boolean,"FNonBreakingText","FNonBreakingText",{Default:!1}),e.addProperty("PrefixTag",0,rtl.string,"FPrefixTag","FPrefixTag"),e.addProperty("SaveColors",0,rtl.boolean,"FSaveColors","FSaveColors",{Default:!0}),e.addProperty("SaveFonts",0,rtl.boolean,"FSaveFonts","FSaveFonts",{Default:!0}),e.addProperty("SuffixTag",0,rtl.string,"FSuffixTag","FSuffixTag"),e.addProperty("Show",0,rtl.boolean,"FShow","FShow",{Default:!1}),e.addProperty("Summary",0,rtl.string,"FSummary","FSummary"),e.addProperty("TableStyle",0,rtl.string,"FTableStyle","FTableStyle"),e.addProperty("Width",0,rtl.longint,"FWidth","FWidth",{Default:100}),e.addProperty("XHTML",0,rtl.boolean,"FXHTML","FXHTML",{Default:!1})})),rtl.createClass(this,"TTMSFNCGridURLOptions",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FUnderline=!1,this.FColor=0,this.FShow=!1,this.FOnChange=null,this.FFull=!1,this.FOpen=!1},this.$final=function(){this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetColor=function(t){this.FColor!==t&&(this.FColor=t,this.Changed())},this.SetUnderline=function(t){this.FUnderline!==t&&(this.FUnderline=t,this.Changed())},this.SetFull=function(t){this.FFull!==t&&(this.FFull=t,this.Changed())},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FShow=!0,this.FColor=16711680,this.FUnderline=!0,this.FFull=!0,this.FOpen=!0,this},this.Assign=function(e){t.TTMSFNCGridURLOptions.isPrototypeOf(e)&&(this.FShow=rtl.as(e,t.TTMSFNCGridURLOptions).FShow,this.FUnderline=rtl.as(e,t.TTMSFNCGridURLOptions).FUnderline,this.FColor=rtl.as(e,t.TTMSFNCGridURLOptions).FColor,this.FOpen=rtl.as(e,t.TTMSFNCGridURLOptions).FOpen,this.FFull=rtl.as(e,t.TTMSFNCGridURLOptions).FFull)},this.Changed=function(){null!=this.FOnChange&&this.FOnChange(this)};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor",{Default:16711680}),e.addProperty("Full",2,rtl.boolean,"FFull","SetFull",{Default:!0}),e.addProperty("Open",0,rtl.boolean,"FOpen","FOpen",{Default:!0}),e.addProperty("Show",0,rtl.boolean,"FShow","FShow",{Default:!0}),e.addProperty("Underline",2,rtl.boolean,"FUnderline","SetUnderline",{Default:!0}),e.addProperty("OnChange",0,pas.Classes.$rtti.TNotifyEvent,"FOnChange","FOnChange")})),rtl.createClass(this,"TTMSFNCGridIOOptions",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FDelimiter="",this.FQuoteEmptyCells=!1,this.FXMLEncoding="",this.FAlwaysQuotes=!1,this.FSaveVirtualCellData=!1},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FDelimiter="\0",this.FQuoteEmptyCells=!0,this.FXMLEncoding="ISO-8859-1",this.FAlwaysQuotes=!1,this.FSaveVirtualCellData=!0,this},this.Assign=function(e){t.TTMSFNCGridIOOptions.isPrototypeOf(e)&&(this.FAlwaysQuotes=rtl.as(e,t.TTMSFNCGridIOOptions).FAlwaysQuotes,this.FDelimiter=rtl.as(e,t.TTMSFNCGridIOOptions).FDelimiter,this.FQuoteEmptyCells=rtl.as(e,t.TTMSFNCGridIOOptions).FQuoteEmptyCells,this.FXMLEncoding=rtl.as(e,t.TTMSFNCGridIOOptions).FXMLEncoding,this.FSaveVirtualCellData=rtl.as(e,t.TTMSFNCGridIOOptions).FSaveVirtualCellData)};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("AlwaysQuotes",0,rtl.boolean,"FAlwaysQuotes","FAlwaysQuotes",{Default:!1}),e.addProperty("Delimiter",0,rtl.char,"FDelimiter","FDelimiter",{Default:"\0"}),e.addProperty("QuoteEmptyCells",0,rtl.boolean,"FQuoteEmptyCells","FQuoteEmptyCells",{Default:!0}),e.addProperty("XMLEncoding",0,rtl.string,"FXMLEncoding","FXMLEncoding"),e.addProperty("SaveVirtualCellData",0,rtl.boolean,"FSaveVirtualCellData","FSaveVirtualCellData",{Default:!0})})),rtl.createClass(this,"TTMSFNCGridCellOptions",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FDisplayHTMLFormatting=!1,this.FOnChange=null},this.$final=function(){this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetDisplayHTMLFormatting=function(t){this.FDisplayHTMLFormatting!==t&&(this.FDisplayHTMLFormatting=t,null!=this.FOnChange&&this.FOnChange(this))},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FDisplayHTMLFormatting=!1,this},this.Assign=function(e){t.TTMSFNCGridCellOptions.isPrototypeOf(e)&&(this.FDisplayHTMLFormatting=rtl.as(e,t.TTMSFNCGridCellOptions).FDisplayHTMLFormatting)};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("DisplayHTMLFormatting",2,rtl.boolean,"FDisplayHTMLFormatting","SetDisplayHTMLFormatting",{Default:!1})})),rtl.createClass(this,"TTMSFNCGridColumnSizeOptions",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FStretch=!1,this.FStretchAll=!1,this.FStretchColumn=0,this.FOnChange=null,this.FSyncWithGrid=!1,this.FSyncNormalCellsOnly=!1},this.$final=function(){this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetStretch=function(t){this.FStretch!==t&&(this.FStretch=t,null!=this.FOnChange&&this.FOnChange(this))},this.SetStretchAll=function(t){this.FStretchAll!==t&&(this.FStretchAll=t,null!=this.FOnChange&&this.FOnChange(this))},this.SetStretchColumn=function(t){this.FStretchColumn!==t&&(this.FStretchColumn=t,null!=this.FOnChange&&this.FOnChange(this))},this.SetNormalCellsOnly=function(t){this.FSyncNormalCellsOnly!==t&&(this.FSyncNormalCellsOnly=t,null!=this.FOnChange&&this.FOnChange(this))},this.SetSyncWithGrid=function(t){this.FSyncWithGrid!==t&&(this.FSyncWithGrid=t,null!=this.FOnChange&&this.FOnChange(this))},this.Create$1=function(){return this.FStretch=!1,this.FStretchAll=!1,this.FStretchColumn=-1,this.FSyncWithGrid=!1,this.FSyncNormalCellsOnly=!1,this},this.Assign=function(e){t.TTMSFNCGridColumnSizeOptions.isPrototypeOf(e)&&(this.FStretch=rtl.as(e,t.TTMSFNCGridColumnSizeOptions).FStretch,this.FStretchAll=rtl.as(e,t.TTMSFNCGridColumnSizeOptions).FStretchAll,this.FStretchColumn=rtl.as(e,t.TTMSFNCGridColumnSizeOptions).FStretchColumn,this.FSyncNormalCellsOnly=rtl.as(e,t.TTMSFNCGridColumnSizeOptions).FSyncNormalCellsOnly,this.FSyncWithGrid=rtl.as(e,t.TTMSFNCGridColumnSizeOptions).FSyncWithGrid)};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("Stretch",2,rtl.boolean,"FStretch","SetStretch",{Default:!1}),e.addProperty("StretchColumn",2,rtl.longint,"FStretchColumn","SetStretchColumn",{Default:-1}),e.addProperty("StretchAll",2,rtl.boolean,"FStretchAll","SetStretchAll",{Default:!1}),e.addProperty("SyncWithGrid",2,rtl.boolean,"FSyncWithGrid","SetSyncWithGrid",{Default:!1}),e.addProperty("SyncNormalCellsOnly",2,rtl.boolean,"FSyncNormalCellsOnly","SetNormalCellsOnly",{Default:!1}),e.addProperty("OnChange",0,pas.Classes.$rtti.TNotifyEvent,"FOnChange","FOnChange")})),rtl.createClass(this,"TTMSFNCGridOptions",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FMouse=null,this.FKeyboard=null,this.FSorting=null,this.FGrouping=null,this.FFiltering=null,this.FEditing=null,this.FBorders=null,this.FLookup=null,this.FClipboard=null,this.FHTMLExport=null,this.FBands=null,this.FOnChange=null,this.FURL=null,this.FScrollBar=null,this.FIO=null,this.FCell=null,this.FColumnSize=null,this.FSelection=null},this.$final=function(){this.FMouse=void 0,this.FKeyboard=void 0,this.FSorting=void 0,this.FGrouping=void 0,this.FFiltering=void 0,this.FEditing=void 0,this.FBorders=void 0,this.FLookup=void 0,this.FClipboard=void 0,this.FHTMLExport=void 0,this.FBands=void 0,this.FOnChange=void 0,this.FURL=void 0,this.FScrollBar=void 0,this.FIO=void 0,this.FCell=void 0,this.FColumnSize=void 0,this.FSelection=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetKeyboard=function(t){this.FKeyboard.Assign(t)},this.SetMouse=function(t){this.FMouse.Assign(t)},this.SetGrouping=function(t){this.FGrouping.Assign(t)},this.SetSorting=function(t){this.FSorting.Assign(t)},this.SetFiltering=function(t){this.FFiltering.Assign(t)},this.SetEditing=function(t){this.FEditing.Assign(t)},this.SetBorders=function(t){this.FBorders.Assign(t)},this.SetLookup=function(t){this.FLookup.Assign(t)},this.SetClipboard=function(t){this.FClipboard.Assign(t)},this.SetHTMLExport=function(t){this.FHTMLExport.Assign(t)},this.SetBands=function(t){this.FBands.Assign(t)},this.SetURL=function(t){this.FURL.Assign(t)},this.SetScrollBar=function(t){this.FScrollBar.Assign(t)},this.SetIO=function(t){this.FIO.Assign(t)},this.SetCell=function(t){this.FCell.Assign(t)},this.SetColumnSize=function(t){this.FColumnSize.Assign(t)},this.SetSelection=function(t){this.FSelection.Assign(t)},this.DoChange=function(t){null!=this.FOnChange&&this.FOnChange(this)},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FScrollBar=t.TTMSFNCGridScrollBarOptions.$create("Create$1"),this.FScrollBar.FOnChange=rtl.createCallback(this,"DoChange"),this.FMouse=t.TTMSFNCGridMouseOptions.$create("Create$1"),this.FKeyboard=t.TTMSFNCGridKeyboardOptions.$create("Create$1"),this.FSorting=t.TTMSFNCGridSortingOptions.$create("Create$1"),this.FGrouping=t.TTMSFNCGridGroupingOptions.$create("Create$1"),this.FFiltering=t.TTMSFNCGridFilteringOptions.$create("Create$1"),this.FFiltering.FOnChange=rtl.createCallback(this,"DoChange"),this.FCell=t.TTMSFNCGridCellOptions.$create("Create$1"),this.FCell.FOnChange=rtl.createCallback(this,"DoChange"),this.FEditing=t.TTMSFNCGridEditingOptions.$create("Create$1"),this.FColumnSize=t.TTMSFNCGridColumnSizeOptions.$create("Create$1"),this.FColumnSize.FOnChange=rtl.createCallback(this,"DoChange"),this.FBorders=t.TTMSFNCGridBorderOptions.$create("Create$1"),this.FLookup=t.TTMSFNCGridLookupOptions.$create("Create$1"),this.FClipboard=t.TTMSFNCGridClipboardOptions.$create("Create$1"),this.FHTMLExport=t.TTMSFNCGridHTMLExportOptions.$create("Create$1"),this.FIO=t.TTMSFNCGridIOOptions.$create("Create$1"),this.FBands=t.TTMSFNCGridBandOptions.$create("Create$1"),this.FBands.FOnChange=rtl.createCallback(this,"DoChange"),this.FURL=t.TTMSFNCGridURLOptions.$create("Create$1"),this.FURL.FOnChange=rtl.createCallback(this,"DoChange"),this.FSelection=t.TTMSFNCGridSelection.$create("Create$1"),this.FSelection.FOnChange=rtl.createCallback(this,"DoChange"),this},this.Destroy=function(){rtl.free(this,"FCell"),rtl.free(this,"FColumnSize"),rtl.free(this,"FScrollBar"),rtl.free(this,"FBands"),rtl.free(this,"FBorders"),rtl.free(this,"FEditing"),rtl.free(this,"FMouse"),rtl.free(this,"FKeyboard"),rtl.free(this,"FSorting"),rtl.free(this,"FGrouping"),rtl.free(this,"FFiltering"),rtl.free(this,"FLookup"),rtl.free(this,"FClipboard"),rtl.free(this,"FHTMLExport"),rtl.free(this,"FURL"),rtl.free(this,"FIO"),rtl.free(this,"FSelection"),pas.System.TObject.Destroy.call(this)},this.Assign=function(e){t.TTMSFNCGridOptions.isPrototypeOf(e)&&(this.FMouse.Assign(rtl.as(e,t.TTMSFNCGridOptions).FMouse),this.FKeyboard.Assign(rtl.as(e,t.TTMSFNCGridOptions).FKeyboard),this.FFiltering.Assign(rtl.as(e,t.TTMSFNCGridOptions).FFiltering),this.FSorting.Assign(rtl.as(e,t.TTMSFNCGridOptions).FSorting),this.FGrouping.Assign(rtl.as(e,t.TTMSFNCGridOptions).FGrouping),this.FEditing.Assign(rtl.as(e,t.TTMSFNCGridOptions).FEditing),this.FBorders.Assign(rtl.as(e,t.TTMSFNCGridOptions).FBorders),this.FLookup.Assign(rtl.as(e,t.TTMSFNCGridOptions).FLookup),this.FClipboard.Assign(rtl.as(e,t.TTMSFNCGridOptions).FClipboard),this.FCell.Assign(rtl.as(e,t.TTMSFNCGridOptions).FCell),this.FBands.Assign(rtl.as(e,t.TTMSFNCGridOptions).FBands),this.FHTMLExport.Assign(rtl.as(e,t.TTMSFNCGridOptions).FHTMLExport),this.FURL.Assign(rtl.as(e,t.TTMSFNCGridOptions).FURL),this.FScrollBar.Assign(rtl.as(e,t.TTMSFNCGridOptions).FScrollBar),this.FIO.Assign(rtl.as(e,t.TTMSFNCGridOptions).FIO),this.FSelection.Assign(rtl.as(e,t.TTMSFNCGridOptions).FSelection),this.FColumnSize.Assign(rtl.as(e,t.TTMSFNCGridOptions).FColumnSize))};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("Bands",2,t.$rtti.TTMSFNCGridBandOptions,"FBands","SetBands"),e.addProperty("Borders",2,t.$rtti.TTMSFNCGridBorderOptions,"FBorders","SetBorders"),e.addProperty("Cell",2,t.$rtti.TTMSFNCGridCellOptions,"FCell","SetCell"),e.addProperty("ColumnSize",2,t.$rtti.TTMSFNCGridColumnSizeOptions,"FColumnSize","SetColumnSize"),e.addProperty("Clipboard",2,t.$rtti.TTMSFNCGridClipboardOptions,"FClipboard","SetClipboard"),e.addProperty("Editing",2,t.$rtti.TTMSFNCGridEditingOptions,"FEditing","SetEditing"),e.addProperty("Filtering",2,t.$rtti.TTMSFNCGridFilteringOptions,"FFiltering","SetFiltering"),e.addProperty("Grouping",2,t.$rtti.TTMSFNCGridGroupingOptions,"FGrouping","SetGrouping"),e.addProperty("HTMLExport",2,t.$rtti.TTMSFNCGridHTMLExportOptions,"FHTMLExport","SetHTMLExport"),e.addProperty("IO",2,t.$rtti.TTMSFNCGridIOOptions,"FIO","SetIO"),e.addProperty("Keyboard",2,t.$rtti.TTMSFNCGridKeyboardOptions,"FKeyboard","SetKeyboard"),e.addProperty("Lookup",2,t.$rtti.TTMSFNCGridLookupOptions,"FLookup","SetLookup"),e.addProperty("Mouse",2,t.$rtti.TTMSFNCGridMouseOptions,"FMouse","SetMouse"),e.addProperty("Sorting",2,t.$rtti.TTMSFNCGridSortingOptions,"FSorting","SetSorting"),e.addProperty("URL",2,t.$rtti.TTMSFNCGridURLOptions,"FURL","SetURL"),e.addProperty("ScrollBar",2,t.$rtti.TTMSFNCGridScrollBarOptions,"FScrollBar","SetScrollBar"),e.addProperty("Selection",2,t.$rtti.TTMSFNCGridSelection,"FSelection","SetSelection")}))}),["Types"]),rtl.module("WEBLib.TMSFNCScrollBar",["System","Classes","WEBLib.TMSFNCCustomControl","WEBLib.ExtCtrls","WEBLib.TMSFNCTypes","WEBLib.TMSFNCGraphics","WEBLib.Controls","WEBLib.TMSFNCGraphicsTypes"],(function(){"use strict";var t=this;rtl.createClass(this,"TTMSFNCScrollBarAppearance",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FOwner=null,this.FScrollButtonSize=0,this.FThumbButtonSize=0,this.FOnChange=null,this.FFixedThumb=!1,this.FArrowColor=0,this.FThumbStroke=null,this.FThumbButtonRightDownStroke=null,this.FThumbFill=null,this.FThumbButtonLeftFill=null,this.FScrollButtonLeftHoverFill=null,this.FScrollButtonLeftStroke=null,this.FScrollButtonRightFill=null,this.FThumbButtonLeftHoverFill=null,this.FThumbButtonLeftStroke=null,this.FScrollButtonLeftHoverStroke=null,this.FThumbButtonRightFill=null,this.FScrollButtonRightHoverFill=null,this.FScrollButtonRightStroke=null,this.FThumbButtonLeftHoverStroke=null,this.FScrollButtonLeftDownFill=null,this.FThumbButtonRightHoverFill=null,this.FThumbButtonRightStroke=null,this.FScrollButtonRightHoverStroke=null,this.FThumbButtonLeftDownFill=null,this.FScrollButtonLeftDownStroke=null,this.FThumbButtonRightHoverStroke=null,this.FScrollButtonRightDownFill=null,this.FThumbButtonLeftDownStroke=null,this.FThumbButtonRightDownFill=null,this.FScrollButtonRightDownStroke=null,this.FScrollButtonLeftFill=null},this.$final=function(){this.FOwner=void 0,this.FOnChange=void 0,this.FThumbStroke=void 0,this.FThumbButtonRightDownStroke=void 0,this.FThumbFill=void 0,this.FThumbButtonLeftFill=void 0,this.FScrollButtonLeftHoverFill=void 0,this.FScrollButtonLeftStroke=void 0,this.FScrollButtonRightFill=void 0,this.FThumbButtonLeftHoverFill=void 0,this.FThumbButtonLeftStroke=void 0,this.FScrollButtonLeftHoverStroke=void 0,this.FThumbButtonRightFill=void 0,this.FScrollButtonRightHoverFill=void 0,this.FScrollButtonRightStroke=void 0,this.FThumbButtonLeftHoverStroke=void 0,this.FScrollButtonLeftDownFill=void 0,this.FThumbButtonRightHoverFill=void 0,this.FThumbButtonRightStroke=void 0,this.FScrollButtonRightHoverStroke=void 0,this.FThumbButtonLeftDownFill=void 0,this.FScrollButtonLeftDownStroke=void 0,this.FThumbButtonRightHoverStroke=void 0,this.FScrollButtonRightDownFill=void 0,this.FThumbButtonLeftDownStroke=void 0,this.FThumbButtonRightDownFill=void 0,this.FScrollButtonRightDownStroke=void 0,this.FScrollButtonLeftFill=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetThumbButtonSize=function(t){this.FThumbButtonSize!==t&&(this.FThumbButtonSize=t,this.Changed())},this.SetFixedThumb=function(t){this.FFixedThumb!==t&&(this.FFixedThumb=t,this.Changed())},this.SetArrowColor=function(t){this.FArrowColor!==t&&(this.FArrowColor=t,this.Changed())},this.SetScrollButtonLeftDownFill=function(t){this.FScrollButtonLeftDownFill.Assign(t)},this.SetScrollButtonLeftDownStroke=function(t){this.FScrollButtonLeftDownStroke.Assign(t)},this.SetScrollButtonLeftFill=function(t){this.FScrollButtonLeftFill.Assign(t)},this.SetScrollButtonLeftHoverFill=function(t){this.FScrollButtonLeftHoverFill.Assign(t)},this.SetScrollButtonLeftHoverStroke=function(t){this.FScrollButtonLeftHoverStroke.Assign(t)},this.SetScrollButtonLeftStroke=function(t){this.FScrollButtonLeftStroke.Assign(t)},this.SetScrollButtonRightDownFill=function(t){this.FScrollButtonRightDownFill.Assign(t)},this.SetScrollButtonRightDownStroke=function(t){this.FScrollButtonRightDownStroke.Assign(t)},this.SetScrollButtonRightFill=function(t){this.FScrollButtonRightFill.Assign(t)},this.SetScrollButtonRightHoverFill=function(t){this.FScrollButtonRightHoverFill.Assign(t)},this.SetScrollButtonRightHoverStroke=function(t){this.FScrollButtonRightHoverStroke.Assign(t)},this.SetScrollButtonRightStroke=function(t){this.FScrollButtonRightStroke.Assign(t)},this.SetScrollButtonSize=function(t){this.FScrollButtonSize!==t&&(this.FScrollButtonSize=t,this.Changed())},this.SetThumbButtonLeftDownFill=function(t){this.FThumbButtonLeftDownFill.Assign(t)},this.SetThumbButtonLeftDownStroke=function(t){this.FThumbButtonLeftDownStroke.Assign(t)},this.SetThumbButtonLeftFill=function(t){this.FThumbButtonLeftFill.Assign(t)},this.SetThumbButtonLeftHoverFill=function(t){this.FThumbButtonLeftHoverFill.Assign(t)},this.SetThumbButtonLeftHoverStroke=function(t){this.FThumbButtonLeftHoverStroke.Assign(t)},this.SetThumbButtonLeftStroke=function(t){this.FThumbButtonLeftStroke.Assign(t)},this.SetThumbButtonRightDownFill=function(t){this.FThumbButtonRightDownFill.Assign(t)},this.SetThumbButtonRightDownStroke=function(t){this.FThumbButtonRightDownStroke.Assign(t)},this.SetThumbButtonRightFill=function(t){this.FThumbButtonRightFill.Assign(t)},this.SetThumbButtonRightHoverFill=function(t){this.FThumbButtonRightHoverFill.Assign(t)},this.SetThumbButtonRightHoverStroke=function(t){this.FThumbButtonRightHoverStroke.Assign(t)},this.SetThumbButtonRightStroke=function(t){this.FThumbButtonRightStroke.Assign(t)},this.SetThumbFill=function(t){this.FThumbFill.Assign(t)},this.SetThumbStroke=function(t){this.FThumbStroke.Assign(t)},this.IsScrollButtonSizeStored=function(){return 18!==this.FScrollButtonSize},this.IsThumbButtonSizeStored=function(){return 18!==this.FThumbButtonSize},this.Changed=function(){this.FOwner.Changed()},this.FillChanged=function(t){this.Changed()},this.StrokeChanged=function(t){this.Changed()},this.Create$1=function(t){return this.FOwner=t,this.FThumbFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(225,225,225),8421504,-1,-1]),this.FThumbFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FThumbButtonLeftFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(225,225,225),8421504,-1,-1]),this.FThumbButtonLeftFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FThumbButtonRightFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(225,225,225),8421504,-1,-1]),this.FThumbButtonRightFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FThumbButtonLeftHoverFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(229,241,251),8421504,-1,-1]),this.FThumbButtonLeftHoverFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FThumbButtonRightHoverFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(229,241,251),8421504,-1,-1]),this.FThumbButtonRightHoverFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FThumbButtonLeftDownFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].Darker(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(229,241,251),40),8421504,-1,-1]),this.FThumbButtonLeftDownFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FThumbButtonRightDownFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].Darker(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(229,241,251),40),8421504,-1,-1]),this.FThumbButtonRightDownFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FScrollButtonLeftFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(225,225,225),8421504,-1,-1]),this.FScrollButtonLeftFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FScrollButtonRightFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(225,225,225),8421504,-1,-1]),this.FScrollButtonRightFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FScrollButtonLeftHoverFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(229,241,251),8421504,-1,-1]),this.FScrollButtonLeftHoverFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FScrollButtonRightHoverFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(229,241,251),8421504,-1,-1]),this.FScrollButtonRightHoverFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FScrollButtonLeftDownFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].Darker(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(229,241,251),40),8421504,-1,-1]),this.FScrollButtonLeftDownFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FScrollButtonRightDownFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].Darker(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(229,241,251),40),8421504,-1,-1]),this.FScrollButtonRightDownFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FThumbStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].Darker(11119017,40)]),this.FThumbStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FThumbButtonLeftStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].Darker(11119017,40)]),this.FThumbButtonLeftStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FThumbButtonRightStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].Darker(11119017,40)]),this.FThumbButtonRightStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FThumbButtonLeftHoverStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(60,127,177)]),this.FThumbButtonLeftHoverStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FThumbButtonRightHoverStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(60,127,177)]),this.FThumbButtonRightHoverStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FThumbButtonLeftDownStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(60,127,177)]),this.FThumbButtonLeftDownStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FThumbButtonRightDownStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(60,127,177)]),this.FThumbButtonRightDownStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FScrollButtonLeftStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].Darker(11119017,40)]),this.FScrollButtonLeftStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FScrollButtonRightStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].Darker(11119017,40)]),this.FScrollButtonRightStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FScrollButtonLeftHoverStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(60,127,177)]),this.FScrollButtonLeftHoverStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FScrollButtonRightHoverStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(60,127,177)]),this.FScrollButtonRightHoverStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FScrollButtonLeftDownStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(60,127,177)]),this.FScrollButtonLeftDownStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FScrollButtonRightDownStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(60,127,177)]),this.FScrollButtonRightDownStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FArrowColor=0,this.FFixedThumb=!1,this.FThumbButtonSize=18,this.FScrollButtonSize=18,this},this.Destroy=function(){rtl.free(this,"FThumbFill"),rtl.free(this,"FScrollButtonLeftFill"),rtl.free(this,"FScrollButtonRightFill"),rtl.free(this,"FScrollButtonLeftHoverFill"),rtl.free(this,"FScrollButtonRightHoverFill"),rtl.free(this,"FScrollButtonLeftDownFill"),rtl.free(this,"FScrollButtonRightDownFill"),rtl.free(this,"FThumbButtonLeftFill"),rtl.free(this,"FThumbButtonRightFill"),rtl.free(this,"FThumbButtonLeftHoverFill"),rtl.free(this,"FThumbButtonRightHoverFill"),rtl.free(this,"FThumbButtonLeftDownFill"),rtl.free(this,"FThumbButtonRightDownFill"),rtl.free(this,"FThumbStroke"),rtl.free(this,"FScrollButtonLeftStroke"),rtl.free(this,"FScrollButtonRightStroke"),rtl.free(this,"FScrollButtonLeftHoverStroke"),rtl.free(this,"FScrollButtonRightHoverStroke"),rtl.free(this,"FScrollButtonLeftDownStroke"),rtl.free(this,"FScrollButtonRightDownStroke"),rtl.free(this,"FThumbButtonLeftStroke"),rtl.free(this,"FThumbButtonRightStroke"),rtl.free(this,"FThumbButtonLeftHoverStroke"),rtl.free(this,"FThumbButtonRightHoverStroke"),rtl.free(this,"FThumbButtonLeftDownStroke"),rtl.free(this,"FThumbButtonRightDownStroke"),pas.System.TObject.Destroy.call(this)},this.Assign=function(e){t.TTMSFNCScrollBarAppearance.isPrototypeOf(e)&&(this.FThumbFill.Assign(rtl.as(e,t.TTMSFNCScrollBarAppearance).FThumbFill),this.FScrollButtonSize=rtl.as(e,t.TTMSFNCScrollBarAppearance).FScrollButtonSize,this.FThumbButtonSize=rtl.as(e,t.TTMSFNCScrollBarAppearance).FThumbButtonSize,this.FThumbStroke.Assign(rtl.as(e,t.TTMSFNCScrollBarAppearance).FThumbStroke),this.FThumbButtonLeftFill.Assign(rtl.as(e,t.TTMSFNCScrollBarAppearance).FThumbButtonLeftFill),this.FThumbButtonLeftHoverFill.Assign(rtl.as(e,t.TTMSFNCScrollBarAppearance).FThumbButtonLeftHoverFill),this.FThumbButtonLeftDownFill.Assign(rtl.as(e,t.TTMSFNCScrollBarAppearance).FThumbButtonLeftDownFill),this.FThumbButtonRightFill.Assign(rtl.as(e,t.TTMSFNCScrollBarAppearance).FThumbButtonRightFill),this.FThumbButtonRightDownFill.Assign(rtl.as(e,t.TTMSFNCScrollBarAppearance).FThumbButtonRightDownFill),this.FThumbButtonRightHoverFill.Assign(rtl.as(e,t.TTMSFNCScrollBarAppearance).FThumbButtonRightHoverFill),this.FScrollButtonLeftFill.Assign(rtl.as(e,t.TTMSFNCScrollBarAppearance).FScrollButtonLeftFill),this.FScrollButtonLeftHoverFill.Assign(rtl.as(e,t.TTMSFNCScrollBarAppearance).FScrollButtonLeftHoverFill),this.FScrollButtonLeftDownFill.Assign(rtl.as(e,t.TTMSFNCScrollBarAppearance).FScrollButtonLeftDownFill),this.FScrollButtonRightFill.Assign(rtl.as(e,t.TTMSFNCScrollBarAppearance).FScrollButtonRightFill),this.FScrollButtonRightDownFill.Assign(rtl.as(e,t.TTMSFNCScrollBarAppearance).FScrollButtonRightDownFill),this.FScrollButtonRightHoverFill.Assign(rtl.as(e,t.TTMSFNCScrollBarAppearance).FScrollButtonRightHoverFill),this.FThumbButtonLeftStroke.Assign(rtl.as(e,t.TTMSFNCScrollBarAppearance).FThumbButtonLeftStroke),this.FThumbButtonLeftHoverStroke.Assign(rtl.as(e,t.TTMSFNCScrollBarAppearance).FThumbButtonLeftHoverStroke),this.FThumbButtonLeftDownStroke.Assign(rtl.as(e,t.TTMSFNCScrollBarAppearance).FThumbButtonLeftDownStroke),this.FThumbButtonRightStroke.Assign(rtl.as(e,t.TTMSFNCScrollBarAppearance).FThumbButtonRightStroke),this.FThumbButtonRightDownStroke.Assign(rtl.as(e,t.TTMSFNCScrollBarAppearance).FThumbButtonRightDownStroke),this.FThumbButtonRightHoverStroke.Assign(rtl.as(e,t.TTMSFNCScrollBarAppearance).FThumbButtonRightHoverStroke),this.FScrollButtonLeftStroke.Assign(rtl.as(e,t.TTMSFNCScrollBarAppearance).FScrollButtonLeftStroke),this.FScrollButtonLeftHoverStroke.Assign(rtl.as(e,t.TTMSFNCScrollBarAppearance).FScrollButtonLeftHoverStroke),this.FScrollButtonLeftDownStroke.Assign(rtl.as(e,t.TTMSFNCScrollBarAppearance).FScrollButtonLeftDownStroke),this.FScrollButtonRightStroke.Assign(rtl.as(e,t.TTMSFNCScrollBarAppearance).FScrollButtonRightStroke),this.FScrollButtonRightDownStroke.Assign(rtl.as(e,t.TTMSFNCScrollBarAppearance).FScrollButtonRightDownStroke),this.FScrollButtonRightHoverStroke.Assign(rtl.as(e,t.TTMSFNCScrollBarAppearance).FScrollButtonRightHoverStroke),this.Changed())},this.GetThumbButtonSize=function(){return this.FFixedThumb?0:this.FThumbButtonSize};var e=this.$rtti;e.addMethod("Create$1",2,[["AOwner",t.$rtti.TTMSFNCCustomScrollBar]]),e.addProperty("ThumbFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FThumbFill","SetThumbFill"),e.addProperty("ScrollButtonLeftFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FScrollButtonLeftFill","SetScrollButtonLeftFill"),e.addProperty("ScrollButtonRightFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FScrollButtonRightFill","SetScrollButtonRightFill"),e.addProperty("ScrollButtonLeftHoverFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FScrollButtonLeftHoverFill","SetScrollButtonLeftHoverFill"),e.addProperty("ScrollButtonRightHoverFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FScrollButtonRightHoverFill","SetScrollButtonRightHoverFill"),e.addProperty("ScrollButtonLeftDownFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FScrollButtonLeftDownFill","SetScrollButtonLeftDownFill"),e.addProperty("ScrollButtonRightDownFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FScrollButtonRightDownFill","SetScrollButtonRightDownFill"),e.addProperty("ThumbButtonLeftFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FThumbButtonLeftFill","SetThumbButtonLeftFill"),e.addProperty("ThumbButtonRightFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FThumbButtonRightFill","SetThumbButtonRightFill"),e.addProperty("ThumbButtonLeftHoverFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FThumbButtonLeftHoverFill","SetThumbButtonLeftHoverFill"),e.addProperty("ThumbButtonRightHoverFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FThumbButtonRightHoverFill","SetThumbButtonRightHoverFill"),e.addProperty("ThumbButtonLeftDownFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FThumbButtonLeftDownFill","SetThumbButtonLeftDownFill"),e.addProperty("ThumbButtonRightDownFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FThumbButtonRightDownFill","SetThumbButtonRightDownFill"),e.addProperty("ThumbStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FThumbStroke","SetThumbStroke"),e.addProperty("ScrollButtonLeftStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FScrollButtonLeftStroke","SetScrollButtonLeftStroke"),e.addProperty("ScrollButtonRightStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FScrollButtonRightStroke","SetScrollButtonRightStroke"),e.addProperty("ScrollButtonLeftHoverStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FScrollButtonLeftHoverStroke","SetScrollButtonLeftHoverStroke"),e.addProperty("ScrollButtonRightHoverStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FScrollButtonRightHoverStroke","SetScrollButtonRightHoverStroke"),e.addProperty("ScrollButtonLeftDownStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FScrollButtonLeftDownStroke","SetScrollButtonLeftDownStroke"),e.addProperty("ScrollButtonRightDownStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FScrollButtonRightDownStroke","SetScrollButtonRightDownStroke"),e.addProperty("ThumbButtonLeftStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FThumbButtonLeftStroke","SetThumbButtonLeftStroke"),e.addProperty("ThumbButtonRightStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FThumbButtonRightStroke","SetThumbButtonRightStroke"),e.addProperty("ThumbButtonLeftHoverStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FThumbButtonLeftHoverStroke","SetThumbButtonLeftHoverStroke"),e.addProperty("ThumbButtonRightHoverStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FThumbButtonRightHoverStroke","SetThumbButtonRightHoverStroke"),e.addProperty("ThumbButtonLeftDownStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FThumbButtonLeftDownStroke","SetThumbButtonLeftDownStroke"),e.addProperty("ThumbButtonRightDownStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FThumbButtonRightDownStroke","SetThumbButtonRightDownStroke"),e.addProperty("ThumbButtonSize",14,rtl.double,"FThumbButtonSize","SetThumbButtonSize",{stored:"IsThumbButtonSizeStored"}),e.addProperty("ScrollButtonSize",14,rtl.double,"FScrollButtonSize","SetScrollButtonSize",{stored:"IsScrollButtonSizeStored"}),e.addProperty("FixedThumb",2,rtl.boolean,"FFixedThumb","SetFixedThumb",{Default:!1}),e.addProperty("ArrowColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FArrowColor","SetArrowColor",{Default:0}),e.addProperty("OnChange",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnChange","FOnChange")})),this.TTMSFNCScrollBarMode={0:"sbmNone",sbmNone:0,1:"sbmScroll",sbmScroll:1,2:"sbmChangePageSize",sbmChangePageSize:2},this.TTMSFNCScrollBarHoveredButton={0:"shbNone",shbNone:0,1:"shbScrollMin",shbScrollMin:1,2:"shbScrollMax",shbScrollMax:2,3:"shbThumbMin",shbThumbMin:3,4:"shbThumbMax",shbThumbMax:4},this.TTMSFNCScrollBarDownButton={0:"sdbNone",sdbNone:0,1:"sdbScrollMin",sdbScrollMin:1,2:"sdbScrollMax",sdbScrollMax:2,3:"sdbThumbMin",sdbThumbMin:3,4:"sdbThumbMax",sdbThumbMax:4},this.TTMSFNCScrollButtonChange={0:"sbcNone",sbcNone:0,1:"sbcSmallSubstract",sbcSmallSubstract:1,2:"sbcSmallAdd",sbcSmallAdd:2,3:"sbcLargeSubstract",sbcLargeSubstract:3,4:"sbcLargeAdd",sbcLargeAdd:4},this.$rtti.$MethodVar("TTMSFNCScrollBarValueChanged",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Value",rtl.double]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCScrollBarPageSizeChanged",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["PageSize",rtl.double]]),methodkind:0}),this.TTMSFNCScrollBarKind={0:"sbkHorizontal",sbkHorizontal:0,1:"sbkVertical",sbkVertical:1},this.$rtti.$Enum("TTMSFNCScrollBarKind",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TTMSFNCScrollBarKind}),rtl.createClass(this,"TTMSFNCCustomScrollBar",pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl,(function(){this.$init=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$init.call(this),this.FBlockChange=!1,this.FSavedPageSize=0,this.FDesignTime=!1,this.FMinThumb=!1,this.FMaxThumb=!1,this.FMx=0,this.FMy=0,this.FCx=0,this.FCy=0,this.FTimer=null,this.FTime=0,this.FScrollBarMode=0,this.FScrollButtonChange=0,this.FHoveredButton=0,this.FDownButton=0,this.FKind=0,this.FValue=0,this.FTempValue=0,this.FMin=0,this.FMax=0,this.FPageSize=0,this.FSmallChange=0,this.FLargeChange=0,this.FAppearance=null,this.FOnValueChange=null,this.FOnPageSizeChanged=null,this.FTracking=!1},this.$final=function(){this.FTimer=void 0,this.FAppearance=void 0,this.FOnValueChange=void 0,this.FOnPageSizeChanged=void 0,pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$final.call(this)},this.SetAppearance=function(t){this.FAppearance!==t&&(this.FAppearance.Assign(t),this.Changed())},this.SetKind=function(t){this.FKind!==t&&(this.FKind=t,this.SetBounds(this.GetLeft(),this.GetTop(),this.GetHeight(),this.GetWidth()),this.Changed())},this.SetMax=function(t){this.FMax!==t&&(this.FMax=t,this.Changed())},this.SetMin=function(t){this.FMin!==t&&(this.FMin=t,this.Changed())},this.SetValue=function(t){this.FBlockChange||this.FValue!==t&&(this.FValue=Math.max(this.FMin,Math.min(this.FMax,t)),this.FTempValue=this.FValue,null!=this.FOnValueChange&&(this.FBlockChange=!0,this.FOnValueChange(this,t),this.FBlockChange=!1),this.Changed())},this.SetPageSize=function(t){this.FBlockChange||this.FPageSize!==t&&(this.FPageSize=Math.min(this.GetRange()/2,Math.max(0,t)),null!=this.FOnPageSizeChanged&&(this.FBlockChange=!0,this.FOnPageSizeChanged(this,this.FPageSize),this.FBlockChange=!1),this.Changed())},this.IsLargeChangeStored=function(){return 20!==this.FLargeChange},this.IsMaxStored=function(){return 100!==this.FMax},this.IsMinStored=function(){return 0!==this.FMin},this.IsPageSizeStored=function(){return 20!==this.FPageSize},this.IsSmallChangeStored=function(){return 1!==this.FSmallChange},this.IsValueStored=function(){return 0!==this.FValue},this.SetTracking=function(t){this.FTracking!==t&&(this.FTracking=t,this.Changed())},this.ApplyStyle=function(){var t=0;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.ApplyStyle.call(this),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleBackgroundFillColor({get:function(){return t},set:function(e){t=e}})&&(this.FAppearance.FThumbFill.SetColor(t),this.FAppearance.FThumbButtonLeftFill.SetColor(t),this.FAppearance.FThumbButtonRightFill.SetColor(t),this.FAppearance.FScrollButtonLeftFill.SetColor(t),this.FAppearance.FScrollButtonRightFill.SetColor(t)),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleLineFillColor({get:function(){return t},set:function(e){t=e}})&&(this.FAppearance.FThumbStroke.SetColor(t),this.FAppearance.FThumbButtonLeftStroke.SetColor(t),this.FAppearance.FThumbButtonRightStroke.SetColor(t),this.FAppearance.FScrollButtonLeftStroke.SetColor(t),this.FAppearance.FScrollButtonRightStroke.SetColor(t),this.FAppearance.FThumbButtonLeftHoverStroke.SetColor(t),this.FAppearance.FThumbButtonRightHoverStroke.SetColor(t),this.FAppearance.FScrollButtonLeftHoverStroke.SetColor(t),this.FAppearance.FScrollButtonRightHoverStroke.SetColor(t),this.FAppearance.FThumbButtonLeftDownStroke.SetColor(t),this.FAppearance.FThumbButtonRightDownStroke.SetColor(t),this.FAppearance.FScrollButtonLeftDownStroke.SetColor(t),this.FAppearance.FScrollButtonRightDownStroke.SetColor(t)),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleSelectionFillColor({get:function(){return t},set:function(e){t=e}})&&(this.FAppearance.FThumbButtonLeftHoverFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Blend(this.FFill.FColor,t,70)),this.FAppearance.FThumbButtonRightHoverFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Blend(this.FFill.FColor,t,70)),this.FAppearance.FScrollButtonLeftHoverFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Blend(this.FFill.FColor,t,70)),this.FAppearance.FScrollButtonRightHoverFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Blend(this.FFill.FColor,t,70)),this.FAppearance.FThumbButtonLeftDownFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Blend(this.FFill.FColor,t,50)),this.FAppearance.FThumbButtonRightDownFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Blend(this.FFill.FColor,t,50)),this.FAppearance.FScrollButtonLeftDownFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Blend(this.FFill.FColor,t,50)),this.FAppearance.FScrollButtonRightDownFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Blend(this.FFill.FColor,t,50)),this.FAppearance.SetArrowColor(t))},this.ResetToDefaultStyle=function(){var e=null;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.ResetToDefaultStyle.call(this),e=t.TTMSFNCScrollBarAppearance.$create("Create$1",[null]);try{this.FAppearance.Assign(e)}finally{e=rtl.freeLoc(e)}},this.HandleKeyDown=function(t,e){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleKeyDown.apply(this,arguments);var i=t.get();38===i||37===i?this.SetValue(this.FValue-this.FSmallChange):40===i||39===i?this.SetValue(this.FValue+this.FSmallChange):36===i?this.SetValue(this.FMin):35===i?this.SetValue(this.FMax):33===i?this.SetValue(this.FValue-this.FLargeChange):34===i&&this.SetValue(this.FValue+this.FLargeChange)},this.HandleMouseDown=function(t,e,i,s){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseDown.apply(this,arguments),null!=this.FParent&&this.CaptureEx(),this.FCx=Math.abs(i-this.GetThumbRectangle().Left+this.GetScrollRectangle().Left),this.FCy=Math.abs(s-this.GetThumbRectangle().Top+this.GetScrollRectangle().Top),this.FMx=i,this.FMy=s,this.FSavedPageSize=this.FPageSize,this.FTime=0,this.FTimer.SetEnabled(!0),this.MouseOnThumbButtons(i,s)?(this.FScrollBarMode=2,this.FMinThumb=pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetMinThumbButton(),pas["WEBLib.TMSFNCTypes"].PointF(i,s)),this.FMaxThumb=pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetMaxThumbButton(),pas["WEBLib.TMSFNCTypes"].PointF(i,s))):this.MouseOnThumb(i,s)?this.FScrollBarMode=1:pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetMinScrollButton(),pas["WEBLib.TMSFNCTypes"].PointF(i,s))?this.FScrollButtonChange=1:pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetMaxScrollButton(),pas["WEBLib.TMSFNCTypes"].PointF(i,s))?this.FScrollButtonChange=2:pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetScrollAreaMin(),pas["WEBLib.TMSFNCTypes"].PointF(i,s))?this.FScrollButtonChange=3:pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetScrollAreaMax(),pas["WEBLib.TMSFNCTypes"].PointF(i,s))&&(this.FScrollButtonChange=4),pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetMinThumbButton(),pas["WEBLib.TMSFNCTypes"].PointF(i,s))&&3!==this.FDownButton?(this.FDownButton=3,this.Changed()):pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetMaxThumbButton(),pas["WEBLib.TMSFNCTypes"].PointF(i,s))&&4!==this.FDownButton?(this.FDownButton=4,this.Changed()):pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetMinScrollButton(),pas["WEBLib.TMSFNCTypes"].PointF(i,s))&&1!==this.FDownButton?(this.FDownButton=1,this.Changed()):pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetMaxScrollButton(),pas["WEBLib.TMSFNCTypes"].PointF(i,s))&&2!==this.FDownButton&&(this.FDownButton=2,this.Changed())},this.HandleMouseMove=function(t,e,i){var s=0,o=0;if(pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseMove.apply(this,arguments),2===this.FScrollBarMode){var n=this.FKind;0===n?this.SetControlCursor(9):1===n&&this.SetControlCursor(7);var a=this.FKind;s=0===a?this.GetRange()/(this.GetScrollRectangle().Right-this.GetScrollRectangle().Left)*(e-this.FMx):1===a?this.GetRange()/(this.GetScrollRectangle().Bottom-this.GetScrollRectangle().Top)*(i-this.FMy):0,this.FMinThumb?this.FValue-this.FMin>0?this.SetPageSize(this.FSavedPageSize-s*(this.GetRange()/(this.FValue-this.FMin))):this.SetPageSize(this.FSavedPageSize-s):this.FMaxThumb&&(this.FValue-this.FMin<this.GetRange()?this.SetPageSize(this.FSavedPageSize+s*(this.GetRange()/(this.FMax-this.FValue))):this.SetPageSize(this.FSavedPageSize+s))}else if(1===this.FScrollBarMode){var r=this.FKind;s=0===r?e-this.FCx:1===r?i-this.FCy:0,o=this.GetValue$1(s),this.FTracking?this.SetValue(o):(this.FTempValue=o,this.Changed())}else if(this.MouseOnThumbButtons(e,i)){var l=this.FKind;0===l?this.SetControlCursor(9):1===l&&this.SetControlCursor(7)}else this.SetControlCursor(0);pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetMinThumbButton(),pas["WEBLib.TMSFNCTypes"].PointF(e,i))&&3!==this.FHoveredButton?(this.FHoveredButton=3,this.Changed()):pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetMaxThumbButton(),pas["WEBLib.TMSFNCTypes"].PointF(e,i))&&4!==this.FHoveredButton?(this.FHoveredButton=4,this.Changed()):pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetMinScrollButton(),pas["WEBLib.TMSFNCTypes"].PointF(e,i))&&1!==this.FHoveredButton?(this.FHoveredButton=1,this.Changed()):pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetMaxScrollButton(),pas["WEBLib.TMSFNCTypes"].PointF(e,i))&&2!==this.FHoveredButton?(this.FHoveredButton=2,this.Changed()):pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetMaxThumbButton(),pas["WEBLib.TMSFNCTypes"].PointF(e,i))||pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetMinThumbButton(),pas["WEBLib.TMSFNCTypes"].PointF(e,i))||pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetMaxScrollButton(),pas["WEBLib.TMSFNCTypes"].PointF(e,i))||pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetMinScrollButton(),pas["WEBLib.TMSFNCTypes"].PointF(e,i))||0===this.FHoveredButton||(this.FHoveredButton=0,this.Changed())},this.HandleMouseUp=function(t,e,i,s){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseUp.apply(this,arguments),null!=this.FParent&&this.ReleaseCaptureEx(),1!==this.FScrollBarMode||this.FTracking||this.SetValue(this.FTempValue),0===this.FScrollBarMode&&(pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetMinScrollButton(),pas["WEBLib.TMSFNCTypes"].PointF(i,s))?this.SetValue(this.FValue-this.FSmallChange):pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetMaxScrollButton(),pas["WEBLib.TMSFNCTypes"].PointF(i,s))?this.SetValue(this.FValue+this.FSmallChange):pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetScrollAreaMin(),pas["WEBLib.TMSFNCTypes"].PointF(i,s))?this.SetValue(this.FValue-this.FLargeChange):pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetScrollAreaMax(),pas["WEBLib.TMSFNCTypes"].PointF(i,s))&&this.SetValue(this.FValue+this.FLargeChange)),this.FDownButton=0,this.FMinThumb=!1,this.FMaxThumb=!1,this.FTimer.SetEnabled(!1),this.FTime=0,this.FScrollBarMode=0,this.SetControlCursor(0),this.FScrollButtonChange=0,this.Changed()},this.HandleMouseLeave=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseLeave.call(this),this.FTimer.SetEnabled(!1),this.FTime=0,this.FScrollBarMode=0,this.FScrollButtonChange=0,this.FMinThumb=!1,this.FMaxThumb=!1,this.FDownButton=0,this.FHoveredButton=0,this.Changed()},this.HandleMouseEnter=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseEnter.call(this)},this.HandleMouseWheel=function(t,e,i){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseWheel.apply(this,arguments),e<0?this.SetValue(this.FValue+this.FLargeChange):this.SetValue(this.FValue-this.FLargeChange)},this.Changed=function(){this.Invalidate()},this.AppearanceChanged=function(t){this.Changed()},this.TimerChanged=function(t){this.FTime+=1,this.FTime>=4&&(1===this.FScrollButtonChange?(this.SetValue(this.FValue-this.FSmallChange),this.Changed()):2===this.FScrollButtonChange?(this.SetValue(this.FValue+this.FSmallChange),this.Changed()):3===this.FScrollButtonChange?(this.SetValue(this.FValue-this.FLargeChange),this.Changed()):4===this.FScrollButtonChange&&(this.SetValue(this.FValue+this.FLargeChange),this.Changed()))},this.GetCalculationRect=function(){var t=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return t.$assign(this.GetLocalRect()),t},this.GetMinScrollButton=function(){var t=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),e=pas["WEBLib.TMSFNCTypes"].TRectF.$new();e.$assign(this.GetCalculationRect());var i=this.FKind;return 0===i?t.$assign(pas["WEBLib.TMSFNCTypes"].MakeRectF(e.Left,e.Top,this.FAppearance.FScrollButtonSize,e.Bottom-e.Top)):1===i&&t.$assign(pas["WEBLib.TMSFNCTypes"].MakeRectF(e.Left,e.Top,e.Right-e.Left,this.FAppearance.FScrollButtonSize)),t},this.GetMaxScrollButton=function(){var t=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),e=pas["WEBLib.TMSFNCTypes"].TRectF.$new();e.$assign(this.GetCalculationRect());var i=this.FKind;return 0===i?t.$assign(pas["WEBLib.TMSFNCTypes"].MakeRectF(e.Right-this.FAppearance.FScrollButtonSize,e.Top,this.FAppearance.FScrollButtonSize,e.Bottom-e.Top)):1===i&&t.$assign(pas["WEBLib.TMSFNCTypes"].MakeRectF(e.Left,e.Bottom-this.FAppearance.FScrollButtonSize,e.Right-e.Left,this.FAppearance.FScrollButtonSize)),t},this.GetMinThumbButton=function(){var t=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),e=pas["WEBLib.TMSFNCTypes"].TRectF.$new();e.$assign(this.GetThumbRectangle());var i=this.FKind;return 0===i?t.$assign(pas["WEBLib.TMSFNCTypes"].MakeRectF(e.Left,e.Top,this.FAppearance.GetThumbButtonSize(),e.Bottom-e.Top)):1===i&&t.$assign(pas["WEBLib.TMSFNCTypes"].MakeRectF(e.Left,e.Top,e.Right-e.Left,this.FAppearance.GetThumbButtonSize())),t},this.GetMaxThumbButton=function(){var t=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),e=pas["WEBLib.TMSFNCTypes"].TRectF.$new();e.$assign(this.GetThumbRectangle());var i=this.FKind;return 0===i?t.$assign(pas["WEBLib.TMSFNCTypes"].MakeRectF(e.Left+(e.Right-e.Left)-this.FAppearance.GetThumbButtonSize(),e.Top,this.FAppearance.GetThumbButtonSize(),e.Bottom-e.Top)):1===i&&t.$assign(pas["WEBLib.TMSFNCTypes"].MakeRectF(e.Left,e.Top+(e.Bottom-e.Top)-this.FAppearance.GetThumbButtonSize(),e.Right-e.Left,this.FAppearance.GetThumbButtonSize())),t},this.GetScrollRectangle=function(){var t=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),e=this.FKind;return 0===e?(t.Left=this.GetMinScrollButton().Left+(this.GetMinScrollButton().Right-this.GetMinScrollButton().Left),t.Top=this.GetMinScrollButton().Top,t.Bottom=t.Top+(this.GetMinScrollButton().Bottom-this.GetMinScrollButton().Top),t.Right=this.GetMaxScrollButton().Left):1===e&&(t.Left=this.GetMinScrollButton().Left,t.Top=this.GetMinScrollButton().Top+(this.GetMinScrollButton().Bottom-this.GetMinScrollButton().Top),t.Bottom=this.GetMaxScrollButton().Top,t.Right=t.Left+(this.GetMinScrollButton().Right-this.GetMinScrollButton().Left)),t},this.GetScrollAreaMin=function(){var t=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),e=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),i=pas["WEBLib.TMSFNCTypes"].TRectF.$new();e.$assign(this.GetScrollRectangle()),i.$assign(this.GetThumbRectangle());var s=this.FKind;return 0===s?(t.Left=e.Left,t.Top=e.Top,t.Right=t.Left+(i.Left-e.Left),t.Bottom=t.Top+(e.Bottom-e.Top)):1===s&&(t.Left=e.Left,t.Top=e.Top,t.Right=t.Left+(e.Right-e.Left),t.Bottom=t.Top+(i.Top-e.Top)),t},this.GetScrollAreaMax=function(){var t=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),e=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),i=pas["WEBLib.TMSFNCTypes"].TRectF.$new();e.$assign(this.GetScrollRectangle()),i.$assign(this.GetThumbRectangle());var s=this.FKind;return 0===s?(t.Left=i.Left+(i.Right-i.Left),t.Top=e.Top,t.Right=t.Left+(e.Right-e.Left)-(i.Right-i.Left)-i.Left+e.Left,t.Bottom=t.Top+(e.Bottom-e.Top)):1===s&&(t.Left=e.Left,t.Top=i.Top+(i.Bottom-i.Top),t.Right=t.Left+(e.Right-e.Left),t.Bottom=t.Top+(e.Bottom-e.Top)-(i.Bottom-i.Top)-i.Top+e.Top),t},this.GetThumbRectangle=function(){var t=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),e=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),i=0;e.$assign(this.GetScrollRectangle());var s=this.FKind;return 0===s?(i=(e.Right-e.Left)/this.GetRange()*this.FPageSize,t.Left=e.Left+this.GetValue(),t.Top=e.Top,t.Right=t.Left+Math.max(2*this.FAppearance.GetThumbButtonSize()+this.ScalePaintValue(10),i),t.Bottom=t.Top+(e.Bottom-e.Top)):1===s&&(i=(e.Bottom-e.Top)/this.GetRange()*this.FPageSize,t.Left=e.Left,t.Top=e.Top+this.GetValue(),t.Right=t.Left+(e.Right-e.Left),t.Bottom=t.Top+Math.max(2*this.FAppearance.GetThumbButtonSize()+this.ScalePaintValue(10),i)),t},this.GetValue=function(){var t=0,e=0,i=pas["WEBLib.TMSFNCTypes"].TRectF.$new();t=0,i.$assign(this.GetScrollRectangle());var s=this.FKind;return(e=0===s?i.Right-i.Left-Math.max(2*this.FAppearance.GetThumbButtonSize()+10,(i.Right-i.Left)/this.GetRange()*this.FPageSize):1===s?i.Bottom-i.Top-Math.max(2*this.FAppearance.GetThumbButtonSize()+10,(i.Bottom-i.Top)/this.GetRange()*this.FPageSize):0)<=0?t:t=this.FMax-this.FMin>0?this.FTracking?Math.min((this.FValue-this.FMin)/(this.FMax-this.FMin)*e,e):Math.min((this.FTempValue-this.FMin)/(this.FMax-this.FMin)*e,e):this.FMin},this.GetValue$1=function(t){var e=0,i=0,s=0,o=pas["WEBLib.TMSFNCTypes"].TRectF.$new();o.$assign(this.GetScrollRectangle());var n=this.FKind;return s=0===n?o.Right-o.Left-Math.max(2*this.FAppearance.GetThumbButtonSize()+10,(o.Right-o.Left)/this.GetRange()*this.FPageSize):1===n?o.Bottom-o.Top-Math.max(2*this.FAppearance.GetThumbButtonSize()+10,(o.Bottom-o.Top)/this.GetRange()*this.FPageSize):0,this.FMax-this.FMin>0&&s>0?(i=t/s*(this.FMax-this.FMin)+this.FMin,e=Math.max(Math.min(i,this.FMax),this.FMin)):e=0,e},this.GetRange=function(){return Math.max(2,this.FMax-this.FMin)},this.MouseOnThumbButtons=function(t,e){return(pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetMinThumbButton(),pas["WEBLib.TMSFNCTypes"].PointF(t,e))||pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetMaxThumbButton(),pas["WEBLib.TMSFNCTypes"].PointF(t,e)))&&!this.FAppearance.FFixedThumb},this.MouseOnThumb=function(t,e){return pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetThumbRectangle(),pas["WEBLib.TMSFNCTypes"].PointF(t,e))},this.DrawScrollButtons=function(t){var e=null,i=null,s=null,o=null;this.FAppearance.FScrollButtonSize<=0||(e=this.FAppearance.FScrollButtonLeftFill,i=this.FAppearance.FScrollButtonRightFill,s=this.FAppearance.FScrollButtonLeftStroke,o=this.FAppearance.FScrollButtonRightStroke,1===this.FDownButton?(e=this.FAppearance.FScrollButtonLeftDownFill,s=this.FAppearance.FScrollButtonLeftDownStroke):1===this.FHoveredButton&&(e=this.FAppearance.FScrollButtonLeftHoverFill,s=this.FAppearance.FScrollButtonLeftHoverStroke),t.FFill.Assign(e),t.FStroke.Assign(s),t.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(this.GetMinScrollButton()),2),2===this.FDownButton?(i=this.FAppearance.FScrollButtonRightDownFill,o=this.FAppearance.FScrollButtonRightDownStroke):2===this.FHoveredButton&&(i=this.FAppearance.FScrollButtonRightHoverFill,o=this.FAppearance.FScrollButtonRightHoverStroke),t.FFill.Assign(i),t.FStroke.Assign(o),t.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(this.GetMaxScrollButton()),2),this.DrawArrow(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(this.GetMinScrollButton()),!0),this.DrawArrow(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(this.GetMaxScrollButton()),!1))},this.DrawThumb=function(t){t.FFill.Assign(this.FAppearance.FThumbFill),t.FStroke.Assign(this.FAppearance.FThumbStroke),t.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(this.GetThumbRectangle()),2),this.FAppearance.FFixedThumb||this.DrawThumbButtons(t)},this.DrawThumbButtons=function(t){var e=null,i=null,s=null,o=null;this.FAppearance.FThumbButtonSize<=0||(e=this.FAppearance.FThumbButtonLeftFill,i=this.FAppearance.FThumbButtonRightFill,s=this.FAppearance.FThumbButtonLeftStroke,o=this.FAppearance.FThumbButtonRightStroke,3===this.FDownButton?(e=this.FAppearance.FThumbButtonLeftDownFill,s=this.FAppearance.FThumbButtonLeftDownStroke):3===this.FHoveredButton&&(e=this.FAppearance.FThumbButtonLeftHoverFill,s=this.FAppearance.FThumbButtonLeftHoverStroke),t.FFill.Assign(e),t.FStroke.Assign(s),t.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(this.GetMinThumbButton()),2),4===this.FDownButton?(i=this.FAppearance.FThumbButtonRightDownFill,o=this.FAppearance.FThumbButtonRightDownStroke):4===this.FHoveredButton&&(i=this.FAppearance.FThumbButtonRightHoverFill,o=this.FAppearance.FThumbButtonRightHoverStroke),t.FFill.Assign(i),t.FStroke.Assign(o),t.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(this.GetMaxThumbButton()),2),this.DrawArrow(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(this.GetMinThumbButton()),!0),this.DrawArrow(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(this.GetMaxThumbButton()),!1))},this.DrawArrow=function(t,e,i){t.FStroke.SetColor(this.FAppearance.FArrowColor),1===this.FKind?(pas["WEBLib.TMSFNCTypes"].InflateRectEx(e,0,-4),i?(t.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(e.Left+(e.Right-e.Left)/2,e.Top+(e.Bottom-e.Top)/3)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(e.Left+(e.Right-e.Left)/3,e.Top+(e.Bottom-e.Top)/3*2)),2,2),t.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(e.Left+(e.Right-e.Left)/2,e.Top+(e.Bottom-e.Top)/3)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(e.Left+(e.Right-e.Left)/3*2,e.Top+(e.Bottom-e.Top)/3*2)),2,2)):(t.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(e.Left+(e.Right-e.Left)/2,e.Top+(e.Bottom-e.Top)/3*2)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(e.Left+(e.Right-e.Left)/3,e.Top+(e.Bottom-e.Top)/3)),2,2),t.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(e.Left+(e.Right-e.Left)/2,e.Top+(e.Bottom-e.Top)/3*2)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(e.Left+(e.Right-e.Left)/3*2,e.Top+(e.Bottom-e.Top)/3)),2,2))):(pas["WEBLib.TMSFNCTypes"].InflateRectEx(e,-4,0),i?(t.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(e.Left+(e.Right-e.Left)/3*2,e.Top+(e.Bottom-e.Top)/3)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(e.Left+(e.Right-e.Left)/3,e.Top+(e.Bottom-e.Top)/2)),2,2),t.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(e.Left+(e.Right-e.Left)/3*2,e.Top+(e.Bottom-e.Top)/3*2)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(e.Left+(e.Right-e.Left)/3,e.Top+(e.Bottom-e.Top)/2)),2,2)):(t.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(e.Left+(e.Right-e.Left)/3,e.Top+(e.Bottom-e.Top)/3)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(e.Left+(e.Right-e.Left)/3*2,e.Top+(e.Bottom-e.Top)/2)),2,2),t.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(e.Left+(e.Right-e.Left)/3,e.Top+(e.Bottom-e.Top)/3*2)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(e.Left+(e.Right-e.Left)/3*2,e.Top+(e.Bottom-e.Top)/2)),2,2)))},this.Draw=function(t,e){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Draw.apply(this,arguments),this.DrawThumb(t),this.DrawScrollButtons(t)},this.Create$1=function(e){return pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Create$1.apply(this,arguments),this.FTracking=!0,this.FDesignTime=this.IsDesignTime(),this.FDesignTime&&(this.FFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Lighter(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(225,225,225),40)),this.FStroke.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Darker(11119017,40))),this.SetHeight(121),this.SetWidth(18),this.FKind=1,this.FValue=0,this.FMin=0,this.FMax=100,this.FSmallChange=1,this.FLargeChange=20,this.FAppearance=t.TTMSFNCScrollBarAppearance.$create("Create$1",[this]),this.FAppearance.FOnChange=rtl.createCallback(this,"AppearanceChanged"),this.FPageSize=20,this.FTimer=pas["WEBLib.ExtCtrls"].TTimer.$create("Create$1",[null]),this.FTimer.FOnTimer=rtl.createCallback(this,"TimerChanged"),this.FTimer.SetInterval(100),this},this.Destroy=function(){rtl.free(this,"FAppearance"),rtl.free(this,"FTimer"),pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Destroy.call(this)},this.Assign=function(e){t.TTMSFNCScrollBar.isPrototypeOf(e)&&(this.FKind=rtl.as(e,t.TTMSFNCScrollBar).FKind,this.FValue=rtl.as(e,t.TTMSFNCScrollBar).FValue,this.FMin=rtl.as(e,t.TTMSFNCScrollBar).FMin,this.FMax=rtl.as(e,t.TTMSFNCScrollBar).FMax,this.FPageSize=rtl.as(e,t.TTMSFNCScrollBar).FPageSize,this.FSmallChange=rtl.as(e,t.TTMSFNCScrollBar).FSmallChange,this.FLargeChange=rtl.as(e,t.TTMSFNCScrollBar).FLargeChange,this.FAppearance.Assign(rtl.as(e,t.TTMSFNCScrollBar).FAppearance),this.FTracking=rtl.as(e,t.TTMSFNCScrollBar).FTracking,this.Changed())},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),rtl.createClass(this,"TTMSFNCScrollBar",this.TTMSFNCCustomScrollBar,(function(){this.RegisterRuntimeClasses=function(){pas.Classes.RegisterClass(t.TTMSFNCScrollBar)},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Fill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FFill","SetFill"),e.addProperty("Stroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FStroke","SetStroke"),e.addProperty("Appearance",2,t.$rtti.TTMSFNCScrollBarAppearance,"FAppearance","SetAppearance"),e.addProperty("Kind",2,t.$rtti.TTMSFNCScrollBarKind,"FKind","SetKind",{Default:t.TTMSFNCScrollBarKind.sbkVertical}),e.addProperty("LargeChange",12,rtl.double,"FLargeChange","FLargeChange",{stored:"IsLargeChangeStored"}),e.addProperty("Max",14,rtl.double,"FMax","SetMax",{stored:"IsMaxStored"}),e.addProperty("Tracking",2,rtl.boolean,"FTracking","SetTracking",{Default:!0}),e.addProperty("Min",14,rtl.double,"FMin","SetMin",{stored:"IsMinStored"}),e.addProperty("PageSize",14,rtl.double,"FPageSize","SetPageSize",{stored:"IsPageSizeStored"}),e.addProperty("Value",14,rtl.double,"FValue","SetValue",{stored:"IsValueStored"}),e.addProperty("SmallChange",12,rtl.double,"FSmallChange","FSmallChange",{stored:"IsSmallChangeStored"}),e.addProperty("OnValueChanged",0,t.$rtti.TTMSFNCScrollBarValueChanged,"FOnValueChange","FOnValueChange"),e.addProperty("OnPageSizeChanged",0,t.$rtti.TTMSFNCScrollBarPageSizeChanged,"FOnPageSizeChanged","FOnPageSizeChanged"),e.attr=[pas.Classes.ComponentPlatformsAttribute,"Create$1",[0]]}))}),["Math","SysUtils","WEBLib.TMSFNCStyles","WEBLib.TMSFNCUtils"]),rtl.module("WEBLib.TMSFNCCustomScrollControl",["System","Classes","WEBLib.TMSFNCCustomControl","WEBLib.StdCtrls","WEBLib.TMSFNCScrollBar","WEBLib.TMSFNCGraphics","WEBLib.TMSFNCTypes","WEBLib.ExtCtrls","Types","WEBLib.Controls"],(function(){"use strict";var t=this,e=t.$impl;this.SCROLLINGDELAY=0,this.SWIPECOUNT=300,this.DOWNCOUNT=100,this.TTMSFNCCustomScrollControlMode={0:"scmPixelScrolling",scmPixelScrolling:0,1:"scmItemScrolling",scmItemScrolling:1},this.$rtti.$Enum("TTMSFNCCustomScrollControlMode",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TTMSFNCCustomScrollControlMode}),this.TTMSFNCCustomScrollControlUpdate={0:"scuContinuous",scuContinuous:0,1:"scuOnce",scuOnce:1},this.$rtti.$Enum("TTMSFNCCustomScrollControlUpdate",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TTMSFNCCustomScrollControlUpdate}),rtl.createClass(this,"TTMSFNCCustomScrollControl",pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl,(function(){this.$init=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$init.call(this),this.FDownTime=0,this.FMouseUp=!1,this.FAnimateVerticalPos=!1,this.FAnimateHorizontalPos=!1,this.FAnimating=!1,this.FSpX=0,this.FSpY=0,this.FDoubleSelection=!1,this.FRangeSelection=!1,this.FScrolling=!1,this.FScrollX=0,this.FScrollY=0,this.FDownX=0,this.FDownY=0,this.FMouseX=0,this.FMouseY=0,this.FScrollVTo=0,this.FScrollHTo=0,this.FTimeStart=0,this.FTimeStop=0,this.FAnimateTimer=null,this.FDownTimer=null,this.FSaveHScrollPos=0,this.FSaveVScrollPos=0,this.FBlockScrollingUpdate=!1,this.FIsMouseDown=!1,this.FStretchScrollBars=!1,this.FUpdateCount$1=0,this.FVerticalScrollBar=null,this.FHorizontalScrollBar=null,this.FCustomVerticalScrollBar=null,this.FCustomHorizontalScrollBar=null,this.FVerticalScrollBarVisible=!1,this.FHorizontalScrollBarVisible=!1,this.FScrollMode=0,this.FApplyClipRect=!1,this.FScrollUpdate=0,this.FCustomScrollBars=!1,this.FTouchScrolling=!1},this.$final=function(){this.FAnimateTimer=void 0,this.FDownTimer=void 0,this.FVerticalScrollBar=void 0,this.FHorizontalScrollBar=void 0,this.FCustomVerticalScrollBar=void 0,this.FCustomHorizontalScrollBar=void 0,pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$final.call(this)},this.SetScrollMode=function(t){this.FScrollMode!==t&&(this.FScrollMode=t,this.UpdateControl(!0,!0))},this.SetScrollUpdate=function(t){this.FScrollUpdate!==t&&(this.FScrollUpdate=t,null!=this.FCustomVerticalScrollBar&&this.FCustomVerticalScrollBar.SetTracking(0===this.FScrollUpdate),null!=this.FCustomHorizontalScrollBar&&this.FCustomHorizontalScrollBar.SetTracking(0===this.FScrollUpdate),this.UpdateControl(!0,!0))},this.SetCustomScrollBars=function(t){this.FCustomScrollBars!==t&&(this.FCustomScrollBars=t,this.UpdateControl(!0,!0))},this.GetVersion=function(){return"",""},this.GetCanvasHeightOffset=function(){var t=0,e=null,i=null;return t=0,e=this.HorizontalScrollBar(),i=this.CustomHorizontalScrollBar(),null!=e&&null!=i&&(this.FCustomScrollBars&&i.FVisible&&null!=i.FParent?t=i.GetHeight():!this.FCustomScrollBars&&e.FVisible&&null!=e.FParent&&(t=e.GetHeight())),t},this.GetCanvasWidthOffset=function(){var t=0,e=null,i=null;return t=0,e=this.VerticalScrollBar(),i=this.CustomVerticalScrollBar(),null!=e&&null!=i&&(this.FCustomScrollBars&&i.FVisible&&null!=i.FParent?t=i.GetWidth():!this.FCustomScrollBars&&e.FVisible&&null!=e.FParent&&(t=e.GetWidth())),t},this.SetHorizontalScrollBarVisible=function(t){this.FHorizontalScrollBarVisible!==t&&(this.FHorizontalScrollBarVisible=t,this.UpdateControl(!0,!0))},this.SetVerticalScrollBarVisible=function(t){this.FVerticalScrollBarVisible!==t&&(this.FVerticalScrollBarVisible=t,this.UpdateControl(!0,!0))},this.Animate=function(t){var i,s,o=0,n=0,a=!1,r=!1;n=this.GetVScrollValue(),o=this.GetHScrollValue(),i=Math.abs(this.FScrollHTo-o)/Math.max(1,6*Math.abs(this.FSpX)),s=Math.abs(this.FScrollVTo-n)/Math.max(1,6*Math.abs(this.FSpY)),r=!1,this.FAnimateVerticalPos&&(r=e.AnimateDouble({get:function(){return n},set:function(t){n=t}},{p:this,get:function(){return this.p.FScrollVTo},set:function(t){this.p.FScrollVTo=t}},s,.01)),a=!1,this.FAnimateHorizontalPos&&(a=e.AnimateDouble({get:function(){return o},set:function(t){o=t}},{p:this,get:function(){return this.p.FScrollHTo},set:function(t){this.p.FScrollHTo=t}},i,.01)),this.FAnimating=r||a,this.FAnimating?this.Scroll(o,n):(this.FAnimateVerticalPos=!1,this.FAnimateTimer.SetEnabled(!1),this.FAnimateHorizontalPos=!1)},this.DownTime=function(t){this.FDownTime+=1,100!==this.FDownTime&&this.FTouchScrolling||(this.FRangeSelection=!0,this.FDownTimer.SetEnabled(!1))},this.UpdateControlAfterResize=function(){this.FUpdateCount$1>0||3 in this.FComponentState||0 in this.FComponentState||(this.SaveScrollPosition(),this.UpdateControl(!1,!0),this.RestoreScrollPosition())},this.Scroll=function(t,e){var i,s;this.FBlockScrollingUpdate=!0,i=this.GetHScrollValue(),s=this.GetVScrollValue(),this.SetHScrollValue(t),this.SetVScrollValue(e),this.FBlockScrollingUpdate=!1,this.UpdateControlScroll(i,s,t,e)},this.UpdateControlScroll=function(t,e,i,s){},this.VerticalScrollPositionChanged=function(){},this.HorizontalScrollPositionChanged=function(){},this.VScrollChanged=function(t){this.FBlockScrollingUpdate||this.FCustomScrollBars||(this.FIsMouseDown||this.StopAnimationTimer(),this.VerticalScrollPositionChanged(),this.SetVScrollValue(this.GetVScrollValue()))},this.HScrollChanged=function(t){this.FBlockScrollingUpdate||this.FCustomScrollBars||(this.FIsMouseDown||this.StopAnimationTimer(),this.HorizontalScrollPositionChanged(),this.SetHScrollValue(this.GetHScrollValue()))},this.HandleMouseDown=function(t,i,s,o){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseDown.apply(this,arguments),this.CaptureEx(),this.ProcessTouchScrolling(s,o)&&(this.FIsMouseDown=!0,this.FTimeStart=e.GetTickCountX(),this.FTimeStop=this.FTimeStart,this.FScrollVTo=this.GetVScrollValue(),this.FScrollHTo=this.GetHScrollValue(),this.FScrollX=s,this.FScrollY=o,this.FDownX=s,this.FDownY=o,this.FMouseX=s,this.FMouseY=o,this.FMouseUp=!1,this.FDownTimer.SetEnabled(!0),this.FDoubleSelection=!this.FAnimateTimer.FEnabled,this.FRangeSelection=!1,this.FScrolling=!1,this.FDownTime=0)},this.HandleMouseMove=function(t,e,i){var s=0;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseMove.apply(this,arguments),this.ProcessTouchScrolling(e,i)&&this.FIsMouseDown&&(!0?(s=1,(this.FScrolling||Math.abs(this.FMouseX-e)>3||Math.abs(this.FMouseY-i)>3)&&!this.FRangeSelection&&this.FTouchScrolling&&(Math.abs(e-this.FDownX)>0||Math.abs(i-this.FDownY)>0)&&(this.FScrolling=!0,this.FDownTimer.SetEnabled(!1),this.FDoubleSelection=!1,this.FIsMouseDown&&!this.FMouseUp&&(this.Scroll(this.GetHScrollValue()-(e-this.FDownX)*s,this.GetVScrollValue()-(i-this.FDownY)*s),this.FDownY=i,this.FDownX=e))):this.FRangeSelection)},this.HandleMouseUp=function(t,i,s,o){var n=0;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseUp.apply(this,arguments),this.ReleaseCaptureEx(),this.ProcessTouchScrolling(s,o)&&this.FIsMouseDown&&(n=1,this.FIsMouseDown=!1,this.FMouseUp=!0,this.FScrolling=!1,this.FDownTimer.SetEnabled(!1),!this.FDoubleSelection&&this.FTouchScrolling?(this.FTimeStop=e.GetTickCountX(),this.FTimeStop-this.FTimeStart<300&&this.FTimeStop-this.FTimeStart>0&&(this.FSpY=Math.abs(o-this.FScrollY)/(this.FTimeStop-this.FTimeStart),this.FSpY>0&&(o-this.FScrollY>0?this.FScrollVTo=Math.max(0,Math.min(this.VerticalScrollBar().FMax-this.GetVViewPortSize(),this.FScrollVTo-Math.round(Math.abs(o-this.FScrollY)*this.FSpY*n*3))):this.FScrollVTo=Math.max(0,Math.min(this.VerticalScrollBar().FMax-this.GetVViewPortSize(),this.FScrollVTo+Math.round(Math.abs(o-this.FScrollY)*this.FSpY*n*3))),this.FAnimateVerticalPos=!0,this.FAnimateTimer.SetEnabled(!0)),this.FSpX=Math.abs(s-this.FScrollX)/(this.FTimeStop-this.FTimeStart),this.FSpX>0&&(s-this.FScrollX>0?this.FScrollHTo=Math.max(0,Math.min(this.HorizontalScrollBar().FMax-this.GetHViewPortSize(),this.FScrollHTo-Math.round(Math.abs(s-this.FScrollX)*this.FSpX*n*3))):this.FScrollHTo=Math.max(0,Math.min(this.HorizontalScrollBar().FMax-this.GetHViewPortSize(),this.FScrollHTo+Math.round(Math.abs(s-this.FScrollX)*this.FSpX*n*3))),this.FAnimateHorizontalPos=!0,this.FAnimateTimer.SetEnabled(!0)))):this.HandleSelection(t,rtl.refSet(i),s,o),this.FRangeSelection=!1)},this.HandleSelection=function(t,e,i,s){},this.HCustomScrollChanged=function(t,e){!this.FBlockScrollingUpdate&&this.FCustomScrollBars&&(this.FIsMouseDown||this.StopAnimationTimer(),this.HorizontalScrollPositionChanged(),this.SetHScrollValue(this.GetHScrollValue()))},this.VCustomScrollChanged=function(t,e){!this.FBlockScrollingUpdate&&this.FCustomScrollBars&&(this.FIsMouseDown||this.StopAnimationTimer(),this.VerticalScrollPositionChanged(),this.SetVScrollValue(this.GetVScrollValue()))},this.UpdateControlScrollBarCalculations=function(){},this.UpdateControlScrollBars=function(t,e){var i=null,s=null,o=null,n=null,a=0,r=0,l=0,h=0,F=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),p=null,C=null;this.FUpdateCount$1>0||3 in this.FComponentState||(this.FBlockScrollingUpdate=!0,e&&this.UpdateControlScrollBarCalculations(),i=this.VerticalScrollBar(),s=this.HorizontalScrollBar(),o=this.CustomVerticalScrollBar(),n=this.CustomHorizontalScrollBar(),null!=i&&null!=s&&null!=o&&null!=n&&(e?F.$assign(this.GetCalculationRect()):F.$assign(this.GetContentRect()),l=F.Right-F.Left,h=F.Bottom-F.Top,a=this.GetTotalContentWidth(),r=this.GetTotalContentHeight(),s.SetVisible(a>0&&1===pas["WEBLib.TMSFNCTypes"].CompareValueEx(a,l,0)&&this.FHorizontalScrollBarVisible&&!this.ColumnStretchingActive()&&!this.FCustomScrollBars),i.SetVisible(r>0&&1===pas["WEBLib.TMSFNCTypes"].CompareValueEx(r,h,0)&&this.FVerticalScrollBarVisible&&!this.FCustomScrollBars),n.SetVisible(a>0&&1===pas["WEBLib.TMSFNCTypes"].CompareValueEx(a,l,0)&&this.FHorizontalScrollBarVisible&&!this.ColumnStretchingActive()&&this.FCustomScrollBars),o.SetVisible(r>0&&1===pas["WEBLib.TMSFNCTypes"].CompareValueEx(r,h,0)&&this.FVerticalScrollBarVisible&&this.FCustomScrollBars),o.FVisible&&this.FCustomScrollBars?o.SetParent(this):o.SetParent(null),n.FVisible&&this.FCustomScrollBars?n.SetParent(this):n.SetParent(null),i.FVisible&&!this.FCustomScrollBars?i.SetParent(this):i.SetParent(null),s.FVisible&&!this.FCustomScrollBars?s.SetParent(this):s.SetParent(null),p=pas["WEBLib.TMSFNCTypes"].TTMSFNCMargins.$create("Create$1"),C=pas["WEBLib.TMSFNCTypes"].TTMSFNCMargins.$create("Create$1"),this.FCustomScrollBars?o.FVisible&&this.FStretchScrollBars?C.SetRight(o.GetWidth()+1):C.SetRight(1):i.FVisible&&this.FStretchScrollBars?C.SetRight(i.GetWidth()+1):C.SetRight(1),p.SetTop(1),p.SetRight(1),C.SetBottom(1),C.SetLeft(1),this.FCustomScrollBars?n.FVisible?p.SetBottom(n.GetHeight()+1):p.SetBottom(1):s.FVisible?p.SetBottom(s.GetHeight()+1):p.SetBottom(1),this.FStretchScrollBars||(F.$assign(this.GetCalculationRect()),C.SetLeft(C.FLeft+F.Left),C.SetRight(C.FRight+(this.GetWidth()-F.Right)),p.SetTop(p.FTop+F.Top),p.SetBottom(p.FBottom+(this.GetHeight()-F.Bottom))),s.SetLeft(Math.round(C.FLeft)),s.SetTop(Math.round(this.GetHeight()-C.FBottom-s.GetHeight())),i.SetLeft(Math.round(this.GetWidth()-p.FRight-i.GetWidth())),i.SetTop(Math.round(p.FTop)),s.SetWidth(Math.round(Math.max(0,this.GetWidth()-C.FRight-C.FLeft))),i.SetHeight(Math.round(Math.max(0,this.GetHeight()-p.FBottom-p.FTop))),n.SetLeft(Math.round(C.FLeft)),n.SetTop(Math.round(this.GetHeight()-C.FBottom-n.GetHeight())),o.SetLeft(Math.round(this.GetWidth()-p.FRight-o.GetWidth())),o.SetTop(Math.round(p.FTop)),n.SetWidth(Math.round(Math.max(0,this.GetWidth()-C.FRight-C.FLeft))),o.SetHeight(Math.round(Math.max(0,this.GetHeight()-p.FBottom-p.FTop))),C=rtl.freeLoc(C),p=rtl.freeLoc(p),F.$assign(this.GetContentRect()),l=F.Right-F.Left,h=F.Bottom-F.Top,1===this.FScrollMode?(i.SetPageSize(Math.round(Math.max(0,this.GetVerticalContentViewPortSize()))),i.SetMax(Math.max(i.GetPageSize(),this.GetVerticalContentCount()))):(i.SetPageSize(Math.round(Math.max(0,Math.min(r,h)))),i.SetMax(Math.round(Math.max(i.GetPageSize(),r))),i.SetPosition(Math.min(i.GetPosition(),i.FMax))),i.FSmallChange=Math.max(-2147483648,rtl.trunc(i.GetPageSize()/5)),i.FLargeChange=Math.max(-2147483648,i.GetPageSize()),1===this.FScrollMode?(s.SetPageSize(Math.round(Math.max(0,this.GetHorizontalContentViewPortSize()))),s.SetMax(Math.max(s.GetPageSize(),this.GetHorizontalContentCount()))):(s.SetPageSize(Math.round(Math.max(0,Math.min(a,l)))),s.SetMax(Math.round(Math.max(s.GetPageSize(),a))),s.SetPosition(Math.min(s.GetPosition(),s.FMax))),s.FSmallChange=Math.max(-2147483648,rtl.trunc(s.GetPageSize()/5)),s.FLargeChange=Math.max(-2147483648,s.GetPageSize()),1===this.FScrollMode?(o.SetPageSize(Math.max(0,Math.round(this.GetVerticalContentViewPortSize()))),o.SetMax(this.GetVerticalContentCount()-o.FPageSize)):(o.SetPageSize(Math.round(Math.max(0,Math.min(r,h)))),o.SetMax(Math.round(r-h))),o.FSmallChange=o.FPageSize/5,o.FLargeChange=o.FPageSize,1===this.FScrollMode?(n.SetPageSize(Math.max(0,Math.round(this.GetHorizontalContentViewPortSize()))),n.SetMax(this.GetHorizontalContentCount()-n.FPageSize)):(n.SetPageSize(Math.round(Math.max(0,Math.min(a,l)))),n.SetMax(Math.round(a-l))),n.FSmallChange=n.FPageSize/5,n.FLargeChange=n.FPageSize),this.FBlockScrollingUpdate=!1,t&&this.UpdateControlScrollBars(!1,!1))},this.UpdateControl=function(t,e){this.UpdateControlCache(),this.UpdateControlScrollBars(!0,!0),this.UpdateControlDisplay()},this.UpdateControlCache=function(){},this.UpdateControlDisplay=function(){},this.StopAnimationTimer=function(){this.FAnimateTimer.SetEnabled(!1),this.FAnimating=!1},this.SetHScrollValue=function(t){this.FCustomScrollBars?this.CustomHorizontalScrollBar().SetValue(t):this.HorizontalScrollBar().GetPageSize()>0&&this.HorizontalScrollBar().SetPosition(Math.round(Math.min(this.HorizontalScrollBar().FMax-this.HorizontalScrollBar().GetPageSize(),Math.max(0,t))))},this.SetVScrollValue=function(t){this.FCustomScrollBars?this.CustomVerticalScrollBar().SetValue(t):this.VerticalScrollBar().GetPageSize()>0&&this.VerticalScrollBar().SetPosition(Math.round(Math.min(this.VerticalScrollBar().FMax-this.VerticalScrollBar().GetPageSize(),Math.max(0,t))))},this.Loaded=function(){pas["WEBLib.Controls"].TCustomControl.Loaded.call(this),this.UpdateControl(!0,!0)},this.Draw=function(t,e){var i=null,s=pas["WEBLib.TMSFNCTypes"].TRectF.$new();pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Draw.apply(this,arguments),s.$assign(this.GetContentClipRect()),i=null,this.FApplyClipRect&&(i=t.SaveState(!1),t.ClipRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s))),this.DrawContent(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s)),this.FApplyClipRect&&t.RestoreState(i,!1)},this.DrawContent=function(t,e){},this.UpdateScrollingMode=function(t){this.FScrollMode=t},this.GetTotalContentWidth=function(){return 0,0},this.GetTotalContentHeight=function(){return 0,0},this.GetHorizontalContentViewPortSize=function(){return 0,0},this.GetVerticalContentViewPortSize=function(){return 0,0},this.GetHorizontalContentCount=function(){return 0,0},this.GetVerticalContentCount=function(){return 0,0},this.GetCalculationRect=function(){var t=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return t.$assign(this.GetLocalRect()),t},this.GetContentClipRect=function(){var t=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return t.$assign(this.GetContentRect()),t},this.GetContentRect=function(){var t=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return t.$assign(pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.GetContentRect.call(this)),this.FCustomScrollBars?(this.CustomHorizontalScrollBar().FVisible&&(t.Bottom=t.Bottom-this.CustomHorizontalScrollBar().GetHeight()-1),this.CustomVerticalScrollBar().FVisible&&(t.Right=t.Right-this.CustomVerticalScrollBar().GetWidth()-1)):(this.HorizontalScrollBar().FVisible&&(t.Bottom=t.Bottom-this.HorizontalScrollBar().GetHeight()-1),this.VerticalScrollBar().FVisible&&(t.Right=t.Right-this.VerticalScrollBar().GetWidth()-1)),t},this.GetHScrollValue=function(){return this.FCustomScrollBars?this.CustomHorizontalScrollBar().FValue:Math.min(this.HorizontalScrollBar().FMax-this.HorizontalScrollBar().GetPageSize(),Math.max(0,Math.round(this.HorizontalScrollBar().GetPosition())))},this.GetVScrollValue=function(){return this.FCustomScrollBars?this.CustomVerticalScrollBar().FValue:Math.min(this.VerticalScrollBar().FMax-this.VerticalScrollBar().GetPageSize(),Math.max(0,Math.round(this.VerticalScrollBar().GetPosition())))},this.GetVViewPortSize=function(){return this.FCustomScrollBars?this.CustomVerticalScrollBar().FPageSize:this.VerticalScrollBar().GetPageSize()},this.GetHViewPortSize=function(){return this.FCustomScrollBars?this.CustomHorizontalScrollBar().FPageSize:this.HorizontalScrollBar().GetPageSize()},this.GetVMax=function(){return this.FCustomScrollBars?this.CustomVerticalScrollBar().FMax:this.VerticalScrollBar().FMax},this.GetHMax=function(){return this.FCustomScrollBars?this.CustomHorizontalScrollBar().FMax:this.HorizontalScrollBar().FMax},this.GetHVisible=function(){return this.FCustomScrollBars?this.CustomHorizontalScrollBar().FVisible:this.HorizontalScrollBar().FVisible},this.GetVVisible=function(){return this.FCustomScrollBars?this.CustomVerticalScrollBar().FVisible:this.VerticalScrollBar().FVisible},this.ProcessTouchScrolling=function(t,e){return this.FTouchScrolling},this.Create$1=function(t){return pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Create$1.apply(this,arguments),this.FTouchScrolling=!1,this.FAnimateTimer=pas["WEBLib.ExtCtrls"].TTimer.$create("Create$1",[this]),this.FAnimateTimer.SetInterval(1),this.FAnimateTimer.SetEnabled(!1),this.FAnimateTimer.FOnTimer=rtl.createCallback(this,"Animate"),this.FDownTimer=pas["WEBLib.ExtCtrls"].TTimer.$create("Create$1",[this]),this.FDownTimer.SetInterval(1),this.FDownTimer.SetEnabled(!1),this.FDownTimer.FOnTimer=rtl.createCallback(this,"DownTime"),this.FApplyClipRect=!0,this.FStretchScrollBars=!0,this.FScrollMode=0,this.FScrollUpdate=0,this.FCustomVerticalScrollBar=pas["WEBLib.TMSFNCScrollBar"].TTMSFNCScrollBar.$create("Create$1",[this]),this.FCustomVerticalScrollBar.SetParent(this),this.FCustomHorizontalScrollBar=pas["WEBLib.TMSFNCScrollBar"].TTMSFNCScrollBar.$create("Create$1",[this]),this.FCustomHorizontalScrollBar.SetParent(this),this.FVerticalScrollBar=pas["WEBLib.StdCtrls"].TScrollBar.$create("Create$1",[this]),this.FVerticalScrollBar.SetParent(this),this.FHorizontalScrollBar=pas["WEBLib.StdCtrls"].TScrollBar.$create("Create$1",[this]),this.FHorizontalScrollBar.SetParent(this),this.FCustomVerticalScrollBar.FAppearance.SetThumbButtonSize(0),this.FCustomHorizontalScrollBar.FAppearance.SetThumbButtonSize(0),this.FCustomHorizontalScrollBar.SetKind(0),this.FVerticalScrollBar.FDoubleBuffered=!1,this.FHorizontalScrollBar.FDoubleBuffered=!1,this.FVerticalScrollBar.SetKind(1),this.FVerticalScrollBar.SetVisible(!0),this.FHorizontalScrollBar.SetVisible(!0),this.FCustomVerticalScrollBar.SetVisible(!1),this.FCustomHorizontalScrollBar.SetVisible(!1),this.FVerticalScrollBar.FOnChange=rtl.createCallback(this,"VScrollChanged"),this.FHorizontalScrollBar.FOnChange=rtl.createCallback(this,"HScrollChanged"),this.FCustomHorizontalScrollBar.FOnValueChange=rtl.createCallback(this,"HCustomScrollChanged"),this.FCustomVerticalScrollBar.FOnValueChange=rtl.createCallback(this,"VCustomScrollChanged"),this.FVerticalScrollBarVisible=!0,this.FHorizontalScrollBarVisible=!0,this},this.Destroy=function(){rtl.free(this,"FCustomVerticalScrollBar"),rtl.free(this,"FCustomHorizontalScrollBar"),rtl.free(this,"FVerticalScrollBar"),rtl.free(this,"FHorizontalScrollBar"),pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Destroy.call(this)},this.Assign=function(e){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Assign.apply(this,arguments),t.TTMSFNCCustomScrollControl.isPrototypeOf(e)&&(this.FStretchScrollBars=rtl.as(e,t.TTMSFNCCustomScrollControl).FStretchScrollBars,this.FScrollMode=rtl.as(e,t.TTMSFNCCustomScrollControl).FScrollMode,this.FScrollUpdate=rtl.as(e,t.TTMSFNCCustomScrollControl).FScrollUpdate,this.FApplyClipRect=rtl.as(e,t.TTMSFNCCustomScrollControl).FApplyClipRect)},this.BeginUpdate=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBase.BeginUpdate.call(this),this.FUpdateCount$1+=1},this.EndUpdate=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBase.EndUpdate.call(this),this.FUpdateCount$1-=1,0===this.FUpdateCount$1&&this.UpdateControl(!0,!0)},this.SaveScrollPosition=function(){this.FSaveHScrollPos=this.GetHScrollValue(),this.FSaveVScrollPos=this.GetVScrollValue()},this.RestoreScrollPosition=function(){this.Scroll(this.FSaveHScrollPos,this.FSaveVScrollPos)},this.GetVerticalScrollPosition=function(){return this.GetVScrollValue()},this.GetHorizontalScrollPosition=function(){return this.GetHScrollValue()},this.GetHorizontalScrollMax=function(){return this.GetHMax()},this.GetVerticalScrollMax=function(){return this.GetVMax()},this.HorizontalScrollBar=function(){return this.FHorizontalScrollBar},this.VerticalScrollBar=function(){return this.FVerticalScrollBar},this.CustomHorizontalScrollBar=function(){return this.FCustomHorizontalScrollBar},this.CustomVerticalScrollBar=function(){return this.FCustomVerticalScrollBar},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),t.$implcode=function(){e.GetTickCountX=function(){var t=0,e=0,i=0,s=0;return pas.SysUtils.DecodeTime(pas.SysUtils.Now(),{get:function(){return t},set:function(e){t=e}},{get:function(){return e},set:function(t){e=t}},{get:function(){return i},set:function(t){i=t}},{get:function(){return s},set:function(t){s=t}}),s+1e3*i+60*e*1e3+60*t*60*1e3},e.AnimateDouble=function(t,e,i,s){var o=!1;return o=!0,t.get()>e.get()-s&&t.get()<e.get()+s?(t.set(e.get()),o=!1):(i=Math.max(s,i),t.get()<e.get()?t.set(t.get()+i):t.set(t.get()-i)),o}}}),["WEBLib.Forms","Math","WEBLib.TMSFNCGraphicsTypes","SysUtils"]),rtl.module("WEBLib.TMSFNCGridData",["System","Classes","SysUtils","WEBLib.Controls","WEBLib.TMSFNCGraphics","WEBLib.TMSFNCGridCell","WEBLib.TMSFNCGridDataUtil","WEBLib.Graphics","WEBLib.TMSFNCTypes","WEBLib.TMSFNCCustomScrollControl","Types","WEBLib.TMSFNCBitmapContainer","WEBLib.TMSFNCGridOptions","WEBLib.TMSFNCGraphicsTypes","Web","contnrs","WEBLib.StdCtrls"],(function(){"use strict";var t=this,e=t.$impl;this.$rtti.$ClassRef("TTMSFNCGridEditorClass",{instancetype:pas["WEBLib.Controls"].$rtti.TWinControl}),this.$rtti.$Class("TTMSFNCGridData"),rtl.recNewT(this,"TTMSFNCGridCellRec",(function(){this.Col=0,this.Row=0,this.$eq=function(t){return this.Col===t.Col&&this.Row===t.Row},this.$assign=function(t){return this.Col=t.Col,this.Row=t.Row,this}})),rtl.recNewT(this,"TTMSFNCGridCellRecRange",(function(){this.StartCol=0,this.StartRow=0,this.EndCol=0,this.EndRow=0,this.$eq=function(t){return this.StartCol===t.StartCol&&this.StartRow===t.StartRow&&this.EndCol===t.EndCol&&this.EndRow===t.EndRow},this.$assign=function(t){return this.StartCol=t.StartCol,this.StartRow=t.StartRow,this.EndCol=t.EndCol,this.EndRow=t.EndRow,this};var e=t.$rtti.$Record("TTMSFNCGridCellRecRange",{});e.addField("StartCol",rtl.longint),e.addField("StartRow",rtl.longint),e.addField("EndCol",rtl.longint),e.addField("EndRow",rtl.longint)})),this.TTMSFNCGridCellState={0:"csNormal",csNormal:0,1:"csFocused",csFocused:1,2:"csFixed",csFixed:2,3:"csFixedSelected",csFixedSelected:3,4:"csSelected",csSelected:4},this.$rtti.$Enum("TTMSFNCGridCellState",{minvalue:0,maxvalue:4,ordtype:1,enumtype:this.TTMSFNCGridCellState}),this.TTMSFNCGridSortDirection={0:"sdAscending",sdAscending:0,1:"sdDescending",sdDescending:1},this.$rtti.$Enum("TTMSFNCGridSortDirection",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TTMSFNCGridSortDirection}),this.TTMSFNCGridSortFormat={0:"ssAutomatic",ssAutomatic:0,1:"ssAlphabetic",ssAlphabetic:1,2:"ssAlphabeticNoCase",ssAlphabeticNoCase:2,3:"ssNumeric",ssNumeric:3,4:"ssDate",ssDate:4,5:"ssHTML",ssHTML:5,6:"ssCheckBox",ssCheckBox:6,7:"ssCustom",ssCustom:7,8:"ssRaw",ssRaw:8},this.$rtti.$Enum("TTMSFNCGridSortFormat",{minvalue:0,maxvalue:8,ordtype:1,enumtype:this.TTMSFNCGridSortFormat}),this.$rtti.$MethodVar("TTMSFNCGridSortFormatEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Col",rtl.longint],["SortFormat",this.$rtti.TTMSFNCGridSortFormat,1],["APrefix",rtl.string,1],["ASuffix",rtl.string,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridCustomCompareEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Value1",rtl.string],["Value2",rtl.string],["res",rtl.longint,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridRawCompareEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Col",rtl.longint],["Row1",rtl.longint],["Row2",rtl.longint],["res",rtl.longint,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridClipboardBeforePasteEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Col",rtl.longint],["Row",rtl.longint],["Value",rtl.string,1],["Allow",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridClipboardAfterPasteEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Col",rtl.longint],["Row",rtl.longint],["Value",rtl.string]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridNeedFilterDropDownEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Col",rtl.longint],["Row",rtl.longint],["Allow",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridNeedFilterDropDownDataEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Col",rtl.longint],["Row",rtl.longint],["AValues",pas.Classes.$rtti.TStrings]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridFilterSelectEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Col",rtl.longint],["Condition",rtl.string,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridAfterApplyFilterEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Col",rtl.longint],["Condition",rtl.string],["UpdateCalculations",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridCellsChangedEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Cells",this.$rtti.TTMSFNCGridCellRecRange]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridColumnCalcEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["FromRow",rtl.longint],["ToRow",rtl.longint],["Res",rtl.double,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnSelectCell",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint],["Allow",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnSelectedCell",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint]]),methodkind:0}),this.TTMSFNCGridColumnCalculation={0:"ccNone",ccNone:0,1:"ccSum",ccSum:1,2:"ccAvg",ccAvg:2,3:"ccCount",ccCount:3,4:"ccMin",ccMin:4,5:"ccMax",ccMax:5,6:"ccCUSTOM",ccCUSTOM:6,7:"ccDistinct",ccDistinct:7,8:"ccStdDev",ccStdDev:8},this.TTMSFNCGridCellCalcState={0:"csNoCalc",csNoCalc:0,1:"csCalcOk",csCalcOk:1,2:"csCalcErr",csCalcErr:2},rtl.createClass(this,"TTMSFNCGridCellProperty",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FDefaultFont=null,this.FColor=0,this.FBaseCol=0,this.FBaseRow=0,this.FColSpan=0,this.FRowSpan=0,this.FAlignHorz=0,this.FAlignVert=0,this.FControl=null,this.FObject=null,this.FReadOnly=!1,this.FPrintPageNr=0,this.FFontStyle={},this.FFontSize=0,this.FFontName="",this.FFontColor=0,this.FAngle=0,this.FComment="",this.FCommentColor=0,this.FBorderColor=0,this.FBorderWidth=0,this.FWordWrap=!1,this.FFixed=!1,this.FCalcState=0,this.FNameIndex=0},this.$final=function(){this.FDefaultFont=void 0,this.FControl=void 0,this.FObject=void 0,this.FFontStyle=void 0,pas.System.TObject.$final.call(this)},this.Create$1=function(t){return pas.System.TObject.Create.call(this),this.FDefaultFont=t,this.FColSpan=-1,this.FRowSpan=-1,this.FBaseCol=-1,this.FBaseRow=-1,this.FColor=-1,this.FBorderColor=-1,this.FControl=null,this.FPrintPageNr=-1,this.FBorderWidth=1,this.FAngle=0,this.FAlignHorz=1,this.FAlignVert=0,this.FFontSize=t.FSize,this.FFontStyle=rtl.refSet(t.FStyle),this.FCommentColor=-1,this.FComment="",this.FCalcState=0,this.FNameIndex=-1,this},this.Destroy=function(){null!=this.FControl&&pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FControl},set:function(t){this.p.FControl=t}}),pas.System.TObject.Destroy.call(this)},this.IsBaseCell=function(t,e){return t===this.FBaseCol&&e===this.FBaseRow||-1===this.FBaseCol&&-1===this.FBaseRow},this.FreeControl=function(){pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FControl},set:function(t){this.p.FControl=t}})}})),rtl.createClass(this,"TTMSFNCGridCellCheckBox",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FChecked=!1,this.FHeader=!1}})),rtl.createClass(this,"TTMSFNCGridCellDataCheckBox",pas.System.TObject,(function(){})),rtl.createClass(this,"TTMSFNCGridCellRadioButton",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FChecked=!1,this.FIndex=0}})),rtl.createClass(this,"TTMSFNCGridCellButton",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FText="",this.FWidth=0,this.FHeight=0}})),rtl.createClass(this,"TTMSFNCGridCellBitmapName",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FBitmapName="",this.FData=!1}})),rtl.createClass(this,"TTMSFNCGridCellBitmap",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FBitmap=null},this.$final=function(){this.FBitmap=void 0,pas.System.TObject.$final.call(this)},this.Destroy=function(){rtl.free(this,"FBitmap"),pas.System.TObject.Destroy.call(this)}})),rtl.createClass(this,"TTMSFNCGridCellNode",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FState=0,this.FSpan=0}})),rtl.createClass(this,"TTMSFNCGridCellSummary",pas.System.TObject,(function(){})),rtl.createClass(this,"TTMSFNCGridCellProgressBar",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FValue=0,this.FData=!1}})),rtl.createClass(this,"TTMSFNCGridCellCombo",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FItems=null},this.$final=function(){this.FItems=void 0,pas.System.TObject.$final.call(this)},this.Destroy=function(){rtl.free(this,"FItems"),pas.System.TObject.Destroy.call(this)}})),rtl.createClass(this,"TTMSFNCGridSortIndexList",pas["WEBLib.TMSFNCGridDataUtil"].TTMSFNCGridIntList,(function(){this.GetSortDirections=function(t){return!(2147483648==(2147483648&this.GetInteger(t)))},this.AddIndex=function(t,e){0===e?this.Add$1(t):this.Add$1(2147483648|t)},this.FindIndex=function(t){var e=0,i=0;for(e=-1,i=0;i<this.GetCount();){if((2147483647&this.GetInteger(i))===t){e=i;break}i+=1}return e},this.ToggleIndex=function(t){var e=0;for(e=0;e<this.GetCount();){if((2147483647&this.GetInteger(e))===t){2147483648==(2147483648&this.GetInteger(e))?this.SetInteger(e,2147483647&this.GetInteger(e)):this.SetInteger(e,2147483648|this.GetInteger(e));break}e+=1}}})),this.TTMSFNCGridFilterCells={0:"fcVirtual",fcVirtual:0,1:"fcNormal",fcNormal:1,2:"fcStripHTML",fcStripHTML:2,3:"fcRow",fcRow:3},this.$rtti.$Enum("TTMSFNCGridFilterCells",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TTMSFNCGridFilterCells}),this.TTMSFNCGridFilterOperation={0:"foSHORT",foSHORT:0,1:"foNONE",foNONE:1,2:"foAND",foAND:2,3:"foXOR",foXOR:3,4:"foOR",foOR:4},this.$rtti.$Enum("TTMSFNCGridFilterOperation",{minvalue:0,maxvalue:4,ordtype:1,enumtype:this.TTMSFNCGridFilterOperation}),this.TTMSFNCGridRowState={0:"rsDefault",rsDefault:0,1:"rsSelected",rsSelected:1},rtl.createClass(this,"TTMSFNCGridDataList",pas.Classes.TStringList,(function(){})),rtl.createClass(this,"TTMSFNCGridRowInfo",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FData=null,this.FState=0},this.$final=function(){this.FData=void 0,pas.System.TObject.$final.call(this)},this.SetState=function(t){this.FState=t},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FData=t.TTMSFNCGridDataList.$create("Create$1"),this.FState=0,this},this.Destroy=function(){rtl.free(this,"FData"),pas.System.TObject.Destroy.call(this)}})),rtl.createClass(this,"TTMSFNCGridFilterData",pas.Classes.TCollectionItem,(function(){this.$init=function(){pas.Classes.TCollectionItem.$init.call(this),this.FColumn=0,this.FCondition="",this.FCaseSensitive=!1,this.FSuffix="",this.FPrefix="",this.FOperation=0,this.FData=0},this.Create$1=function(t){return pas.Classes.TCollectionItem.Create$1.apply(this,arguments),this.FCaseSensitive=!0,this.FData=0,this},this.Assign=function(e){var i;null!=(i=rtl.as(e,t.TTMSFNCGridFilterData))&&(this.FColumn=i.FColumn,this.FCondition=i.FCondition,this.FCaseSensitive=i.FCaseSensitive,this.FData=i.FData,this.FPrefix=i.FPrefix,this.FSuffix=i.FSuffix,this.FOperation=i.FOperation)};var e=this.$rtti;e.addMethod("Create$1",2,[["ACollection",pas.Classes.$rtti.TCollection]]),e.addProperty("Column",0,rtl.smallint,"FColumn","FColumn"),e.addProperty("Condition",0,rtl.string,"FCondition","FCondition"),e.addProperty("CaseSensitive",0,rtl.boolean,"FCaseSensitive","FCaseSensitive",{Default:!0}),e.addProperty("Data",0,t.$rtti.TTMSFNCGridFilterCells,"FData","FData",{Default:t.TTMSFNCGridFilterCells.fcVirtual}),e.addProperty("Prefix",0,rtl.string,"FPrefix","FPrefix"),e.addProperty("Suffix",0,rtl.string,"FSuffix","FSuffix"),e.addProperty("Operation",0,t.$rtti.TTMSFNCGridFilterOperation,"FOperation","FOperation")})),rtl.createClass(this,"TTMSFNCGridFilter",pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection,(function(){this.$init=function(){pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection.$init.call(this),this.FOwner$1=null},this.$final=function(){this.FOwner$1=void 0,pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection.$final.call(this)},this.GetItem$1=function(t){return pas.Classes.TCollection.GetItem.call(this,t)},this.Create$3=function(e){return pas.Classes.TOwnedCollection.Create$2.call(this,e,t.TTMSFNCGridFilterData),this.FOwner$1=e,this},this.Add$1=function(){var t=null;return t=pas.Classes.TCollection.Add.call(this),1===this.GetCount()?t.FOperation=1:t.FOperation=2,t},this.$rtti.addMethod("Create$3",2,[["AOwner",t.$rtti.TTMSFNCGridData]])})),rtl.createClass(this,"TTMSFNCGridSingleListItem",pas.Classes.TCollectionItem,(function(){this.$init=function(){pas.Classes.TCollectionItem.$init.call(this),this.FOwner=null,this.FValue=0,this.FCellVal=0},this.$final=function(){this.FOwner=void 0,pas.Classes.TCollectionItem.$final.call(this)},this.SetValue=function(t){this.FValue=t},this.Create$1=function(e){return pas.Classes.TCollectionItem.Create$1.apply(this,arguments),null!=this.FCollection&&(this.FOwner=rtl.as(this.FCollection,t.TTMSFNCGridSingleList).FOwner$1),this};var e=this.$rtti;e.addMethod("Create$1",2,[["ACollection",pas.Classes.$rtti.TCollection]]),e.addProperty("Value",2,rtl.double,"FValue","SetValue"),e.addProperty("CellVal",0,rtl.longint,"FCellVal","FCellVal")})),rtl.createClass(this,"TTMSFNCGridSingleList",pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection,(function(){this.$init=function(){pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection.$init.call(this),this.FOwner$1=null},this.$final=function(){this.FOwner$1=void 0,pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection.$final.call(this)},this.GetItem$1=function(t){return this.GetItem(t)},this.IndexOf=function(t){var e=0,i=0;e=-1;for(var s=0,o=this.GetCount()-1;s<=o;s++)if(i=s,this.GetItem$1(i).FCellVal===t)return e=i;return e},this.Create$3=function(e){return pas.Classes.TOwnedCollection.Create$2.call(this,e,t.TTMSFNCGridSingleListItem),this.FOwner$1=e,this},this.Add$1=function(){return pas.Classes.TCollection.Add.call(this)},this.Insert$1=function(t){return pas.Classes.TCollection.Insert.call(this,t)},this.$rtti.addMethod("Create$3",2,[["AOwner",t.$rtti.TTMSFNCGridData]])})),this.TTMSFNCGridMarkType={0:"mtHighlight",mtHighlight:0,1:"mtError",mtError:1},this.$rtti.$Enum("TTMSFNCGridMarkType",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TTMSFNCGridMarkType}),rtl.createClass(this,"TTMSFNCGridCellMarkItem",pas.Classes.TCollectionItem,(function(){this.$init=function(){pas.Classes.TCollectionItem.$init.call(this),this.FCellRange=t.TTMSFNCGridCellRecRange.$new(),this.FValue="",this.FCaseSensitive=!1,this.FMarkType=0},this.$final=function(){this.FCellRange=void 0,pas.Classes.TCollectionItem.$final.call(this)};var e=this.$rtti;e.addProperty("CaseSensitive",0,rtl.boolean,"FCaseSensitive","FCaseSensitive"),e.addProperty("Value",0,rtl.string,"FValue","FValue"),e.addProperty("MarkType",0,t.$rtti.TTMSFNCGridMarkType,"FMarkType","FMarkType")})),rtl.createClass(this,"TTMSFNCGridCellMarkList",pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection,(function(){this.GetItem$1=function(t){return this.GetItem(t)},this.Create$3=function(e){return pas.Classes.TOwnedCollection.Create$2.call(this,e,t.TTMSFNCGridCellMarkItem),this},this.$rtti.addMethod("Create$3",2,[["AOwner",t.$rtti.TTMSFNCGridData]])})),rtl.createClass(this,"TTMSFNCGridCellList",pas.Classes.TList,(function(){this.GetItem=function(e){var i=t.TTMSFNCGridCellRec.$new();return i.$assign(rtl.getObject(this.Get(e))),i},this.Create$2=function(){return pas.Classes.TList.Create$1.call(this),this},this.Destroy=function(){this.Clear$1(),pas.Classes.TList.Destroy.call(this)},this.AddCell=function(e){this.Add(t.TTMSFNCGridCellRec.$clone(e))},this.DeleteCell$1=function(t){t>=0&&t<this.GetCount()&&this.Delete(t)},this.Clear$1=function(){for(;this.GetCount()>0;)this.Delete(this.GetCount()-1)},this.Find=function(e){var i=0,s=0,o=t.TTMSFNCGridCellRec.$new();i=-1;for(var n=this.GetCount()-1;n>=0;n--)if(s=n,o.$assign(this.GetItem(s)),o.Col===e.Col&&o.Row===e.Row){i=s;break}return i},this.FindFixed=function(e){var i=0,s=0,o=t.TTMSFNCGridCellRec.$new();i=-1;for(var n=this.GetCount()-1;n>=0;n--)if(s=n,o.$assign(this.GetItem(s)),o.Row===e.Row||o.Col===e.Col){i=s;break}return i}})),this.TTMSFNCGridExportState={0:"esExportStart",esExportStart:0,1:"esExportNewRow",esExportNewRow:1,2:"esExportDone",esExportDone:2,3:"esExportSelRow",esExportSelRow:3,4:"esExportFail",esExportFail:4,5:"esExportNextRow",esExportNextRow:5,6:"esExportFindRow",esExportFindRow:6},this.TTMSFNCGridEditorType={0:"etEdit",etEdit:0,1:"etNumericEdit",etNumericEdit:1,2:"etSignedNumericEdit",etSignedNumericEdit:2,3:"etFloatEdit",etFloatEdit:3,4:"etSignedFloatEdit",etSignedFloatEdit:4,5:"etUppercaseEdit",etUppercaseEdit:5,6:"etMixedCaseEdit",etMixedCaseEdit:6,7:"etLowerCaseEdit",etLowerCaseEdit:7,8:"etMoneyEdit",etMoneyEdit:8,9:"etHexEdit",etHexEdit:9,10:"etAlphaNumericEdit",etAlphaNumericEdit:10,11:"etValidCharsEdit",etValidCharsEdit:11,12:"etComboBox",etComboBox:12,13:"etSpinBox",etSpinBox:13,14:"etDatePicker",etDatePicker:14,15:"etColorPicker",etColorPicker:15,16:"etTrackBar",etTrackBar:16,17:"etMemo",etMemo:17,18:"etCustom",etCustom:18},this.$rtti.$Enum("TTMSFNCGridEditorType",{minvalue:0,maxvalue:18,ordtype:1,enumtype:this.TTMSFNCGridEditorType}),this.$rtti.$MethodVar("TTMSFNCGridIOProgressEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["CurrentRow",rtl.longint],["TotalRows",rtl.longint],["Progres",rtl.smallint]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridIOEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Col",rtl.longint],["Row",rtl.longint],["Value",rtl.string,1]]),methodkind:0}),this.TTMSFNCGridColumnType={0:"ctDefault",ctDefault:0,1:"ctButton",ctButton:1,2:"ctCheckBox",ctCheckBox:2,3:"ctProgressBar",ctProgressBar:3,4:"ctRadioButton",ctRadioButton:4},this.$rtti.$Enum("TTMSFNCGridColumnType",{minvalue:0,maxvalue:4,ordtype:1,enumtype:this.TTMSFNCGridColumnType}),rtl.createClass(this,"TTMSFNCGridColumn",pas.Classes.TCollectionItem,(function(){this.$init=function(){pas.Classes.TCollectionItem.$init.call(this),this.FGrid=null,this.FColor=0,this.FVertAlignment=0,this.FHorzAlignment=0,this.FSortFormat=0,this.FFont=null,this.FEditor=0,this.FReadOnly=!1,this.FBorderColor=0,this.FID$1="",this.FBorderWidth=0,this.FWordWrap=!1,this.FFixed=!1,this.FSortPrefix="",this.FSortSuffix="",this.FTag=0,this.FComboItems=null,this.FColumnType=0,this.FName="",this.FFixedFont=null},this.$final=function(){this.FGrid=void 0,this.FFont=void 0,this.FComboItems=void 0,this.FFixedFont=void 0,pas.Classes.TCollectionItem.$final.call(this)},this.SetColor=function(t){this.FColor!==t&&(this.FColor=t,this.Changed$1())},this.SetHorzAlignment=function(t){this.FHorzAlignment!==t&&(this.FHorzAlignment=t,this.Changed$1())},this.SetVertAlignment=function(t){this.FVertAlignment!==t&&(this.FVertAlignment=t,this.Changed$1())},this.SetFont=function(t){this.FFont.Assign(t),this.Changed$1()},this.SetBorderColor=function(t){this.FBorderColor!==t&&(this.FBorderColor=t,this.Changed$1())},this.SetBorderWidth=function(t){this.FBorderWidth!==t&&(this.FBorderWidth=t,this.Changed$1())},this.SetWordWrap=function(t){this.FWordWrap!==t&&(this.FWordWrap=t,this.Changed$1())},this.SetFixed=function(t){this.FFixed!==t&&(this.FFixed=t,this.Changed$1())},this.SetComboItems=function(t){this.FComboItems.Assign(t)},this.SetColumnType=function(t){this.FColumnType!==t&&(this.FColumnType=t,this.Changed$1())},this.GetWidth=function(){return rtl.as(this.FCollection.Owner(),t.TTMSFNCGridData).GetColWidths(this.GetIndex())},this.SetWidth=function(e){null!==this.FCollection&&(rtl.as(this.FCollection.Owner(),t.TTMSFNCGridData).BeginUpdate(),rtl.as(this.FCollection.Owner(),t.TTMSFNCGridData).SetColWidths(this.GetIndex(),e),rtl.as(this.FCollection.Owner(),t.TTMSFNCGridData).EndUpdate())},this.SetFixedFont=function(t){this.FFixedFont.Assign(t),this.Changed$1()},this.IsWidthStored=function(){return 64!==this.GetWidth()},this.Changed$1=function(){null!=this.FGrid&&this.FGrid.UpdateGridCells(!1)},this.Create$1=function(e){return pas.Classes.TCollectionItem.Create$1.apply(this,arguments),null!=this.FCollection&&(this.FGrid=rtl.as(this.FCollection,t.TTMSFNCGridColumns).FGrid),this.FColor=-1,this.FFont=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2"),this.FFixedFont=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2"),this.FFixedFont.SetStyle(rtl.createSet(0)),this.FEditor=0,this.FBorderColor=12632256,this.FBorderWidth=1,this.FComboItems=pas.Classes.TStringList.$create("Create$1"),this.FColumnType=0,this.FHorzAlignment=1,this},this.Destroy=function(){rtl.free(this,"FComboItems"),rtl.free(this,"FFont"),rtl.free(this,"FFixedFont"),pas.Classes.TCollectionItem.Destroy.call(this)},this.Assign=function(e){t.TTMSFNCGridColumn.isPrototypeOf(e)&&(this.FBorderColor=rtl.as(e,t.TTMSFNCGridColumn).FBorderColor,this.FBorderWidth=rtl.as(e,t.TTMSFNCGridColumn).FBorderWidth,this.FColor=rtl.as(e,t.TTMSFNCGridColumn).FColor,this.FFixed=rtl.as(e,t.TTMSFNCGridColumn).FFixed,this.FFont.Assign(rtl.as(e,t.TTMSFNCGridColumn).FFont),this.FHorzAlignment=rtl.as(e,t.TTMSFNCGridColumn).FHorzAlignment,this.FID$1=rtl.as(e,t.TTMSFNCGridColumn).FID$1,this.FVertAlignment=rtl.as(e,t.TTMSFNCGridColumn).FVertAlignment,this.FEditor=rtl.as(e,t.TTMSFNCGridColumn).FEditor,this.FReadOnly=rtl.as(e,t.TTMSFNCGridColumn).FReadOnly,this.FSortFormat=rtl.as(e,t.TTMSFNCGridColumn).FSortFormat,this.FSortSuffix=rtl.as(e,t.TTMSFNCGridColumn).FSortSuffix,this.FSortPrefix=rtl.as(e,t.TTMSFNCGridColumn).FSortPrefix,this.FWordWrap=rtl.as(e,t.TTMSFNCGridColumn).FWordWrap,this.FColumnType=rtl.as(e,t.TTMSFNCGridColumn).FColumnType,this.FComboItems.Assign(rtl.as(e,t.TTMSFNCGridColumn).FComboItems))};var e=this.$rtti;e.addMethod("Create$1",2,[["ACollection",pas.Classes.$rtti.TCollection]]),e.addProperty("BorderColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FBorderColor","SetBorderColor",{Default:12632256}),e.addProperty("BorderWidth",2,rtl.longint,"FBorderWidth","SetBorderWidth"),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor",{Default:-1}),e.addProperty("ColumnType",2,t.$rtti.TTMSFNCGridColumnType,"FColumnType","SetColumnType",{Default:t.TTMSFNCGridColumnType.ctDefault}),e.addProperty("ComboItems",2,pas.Classes.$rtti.TStringList,"FComboItems","SetComboItems"),e.addProperty("Editor",0,t.$rtti.TTMSFNCGridEditorType,"FEditor","FEditor",{Default:t.TTMSFNCGridEditorType.etEdit}),e.addProperty("Fixed",2,rtl.boolean,"FFixed","SetFixed",{Default:!1}),e.addProperty("FixedFont",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFont,"FFixedFont","SetFixedFont"),e.addProperty("Font",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFont,"FFont","SetFont"),e.addProperty("HorzAlignment",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsTextAlign,"FHorzAlignment","SetHorzAlignment",{Default:pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsTextAlign.gtaLeading}),e.addProperty("ID",0,rtl.string,"FID$1","FID$1"),e.addProperty("Name",0,rtl.string,"FName","FName"),e.addProperty("ReadOnly",0,rtl.boolean,"FReadOnly","FReadOnly",{Default:!1}),e.addProperty("SortFormat",0,t.$rtti.TTMSFNCGridSortFormat,"FSortFormat","FSortFormat",{Default:t.TTMSFNCGridSortFormat.ssAutomatic}),e.addProperty("SortSuffix",0,rtl.string,"FSortSuffix","FSortSuffix"),e.addProperty("SortPrefix",0,rtl.string,"FSortPrefix","FSortPrefix"),e.addProperty("Tag",0,rtl.nativeint,"FTag","FTag",{Default:0}),e.addProperty("VertAlignment",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsTextAlign,"FVertAlignment","SetVertAlignment",{Default:pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsTextAlign.gtaCenter}),e.addProperty("Width",15,rtl.double,"GetWidth","SetWidth",{stored:"IsWidthStored"}),e.addProperty("WordWrap",2,rtl.boolean,"FWordWrap","SetWordWrap",{Default:!1})})),rtl.createClass(this,"TTMSFNCGridColumns",pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection,(function(){this.$init=function(){pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection.$init.call(this),this.FGrid=null},this.$final=function(){this.FGrid=void 0,pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection.$final.call(this)},this.GetItem$1=function(t){return this.GetItem(t)},this.Create$3=function(e){return pas.Classes.TOwnedCollection.Create$2.call(this,e,t.TTMSFNCGridColumn),this.FGrid=e,this},this.Add$1=function(){return pas.Classes.TCollection.Add.call(this)},this.$rtti.addMethod("Create$3",2,[["AGrid",t.$rtti.TTMSFNCGridData]])})),rtl.createClass(this,"TTMSFNCGridRowInfoList",pas.Classes.TList,(function(){this.GetItem=function(t){return rtl.getObject(this.Get(t))},this.SetItem=function(t,e){this.Put(t,e)}})),rtl.createClass(this,"TTMSFNCGridIntegerList",pas.Classes.TList,(function(){this.GetItem=function(t){return rtl.trunc(this.Get(t))},this.SetItem=function(t,e){this.Put(t,e)}})),rtl.createClass(this,"TTMSFNCGridSList",pas.Classes.TList,(function(){this.GetItem=function(t){return rtl.getNumber(this.Get(t))}})),rtl.createClass(this,"TTMSFNCGridData",pas["WEBLib.TMSFNCCustomScrollControl"].TTMSFNCCustomScrollControl,(function(){this.$init=function(){pas["WEBLib.TMSFNCCustomScrollControl"].TTMSFNCCustomScrollControl.$init.call(this),this.FDefaultLayout=null,this.FOldSize=0,this.FInternalColumnUpdate=!1,this.FInternalRowUpdate=!1,this.FColumnProp=null,this.FColumns=null,this.FUseColumns=!1,this.FFirstCellApply=!1,this.FBlockUpdate=!1,this.FFocusedCell=t.TTMSFNCGridCellRec.$new(),this.FStartCell=t.TTMSFNCGridCellRec.$new(),this.FStopCell=t.TTMSFNCGridCellRec.$new(),this.FRowList=null,this.FRowDisplayList=null,this.FColumnDisplayList=null,this.FSuppressedColumnList=null,this.FHiddenColumnList=null,this.FHiddenRowList=null,this.FColSelect=null,this.FSelectedCells=null,this.FRowCount=0,this.FFilterApplied=!1,this.FSortDirection=0,this.FSortColumn=0,this.FSortDir=0,this.FIOOffset=pas.Types.TPoint.$new(),this.FFilter=null,this.FSortIndexes=null,this.FCellCalcList=null,this.FColumnCount=0,this.FFixedRows=0,this.FFixedColumns=0,this.FRowH=null,this.FFixedRightColumns=0,this.FColumnW=null,this.FOrigColumnW=null,this.FFixedFooterRows=0,this.FDefaultRowHeight=0,this.FDefaultColumnWidth=0,this.FCheckFalse="",this.FCheckTrue="",this.FPrevProgress=0,this.FGroupColumn=0,this.FFloatFormat="",this.FColumnOrder=null,this.FBitmapContainer=null,this.FOnIOProgress=null,this.FOnSortFormat=null,this.FOnCustomCompare=null,this.FOnRawCompare=null,this.FOptions=null,this.FMarkList=null,this.FDefaultFont=null,this.FOnClipboardAfterPasteCell=null,this.FOnClipboardBeforePasteCell=null,this.FOnCellsChanged=null,this.FOnClipboardPaste=null,this.FOnLoadCell=null,this.FOnSaveCell=null,this.FOnNeedFilterDropDown=null,this.FOnNeedFilterDropDownData=null,this.FOnFilterSelect=null,this.FOnGroupCalc=null,this.FOnColumnCalc=null,this.FOnAfterApplyFilter=null,this.FBlockSelectEventHandler=!1,this.FOnSelectedCell=null,this.FOnSelectCell=null,this.FGlobalFont=null},this.$final=function(){this.FDefaultLayout=void 0,this.FColumnProp=void 0,this.FColumns=void 0,this.FFocusedCell=void 0,this.FStartCell=void 0,this.FStopCell=void 0,this.FRowList=void 0,this.FRowDisplayList=void 0,this.FColumnDisplayList=void 0,this.FSuppressedColumnList=void 0,this.FHiddenColumnList=void 0,this.FHiddenRowList=void 0,this.FColSelect=void 0,this.FSelectedCells=void 0,this.FIOOffset=void 0,this.FFilter=void 0,this.FSortIndexes=void 0,this.FCellCalcList=void 0,this.FRowH=void 0,this.FColumnW=void 0,this.FOrigColumnW=void 0,this.FColumnOrder=void 0,this.FBitmapContainer=void 0,this.FOnIOProgress=void 0,this.FOnSortFormat=void 0,this.FOnCustomCompare=void 0,this.FOnRawCompare=void 0,this.FOptions=void 0,this.FMarkList=void 0,this.FDefaultFont=void 0,this.FOnClipboardAfterPasteCell=void 0,this.FOnClipboardBeforePasteCell=void 0,this.FOnCellsChanged=void 0,this.FOnClipboardPaste=void 0,this.FOnLoadCell=void 0,this.FOnSaveCell=void 0,this.FOnNeedFilterDropDown=void 0,this.FOnNeedFilterDropDownData=void 0,this.FOnFilterSelect=void 0,this.FOnGroupCalc=void 0,this.FOnColumnCalc=void 0,this.FOnAfterApplyFilter=void 0,this.FOnSelectedCell=void 0,this.FOnSelectCell=void 0,this.FGlobalFont=void 0,pas["WEBLib.TMSFNCCustomScrollControl"].TTMSFNCCustomScrollControl.$final.call(this)},this.SetDefaultColumnWidth=function(t){this.FDefaultColumnWidth!==t&&(this.BeginUpdate(),this.FDefaultColumnWidth=t,this.EndUpdate())},this.SetDefaultRowHeight=function(t){this.FDefaultRowHeight!==t&&(this.BeginUpdate(),this.FDefaultRowHeight=t,this.EndUpdate())},this.EnsureRow=function(t){for(;this.FRowList.GetCount()<=t;)this.FRowList.Add(null);for(;this.FRowDisplayList.GetCount()<=t;)this.FRowDisplayList.Add(this.FRowDisplayList.GetCount())},this.EnsureCol=function(t){for(;this.FColumnDisplayList.GetCount()<=t;)this.FColumnDisplayList.Add(this.FColumnDisplayList.GetCount()),this.SetColumnCount(t+1)},this.GetCells=function(t,e){var i="",s=null,o=0,n=0;return i="",e>=this.FRowDisplayList.GetCount()||t>=this.FColumnDisplayList.GetCount()||(o=-1,e>=0&&e<=this.FRowDisplayList.GetCount()-1&&(o=this.FRowDisplayList.GetItem(e)),n=-1,t>=0&&t<=this.FColumnDisplayList.GetCount()-1&&(n=this.FColumnDisplayList.GetItem(t)),o>=0&&o<this.FRowList.GetCount()&&null!=this.FRowList.GetItem(o)&&(s=this.FRowList.GetItem(o).FData,n>=0&&n<s.GetCount()&&(i=s.Get(n)))),i},this.SetCells=function(e,i,s){var o,n,a=null;for(this.EnsureRow(i),this.EnsureCol(e),o=this.FRowDisplayList.GetItem(i),n=this.FColumnDisplayList.GetItem(e),null!=this.FRowList.GetItem(o)?a=this.FRowList.GetItem(o):(a=t.TTMSFNCGridRowInfo.$create("Create$1"),this.FRowList.SetItem(o,a));a.FData.GetCount()<=n;)a.FData.AddObject("",null);a.FData.Put(n,s),this.UpdateGridCells(!1)},this.GetIntObjects=function(t,e){var i=null,s=null;return i=null,e>=0&&e<=this.FRowList.GetCount()-1&&null!=this.FRowList.GetItem(e)&&(s=this.FRowList.GetItem(e).FData,t>=0&&t<=s.GetCount()-1&&(i=s.GetObject(t))),i},this.SetIntObjects=function(e,i,s){for(var o=null;this.FRowList.GetCount()<=i;)this.FRowList.Add(null),this.FRowDisplayList.Add(this.FRowDisplayList.GetCount());for(null!=this.FRowList.GetItem(i)?o=this.FRowList.GetItem(i):(o=t.TTMSFNCGridRowInfo.$create("Create$1"),this.FRowList.SetItem(i,o));o.FData.GetCount()<=e;)o.FData.AddObject("",null);o.FData.PutObject(e,s),this.UpdateGridCells(!1)},this.GetRowCount=function(){return this.FRowCount},this.GetHiddenColCount=function(){return this.FHiddenColumnList.GetCount()},this.GetHiddenRowCount=function(){return this.FRowList.GetCount()-this.FRowDisplayList.GetCount()},this.GetTotalColCount=function(){return this.GetColumnCount()+this.FHiddenColumnList.GetCount()},this.GetAllCells=function(t,e){var i="",s=null;return i="",e<this.FRowList.GetCount()&&null!=this.FRowList.GetItem(e)&&t<(s=this.FRowList.GetItem(e).FData).GetCount()&&(i=s.Get(t)),i},this.GetColors=function(t,e){var i,s=0;return s=-1,null!=(i=this.GetIntObjects(t,e))&&(s=i.FColor),s},this.SetColors=function(e,i,s){var o=null;null!=(o=this.GetIntObjects(e,i))?o.FColor=s:((o=t.TTMSFNCGridCellProperty.$create("Create$1",[this.GetDefaultFont(e,i)])).FColor=s,this.SetIntObjects(e,i,o))},this.SetColumnCount=function(e){for(var i=0;e>this.FColumns.GetCount();)this.FColumns.Add$1();if(this.BeginUpdate(),e<this.FColumnCount&&this.ClearCells(t.TTMSFNCGridCellRecRange.$clone(this.CellRange(e,0,this.FColumnCount-1,this.GetRowCount()-1))),this.FColumnCount=e,e<this.FColumnDisplayList.GetCount())for(;this.FColumnDisplayList.GetCount()>e;)this.FColumnDisplayList.Delete(this.FColumnDisplayList.GetCount()-1);else for(i=0,this.FColumnDisplayList.GetCount()>0&&(i=this.FColumnDisplayList.GetItem(this.FColumnDisplayList.GetCount()-1)+1);this.FColumnDisplayList.GetCount()<e;)this.FColumnDisplayList.Add(i),i+=1;this.DoColumnCountChanged(),this.EndUpdate()},this.SetRowCount=function(e){var i=null;if(this.BeginUpdate(),e<this.FRowCount&&this.ClearCells(t.TTMSFNCGridCellRecRange.$clone(this.CellRange(0,e,this.GetColumnCount()-1,this.FRowCount-1))),this.FRowCount=e,e<this.FRowList.GetCount())for(;this.FRowList.GetCount()>e;)null!=this.FRowList.GetItem(this.FRowList.GetCount()-1)&&(i=this.FRowList.GetItem(this.FRowList.GetCount()-1),i=rtl.freeLoc(i)),this.FRowList.Delete(this.FRowList.GetCount()-1);else for(;this.FRowList.GetCount()<e;)this.FRowList.Add(null);for(;this.FRowDisplayList.GetCount()>this.FRowCount;)this.FRowDisplayList.Delete(this.FRowDisplayList.GetCount()-1);this.DoRowCountChanged(),this.EndUpdate()},this.SetFixedColumns=function(t){this.FFixedColumns!==t&&t>=0&&(this.BeginUpdate(),this.FFirstCellApply=!1,this.FFixedColumns=t,this.EndUpdate())},this.SetFixedFooterRows=function(t){this.FFixedFooterRows!==t&&t>=0&&(this.BeginUpdate(),this.FFirstCellApply=!1,this.FFixedFooterRows=t,this.EndUpdate())},this.SetFixedRightColumns=function(t){this.FFixedRightColumns!==t&&t>=0&&(this.BeginUpdate(),this.FFirstCellApply=!1,this.FFixedRightColumns=t,this.EndUpdate())},this.SetFixedRows=function(t){this.FFixedRows!==t&&t>=0&&(this.BeginUpdate(),this.FFirstCellApply=!1,this.FFixedRows=t,this.EndUpdate())},this.GetColumnCount=function(){return this.FColumnCount},this.SetColWidths=function(t,e){var i,s=null;(i=this.FColumnW.IndexOf(t))>=0&&i<=this.FColumnW.GetCount()-1?e===this.FDefaultColumnWidth?this.FColumnW.Delete(i):(this.FColumnW.GetItem$1(i).SetValue(Math.max(0,e)),this.FColumnW.GetItem$1(i).FCellVal=t):e!==this.FDefaultColumnWidth&&((s=this.FColumnW.Add$1()).SetValue(Math.max(0,e)),s.FCellVal=t)},this.SetRowHeights=function(t,e){var i,s=null;(i=this.FRowH.IndexOf(t))>=0&&i<=this.FRowH.GetCount()-1?e===this.FDefaultRowHeight?this.FRowH.Delete(i):(this.FRowH.GetItem$1(i).SetValue(Math.max(0,e)),this.FRowH.GetItem$1(i).FCellVal=t):e!==this.FDefaultRowHeight&&((s=this.FRowH.Add$1()).SetValue(Math.max(0,e)),s.FCellVal=t)},this.GetSelection=function(){var e=t.TTMSFNCGridCellRecRange.$new();return e.StartCol=this.FStartCell.Col,e.StartRow=this.FStartCell.Row,e.EndCol=this.FStopCell.Col,e.EndRow=this.FStopCell.Row,e},this.SetSelection=function(e){var i=t.TTMSFNCGridCellRec.$new(),s=t.TTMSFNCGridCellRec.$new(),o=t.TTMSFNCGridCellRecRange.$new(),n=t.TTMSFNCGridCellRec.$new(),a=!1;o.$assign(e),this.IsNormalFixed(o.StartCol,o.StartRow)&&(n.$assign(this.NextSelectableColumn(o.StartCol,o.StartRow)),o.StartCol=n.Col,o.StartRow=n.Row),this.FStartCell.Col=o.StartCol,this.FStartCell.Row=o.StartRow,this.FStopCell.Col=o.EndCol,this.FStopCell.Row=o.EndRow,i.$assign(this.FStartCell),s.$assign(this.FStopCell),a=!0,null!=this.FOnSelectCell&&this.FOnSelectCell(this,i.Col,i.Row,{get:function(){return a},set:function(t){a=t}}),a&&(this.FBlockSelectEventHandler=!0,this.SelectCell(t.TTMSFNCGridCellRec.$clone(i),{},!0),this.SelectCell(t.TTMSFNCGridCellRec.$clone(s),{},!0),this.FBlockSelectEventHandler=!1,null!=this.FOnSelectedCell&&this.FOnSelectedCell(this,i.Col,i.Row)),this.FFocusedCell.$assign(this.FStartCell),this.UpdateGridCells(!1)},this.GetFocusedCell=function(){var e=t.TTMSFNCGridCellRec.$new();return e.$assign(this.FFocusedCell),e},this.SetFocusedCell=function(e){var i=t.TTMSFNCGridCellRec.$new();this.SetFocusCell(e.Col,e.Row),this.IsNormalFixed(this.GetFocusedCell().Col,this.GetFocusedCell().Row)&&(i.$assign(this.NextSelectableColumn(this.GetFocusedCell().Col,this.GetFocusedCell().Row)),this.SetFocusCell(i.Col,i.Row)),this.SelectCell(t.TTMSFNCGridCellRec.$clone(this.FFocusedCell),{},!1)},this.GetCellProps=function(t,e){return this.GetIntObjects(t,e)},this.GetRowSelect=function(t){var e=!1;return e=!1,t<this.FRowList.GetCount()&&null!=this.FRowList.GetItem(t)&&(e=1===this.FRowList.GetItem(t).FState),e},this.SetOptions=function(t){this.FOptions!==t&&this.FOptions.Assign(t)},this.GetObjects=function(t,e){var i,s=null;return s=null,null!=(i=this.GetIntObjects(t,e))&&(s=i.FObject),s},this.SetObjects=function(e,i,s){var o=null;null==(o=this.GetIntObjects(e,i))&&(o=t.TTMSFNCGridCellProperty.$create("Create$1",[this.GetDefaultFont(e,i)])),o.FObject=s,this.SetIntObjects(e,i,o)},this.SetHorzAlignments=function(e,i,s){var o=null;null!=(o=this.GetIntObjects(e,i))?o.FAlignHorz=s:((o=t.TTMSFNCGridCellProperty.$create("Create$1",[this.GetDefaultFont(e,i)])).FAlignHorz=s,this.SetIntObjects(e,i,o))},this.GetColumnSelect=function(t){return this.FColSelect.HasValue(t)},this.SetColumnSelect=function(t,e){var i;-1===(i=this.FColSelect.IndexOfValue(t))&&e&&this.FColSelect.Add$1(t),-1===i||e||this.FColSelect.Delete$1(i),this.UpdateGridCells(!1)},this.GetCellSelect=function(e,i){return-1!==this.FSelectedCells.Find(t.TTMSFNCGridCellRec.$clone(t.MakeCell(e,i)))},this.SetCellSelect=function(e,i,s){var o,n=t.TTMSFNCGridCellRec.$new();n.$assign(t.MakeCell(e,i)),-1===(o=this.FSelectedCells.Find(t.TTMSFNCGridCellRec.$clone(n)))&&s&&this.FSelectedCells.AddCell(t.TTMSFNCGridCellRec.$clone(n)),-1===o||s||this.FSelectedCells.DeleteCell$1(o),this.UpdateGridCells(!1)},this.GetCheckBoxState=function(e,i){var s,o=!1,n=0;return o=!1,s=this.GetIntObjects(e,i),this.FUseColumns&&null==s?(n=this.DisplToRealColumn(e))<this.FColumns.GetCount()&&2===this.FColumns.GetItem$1(n).FColumnType&&(o=this.GetCells(e,i)===this.FCheckTrue):(null!=s&&null!=s.FControl&&t.TTMSFNCGridCellCheckBox.isPrototypeOf(s.FControl)&&(o=rtl.as(s.FControl,t.TTMSFNCGridCellCheckBox).FChecked),null!=s&&null!=s.FControl&&t.TTMSFNCGridCellDataCheckBox.isPrototypeOf(s.FControl)&&(o=this.GetCells(e,i)===this.FCheckTrue)),o},this.SetCheckBoxState=function(e,i,s){var o,n=0;o=this.GetIntObjects(e,i),this.FUseColumns&&null==o?(n=this.DisplToRealColumn(e))<this.FColumns.GetCount()&&2===this.FColumns.GetItem$1(n).FColumnType&&(s?this.SetCells(e,i,this.FCheckTrue):this.SetCells(e,i,this.FCheckFalse)):(null!=o&&null!=o.FControl&&t.TTMSFNCGridCellCheckBox.isPrototypeOf(o.FControl)&&(rtl.as(o.FControl,t.TTMSFNCGridCellCheckBox).FChecked=s),null!=o&&null!=o.FControl&&t.TTMSFNCGridCellDataCheckBox.isPrototypeOf(o.FControl)&&(s?this.SetCells(e,i,this.FCheckTrue):this.SetCells(e,i,this.FCheckFalse))),this.UpdateGridCells(!1)},this.GetFixedCellSelect=function(e,i){return-1!==this.FSelectedCells.FindFixed(t.TTMSFNCGridCellRec.$clone(t.MakeCell(e,i)))},this.GetColumnCalculation=function(t){return t>=this.FCellCalcList.GetCount()?0:this.FCellCalcList.GetInteger(t)},this.SetColumnCalculation=function(t,e){for(;this.FCellCalcList.GetCount()<=t;)this.FCellCalcList.Add$1(0);this.FCellCalcList.SetInteger(t,e),this.UpdateColumnCalc(t,e)},this.UpdateColumnCalc=function(t,e){var i="",s=0;if(0!==this.FFixedFooterRows){var o=e;0===o?i="":1===o?i=pas.SysUtils.Format(this.FOptions.FEditing.FCalcFormat,pas.System.VarRecs(3,this.ColumnSum(t,this.FFixedRows,this.GetRowCount()-this.FFixedFooterRows-1))):2===o?i=pas.SysUtils.Format(this.FOptions.FEditing.FCalcFormat,pas.System.VarRecs(3,this.ColumnAvg(t,this.FFixedRows,this.GetRowCount()-this.FFixedFooterRows-1))):3===o?(s=this.GetRowCount()-this.FFixedFooterRows-this.FFixedRows,i=pas.SysUtils.Format(this.FOptions.FEditing.FCalcFormat,pas.System.VarRecs(3,s))):4===o?i=pas.SysUtils.Format(this.FOptions.FEditing.FCalcFormat,pas.System.VarRecs(3,this.ColumnMin(t,this.FFixedRows,this.GetRowCount()-this.FFixedFooterRows-1))):5===o?i=pas.SysUtils.Format(this.FOptions.FEditing.FCalcFormat,pas.System.VarRecs(3,this.ColumnMax(t,this.FFixedRows,this.GetRowCount()-this.FFixedFooterRows-1))):6===o?i=pas.SysUtils.Format(this.FOptions.FEditing.FCalcFormat,pas.System.VarRecs(3,this.ColumnCustomCalc(t,this.FFixedRows,this.GetRowCount()-this.FFixedFooterRows-1))):7===o?i=pas.SysUtils.Format(this.FOptions.FEditing.FCalcFormat,pas.System.VarRecs(3,this.ColumnDistinct(t,this.FFixedRows,this.GetRowCount()-this.FFixedFooterRows-1))):8===o&&(i=pas.SysUtils.Format(this.FOptions.FEditing.FCalcFormat,pas.System.VarRecs(3,this.ColumnStdDev(t,this.FFixedRows,this.GetRowCount()-this.FFixedFooterRows-1)))),this.SetCells(t,this.GetRowCount()-this.FFixedFooterRows,i)}},this.GetFloats=function(t,i){var s="",o=0,n=0;return s=this.GetCells(t,i),this.DoGetCellData(t,i,{get:function(){return s},set:function(t){s=t}}),""!==s&&"-"!==s||(s="0"),s=e.CleanupSep(s),pas.System.val$8(s,{get:function(){return o},set:function(t){o=t}},{get:function(){return n},set:function(t){n=t}}),0!==n?0:o},this.GetStrippedCells=function(t,e){return pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.HTMLStrip(this.GetCells(t,e))},this.GetRowText=function(t){var e,i="",s=null;return i="",t>=this.FRowDisplayList.GetCount()||(e=this.FRowDisplayList.GetItem(t))<this.FRowList.GetCount()&&null!=this.FRowList.GetItem(e)&&((s=this.FRowList.GetItem(e).FData).SetDelimiter(this.FOptions.FIO.FDelimiter),i=s.GetDelimitedText()),i},this.SetColumns=function(t){this.FColumns.Assign(t)},this.IsDefaultColumnWidthStored=function(){return 68!==this.FDefaultColumnWidth},this.IsDefaultRowHeightStored=function(){return 24!==this.FDefaultRowHeight},this.GetBitmapContainer=function(){return this.FBitmapContainer},this.SetBitmapContainer=function(t){this.FBitmapContainer=t},this.SetDefaultFont=function(t){this.FDefaultFont.Assign(t)},this.SetGlobalFont=function(t){this.FGlobalFont.Assign(t)},this.SetRowSelect=function(e,i){var s=null;this.EnsureRow(e),null==this.FRowList.GetItem(e)&&(s=t.TTMSFNCGridRowInfo.$create("Create$1"),this.FRowList.SetItem(e,s)),i?this.FRowList.GetItem(e).SetState(1):this.FRowList.GetItem(e).SetState(0),this.UpdateGridCells(!1)},this.SelectCell=function(t,e,i){},this.SetStartCell=function(t,e){this.FStartCell.Col=t,this.FStartCell.Row=e,this.FStartCell.Col=Math.max(this.FFixedColumns,Math.min(this.GetColumnCount()-1-this.FFixedRightColumns,this.FStartCell.Col)),this.FStartCell.Row=Math.max(this.FFixedRows,Math.min(this.GetRowCount()-1-this.FFixedFooterRows,this.FStartCell.Row))},this.SetStopCell=function(t,e){this.FStopCell.Col=t,this.FStopCell.Row=e,this.FStopCell.Col=Math.max(this.FFixedColumns,Math.min(this.GetColumnCount()-1-this.FFixedRightColumns,this.FStopCell.Col)),this.FStopCell.Row=Math.max(this.FFixedRows,Math.min(this.GetRowCount()-1-this.FFixedFooterRows,this.FStopCell.Row))},this.SetFocusCell=function(t,e){this.FFocusedCell.Col=t,this.FFocusedCell.Row=e,this.FFocusedCell.Col=Math.max(this.FFixedColumns,Math.min(this.GetColumnCount()-1-this.FFixedRightColumns,this.FFocusedCell.Col)),this.FFocusedCell.Row=Math.max(this.FFixedRows,Math.min(this.GetRowCount()-1-this.FFixedFooterRows,this.FFocusedCell.Row))},this.GetColWidths=function(t){var e,i=0;return i=0,-1!==this.FSuppressedColumnList.IndexOf(t)?i:i=-1!==(e=this.FColumnW.IndexOf(t))?this.FColumnW.GetItem$1(e).FValue:this.FDefaultColumnWidth},this.GetRowHeights=function(t){var e;return-1!==(e=this.FRowH.IndexOf(t))?this.FRowH.GetItem$1(e).FValue:this.FDefaultRowHeight},this.CompareRows=function(t,e,i){var s="",o="",n=0,a="",r="",l=0,h=0,F=0,p=0,C="",u="",d=!1,c=!1,S=0,T=0,m=0,g=0,M=0;s=this.GetCells(t,e),o=this.GetCells(t,i),this.FOptions.FSorting.FIgnoreCase&&(s=pas.SysUtils.UpperCase(s),o=pas.SysUtils.UpperCase(o)),r="",a="",n=0,this.DoSortFormat(t,{get:function(){return n},set:function(t){n=t}},{get:function(){return a},set:function(t){a=t}},{get:function(){return r},set:function(t){r=t}});var f=n;if(0===f)m=pas["WEBLib.TMSFNCGridDataUtil"].IsType(s),g=pas["WEBLib.TMSFNCGridDataUtil"].IsType(o),m in rtl.createSet(0,1)&&g in rtl.createSet(0,1)?(pas.System.val$8(s,{get:function(){return F},set:function(t){F=t}},{get:function(){return T},set:function(t){T=t}}),pas.System.val$8(o,{get:function(){return p},set:function(t){p=t}},{get:function(){return T},set:function(t){T=t}}),S=F===p?0:F>p?1:-1):S=s===o?0:s>o?1:-1;else if(1===f||5===f)C=s,u=o,5===n&&(C=pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.HTMLStrip(C),u=pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.HTMLStrip(u)),S=C===u?0:C>u?1:-1;else if(2===f)C=pas.SysUtils.UpperCase(pas["WEBLib.TMSFNCTypes"].VarToStr(s)),u=pas.SysUtils.UpperCase(pas["WEBLib.TMSFNCTypes"].VarToStr(o)),S=C===u?0:C>u?1:-1;else if(3===f)""!==s?(M=1/0,pas.SysUtils.TryStrToFloat$2(s,{get:function(){return M},set:function(t){M=t}})):M=1/0,F=M,""!==o?(M=1/0,pas.SysUtils.TryStrToFloat$2(o,{get:function(){return M},set:function(t){M=t}})):M=1/0,S=F===(p=M)?0:F>p?1:-1;else if(4===f){if(l=0,""!==s)try{l=pas["WEBLib.TMSFNCTypes"].VarToDateTime(s)}catch(t){}if(h=0,""!==o)try{h=pas["WEBLib.TMSFNCTypes"].VarToDateTime(o)}catch(t){}S=l===h?0:l>h?1:-1}else 6===f?(d=this.GetCheckBoxState(t,e),c=this.GetCheckBoxState(t,i),S=d&&!c?1:d===c?0:-1):7===f?this.DoCustomCompare(s,o,{get:function(){return S},set:function(t){S=t}}):8===f&&this.DoRawCompare(t,e,i,{get:function(){return S},set:function(t){S=t}});if(this.FOptions.FSorting.FIgnoreBlanks){var b=this.FSortDirection;0===b?(""===s&&""!==o&&(S=0===this.FOptions.FSorting.FBlankPosition?-1:1),""===o&&""!==s&&(S=0===this.FOptions.FSorting.FBlankPosition?1:-1)):1===b&&(""===s&&""!==o&&(S=0===this.FOptions.FSorting.FBlankPosition?1:-1),""===o&&""!==s&&(S=0===this.FOptions.FSorting.FBlankPosition?-1:1))}return S},this.CompareRowsIndexed=function(t,e,i){var s,o=0,n=0;return s=2147483647&this.FSortIndexes.GetInteger(t),n=2147483648==(2147483648&this.FSortIndexes.GetInteger(t))?1:0,0===(o=this.IsIgnoredColumn(s)?0:this.CompareRows(s,e,i))&&this.FOptions.FSorting.FMultiColumn?t<this.FSortIndexes.GetCount()-1&&(t+=1,o=this.CompareRowsIndexed(t,e,i)):1===n&&(o=-o),o},this.QuickSortRows=function(t,e,i){var s,o=0,n=0,a=0;0===this.FSortDirection?this.FSortDir=1:this.FSortDir=-1,o=e,n=i,s=e+i>>>1;for(var r=0,l=this.GetColumnCount()-1;r<=l;r++)a=r,this.SetCells(a,this.GetRowCount()-1,this.GetCells(a,s)),this.SetObjects(a,this.GetRowCount()-1,this.GetObjects(a,s));do{for(;this.CompareRows(t,this.GetRowCount()-1,o)===this.FSortDir&&o<i;)o+=1;for(;this.CompareRows(t,n,this.GetRowCount()-1)===this.FSortDir&&n>e;)n-=1;if(o<=n){if(o!==n&&0!==this.CompareRows(t,o,n)){var h=this.FOptions.FSorting.FColumns;0===h?this.SwapRows(o,n):2===h?this.SwapCells(t,o,n):1===h&&this.SwapNormalCells(o,n)}o+=1,n-=1}}while(!(o>n));e<n&&this.QuickSortRows(t,e,n),o<i&&this.QuickSortRows(t,o,i)},this.QuickSortRowsIndexed=function(t,e,i){var s,o=0,n=0,a=0;0===this.FSortDirection?this.FSortDir=1:this.FSortDir=-1,o=e,n=i,s=e+i>>>1;for(var r=0,l=this.GetColumnCount()-1;r<=l;r++)a=r,this.SetCells(a,this.GetRowCount()-1,this.GetCells(a,s)),this.SetObjects(a,this.GetRowCount()-1,this.GetObjects(a,s));do{for(;this.CompareRowsIndexed(t,this.GetRowCount()-1,o)===this.FSortDir&&o<i;)o+=1;for(;this.CompareRowsIndexed(t,n,this.GetRowCount()-1)===this.FSortDir&&n>e;)n-=1;if(o<=n){if(o!==n&&0!==this.CompareRowsIndexed(t,o,n)){var h=this.FOptions.FSorting.FColumns;0===h?this.SwapRows(o,n):1===h?this.SwapNormalCells(o,n):2===h&&this.SwapCells(t,o,n)}o+=1,n-=1}}while(!(o>n));e<n&&this.QuickSortRowsIndexed(t,e,n),o<i&&this.QuickSortRowsIndexed(t,o,i)},this.SortGroupedInt=function(e){var i=0,s=0,o=0,n=0,a=0,r=0,l=[],h=!1;for(l=rtl.arraySetLength(l,!1,0),h=!1,i=this.FFixedRows;i<=this.FRowCount-this.FFixedFooterRows;)s=this.DisplToRealRow(i),this.IsNode(s)&&(r=rtl.length(l),l=rtl.arraySetLength(l,!1,r+1),0===this.GetNodeState(s)?l[r]=!0:l[r]=!1),i+=1;this.OpenAllNodes(),this.FFilterApplied&&(this.RemoveFilter(),h=!0),this.BeginUpdate();try{for(this.SetRowCount(this.GetRowCount()+1),i=this.FFixedRows;i<=this.FRowCount-this.FFixedFooterRows-3;)s=this.DisplToRealRow(i),this.IsNode(s)?((n=s+(a=this.GetNodeSpan(s)))-(o=s+1)>=1&&(e?this.QuickSortRowsIndexed(0,o,n):this.QuickSortRows(this.FSortColumn,o,n)),i+=a):i+=1;for(this.ClearCells(t.TTMSFNCGridCellRecRange.$clone(this.CellRange(0,this.GetRowCount()-1,this.GetColumnCount()-1,this.GetRowCount()-1))),this.SetRowCount(this.GetRowCount()-1),i=this.FFixedRows,r=0;i<=this.FRowCount-this.FFixedFooterRows;)s=this.DisplToRealRow(i),this.IsNode(s)&&(l[r]&&this.CloseNode(s),r+=1),i+=1}finally{h&&this.ApplyFilter(),this.EndUpdate()}this.UpdateGridCells(!1)},this.MatchFilter=function(t){var e=!1,i=0,s="",o=!1;e=!0;for(var n=1,a=this.FFilter.GetCount();n<=a;n++){i=n;var r=this.FFilter.GetItem$1(i-1),l=this.FFilter.GetItem$1(i-1).FData;if(0===l?s=this.GetCells(r.FColumn,t):1===l?(s=this.GetCells(r.FColumn,t),this.DoGetCellData(r.FColumn,t,{get:function(){return s},set:function(t){s=t}})):2===l?s=this.GetStrippedCells(r.FColumn,t):3===l&&(s=this.GetRowText(t)),s=pas.SysUtils.Trim(s),3===this.FFilter.GetItem$1(i-1).FData)o=pas.System.Pos(pas.SysUtils.UpperCase(r.FCondition),pas.SysUtils.UpperCase(s))>0;else{""!==r.FPrefix&&1===pas.System.Pos(r.FPrefix,s)&&pas.System.Delete({get:function(){return s},set:function(t){s=t}},1,this.FFilter.GetItem$1(i-1).FPrefix.length),""!==r.FSuffix&&pas.System.Pos(r.FSuffix,s)===1+s.length-r.FSuffix.length&&pas.System.Delete({get:function(){return s},set:function(t){s=t}},1+s.length-r.FSuffix.length,s.length);try{o=pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.MatchStrEx(r.FCondition,s,r.FCaseSensitive)}catch(t){o=!1}}var h=this.FFilter.GetItem$1(i-1).FOperation;if(0===h){if(!(e=o))break}else 1===h?e=o:2===h?e=e&&o:4===h?e=e||o:3===h&&(e^=o)}return e},this.UpdateGridCells=function(t){},this.ExportNotification=function(t,e){0===t&&(this.FPrevProgress=-1)},this.DoRowCountChanged=function(){},this.DoColumnCountChanged=function(){},this.DoSortFormat=function(t,e,i,s){var o;e.set(0),i.set(""),s.set(""),o=this.DisplToRealColumn(t),this.FUseColumns&&o<this.FColumns.GetCount()&&(e.set(this.FColumns.GetItem$1(o).FSortFormat),s.set(this.FColumns.GetItem$1(o).FSortSuffix),i.set(this.FColumns.GetItem$1(o).FSortPrefix)),null!=this.FOnSortFormat&&this.FOnSortFormat(this,t,e,i,s)},this.DoCustomCompare=function(t,e,i){null!=this.FOnCustomCompare&&this.FOnCustomCompare(this,t,e,i)},this.DoRawCompare=function(t,e,i,s){null!=this.FOnRawCompare&&this.FOnRawCompare(this,t,e,i,s)},this.DoNeedFilterDropDown=function(t,e,i){null!=this.FOnNeedFilterDropDown&&this.FOnNeedFilterDropDown(this,t,e,i)},this.DoNeedFilterDropDownData=function(t,e,i){null!=this.FOnNeedFilterDropDownData&&this.FOnNeedFilterDropDownData(this,t,e,i)},this.DoFilterSelect=function(t,e){null!=this.FOnFilterSelect&&this.FOnFilterSelect(this,t,e)},this.DoAfterApplyFilter=function(t,e,i){null!=this.FOnAfterApplyFilter&&this.FOnAfterApplyFilter(this,t,e,i)},this.SetHorizontalScrollBarVisible=function(t){pas["WEBLib.TMSFNCCustomScrollControl"].TTMSFNCCustomScrollControl.SetHorizontalScrollBarVisible.apply(this,arguments),0===this.FUpdateCount$1&&this.FOptions.FScrollBar.SetHorizontalScrollBarVisible(this.FHorizontalScrollBarVisible)},this.SetVerticalScrollBarVisible=function(t){pas["WEBLib.TMSFNCCustomScrollControl"].TTMSFNCCustomScrollControl.SetVerticalScrollBarVisible.apply(this,arguments),0===this.FUpdateCount$1&&this.FOptions.FScrollBar.SetVerticalScrollBarVisible(this.FVerticalScrollBarVisible)},this.IsCellControl=function(t,e,i){var s,o,n;return o=this.DisplToRealColumn(t),n=this.DisplToRealRow(e),null!=(s=this.GetIntObjects(o,n))&&null!=s.FControl&&i.isPrototypeOf(s.FControl)},this.IsIgnoredColumn=function(t){return!1,!1},this.Notification=function(t,e){pas["WEBLib.Menus"].TWebCustomControl.Notification.apply(this,arguments),1===e&&t===this.FBitmapContainer&&(this.FBitmapContainer=null)},this.Loaded=function(){pas["WEBLib.TMSFNCCustomScrollControl"].TTMSFNCCustomScrollControl.Loaded.call(this),this.InitOriginalColumnSizes(),this.FIOOffset.$assign(pas.Types.Point(this.FFixedColumns,this.FFixedRows)),this.SetColumnOrder()},this.GetDefaultFont=function(t,e){var i=null;return null!=(i=this.IsFixed(t,e)?this.GetDefaultFixedLayout():this.GetDefaultNormalLayout())?i.FFont:this.FDefaultFont},this.GetDefaultFixedLayout=function(){return null,null},this.GetDefaultNormalLayout=function(){return null,null},this.GetDefaultGroupLayout=function(){return null,null},this.GetDefaultSummaryLayout=function(){return null,null},this.GetDefaultSelectedLayout=function(){return null,null},this.GetDefaultFocusedLayout=function(){return null,null},this.GetDefaultFixedSelectedLayout=function(){return null,null},this.GetDefaultBandLayout=function(){return null,null},this.SetFonts=function(t){var e=0;this.BeginUpdate(),this.FGlobalFont.ApplyChange(this.FDefaultFont,t),this.FGlobalFont.ApplyChange(this.FDefaultLayout.FFont,t);for(var i=0,s=this.FColumns.GetCount()-1;i<=s;i++){e=i,this.FGlobalFont.ApplyChange(this.FColumns.GetItem$1(e).FFont,t),this.FGlobalFont.ApplyChange(this.FColumns.GetItem$1(e).FFixedFont,t);for(var o=0,n=this.GetRowCount()-1;o<=n;o++)o,this.FGlobalFont.ApplyChange(this.GetDefaultBandLayout().FFont,t),this.FGlobalFont.ApplyChange(this.GetDefaultNormalLayout().FFont,t),this.FGlobalFont.ApplyChange(this.GetDefaultFixedLayout().FFont,t),this.FGlobalFont.ApplyChange(this.GetDefaultSelectedLayout().FFont,t),this.FGlobalFont.ApplyChange(this.GetDefaultFixedSelectedLayout().FFont,t),this.FGlobalFont.ApplyChange(this.GetDefaultFocusedLayout().FFont,t),this.FGlobalFont.ApplyChange(this.GetDefaultGroupLayout().FFont,t),this.FGlobalFont.ApplyChange(this.GetDefaultSummaryLayout().FFont,t),this.FGlobalFont.ApplyChange(this.GetDefaultBandLayout().FFont,t)}this.EndUpdate()},this.DoOptionsChange=function(t){this.FUpdateCount$1>0||this.FBlockUpdate||3 in this.FComponentState||(this.SaveScrollPosition(),this.BeginUpdate(),this.SetHorizontalScrollBarVisible(this.FOptions.FScrollBar.FHorizontalScrollBarVisible),this.SetVerticalScrollBarVisible(this.FOptions.FScrollBar.FVerticalScrollBarVisible),this.EndUpdate(),this.RestoreScrollPosition())},this.DoGetCellReadOnly=function(t,e,i){var s;null!=(s=this.GetCellProps(t,e))?i.set(s.FReadOnly):this.FUseColumns&&t>=0&&t<=this.FColumns.GetCount()-1&&(t=this.DisplToRealColumn(t),i.set(this.FColumns.GetItem$1(t).FReadOnly))},this.DoGetCellIsDataCheckBox=function(e,i){var s,o,n,a=!1;return o=this.DisplToRealColumn(e),n=this.DisplToRealRow(i),a=!1,s=this.GetCellProps(o,n),this.FUseColumns&&null==this.GetIntObjects(o,n)?o<this.FColumns.GetCount()&&(a=2===this.FColumns.GetItem$1(o).FColumnType||4===this.FColumns.GetItem$1(o).FColumnType):null!=s&&(a=t.TTMSFNCGridCellDataCheckBox.isPrototypeOf(s.FControl)),a},this.DoFixedCellDropDownButtonClick=function(t,e,i){},this.DoCellRightClick=function(t,e){},this.DoFixedCellRightClick=function(t,e){},this.DoCellClick=function(t,e){var i=0,s=0,o=0;if(-1!==this.FGroupColumn&&this.FOptions.FGrouping.FAutoSelectGroup&&(i=this.DisplToRealRow(e),this.IsNode(i)))if(o=this.GetNodeSpan(i),7===this.FOptions.FSelection.FMode)for(var n=i,a=i+o;n<=a;n++)s=n,this.SetRowSelect(s,!0);else 4===this.FOptions.FSelection.FMode&&this.SetSelection(this.CellRange(this.FFixedColumns,e,this.GetColumnCount()-1-this.FFixedRightColumns,e+o))},this.DoFixedCellClick=function(t,e,i){},this.DoCellDblClick=function(t,e){},this.DoFixedCellDblClick=function(t,e){},this.DoCellCheckBoxClick=function(e,i,s){var o,n,a=0,r=0,l=0;if(l=this.DisplToRealColumn(e),n=this.DisplToRealRow(i),null!=(o=this.GetIntObjects(l,n))&&null!=o.FControl&&t.TTMSFNCGridCellCheckBox.isPrototypeOf(o.FControl)){if(rtl.as(o.FControl,t.TTMSFNCGridCellCheckBox).FChecked=rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).FChecked,rtl.as(o.FControl,t.TTMSFNCGridCellCheckBox).FHeader)for(var h=i+1,F=this.GetRowCount()-1-this.FFixedFooterRows;h<=F&&(a=h,this.IsCheckBox(e,a));h++)this.SetCheckBoxState(e,a,rtl.as(o.FControl,t.TTMSFNCGridCellCheckBox).FChecked);this.UpdateGridCells(!1)}if(this.FOptions.FGrouping.FAutoCheckGroup&&(r=this.DisplToRealRow(i),this.IsNode(r))){for(var p=r,C=r+this.GetNodeSpan(r);p<=C;p++)a=p,this.SetCheckBoxState(e,a,rtl.as(o.FControl,t.TTMSFNCGridCellCheckBox).FChecked);this.UpdateGridCells(!1)}this.FUseColumns&&null==o?(l=this.DisplToRealColumn(e))<this.FColumns.GetCount()&&pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell.isPrototypeOf(s)&&2===this.FColumns.GetItem$1(l).FColumnType&&(rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).FChecked?this.SetCells(e,i,this.FCheckTrue):this.SetCells(e,i,this.FCheckFalse)):null!=o&&null!=o.FControl&&t.TTMSFNCGridCellDataCheckBox.isPrototypeOf(o.FControl)&&(rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).FChecked?this.SetCells(e,i,this.FCheckTrue):this.SetCells(e,i,this.FCheckFalse))},this.DoCellRadioButtonClick=function(e,i,s){var o,n,a,r=null,l=0;if(a=this.DisplToRealColumn(e),n=this.DisplToRealRow(i),o=this.GetIntObjects(a,n),this.FUseColumns&&null==o){for(var h=this.FFixedRows,F=this.GetRowCount()-1-this.FFixedFooterRows;h<=F;h++)l=h,this.SetCells(e,l,this.FCheckFalse);this.SetCells(e,i,this.FCheckTrue)}else if(null!=o&&null!=o.FControl&&t.TTMSFNCGridCellRadioButton.isPrototypeOf(o.FControl)){for(var p=0,C=this.GetRowCount()-1;p<=C;p++)l=p,null!=(r=this.GetIntObjects(e,l))&&null!=r.FControl&&t.TTMSFNCGridCellRadioButton.isPrototypeOf(r.FControl)&&r!==o&&rtl.as(r.FControl,t.TTMSFNCGridCellRadioButton).FIndex===rtl.as(o.FControl,t.TTMSFNCGridCellRadioButton).FIndex&&(rtl.as(r.FControl,t.TTMSFNCGridCellRadioButton).FChecked=!1);rtl.as(o.FControl,t.TTMSFNCGridCellRadioButton).FChecked=rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell).FChecked,this.UpdateGridCells(!1)}},this.DoCellButtonClick=function(t,e,i){},this.DoCellBitmapClick=function(t,e,i){},this.DoCellCommentClick=function(t,e,i){},this.DoCellSortClick=function(t,e,i,s,o){if(-1!==this.FGroupColumn){var n=this.FOptions.FSorting.FMode;1===n?this.SortGrouped(e,s):2===n&&this.SortGroupedIndexed()}else{var a=this.FOptions.FSorting.FMode;1===a?this.SortData(e,s):2===a&&this.SortIndexed()}},this.DoCellNodeClick=function(t,e,i){var s,o;o=this.DisplToRealRow(e),null!=(s=this.GetNode(o))&&-1!==s.FSpan&&(1===s.FState?this.CloseNode(o):this.OpenNode(o))},this.DoGetCellIsFixed=function(t,e,i){var s;null!=(s=this.GetCellProps(t,e))?i.set(s.FFixed):this.FUseColumns&&t>=0&&t<=this.FColumns.GetCount()-1&&(t=this.DisplToRealColumn(t),i.set(this.FColumns.GetItem$1(t).FFixed))},this.DoGetRowIsBand=function(t,e){this.FOptions.FBands.FTotalRowCount>0?e.set((t-this.FFixedRows)%this.FOptions.FBands.FTotalRowCount<this.FOptions.FBands.FBandRowCount):e.set(pas.System.Odd(t))},this.DoCanInsertRow=function(t,e){},this.DoCanDeleteRow=function(t,e){},this.DoCanAppendRow=function(t,e){},this.DoCanAppendColumn=function(t,e){},this.DoInsertRow=function(t){},this.DoDeleteRow=function(t){},this.DoAppendRow=function(t){},this.DoAppendColumn=function(t){},this.DoGetCellClass=function(e,i,s){var o,n,a;if((e>=this.FFixedColumns||e<=this.GetColumnCount()-1-this.FFixedRightColumns)&&(i<this.FFixedRows||i>this.GetRowCount()-this.FFixedFooterRows-1)?s.set(pas["WEBLib.TMSFNCGridCell"].TTMSFNCFixedGridCell):s.set(pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell),n=this.DisplToRealColumn(e),a=this.DisplToRealRow(i),o=this.GetCellProps(n,a),null==this.GetIntObjects(n,a)&&this.FUseColumns&&n<this.FColumns.GetCount()&&!this.IsFixed(n,a)){var r=this.FColumns.GetItem$1(n).FColumnType;1===r?s.set(pas["WEBLib.TMSFNCGridCell"].TTMSFNCButtonGridCell):2===r?s.set(pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell):3===r?s.set(pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell):4===r&&s.set(pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell)}null!=o&&null!=o.FControl&&(t.TTMSFNCGridCellCheckBox.isPrototypeOf(o.FControl)&&s.set(pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell),t.TTMSFNCGridCellDataCheckBox.isPrototypeOf(o.FControl)&&s.set(pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell),t.TTMSFNCGridCellRadioButton.isPrototypeOf(o.FControl)&&s.set(pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell),t.TTMSFNCGridCellBitmapName.isPrototypeOf(o.FControl)&&s.set(pas["WEBLib.TMSFNCGridCell"].TTMSFNCBitmapGridCell),t.TTMSFNCGridCellButton.isPrototypeOf(o.FControl)&&s.set(pas["WEBLib.TMSFNCGridCell"].TTMSFNCButtonGridCell),t.TTMSFNCGridCellProgressBar.isPrototypeOf(o.FControl)&&s.set(pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell),t.TTMSFNCGridCellBitmap.isPrototypeOf(o.FControl)&&s.set(pas["WEBLib.TMSFNCGridCell"].TTMSFNCBitmapGridCell),t.TTMSFNCGridCellNode.isPrototypeOf(o.FControl)&&s.set(pas["WEBLib.TMSFNCGridCell"].TTMSFNCNodeGridCell)),null!=o&&s.get()===pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell&&""!==o.FComment&&s.set(pas["WEBLib.TMSFNCGridCell"].TTMSFNCCommentGridCell)},this.DoGetCellData=function(e,i,s){var o,n,a,r=!1,l=0,h=0,F=0;if(n=this.DisplToRealRow(i),a=this.DisplToRealColumn(e),r=!1,null!=(o=this.GetCellProps(a,n))&&null!=o.FControl&&(t.TTMSFNCGridCellBitmapName.isPrototypeOf(o.FControl)&&(r=rtl.as(o.FControl,t.TTMSFNCGridCellBitmapName).FData),t.TTMSFNCGridCellDataCheckBox.isPrototypeOf(o.FControl)&&(r=!0)),this.FUseColumns&&null==this.GetIntObjects(a,n)&&a>=0&&a<this.FColumns.GetCount()&&!this.IsFixed(a,n)&&(r=2===this.FColumns.GetItem$1(a).FColumnType||4===this.FColumns.GetItem$1(a).FColumnType),r)s.set("");else{s.set(this.GetCells(e,i));for(var p=0,C=this.FMarkList.GetCount()-1;p<=C;p++)if(l=p,t.InCellRange(e,i,t.TTMSFNCGridCellRecRange.$clone(this.FMarkList.GetItem$1(l).FCellRange))){var u=this.FMarkList.GetItem$1(l).FMarkType;0===u?s.set(pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.ApplyHilight(s.get(),this.FMarkList.GetItem$1(l).FValue,"hi",this.FMarkList.GetItem$1(l).FCaseSensitive)):1===u&&s.set(pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.ApplyHilight(s.get(),this.FMarkList.GetItem$1(l).FValue,"e",this.FMarkList.GetItem$1(l).FCaseSensitive))}this.FOptions.FURL.FShow&&!this.FOptions.FURL.FFull&&(h=0,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("://",s.get(),{get:function(){return h},set:function(t){h=t}})>0?s.set(pas.System.Copy(s.get(),h+3,255)):1===pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("mailto:",s.get(),{get:function(){return h},set:function(t){h=t}})&&s.set(pas.System.Copy(s.get(),h+7,255))),this.FOptions.FGrouping.FShowGroupCount&&-1!==this.FGroupColumn&&1===e&&this.IsNode(n)&&(F=this.GetNodeSpan(n),""!==this.FOptions.FGrouping.FGroupCountFormat?s.set(s.get()+" "+pas.SysUtils.Format(this.FOptions.FGrouping.FGroupCountFormat,pas.System.VarRecs(0,F))):s.set(s.get()+" ("+pas.SysUtils.IntToStr(F)+")"))}},this.DoGetCellRotation=function(t,e,i){var s,o,n;o=this.DisplToRealColumn(t),n=this.DisplToRealRow(e),null!=(s=this.GetCellProps(o,n))&&i.set(s.FAngle)},this.DoGetCellLayout=function(t,e,i,s){var o,n,a=null;o=this.DisplToRealColumn(t),n=this.DisplToRealRow(e),a=this.GetCellProps(o,n),this.FUseColumns&&o>=0&&o<=this.FColumns.GetCount()-1&&null==a&&(null!=this.FColumnProp.FDefaultFont&&(this.FColumnProp.FFontSize=this.FColumnProp.FDefaultFont.FSize,this.FColumnProp.FFontStyle=rtl.refSet(this.FColumnProp.FDefaultFont.FStyle)),0===s&&(this.FColumnProp.FColor=this.FColumns.GetItem$1(o).FColor,this.FColumnProp.FFontColor=this.FColumns.GetItem$1(o).FFont.FColor,this.FColumnProp.FFontName=this.FColumns.GetItem$1(o).FFont.FName,this.FColumnProp.FFontStyle=rtl.refSet(this.FColumns.GetItem$1(o).FFont.FStyle),this.FColumnProp.FFontSize=this.FColumns.GetItem$1(o).FFont.FSize,this.FColumnProp.FBorderColor=this.FColumns.GetItem$1(o).FBorderColor,this.FColumnProp.FBorderWidth=this.FColumns.GetItem$1(o).FBorderWidth),2!==s&&3!==s||(this.FColumnProp.FFontColor=this.FColumns.GetItem$1(o).FFixedFont.FColor,this.FColumnProp.FFontName=this.FColumns.GetItem$1(o).FFixedFont.FName,this.FColumnProp.FFontStyle=rtl.refSet(this.FColumns.GetItem$1(o).FFixedFont.FStyle),this.FColumnProp.FFontSize=this.FColumns.GetItem$1(o).FFixedFont.FSize),this.FColumnProp.FAlignHorz=this.FColumns.GetItem$1(o).FHorzAlignment,this.FColumnProp.FAlignVert=this.FColumns.GetItem$1(o).FVertAlignment,this.FColumnProp.FReadOnly=this.FColumns.GetItem$1(o).FReadOnly,this.FColumnProp.FFixed=this.FColumns.GetItem$1(o).FFixed,this.FColumnProp.FWordWrap=this.FColumns.GetItem$1(o).FWordWrap,a=this.FColumnProp),this.FUseColumns&&o>=0&&o<=this.FColumns.GetCount()-1&&i.SetWordWrapping(this.FColumns.GetItem$1(o).FWordWrap),null!=a&&(-1!==a.FColor&&0===s&&i.FFill.SetColor(a.FColor),-1!==a.FFontColor&&0===s&&i.FFont.SetColor(a.FFontColor),-1!==a.FBorderColor&&0===s&&i.FStroke.SetColor(a.FBorderColor),i.SetTextAlign(a.FAlignHorz),i.SetVerticalTextAlign(a.FAlignVert),i.FFont.SetStyle(rtl.refSet(a.FFontStyle)),i.FFont.SetSize(Math.round(a.FFontSize)),""!==a.FFontName&&i.FFont.SetName(a.FFontName),i.FStroke.SetWidth(a.FBorderWidth),this.FUseColumns||i.SetWordWrapping(a.FWordWrap)),this.FOptions.FURL.FShow&&pas["WEBLib.TMSFNCGridDataUtil"].IsURL(this.GetCells(o,n))&&(i.FFont.SetColor(this.FOptions.FURL.FColor),this.FOptions.FURL.FUnderline&&i.FFont.SetStyle(rtl.unionSet(i.FFont.FStyle,rtl.createSet(3))))},this.DoGetCellProperties=function(e,i,s){var o,n,a=null,r=!1,l=null,h=0;o=this.DisplToRealColumn(e),n=this.DisplToRealRow(i),pas["WEBLib.TMSFNCGridCell"].TTMSFNCButtonGridCell.isPrototypeOf(s)&&null!=(a=this.GetCellProps(o,n))&&t.TTMSFNCGridCellButton.isPrototypeOf(a.FControl)&&(rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCButtonGridCell).SetControlEnabled(!this.IsReadOnly(o,n)),rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCButtonGridCell).SetButtonText(rtl.as(a.FControl,t.TTMSFNCGridCellButton).FText),rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCButtonGridCell).SetButtonWidth(rtl.as(a.FControl,t.TTMSFNCGridCellButton).FWidth),rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCButtonGridCell).SetButtonHeight(rtl.as(a.FControl,t.TTMSFNCGridCellButton).FHeight)),pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell.isPrototypeOf(s)&&(a=this.GetCellProps(o,n),this.FUseColumns&&null==this.GetIntObjects(o,n)?o<this.FColumns.GetCount()&&4===this.FColumns.GetItem$1(o).FColumnType&&(rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell).SetControlEnabled(!this.IsReadOnly(o,n)),l=rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell).FOnCheckChanged,rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell).FOnCheckChanged=null,rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell).SetChecked(this.GetCells(e,i)===this.FCheckTrue),rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell).FOnCheckChanged=l):null!=a&&t.TTMSFNCGridCellRadioButton.isPrototypeOf(a.FControl)&&(rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell).SetControlEnabled(!this.IsReadOnly(o,n)),l=rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell).FOnCheckChanged,rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell).FOnCheckChanged=null,rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell).SetChecked(rtl.as(a.FControl,t.TTMSFNCGridCellRadioButton).FChecked),rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell).FOnCheckChanged=l)),pas["WEBLib.TMSFNCGridCell"].TTMSFNCCommentGridCell.isPrototypeOf(s)&&null!=(a=this.GetCellProps(o,n))&&(rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCommentGridCell).FCommentText=a.FComment,-1!==a.FCommentColor&&(rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCommentGridCell).FCommentColor=a.FCommentColor)),pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell.isPrototypeOf(s)&&(a=this.GetCellProps(o,n),this.FUseColumns&&null==this.GetIntObjects(o,n)?o<this.FColumns.GetCount()&&2===this.FColumns.GetItem$1(o).FColumnType&&(rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).SetControlEnabled(!this.IsReadOnly(o,n)),l=rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).FOnCheckChanged,rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).FOnCheckChanged=null,rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).SetChecked(this.GetCells(e,i)===this.FCheckTrue),rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).FOnCheckChanged=l):(null!=a&&t.TTMSFNCGridCellCheckBox.isPrototypeOf(a.FControl)&&(rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).SetControlEnabled(!this.IsReadOnly(o,n)),l=rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).FOnCheckChanged,rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).FOnCheckChanged=null,rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).SetChecked(rtl.as(a.FControl,t.TTMSFNCGridCellCheckBox).FChecked),rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).FOnCheckChanged=l),null!=a&&t.TTMSFNCGridCellDataCheckBox.isPrototypeOf(a.FControl)&&(rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).SetControlEnabled(!this.IsReadOnly(o,n)),l=rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).FOnCheckChanged,rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).FOnCheckChanged=null,rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).SetChecked(this.GetCells(e,i)===this.FCheckTrue),rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).FOnCheckChanged=l))),pas["WEBLib.TMSFNCGridCell"].TTMSFNCBitmapGridCell.isPrototypeOf(s)&&(a=this.GetCellProps(o,n),rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCBitmapGridCell).FBitmapContainer=this.GetBitmapContainer(),null!=a&&t.TTMSFNCGridCellBitmapName.isPrototypeOf(a.FControl)&&(rtl.as(a.FControl,t.TTMSFNCGridCellBitmapName).FData?rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCBitmapGridCell).SetBitmapName(this.GetCells(e,i)):rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCBitmapGridCell).SetBitmapName(rtl.as(a.FControl,t.TTMSFNCGridCellBitmapName).FBitmapName)),null!=a&&t.TTMSFNCGridCellBitmap.isPrototypeOf(a.FControl)&&rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCBitmapGridCell).FBitmap.Assign(rtl.as(a.FControl,t.TTMSFNCGridCellBitmap).FBitmap)),pas["WEBLib.TMSFNCGridCell"].TTMSFNCNodeGridCell.isPrototypeOf(s)&&null!=(a=this.GetCellProps(o,n))&&t.TTMSFNCGridCellNode.isPrototypeOf(a.FControl)&&(rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCNodeGridCell).FState=rtl.as(a.FControl,t.TTMSFNCGridCellNode).FState),pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell.isPrototypeOf(s)&&(a=this.GetCellProps(o,n),this.FUseColumns&&null==this.GetIntObjects(o,n)?o<this.FColumns.GetCount()&&3===this.FColumns.GetItem$1(o).FColumnType&&(h=0,pas.SysUtils.TryStrToInt(this.GetCells(e,i),{get:function(){return h},set:function(t){h=t}})?rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell).SetValue(h):rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell).SetValue(0)):null!=a&&t.TTMSFNCGridCellProgressBar.isPrototypeOf(a.FControl)&&(rtl.as(a.FControl,t.TTMSFNCGridCellProgressBar).FData?(h=0,pas.SysUtils.TryStrToInt(this.GetCells(e,i),{get:function(){return h},set:function(t){h=t}})?rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell).SetValue(h):rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell).SetValue(0)):rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell).SetValue(rtl.as(a.FControl,t.TTMSFNCGridCellProgressBar).FValue))),this.FOptions.FFiltering.FDropDown&&pas["WEBLib.TMSFNCGridCell"].TTMSFNCFixedGridCell.isPrototypeOf(s)&&(r=!1,this.FOptions.FFiltering.FDropDownFixedRow===n&&o>=this.FFixedColumns&&o<this.GetColumnCount()-this.FFixedRightColumns&&(r=!0,this.DoNeedFilterDropDown(o,n,{get:function(){return r},set:function(t){r=t}})),rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCFixedGridCell).FShowDropDownButton=r,rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCFixedGridCell).FSizeMargin=this.FOptions.FMouse.FColumnSizeMargin-2)},this.DoGetCellMergeInfo=function(t,e,i,s,o,n){var a;null!=(a=this.GetIntObjects(this.DisplToRealColumn(t),this.DisplToRealRow(e)))&&-1!==a.FBaseCol&&(i.set(this.RealToDisplColumn(a.FBaseCol)),s.set(this.RealToDisplRow(a.FBaseRow)),o.set(a.FColSpan),n.set(a.FRowSpan))},this.DoGetCellEditorType=function(e,i,s){var o;(o=this.DisplToRealColumn(e))<this.FColumns.GetCount()&&s.set(this.FColumns.GetItem$1(o).FEditor),this.IsCellControl(e,i,t.TTMSFNCGridCellCombo)&&s.set(12)},this.DoGetCellEditorCustomClassType=function(t,e,i){var s;null!=(s=this.GetIntObjects(t,e))&&s.FReadOnly&&i.set(null)},this.DoCellEditGetData=function(t,e,i,s){},this.DoCellEditValidateData=function(t,e,i,s,o){},this.DoCellEditSetData=function(t,e,i,s){this.SetCells(t,e,s.get())},this.DoCellEditGetColor=function(t,e,i,s){},this.DoCellEditValidateColor=function(t,e,i,s,o){},this.DoCellEditSetColor=function(t,e,i,s){this.SetColors(t,e,s.get())},this.DoCellEditDone=function(t,e,i){for(var s=0,o=0,n=0,a=this.GetColumnCount()-1;n<=a;n++)o=n,0!==(s=this.GetColumnCalculation(o))&&this.UpdateColumnCalc(o,s)},this.DoGetCellEditorProperties=function(e,i,s){var o=null,n=0;pas["WEBLib.StdCtrls"].TComboBox.isPrototypeOf(s)&&(rtl.as(s,pas["WEBLib.StdCtrls"].TComboBox).SetParent(this),n=this.DisplToRealColumn(e),this.FUseColumns&&n<this.FColumns.GetCount()&&this.FColumns.GetItem$1(n).FEditor in rtl.createSet(12)&&pas["WEBLib.StdCtrls"].TComboBox.isPrototypeOf(s)&&rtl.as(s,pas["WEBLib.StdCtrls"].TComboBox).FItems.Assign(this.FColumns.GetItem$1(n).FComboItems),this.IsCellControl(e,i,t.TTMSFNCGridCellCombo)&&null!=(o=this.GetIntObjects(e,i))&&pas["WEBLib.StdCtrls"].TComboBox.isPrototypeOf(s)&&rtl.as(s,pas["WEBLib.StdCtrls"].TComboBox).FItems.Assign(rtl.as(o.FControl,t.TTMSFNCGridCellCombo).FItems),rtl.as(s,pas["WEBLib.StdCtrls"].TComboBox).SetParent(null))},this.DoColumnCalc=function(t,e,i){var s=0;return s=0,null!=this.FOnColumnCalc&&this.FOnColumnCalc(this,t,e,i,{get:function(){return s},set:function(t){s=t}}),s},this.DoCellAnchorClick=function(t,e,i){},this.DoCanEditCell=function(t,e,i){i.set(this.FOptions.FEditing.FEnabled),i.set(i.get()&&!this.IsReadOnly(t,e))},this.DoCanSizeColumn=function(t,e){},this.DoCanSizeRow=function(t,e){},this.DoColumnSize=function(t,e){},this.DoRowSize=function(t,e){},this.DoColumnSized=function(t,e){},this.DoRowSized=function(t,e){},this.DoCanSortColumn=function(t,e){},this.DoColumnSorted=function(t,e){},this.DoIsCellSelected=function(t,e){var i=!1;i=!1;var s=this.FOptions.FSelection.FMode;return 8===s?i=this.GetColumnSelect(t):7===s?i=this.GetRowSelect(e):9===s&&(i=this.GetCellSelect(t,e)),i},this.CreateColumnProp=function(){null!=this.FColumnProp&&rtl.free(this,"FColumnProp"),this.FColumnProp=t.TTMSFNCGridCellProperty.$create("Create$1",[this.FDefaultFont])},this.Create$1=function(e){var i=0;for(pas["WEBLib.TMSFNCCustomScrollControl"].TTMSFNCCustomScrollControl.Create$1.apply(this,arguments),this.FDefaultLayout=pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCellLayout.$create("Create$1"),this.FUseColumns=!0,this.FColumns=t.TTMSFNCGridColumns.$create("Create$3",[this]),i=0;i<=4;i++)this.FColumns.Add$1();return this.FGroupColumn=-1,this.FSortColumn=-1,this.FRowCount=10,this.FColumnCount=5,this.FDefaultRowHeight=24,this.FDefaultColumnWidth=68,this.FFixedRows=1,this.FFixedColumns=1,this.FFixedRightColumns=0,this.FFixedFooterRows=0,this.FFilterApplied=!1,this.FCheckTrue="TRUE",this.FCheckFalse="FALSE",this.FFloatFormat="%g",this.FColumnOrder=pas["WEBLib.TMSFNCGridDataUtil"].TTMSFNCGridIntList.$create("Create$1"),this.FDefaultFont=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2"),this.FOptions=pas["WEBLib.TMSFNCGridOptions"].TTMSFNCGridOptions.$create("Create$1"),this.FOptions.FOnChange=rtl.createCallback(this,"DoOptionsChange"),this.FGlobalFont=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCAppearanceGlobalFont.$create("Create$1",[this]),this.FColumnW=t.TTMSFNCGridSingleList.$create("Create$3",[this]),this.FOrigColumnW=t.TTMSFNCGridSingleList.$create("Create$3",[this]),this.FRowH=t.TTMSFNCGridSingleList.$create("Create$3",[this]),this.FRowList=t.TTMSFNCGridRowInfoList.$create("Create$1"),this.FRowDisplayList=t.TTMSFNCGridIntegerList.$create("Create$1"),this.FColumnDisplayList=t.TTMSFNCGridIntegerList.$create("Create$1"),this.FHiddenColumnList=t.TTMSFNCGridIntegerList.$create("Create$1"),this.FSuppressedColumnList=t.TTMSFNCGridIntegerList.$create("Create$1"),this.FHiddenRowList=t.TTMSFNCGridIntegerList.$create("Create$1"),this.FColSelect=pas["WEBLib.TMSFNCGridDataUtil"].TTMSFNCGridIntList.$create("Create$1"),this.FSelectedCells=t.TTMSFNCGridCellList.$create("Create$2"),this.FMarkList=t.TTMSFNCGridCellMarkList.$create("Create$3",[this]),this.FCellCalcList=pas["WEBLib.TMSFNCGridDataUtil"].TTMSFNCGridIntList.$create("Create$1"),this.FIOOffset.$assign(pas.Types.Point(this.FFixedColumns,this.FFixedRows)),this.FFilter=t.TTMSFNCGridFilter.$create("Create$3",[this]),this.FSortIndexes=t.TTMSFNCGridSortIndexList.$create("Create$1"),this.CreateColumnProp(),this.FUpdateCount$1=this.FUpdateCount$1+1,this.SetColumnCount(this.FColumnCount),this.FUpdateCount$1=this.FUpdateCount$1-1,this},this.Destroy=function(){this.Clear(),rtl.free(this,"FGlobalFont"),rtl.free(this,"FDefaultLayout"),rtl.free(this,"FColumns"),rtl.free(this,"FColumnProp"),rtl.free(this,"FDefaultFont"),rtl.free(this,"FOptions"),rtl.free(this,"FColumnW"),rtl.free(this,"FOrigColumnW"),rtl.free(this,"FRowH"),rtl.free(this,"FRowDisplayList"),rtl.free(this,"FColumnDisplayList"),rtl.free(this,"FHiddenColumnList"),rtl.free(this,"FSuppressedColumnList"),rtl.free(this,"FHiddenRowList"),rtl.free(this,"FRowList"),rtl.free(this,"FFilter"),rtl.free(this,"FSortIndexes"),rtl.free(this,"FMarkList"),rtl.free(this,"FColSelect"),rtl.free(this,"FSelectedCells"),rtl.free(this,"FCellCalcList"),this.FColumnOrder.Clear(),rtl.free(this,"FColumnOrder"),pas["WEBLib.TMSFNCCustomScrollControl"].TTMSFNCCustomScrollControl.Destroy.call(this)},this.Clear=function(){var t=0,e=0,i=null,s=null;this.BeginUpdate(),this.UnHideRowsAll(),this.UnHideColumnsAll();for(var o=this.FRowList.GetCount()-1;o>=0;o--)if(t=o,null!=this.FRowList.GetItem(t)){for(var n=0,a=this.FRowList.GetItem(t).FData.GetCount()-1;n<=a;n++)e=n,null!=(i=this.FRowList.GetItem(t).FData.GetObject(e))&&i.IsBaseCell(e,t)&&(i.FreeControl(),i=rtl.freeLoc(i));s=this.FRowList.GetItem(t),s=rtl.freeLoc(s)}this.FRowList.Clear(),this.FRowDisplayList.Clear(),this.FColumnDisplayList.Clear(),this.FHiddenColumnList.Clear(),this.FSuppressedColumnList.Clear(),this.FHiddenRowList.Clear(),this.EndUpdate()},this.ClearCells=function(t){var e=0,i=0,s=null,o=null;this.BeginUpdate();for(var n=t.StartRow,a=t.EndRow;n<=a;n++)if((e=n)<this.FRowList.GetCount()&&null!=this.FRowList.GetItem(e))for(var r=t.StartCol,l=Math.min(t.EndCol,this.FRowList.GetItem(e).FData.GetCount()-1);r<=l;r++)i=r,this.SplitCell(i,e),(o=this.FRowList.GetItem(e).FData).Put(i,""),null!=(s=o.GetObject(i))&&(null!=s.FControl&&s.FreeControl(),s=rtl.freeLoc(s),o.PutObject(i,null));this.EndUpdate()},this.DisplToRealRow=function(t){return t>=0&&t<this.FRowDisplayList.GetCount()?this.FRowDisplayList.GetItem(t):t},this.RealToDisplRow=function(t){var e=0,i=0;for(e=t,i=0;i<this.FRowDisplayList.GetCount();){if(this.FRowDisplayList.GetItem(i)===t){e=i;break}i+=1}return e},this.DisplToRealColumn=function(t){return t>=0&&t<this.FColumnDisplayList.GetCount()?this.FColumnDisplayList.GetItem(t):t},this.RealToDisplColumn=function(t){var e=0,i=0;for(e=-1,i=0;i<this.FColumnDisplayList.GetCount();){if(this.FColumnDisplayList.GetItem(i)===t){e=i;break}i+=1}return e},this.InitOriginalColumnSizes=function(){var t=0;this.FOrigColumnW.Clear();for(var e=0,i=this.GetColumnCount()-1;e<=i;e++){t=e,this.FOrigColumnW.Add$1().SetValue(this.GetColWidths(t))}this.FOldSize=this.GetWidth()},this.CellRange=function(e,i,s,o){var n=t.TTMSFNCGridCellRecRange.$new();return n.StartCol=e,n.StartRow=i,n.EndCol=s,n.EndRow=o,n},this.IsReadOnly=function(t,e){var i=!1;return i=!1,this.DoGetCellReadOnly(t,e,{get:function(){return i},set:function(t){i=t}}),i},this.ClearRowSelect=function(){for(var t=0,e=this.FFixedRows,i=this.GetRowCount()-this.FFixedFooterRows-1;e<=i&&!((t=e)>=this.FRowList.GetCount());e++)null!=this.FRowList.GetItem(t)&&this.FRowList.GetItem(t).SetState(0)},this.GetSelectedRowCount=function(){var t=0,e=0;t=0;for(var i=this.FFixedRows,s=this.GetRowCount()-this.FFixedFooterRows-1;i<=s&&!((e=i)>=this.FRowList.GetCount());i++)null!=this.FRowList.GetItem(e)&&1===this.FRowList.GetItem(e).FState&&(t+=1);return t},this.ClearColumnSelect=function(){this.FColSelect.Clear()},this.GetSelectedColumnCount=function(){return this.FColSelect.GetCount()},this.ClearCellSelect=function(){this.FSelectedCells.Clear$1()},this.GetSelectedCellCount=function(){return this.FSelectedCells.GetCount()},this.SetColumnOrder=function(){var t=0;this.FColumnOrder.Clear();for(var e=1,i=this.GetColumnCount();e<=i;e++)t=e,this.FColumnOrder.Add$1(t-1)},this.IsFixed=function(t,e){return e<this.FFixedRows||e>this.GetRowCount()-1-this.FFixedFooterRows||t<this.FFixedColumns||t>this.GetColumnCount()-1-this.FFixedRightColumns||this.IsNormalFixed(t,e)},this.IsBand=function(t){var e=!1;return e=pas.System.Odd(t),this.DoGetRowIsBand(t,{get:function(){return e},set:function(t){e=t}}),e},this.IsNormalFixed=function(t,e){var i=!1;return i=!1,this.DoGetCellIsFixed(t,e,{get:function(){return i},set:function(t){i=t}}),i},this.NextSelectableRow=function(e,i){var s,o,n,a,r=t.TTMSFNCGridCellRec.$new(),l=0,h=!1;if(n=s=e,a=o=i,r.Col=e,r.Row=i,(l=this.RowSpan(s,o))>0?(h=r.Row+l<=this.GetRowCount()-1-this.FFixedFooterRows)&&(r.Row=r.Row+l):(h=r.Row+1<=this.GetRowCount()-1-this.FFixedFooterRows)&&(r.Row=r.Row+1),h)for(;this.IsNormalFixed(r.Col,r.Row)&&r.Row<this.GetRowCount()-1-this.FFixedFooterRows;)l=this.RowSpan(s,o),r.Row=l>0?r.Row+l:r.Row+1;return this.IsNormalFixed(r.Col,r.Row)&&(r.Col=n,r.Row=a),r},this.NextSelectableColumn=function(e,i){var s,o,n,a,r=t.TTMSFNCGridCellRec.$new(),l=0,h=!1;if(o=s=e,a=n=i,r.Col=e,r.Row=i,(l=this.ColSpan(s,n))>0?(h=r.Col+l<=this.GetColumnCount()-1-this.FFixedRightColumns)&&(r.Col=r.Col+l):(h=r.Col+1<=this.GetColumnCount()-1-this.FFixedRightColumns)&&(r.Col=r.Col+1),h)for(;(this.IsNormalFixed(r.Col,r.Row)||this.IsSuppressedColumn(r.Col))&&r.Col<this.GetColumnCount()-1-this.FFixedRightColumns;)l=this.ColSpan(s,n),r.Col=l>0?r.Col+l:r.Col+1;return(this.IsNormalFixed(r.Col,r.Row)||this.IsSuppressedColumn(r.Col))&&(r.Col=o,r.Row=a),r},this.PreviousSelectableColumn=function(e,i){var s,o,n=t.TTMSFNCGridCellRec.$new();if(o=e,s=i,n.Col=e,n.Row=i,n.Col-1>=this.FFixedColumns)for(n.Col=n.Col-1;(this.IsNormalFixed(n.Col,n.Row)||this.IsSuppressedColumn(n.Col))&&n.Col>this.FFixedColumns;)n.Col=n.Col-1;return(this.IsNormalFixed(n.Col,n.Row)||this.IsSuppressedColumn(n.Col))&&(n.Col=o,n.Row=s),n},this.PreviousSelectableRow=function(e,i){var s,o,n=t.TTMSFNCGridCellRec.$new();if(s=e,o=i,n.Col=e,n.Row=i,n.Row-1>=this.FFixedRows)for(n.Row=n.Row-1;this.IsNormalFixed(n.Col,n.Row)&&n.Row>this.FFixedRows;)n.Row=n.Row-1;return this.IsNormalFixed(n.Col,n.Row)&&(n.Col=s,n.Row=o),n},this.ApplyFilter=function(){var e=0,i=0,s=null,o=!1;s=t.TTMSFNCGridIntegerList.$create("Create$1");try{for(var n=this.FFixedRows,a=this.GetRowCount()-1;n<=a;n++)e=n,o=1===this.FOptions.FFiltering.FRows||0===this.FOptions.FFiltering.FRows&&!this.IsNode(e)&&!this.IsSummary(e)&&!this.IsFixed(this.FFixedColumns,e),!this.MatchFilter(e)&&o&&s.Add(e);i=0;for(var r=0,l=s.GetCount()-1;r<=l;r++){for(e=r;this.FRowDisplayList.GetItem(i)!==s.GetItem(e);)i+=1;this.FRowDisplayList.GetItem(i)===s.GetItem(e)&&this.FRowDisplayList.Delete(i)}this.FRowCount=this.FRowCount-s.GetCount()}finally{s=rtl.freeLoc(s),this.FFilterApplied=!0,this.UpdateControl(!0,!0)}},this.RemoveFilter=function(){this.UnHideRowsAll(),this.FFilterApplied=!1},this.LookupInColumn=function(t,e,i,s){var o=0;return o=i?0:this.FFixedRows,this.LookupInColumnFromRow(t,o,e,i,s)},this.LookupInColumnFromRow=function(e,i,s,o,n){var a=0,r=0,l=0,h=0,F=0,p="",C="";if(a=-1,C=s,this.FOptions.FLookup.FCaseSensitive||(C=pas.SysUtils.UpperCase(C)),o?(l=this.FFixedRows,h=this.GetRowCount()-1):(l=i,h=this.GetRowCount()-1-this.FFixedFooterRows),e===this.FSortColumn){do{if(F=l+Math.round((h-l)/2),p=this.GetCells(e,this.DisplToRealRow(F)),this.FOptions.FLookup.FCaseSensitive||(p=pas.SysUtils.UpperCase(p)),1===pas.System.Pos(C,p)){a=F;break}C>p?l=F:h=F}while(!(h-l<=1));if(F>l&&-1!==a){do{if(p=this.GetCells(e,this.DisplToRealRow(F-1)),this.FOptions.FLookup.FCaseSensitive||(p=pas.SysUtils.UpperCase(p)),1!==pas.System.Pos(C,p))break;F-=1}while(!(F<=l));a=F}}else for(var u=l,d=h;u<=d;u++)if(r=u,p=this.GetCells(e,this.DisplToRealRow(r)),this.FOptions.FLookup.FCaseSensitive||(p=pas.SysUtils.UpperCase(p)),1===pas.System.Pos(C,p)){a=r;break}return n&&-1!==a&&this.SetFocusedCell(t.MakeCell(e,a)),a},this.IsCheckBox=function(e,i){return this.IsCellControl(e,i,t.TTMSFNCGridCellCheckBox)||this.IsCellControl(e,i,t.TTMSFNCGridCellDataCheckBox)},this.IsSummary=function(e){return this.IsCellControl(0,e,t.TTMSFNCGridCellSummary)},this.IsNode=function(e){return this.IsCellControl(this.FFixedColumns-1,e,t.TTMSFNCGridCellNode)},this.GetNodeState=function(t){var e,i=0;return i=1,null!=(e=this.GetNode(t))&&(i=e.FState),i},this.GetNodeSpan=function(t){var e,i=0;return i=-1,null!=(e=this.GetNode(t))&&(i=e.FSpan),i},this.GetNode=function(e){var i,s=null;return s=null,null!=(i=this.GetIntObjects(this.FFixedColumns-1,e))&&null!=i.FControl&&t.TTMSFNCGridCellNode.isPrototypeOf(i.FControl)&&(s=rtl.as(i.FControl,t.TTMSFNCGridCellNode)),s},this.OpenNode=function(t){var e=null;null!=(e=this.GetNode(t))&&-1!==e.FSpan&&0===e.FState&&(e.FState=1,this.UnHideRows(t+1,e.FSpan))},this.CloseNode=function(t){var e=null;null!=(e=this.GetNode(t))&&-1!==e.FSpan&&1===e.FState&&(e.FState=0,this.HideRows(t+1,e.FSpan))},this.OpenAllNodes=function(){var t=0,e=0;for(t=this.FFixedRows;t<this.GetRowCount()-this.FFixedFooterRows;)e=this.DisplToRealRow(t),this.IsNode(e)&&this.OpenNode(e),t+=1;this.UpdateGridCells(!1)},this.MergeSelection=function(t){this.MergeCells(t.StartCol,t.StartRow,t.EndCol-t.StartCol+1,t.EndRow-t.StartRow+1)},this.MergeCells=function(e,i,s,o){var n=null,a=null,r=0,l=0,h=t.TTMSFNCGridCellRec.$new(),F=!1;this.FBlockUpdate=!0,F=!1,n=null;for(var p=e,C=e+s-1;p<=C;p++){r=p;for(var u=i,d=i+o-1;u<=d;u++)l=u,F?null!=(a=this.GetIntObjects(r,l))&&(null!=a.FControl&&a.FreeControl(),a=rtl.freeLoc(a)):(null==(n=this.GetIntObjects(r,l))&&(n=t.TTMSFNCGridCellProperty.$create("Create$1",[this.GetDefaultFont(this.RealToDisplColumn(e),this.RealToDisplRow(i))])),n.FBaseCol=e,n.FBaseRow=i,n.FColSpan=s,n.FRowSpan=o,F=!0),this.SetIntObjects(r,l,n)}h.$assign(this.BaseCell(e,i)),h.Col=e,h.Row=i,this.SetFocusedCell(h),this.FBlockUpdate=!1,this.UpdateGridCells(!1)},this.IsMerged=function(t,e){var i,s=!1;return s=!1,null!=(i=this.GetIntObjects(t,this.DisplToRealRow(e)))&&-1!==i.FBaseCol&&-1!==i.FBaseRow&&(s=i.FColSpan>1||i.FRowSpan>1),s},this.IsYMergedCell=function(t,e){var i,s=!1;return s=!1,null!=(i=this.GetIntObjects(t,this.DisplToRealRow(e)))&&-1!==i.FBaseCol&&-1!==i.FBaseRow&&(s=i.FRowSpan>1),s},this.IsXMergedCell=function(t,e){var i,s=!1;return s=!1,null!=(i=this.GetIntObjects(t,this.DisplToRealRow(e)))&&-1!==i.FBaseCol&&-1!==i.FBaseRow&&(s=i.FColSpan>1),s},this.IsBaseCell=function(e,i){var s=t.TTMSFNCGridCellRec.$new();return s.$assign(this.BaseCell(e,i)),s.Col===e&&s.Row===i},this.ColSpan=function(t,e){var i,s=0;return s=0,null!=(i=this.GetIntObjects(this.DisplToRealColumn(t),this.DisplToRealRow(e)))&&-1!==i.FBaseCol&&-1!==i.FBaseRow&&(s=i.FColSpan),s},this.RowSpan=function(t,e){var i,s=0;return s=0,null!=(i=this.GetIntObjects(this.DisplToRealColumn(t),this.DisplToRealRow(e)))&&-1!==i.FBaseCol&&-1!==i.FBaseRow&&(s=i.FRowSpan),s},this.BaseCell=function(e,i){var s,o=t.TTMSFNCGridCellRec.$new();return s=this.GetIntObjects(this.DisplToRealColumn(e),this.DisplToRealRow(i)),o.Col=e,o.Row=i,null!=s&&-1!==s.FBaseCol&&-1!==s.FBaseRow&&(o.Col=s.FBaseCol,o.Row=this.RealToDisplRow(s.FBaseRow)),o},this.SplitCell=function(t,e){var i=null,s=0,o=0,n=0,a=0,r=0,l=0;if(null!=(i=this.GetIntObjects(t,e))&&i.IsBaseCell(t,e)){n=i.FBaseCol,r=i.FBaseRow,a=i.FBaseCol+i.FColSpan,l=i.FBaseRow+i.FRowSpan;for(var h=n,F=a-1;h<=F;h++){s=h;for(var p=r,C=l-1;p<=C;p++)o=p,null!=(i=this.GetIntObjects(s,o))&&(i.FBaseCol=-1,i.FBaseRow=-1,i.FColSpan=0,i.FRowSpan=0),o===r&&s===n||this.SetIntObjects(s,o,null)}this.UpdateGridCells(!1)}},this.DeleteRow=function(t){this.DeleteRows(t,1)},this.DeleteRows=function(e,i){var s=0,o=0,n=null,a=null;this.BeginUpdate(),this.ClearCells(t.TTMSFNCGridCellRecRange.$clone(this.CellRange(0,e,this.GetColumnCount()-1+this.GetHiddenColCount(),e+i-1)));for(var r=e,l=this.FRowDisplayList.GetCount()-1;r<=l;r++){s=r;for(var h=0,F=this.GetColumnCount()-1;h<=F;h++)o=h,this.IsBaseCell(o,s)&&null!=(a=this.GetIntObjects(o,s))&&a.FBaseRow>=e&&(a.FBaseRow=a.FBaseRow-i)}for(;this.FRowList.GetCount()<this.GetRowCount();)this.FRowList.Add(null);for(var p=1,C=i;p<=C;p++)s=p,null!=this.FRowList.GetItem(e)&&(n=this.FRowList.GetItem(e),n=rtl.freeLoc(n)),e<this.FRowList.GetCount()&&this.FRowList.Delete(e),e<this.FRowDisplayList.GetCount()&&this.FRowDisplayList.Delete(e),this.FRowCount=this.FRowCount-1;for(var u=e,d=this.FRowDisplayList.GetCount()-1;u<=d;u++)s=u,this.FRowDisplayList.SetItem(s,this.FRowDisplayList.GetItem(s)-i);this.EndUpdate()},this.InsertRow=function(t){this.InsertRows(t,1)},this.InsertRows=function(e,i){var s=0,o=0,n=0,a=null;if(!(e>this.GetRowCount())){this.BeginUpdate(),this.EnsureRow(e);for(var r=e,l=this.FRowDisplayList.GetCount()-1;r<=l;r++){s=r;for(var h=0,F=this.GetColumnCount()-1;h<=F;h++)o=h,this.IsBaseCell(o,s)&&null!=(a=this.GetIntObjects(o,s))&&a.FBaseRow>=e&&(a.FBaseRow=a.FBaseRow+i)}for(var p=1,C=i;p<=C;p++)s=p,this.FRowList.Insert(e,t.TTMSFNCGridRowInfo.$create("Create$1"));for(var u=1,d=i;u<=d;u++)s=u,this.FRowDisplayList.Insert(e,e+s-1);for(var c=1,S=i;c<=S;c++)s=c,this.FRowDisplayList.SetItem(e+s-1,e+s-1);for(var T=e+i,m=this.FRowDisplayList.GetCount()-1;T<=m;T++)s=T,this.FRowDisplayList.SetItem(s,this.FRowDisplayList.GetItem(s)+i);if(!this.FInternalRowUpdate&&(n=e<=this.FRowH.GetCount()-1?this.FRowH.Insert$1(e).GetIndex():this.FRowH.Add$1().GetIndex())>=0&&n<=this.FRowH.GetCount()-1){this.FRowH.GetItem$1(n).SetValue(this.FDefaultRowHeight),this.FRowH.GetItem$1(n).FCellVal=e;for(var g=n+1,M=this.FRowH.GetCount()-1;g<=M;g++)s=g,this.FRowH.GetItem$1(s).FCellVal=this.FRowH.GetItem$1(s).FCellVal+1}this.FRowCount=this.FRowCount+i,this.EndUpdate()}},this.SwapCells=function(t,e,i){var s,o;s=this.GetCells(t,e),o=this.GetIntObjects(t,e),this.SetCells(t,e,this.GetCells(t,i)),this.SetIntObjects(t,e,this.GetIntObjects(t,i)),this.SetCells(t,i,s),this.SetIntObjects(t,i,o)},this.SwapNormalCells=function(t,e){for(var i=0,s="",o=null,n=this.FFixedColumns,a=this.GetColumnCount()-this.FFixedRightColumns-1;n<=a;n++)i=n,s=this.GetCells(i,t),o=this.GetIntObjects(i,t),this.SetCells(i,t,this.GetCells(i,e)),this.SetIntObjects(i,t,this.GetIntObjects(i,e)),this.SetCells(i,e,s),this.SetIntObjects(i,e,o)},this.SwapRows=function(t,e){var i,s,o,n,a,r,l;n=this.DisplToRealRow(t),a=this.DisplToRealRow(e),i=this.FRowList.GetItem(n),this.FRowList.SetItem(n,this.FRowList.GetItem(a)),this.FRowList.SetItem(a,i),s=this.GetRowHeights(t),o=this.GetRowHeights(e),this.SetRowHeights(t,o),this.SetRowHeights(e,s),r=this.GetRowSelect(t),l=this.GetRowSelect(e),this.SetRowSelect(t,l),this.SetRowSelect(e,r),this.UpdateGridCells(!1)},this.MoveRow=function(e,i){var s=null,o=null,n=0;this.FRowList.Move(e,i),s=t.TTMSFNCGridSList.$create("Create$1");try{for(var a=0,r=this.GetRowCount()-1;a<=r;a++)n=a,s.Add(this.GetRowHeights(n));s.Move(e,i),this.FRowH.Clear();for(var l=0,h=this.GetRowCount()-1;l<=h;l++)n=l,(o=this.FRowH.Add$1()).FCellVal=n,o.SetValue(s.GetItem(n))}finally{s=rtl.freeLoc(s)}this.UpdateControl(!0,!0)},this.ColumnSum=function(t,e,i){var s=0,o=0;-1!==e&&-1!==i||(e=this.FFixedRows,i=this.GetRowCount()-1-this.FFixedFooterRows),o=0,this.ExportNotification(0,e);for(var n=e,a=i;n<=a;n++)if(s=n,this.IsBaseCell(t,s)){this.ExportNotification(5,s);try{o+=this.GetFloats(t,s)}catch(t){}}return this.ExportNotification(2,-1),o},this.ColumnAvg=function(t,e,i){return-1!==e&&-1!==i||(e=this.FFixedRows,i=this.GetRowCount()-1-this.FFixedFooterRows),i-e+1>0?this.ColumnSum(t,e,i)/(i-e+1):0},this.ColumnMin=function(t,e,i){var s=0,o=0;-1!==e&&-1!==i||(e=this.FFixedRows,i=this.GetRowCount()-1-this.FFixedFooterRows),s=this.GetFloats(t,e),this.ExportNotification(0,e);for(var n=e,a=i;n<=a;n++)if(o=n,this.IsBaseCell(t,o)){this.ExportNotification(5,o);try{s>this.GetFloats(t,o)&&(s=this.GetFloats(t,o))}catch(t){}}return this.ExportNotification(2,-1),s},this.ColumnMax=function(t,e,i){var s=0,o=0;-1!==e&&-1!==i||(e=this.FFixedRows,i=this.GetRowCount()-1-this.FFixedFooterRows),s=this.GetFloats(t,e),this.ExportNotification(0,e);for(var n=e,a=i;n<=a;n++)if(o=n,this.IsBaseCell(t,o)){this.ExportNotification(5,o);try{s<this.GetFloats(t,o)&&(s=this.GetFloats(t,o))}catch(t){}}return this.ExportNotification(2,-1),s},this.ColumnDistinct=function(t,e,i){var s=0,o=null,n=0;-1!==e&&-1!==i||(e=this.FFixedRows,i=this.GetRowCount()-1-this.FFixedFooterRows),this.ExportNotification(0,e),o=pas.Classes.TStringList.$create("Create$1");try{o.FDuplicates=0,o.SetSorted(!0),o.SetCaseSensitive(!1);for(var a=e,r=i;a<=r;a++)n=a,this.ExportNotification(5,n),o.Add(this.GetCells(t,n));s=o.GetCount()}finally{this.ExportNotification(2,-1),o=rtl.freeLoc(o)}return s},this.ColumnStdDev=function(t,e,i){var s,o,n=0,a=0;-1!==e&&-1!==i||(e=this.FFixedRows,i=this.GetRowCount()-1-this.FFixedFooterRows),o=this.ColumnAvg(t,e,i),this.ExportNotification(0,e),n=0;for(var r=e,l=i;r<=l;r++)a=r,n+=pas.System.Sqr$1(this.GetFloats(t,a)-o);return s=Math.sqrt(n/(i-e+1)),this.ExportNotification(2,-1),s},this.ColumnCustomCalc=function(t,e,i){return this.DoColumnCalc(t,e,i)},this.UpdateCalculations=function(){for(var t=0,e=0,i=0,s=this.GetColumnCount()-1;i<=s;i++)t=i,0!==(e=this.GetColumnCalculation(t))&&this.UpdateColumnCalc(t,e)},this.HideRows=function(t,e){var i=0,s=0,o=!1;for(s=0,i=0,o=!1;i<this.FRowDisplayList.GetCount();)if(this.FRowDisplayList.GetItem(i)===t+s){if(this.FHiddenRowList.Add(t+s),this.FRowDisplayList.Delete(i),this.FRowCount=this.FRowCount-1,o=!0,!(s<e-1))break;s+=1}else i+=1;o&&this.UpdateControl(!0,!0)},this.UnHideRows=function(t,e){var i=0,s=0,o=0,n=0,a=!1;if(0!==this.FHiddenRowList.GetCount()){if(i=0,o=0,0===this.FRowDisplayList.GetCount()||t>this.FRowDisplayList.GetItem(this.FRowDisplayList.GetCount()-1)){for(var r=0,l=Math.max(0,e-1);r<=l;r++)i=r,-1!==this.FHiddenRowList.IndexOf(i+t)&&(o+=1,this.FRowDisplayList.Add(i+t),this.FHiddenRowList.Delete(this.FHiddenRowList.IndexOf(i+t)));return this.FRowCount=this.FRowCount+o,void this.UpdateControl(!0,!0)}for(a=!1;i<this.FRowDisplayList.GetCount();){if(this.FRowDisplayList.GetItem(i)>=t){a=!0;break}i+=1}if(a&&(n=this.FHiddenRowList.IndexOf(t))>=0)for(this.FRowDisplayList.Insert(i,t),this.FHiddenRowList.Delete(n),this.FRowCount=this.FRowCount+1,s=1,i+=1;s<=e;)this.FRowDisplayList.GetItem(i)!==t+s&&(n=this.FHiddenRowList.IndexOf(t+s))>=0&&(this.FRowDisplayList.Insert(i,t+s),this.FHiddenRowList.Delete(n),this.FRowCount=this.FRowCount+1),i+=1,s+=1;a&&this.UpdateControl(!0,!0)}},this.UnHideRowsAll=function(){for(var t=0;this.FRowDisplayList.GetCount()<this.FRowList.GetCount();)this.FRowDisplayList.Add(0);for(var e=0,i=this.FRowList.GetCount()-1;e<=i;e++)t=e,this.FRowDisplayList.SetItem(t,t);this.FRowCount=this.FRowList.GetCount(),this.UpdateControl(!0,!0)},this.UnHideColumnsAll=function(){var t=0;for(this.BeginUpdate();this.FColumnDisplayList.GetCount()<this.GetTotalColCount();)this.FColumnDisplayList.Add(0);for(var e=0,i=this.GetTotalColCount()-1;e<=i;e++)t=e,this.FColumnDisplayList.SetItem(t,t);this.FColumnCount=this.GetTotalColCount(),this.FHiddenColumnList.Clear(),this.EndUpdate()},this.IsSuppressedColumn=function(t){var e=!1,i=0;e=!1;for(var s=0,o=this.FSuppressedColumnList.GetCount()-1;s<=o;s++)if(i=s,this.FSuppressedColumnList.GetItem(i)===t){e=!0;break}return e},this.InsertColumn=function(t){var e=0,i=null,s=0;this.BeginUpdate();for(var o=0,n=this.FRowList.GetCount()-1;o<=n;o++)e=o,null!=(i=this.FRowList.GetItem(e))&&t<i.FData.GetCount()&&i.FData.InsertObject(t,"",null);if(!this.FInternalColumnUpdate&&(s=t<=this.FColumnW.GetCount()-1?this.FColumnW.Insert$1(t).GetIndex():this.FColumnW.Add$1().GetIndex())>=0&&s<=this.FColumnW.GetCount()-1){this.FColumnW.GetItem$1(s).SetValue(this.FDefaultColumnWidth),this.FColumnW.GetItem$1(s).FCellVal=t;for(var a=s+1,r=this.FColumnW.GetCount()-1;a<=r;a++)e=a,this.FColumnW.GetItem$1(e).FCellVal=this.FColumnW.GetItem$1(e).FCellVal+1}this.EndUpdate(),this.FColumnDisplayList.Insert(t,t);for(var l=t+1,h=this.FColumnDisplayList.GetCount()-1;l<=h;l++)e=l,this.FColumnDisplayList.SetItem(e,this.FColumnDisplayList.GetItem(e)+1);this.SetColumnCount(this.GetColumnCount()+1)},this.MoveColumn=function(e,i){var s,o,n=0,a=null,r=null;0===this.FColumnOrder.GetCount()&&this.SetColumnOrder(),this.FColumnDisplayList.Move(e,i),r=t.TTMSFNCGridSList.$create("Create$1");try{for(var l=0,h=this.GetColumnCount()-1;l<=h;l++)n=l,r.Add(this.GetColWidths(n));r.Move(e,i),this.FColumnW.Clear();for(var F=0,p=this.GetColumnCount()-1;F<=p;F++)n=F,(a=this.FColumnW.Add$1()).FCellVal=n,a.SetValue(r.GetItem(n))}finally{r=rtl.freeLoc(r)}s=e,o=i,this.FColumnOrder.GetCount()>s&&this.FColumnOrder.GetCount()>o&&(n=this.FColumnOrder.GetInteger(s),this.FColumnOrder.Delete$1(s),this.FColumnOrder.Insert$1(o,n)),this.UpdateControl(!0,!0)},this.SortData=function(t,e){var i=!1;this.FBlockUpdate=!0,i=!1,this.FFilterApplied&&(this.RemoveFilter(),i=!0),this.FSortColumn=t,this.FSortDirection=e,this.FRowCount=this.FRowCount+1,this.QuickSortRows(this.FSortColumn,this.FFixedRows,this.FRowCount-2-this.FFixedFooterRows),this.DeleteRow(this.GetRowCount()-1),i&&this.ApplyFilter(),this.FBlockUpdate=!1,this.UpdateGridCells(!1)},this.SortIndexed=function(){var e=0,i=0,s=null,o=!1;if(0===this.FSortIndexes.GetCount())throw pas.SysUtils.Exception.$create("Create$1",["No indexes specified for indexed sort"]);o=!1,this.FFilterApplied&&(this.RemoveFilter(),o=!0),this.BeginUpdate();try{for(e=this.FRowDisplayList.GetCount(),i=this.FRowList.GetCount(),this.FRowCount=this.FRowCount+1,this.QuickSortRowsIndexed(0,this.FFixedRows,this.FRowCount-2-this.FFixedFooterRows),this.ClearCells(t.TTMSFNCGridCellRecRange.$clone(this.CellRange(0,this.GetRowCount()-1,this.GetColumnCount()-1,this.GetRowCount()-1))),this.FRowCount=this.FRowCount-1;e<this.FRowDisplayList.GetCount();)this.FRowDisplayList.Delete(this.FRowDisplayList.GetCount()-1);for(;i<this.FRowList.GetCount();)s=this.FRowList.GetItem(this.FRowList.GetCount()-1),s=rtl.freeLoc(s),this.FRowList.Delete(this.FRowList.GetCount()-1)}finally{o&&this.ApplyFilter(),this.EndUpdate()}this.UpdateGridCells(!1)},this.SortGrouped=function(t,e){this.FSortColumn=t,this.FSortDirection=e,this.SortGroupedInt(!1)},this.SortGroupedIndexed=function(){this.SortGroupedInt(!0)},this.CopyToClipboard=function(t){},this.CutToClipboard=function(t){},this.PasteFromClipboard=function(){},rtl.addIntf(this,pas["WEBLib.TMSFNCGraphicsTypes"].ITMSFNCAppearanceGlobalFont),rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown);var i=this.$rtti;i.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]]),i.addProperty("BitmapContainer",3,pas["WEBLib.TMSFNCBitmapContainer"].$rtti.TTMSFNCBitmapContainer,"GetBitmapContainer","SetBitmapContainer"),i.addProperty("DefaultRowHeight",14,rtl.double,"FDefaultRowHeight","SetDefaultRowHeight",{stored:"IsDefaultRowHeightStored"}),i.addProperty("DefaultColumnWidth",14,rtl.double,"FDefaultColumnWidth","SetDefaultColumnWidth",{stored:"IsDefaultColumnWidthStored"}),i.addProperty("FixedColumns",2,rtl.longint,"FFixedColumns","SetFixedColumns",{Default:1}),i.addProperty("FixedRows",2,rtl.longint,"FFixedRows","SetFixedRows",{Default:1}),i.addProperty("FixedRightColumns",2,rtl.longint,"FFixedRightColumns","SetFixedRightColumns",{Default:0}),i.addProperty("FixedFooterRows",2,rtl.longint,"FFixedFooterRows","SetFixedFooterRows",{Default:0}),i.addProperty("ColumnCount",3,rtl.longint,"GetColumnCount","SetColumnCount",{Default:5}),i.addProperty("RowCount",3,rtl.longint,"GetRowCount","SetRowCount",{Default:10}),i.addProperty("OnColumnCalc",0,t.$rtti.TTMSFNCGridColumnCalcEvent,"FOnColumnCalc","FOnColumnCalc"),i.addProperty("OnGroupCalc",0,t.$rtti.TTMSFNCGridColumnCalcEvent,"FOnGroupCalc","FOnGroupCalc"),i.addProperty("OnCustomCompare",0,t.$rtti.TTMSFNCGridCustomCompareEvent,"FOnCustomCompare","FOnCustomCompare"),i.addProperty("OnIOProgress",0,t.$rtti.TTMSFNCGridIOProgressEvent,"FOnIOProgress","FOnIOProgress"),i.addProperty("OnRawCompare",0,t.$rtti.TTMSFNCGridRawCompareEvent,"FOnRawCompare","FOnRawCompare"),i.addProperty("OnSortFormat",0,t.$rtti.TTMSFNCGridSortFormatEvent,"FOnSortFormat","FOnSortFormat"),i.addProperty("OnCellsChanged",0,t.$rtti.TTMSFNCGridCellsChangedEvent,"FOnCellsChanged","FOnCellsChanged"),i.addProperty("OnClipboardBeforePasteCell",0,t.$rtti.TTMSFNCGridClipboardBeforePasteEvent,"FOnClipboardBeforePasteCell","FOnClipboardBeforePasteCell"),i.addProperty("OnClipboardAfterPasteCell",0,t.$rtti.TTMSFNCGridClipboardAfterPasteEvent,"FOnClipboardAfterPasteCell","FOnClipboardAfterPasteCell"),i.addProperty("OnClipboardPaste",0,t.$rtti.TTMSFNCGridCellsChangedEvent,"FOnClipboardPaste","FOnClipboardPaste"),i.addProperty("OnNeedFilterDropDown",0,t.$rtti.TTMSFNCGridNeedFilterDropDownEvent,"FOnNeedFilterDropDown","FOnNeedFilterDropDown"),i.addProperty("OnNeedFilterDropDownData",0,t.$rtti.TTMSFNCGridNeedFilterDropDownDataEvent,"FOnNeedFilterDropDownData","FOnNeedFilterDropDownData"),i.addProperty("OnFilterSelect",0,t.$rtti.TTMSFNCGridFilterSelectEvent,"FOnFilterSelect","FOnFilterSelect"),i.addProperty("OnAfterApplyFilter",0,t.$rtti.TTMSFNCGridAfterApplyFilterEvent,"FOnAfterApplyFilter","FOnAfterApplyFilter"),i.addProperty("OnLoadCell",0,t.$rtti.TTMSFNCGridIOEvent,"FOnLoadCell","FOnLoadCell"),i.addProperty("OnSaveCell",0,t.$rtti.TTMSFNCGridIOEvent,"FOnSaveCell","FOnSaveCell"),i.addProperty("Options",2,pas["WEBLib.TMSFNCGridOptions"].$rtti.TTMSFNCGridOptions,"FOptions","SetOptions"),i.addProperty("OnSelectCell",0,t.$rtti.TTMSFNCGridOnSelectCell,"FOnSelectCell","FOnSelectCell"),i.addProperty("OnSelectedCell",0,t.$rtti.TTMSFNCGridOnSelectedCell,"FOnSelectedCell","FOnSelectedCell")})),this.InCellRange=function(t,e,i){return t>=i.StartCol&&t<=i.EndCol&&e>=i.StartRow&&e<=i.EndRow},this.MakeCell=function(e,i){var s=t.TTMSFNCGridCellRec.$new();return s.Col=e,s.Row=i,s},t.$implcode=function(){e.CleanupSep=function(t){var e=0,i="";i="";for(var s=1,o=t.length;s<=o;s++)e=s,t.charAt(e-1)!==pas.SysUtils.FormatSettings.ThousandSeparator&&(t.charAt(e-1)===pas.SysUtils.FormatSettings.DecimalSeparator?i+=".":i+=t.charAt(e-1));return i}}}),["RTLConsts","Math","WEBLib.TMSFNCUtils"]),rtl.module("WEBLib.TMSFNCCustomPicker",["System","Classes","WEBLib.TMSFNCCustomSelector","WEBLib.TMSFNCPersistence","WEBLib.TMSFNCGraphics","WEBLib.TMSFNCGraphicsTypes","WEBLib.TMSFNCCustomControl","WEBLib.TMSFNCPopup","WEBLib.TMSFNCTypes","WEBLib.Controls","WEBLib.StdCtrls","WEBLib.ExtCtrls"],(function(){"use strict";var t=this.$impl;this.$rtti.$MethodVar("TTMSFNCCustomPickerBeforeDraw",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF],["ADefaultDraw",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCCustomPickerAfterDraw",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF]]),methodkind:0}),rtl.createClass(this,"TTMSFNCCustomPicker",pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl,(function(){this.$init=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$init.call(this),this.FExitTimerClose=!1,this.FDefaultStyle=!1,this.FKeyDown=0,this.FContent="",this.FEdit=null,this.FTimer=null,this.FExitTimer=null,this.FDown=!1,this.FPopup=null,this.FSelector=null,this.FOnItemBeforeDrawText=null,this.FOnAfterDraw$1=null,this.FOnItemAfterDrawBackground=null,this.FOnItemSelected=null,this.FOnItemAfterDrawText=null,this.FOnBeforeDraw$1=null,this.FOnItemBeforeDrawBackground=null,this.FDropDownHeight=0,this.FDropDownWidth=0,this.FOnItemDeselected=null,this.FOnItemClick=null,this.FOnItemBeforeDrawContent=null,this.FOnItemAfterDrawContent=null,this.FOnPickerBeforeDraw=null,this.FOnPickerAfterDraw=null,this.FShowFocus$1=!1,this.FOnClosePopup=null,this.FOnPopup=null,this.FOnEditChange=null,this.FEditable=!1,this.FUpdateCount$1=0,this.FFont$1=null,this.FPreventDropDown=!1},this.$final=function(){this.FEdit=void 0,this.FTimer=void 0,this.FExitTimer=void 0,this.FPopup=void 0,this.FSelector=void 0,this.FOnItemBeforeDrawText=void 0,this.FOnAfterDraw$1=void 0,this.FOnItemAfterDrawBackground=void 0,this.FOnItemSelected=void 0,this.FOnItemAfterDrawText=void 0,this.FOnBeforeDraw$1=void 0,this.FOnItemBeforeDrawBackground=void 0,this.FOnItemDeselected=void 0,this.FOnItemClick=void 0,this.FOnItemBeforeDrawContent=void 0,this.FOnItemAfterDrawContent=void 0,this.FOnPickerBeforeDraw=void 0,this.FOnPickerAfterDraw=void 0,this.FOnClosePopup=void 0,this.FOnPopup=void 0,this.FOnEditChange=void 0,this.FFont$1=void 0,pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$final.call(this)},this.CalcSize=function(){},this.GetAppearance=function(){return this.FSelector.FAppearance},this.GetColumns=function(){return this.FSelector.FColumns},this.GetRows=function(){return this.FSelector.FRows},this.GetSelectedItemIndex=function(){return this.FSelector.FSelectedItemIndex},this.SetAppearance=function(t){this.FSelector.FAppearance.Assign(t)},this.SetColumns=function(t){this.FSelector.SetColumns(t)},this.SetRows=function(t){this.FSelector.SetRows(t)},this.SetSelectedItemIndex=function(t){this.FSelector.SetSelectedItemIndex(t)},this.GetFill=function(){return this.FSelector.FFill},this.GetStroke=function(){return this.FSelector.FStroke},this.SetFill$1=function(t){this.FSelector.FFill.Assign(t)},this.SetStroke$1=function(t){this.FSelector.FStroke.Assign(t)},this.SetDropDownHeight=function(t){this.FDropDownHeight=t,null!=this.FPopup&&this.FPopup.SetDropDownHeight(this.FDropDownHeight)},this.SetDropDownWidth=function(t){this.FDropDownWidth=t,null!=this.FPopup&&this.FPopup.SetDropDownWidth(this.FDropDownWidth)},this.IsDropDownHeightStored=function(){return 135!==this.FDropDownHeight},this.IsDropDownWidthStored=function(){return 135!==this.FDropDownWidth},this.GetPopup=function(){return this.FPopup},this.GetSelector=function(){return this.FSelector},this.SetContent=function(t){this.FContent=t,this.UpdateEditText(t)},this.SetDefaultStyle=function(t){this.FDefaultStyle!==t&&(this.FDefaultStyle=t,this.Invalidate())},this.SetFnt=function(t){this.FFont$1.Assign(t)},this.GetVersion=function(){return this.$class.GetVersionNumber(1,0,0,5)},this.ApplyStyle=function(){var t=0;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.ApplyStyle.call(this),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleBackgroundFillColor({get:function(){return t},set:function(e){t=e}})&&this.GetFill().SetColor(t),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleLineFillColor({get:function(){return t},set:function(e){t=e}})&&this.GetStroke().SetColor(t),this.Invalidate()},this.SetAdaptToStyle=function(t){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.SetAdaptToStyle.apply(this,arguments),null!=this.FPopup&&this.FPopup.SetAdaptToStyle(this.GetAdaptToStyle())},this.DoExit=function(){pas["WEBLib.Controls"].TControl.DoExit.call(this),this.Invalidate()},this.DoEnter=function(){pas["WEBLib.Controls"].TControl.DoEnter.call(this),this.FTimer.SetEnabled(!0),this.Invalidate()},this.DoEditExit=function(t){this.FExitTimer.SetEnabled(!0)},this.UpdateEditText=function(t){null!=this.FEdit&&null!=this.FEdit.FParent&&this.FEditable&&this.FEdit.SetText(t)},this.DoItemSelected=function(t,e){this.UpdateEditText(""),null!=this.FOnItemSelected&&this.FOnItemSelected(this,e)},this.DoItemDeselected=function(t,e){null!=this.FOnItemDeselected&&this.FOnItemDeselected(this,e)},this.DoItemClick=function(t,e){null!=this.FOnItemClick&&this.FOnItemClick(this,e)},this.DoItemBeforeDrawBackground=function(t,e,i,s,o){null!=this.FOnItemBeforeDrawBackground&&this.FOnItemBeforeDrawBackground(this,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),s,o)},this.DoItemAfterDrawBackground=function(t,e,i,s){null!=this.FOnItemAfterDrawBackground&&this.FOnItemAfterDrawBackground(this,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),s)},this.DoItemBeforeDrawContent=function(t,e,i,s,o){null!=this.FOnItemBeforeDrawContent&&this.FOnItemBeforeDrawContent(this,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),s,o)},this.DoItemAfterDrawContent=function(t,e,i,s){null!=this.FOnItemAfterDrawContent&&this.FOnItemAfterDrawContent(this,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),s)},this.DoItemBeforeDrawText=function(t,e,i,s,o,n){null!=this.FOnItemBeforeDrawText&&this.FOnItemBeforeDrawText(this,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),s,o,n)},this.DoItemAfterDrawText=function(t,e,i,s,o){null!=this.FOnItemAfterDrawText&&this.FOnItemAfterDrawText(this,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),s,o)},this.DoBeforeDraw$1=function(t,e,i,s){null!=this.FOnBeforeDraw$1&&this.FOnBeforeDraw$1(this,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),s)},this.DoAfterDraw$1=function(t,e,i){null!=this.FOnAfterDraw$1&&this.FOnAfterDraw$1(this,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i))},this.DoPickerBeforeDraw=function(t,e,i){null!=this.FOnPickerBeforeDraw&&this.FOnPickerBeforeDraw(this,t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i)},this.DoPickerAfterDraw=function(t,e){null!=this.FOnPickerAfterDraw&&this.FOnPickerAfterDraw(this,t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e))},this.Draw=function(t,e){var i=!1,s=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),o=pas["WEBLib.TMSFNCTypes"].TRectF.$new();pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Draw.apply(this,arguments),i=!0,this.DoPickerBeforeDraw(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),{get:function(){return i},set:function(t){i=t}}),i&&(this.DrawBackground(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e)),s.$assign(e),s.Right=s.Right-this.ScalePaintValue(15),this.DrawContent(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s)),this.FShowFocus$1&&this.IsFocused()&&(o.$assign(e),pas["WEBLib.TMSFNCTypes"].InflateRectEx(o,-1,-1),t.DrawFocusRectangle$3(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(o),0,2)),this.DoPickerAfterDraw(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e)))},this.SelectFirstValue=function(){},this.SelectLastValue=function(){},this.SelectNextValue=function(){},this.SelectPreviousValue=function(){},this.EditUp=function(){},this.EditDown=function(){},this.DoPopup=function(t){this.FEditable&&(this.FPreventDropDown=!0),this.InitializePopup(),null!=this.FSelector&&this.FSelector.CalculateItems(),null!=this.FOnPopup&&this.FOnPopup(this)},this.DoClosePopup=function(t){null!=this.FOnClosePopup&&this.FOnClosePopup(this)},this.EnterTimerChanged=function(t){this.FEditable&&!this.FExitTimerClose&&this.FEdit.SetFocus(),this.FExitTimerClose=!1,this.FTimer.SetEnabled(!1)},this.ExitTimerChanged=function(t){var e=!1;this.FExitTimer.SetEnabled(!1),this.FExitTimerClose=!0,e=!0,null!=this.FPopup.FFocusedControl?pas["WEBLib.Controls"].TCustomControl.isPrototypeOf(this.FPopup.FFocusedControl)&&(e=!rtl.as(this.FPopup.FFocusedControl,pas["WEBLib.Controls"].TCustomControl).Focused()):null!=this.FPopup.FContentControl&&pas["WEBLib.Controls"].TCustomControl.isPrototypeOf(this.FPopup.FContentControl)&&(e=!rtl.as(this.FPopup.FContentControl,pas["WEBLib.Controls"].TCustomControl).Focused()),this.FPopup.FIsOpen&&!this.FDown&&e&&!this.FPreventDropDown&&this.DropDown(),this.FPreventDropDown=!1},this.EditChange=function(t){this.SetContent(this.FEdit.GetText()),this.DoEditChange(),null!=this.FOnEditChange&&this.FOnEditChange(this)},this.DoEditChange=function(){},this.HandleDialogKey=function(t,e){rtl.neSet(e,{})||this.FEditable&&this.FEdit.IsFocused()&&115===t.get()&&(1 in e||this.DropDown())},this.InitializePopup=function(){null!=this.FPopup&&(this.FPopup.SetAdaptToStyle(this.GetAdaptToStyle()),this.FDefaultStyle?(this.FPopup.FFillColor=-1,this.FPopup.FStrokeColor=-1):(this.FPopup.FFillColor=this.GetFill().FColor,this.FPopup.FStrokeColor=this.GetStroke().FColor)),null!=this.FSelector&&this.FSelector.SetAdaptToStyle(this.GetAdaptToStyle())},this.FntChanged=function(t){this.Invalidate()},this.CreateSelector=function(){return pas["WEBLib.TMSFNCCustomSelector"].TTMSFNCCustomSelector.$create("Create$1",[this])},this.GetFocusedControl=function(){return null,null},this.AssignEvents=function(){null!=this.FSelector&&(this.FSelector.FOnItemSelected=rtl.createCallback(this,"DoItemSelected"),this.FSelector.FOnItemDeselected=rtl.createCallback(this,"DoItemDeselected"),this.FSelector.FOnItemClick=rtl.createCallback(this,"DoItemClick"),this.FSelector.FOnItemBeforeDrawBackground=rtl.createCallback(this,"DoItemBeforeDrawBackground"),this.FSelector.FOnItemAfterDrawBackground=rtl.createCallback(this,"DoItemAfterDrawBackground"),this.FSelector.FOnItemBeforeDrawContent=rtl.createCallback(this,"DoItemBeforeDrawContent"),this.FSelector.FOnItemAfterDrawContent=rtl.createCallback(this,"DoItemAfterDrawContent"),this.FSelector.FOnItemBeforeDrawText=rtl.createCallback(this,"DoItemBeforeDrawText"),this.FSelector.FOnItemAfterDrawText=rtl.createCallback(this,"DoItemAfterDrawText"),this.FSelector.FOnBeforeDraw$1=rtl.createCallback(this,"DoBeforeDraw$1"),this.FSelector.FOnAfterDraw$1=rtl.createCallback(this,"DoAfterDraw$1"))},this.SetGraphicColors=function(){pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultPopupFillColor=this.GetFill().FColor,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultPopupStrokeColor=this.GetStroke().FColor,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonFillColor=this.GetFill().FColor,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonStrokeColor=this.GetStroke().FColor,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultTextFontColor=this.FFont$1.FColor,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultSelectionFillColor=11119017,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonFillColorFocused=pas["WEBLib.TMSFNCGraphicsTypes"].Lighter(this.GetFill().FColor,20),pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonStrokeColorFocused=pas["WEBLib.TMSFNCGraphicsTypes"].Lighter(this.GetStroke().FColor,20),pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonStrokeColorDisabled=11119017,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonFillColorDisabled=13882323},this.DrawContent=function(t,e){t.FFont.Assign(this.FFont$1),this.FEnabled||t.FFont.SetColor(12632256)},this.DrawBackground=function(t,e){this.FDefaultStyle||this.SetGraphicColors(),t.DrawDropDownButton(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),this.FDown,this.IsFocused(),!0,!1,this.GetAdaptToStyle()||!this.FDefaultStyle,this.FPaintScaleFactor),this.FDefaultStyle||t.$class.SetDefaultGraphicColors()},this.HandleMouseDown=function(t,e,i,s){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseDown.apply(this,arguments),this.CanFocus()&&this.SetFocus(),0===t&&(this.FDown=!0,this.Invalidate(),this.DropDown(),this.FEditable&&this.FEdit.SetFocus())},this.HandleMouseUp=function(t,e,i,s){this.FDown=!1,this.Invalidate()},this.HandleKeyDown=function(t,e){if(pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleKeyDown.apply(this,arguments),1 in e){var i=t.get();if(38===i||40===i)return void this.DropDown()}var s=t.get();if(36===s?this.SelectFirstValue():35===s?this.SelectLastValue():38===s||37===s?this.SelectPreviousValue():40!==s&&39!==s||this.SelectNextValue(),!rtl.neSet(e,{})){var o=t.get();32!==o&&13!==o&&115!==o||this.DropDown()}},this.EditKeyDown=function(t,e,i){this.FKeyDown=e.get()},this.EditKeyPress=function(t,e){this.FKeyDown in rtl.createSet(38,40)&&(38===this.FKeyDown&&this.EditUp(),40===this.FKeyDown&&this.EditDown(),e.set("\0"))},this.Create$1=function(e){return pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Create$1.apply(this,arguments),this.FExitTimerClose=!1,this.FPreventDropDown=!1,this.FFont$1=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2"),this.FFont$1.FOnChanged=rtl.createCallback(this,"FntChanged"),this.FDefaultStyle=!0,this.FTimer=pas["WEBLib.ExtCtrls"].TTimer.$create("Create$1",[this]),this.FTimer.SetInterval(1),this.FTimer.FOnTimer=rtl.createCallback(this,"EnterTimerChanged"),this.FTimer.SetEnabled(!1),this.FExitTimer=pas["WEBLib.ExtCtrls"].TTimer.$create("Create$1",[this]),this.FExitTimer.SetInterval(1),this.FExitTimer.FOnTimer=rtl.createCallback(this,"ExitTimerChanged"),this.FExitTimer.SetEnabled(!1),this.FEdit=t.TTMSFNCCustomPickerEdit.$create("Create$1",[this]),this.FEdit.SetTabOrder(0),this.FEdit.SetTabStop(!0),this.FEdit.FOnKeyDown=rtl.createCallback(this,"EditKeyDown"),this.FEdit.FOnExit=rtl.createCallback(this,"DoEditExit"),this.FEdit.SetAlignWithMargins(!0),this.FEdit.FMargins.SetLeft(0),this.FEdit.FMargins.SetTop(0),this.FEdit.FMargins.SetRight(17),this.FEdit.FMargins.SetBottom(0),this.FEdit.SetAlign(5),this.FEdit.FOnChange=rtl.createCallback(this,"EditChange"),this.FEdit.FOnKeyPress=rtl.createCallback(this,"EditKeyPress"),this.FDropDownWidth=135,this.FDropDownHeight=135,this.FShowFocus$1=!0,this.FSelector=this.CreateSelector(),this.AssignEvents(),this.FPopup=pas["WEBLib.TMSFNCPopup"].TTMSFNCPopup.$create("Create$1",[this]),this.FPopup.SetDragWithParent(!0),this.FPopup.FFocusedControl=this.GetFocusedControl(),this.FPopup.SetContentControl(this.FSelector),this.FPopup.SetDropDownWidth(this.FDropDownWidth),this.FPopup.SetDropDownHeight(this.FDropDownHeight),this.FPopup.FOnPopup=rtl.createCallback(this,"DoPopup"),this.FPopup.FOnClosePopup=rtl.createCallback(this,"DoClosePopup"),this.SetWidth(60),this.SetHeight(22),this},this.Destroy=function(){null!=this.FFont$1&&pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FFont$1},set:function(t){this.p.FFont$1=t}}),null!=this.FSelector&&pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FSelector},set:function(t){this.p.FSelector=t}}),null!=this.FPopup&&pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FPopup},set:function(t){this.p.FPopup=t}}),pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Destroy.call(this)},this.DropDown=function(){this.FPopup.SetPlacementControl(this),this.FPopup.FIsOpen?this.FPopup.SetIsOpen(!1):(this.CalcSize(),this.FPopup.SetIsOpen(!0))},this.BeginUpdate=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBase.BeginUpdate.call(this),this.FUpdateCount$1+=1,null!=this.FSelector&&this.FSelector.BeginUpdate()},this.EndUpdate=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBase.EndUpdate.call(this),this.FUpdateCount$1-=1,null!=this.FSelector&&this.FSelector.EndUpdate()},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),rtl.createClass(this,"TTMSFNCDefaultPicker",this.TTMSFNCCustomPicker,(function(){rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown);var t=this.$rtti;t.addProperty("DefaultStyle",2,rtl.boolean,"FDefaultStyle","SetDefaultStyle",{Default:!0}),t.addProperty("Fill",3,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"GetFill","SetFill$1"),t.addProperty("Stroke",3,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"GetStroke","SetStroke$1"),t.addProperty("Font",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFont,"FFont$1","SetFnt"),t.addProperty("Version",1,rtl.string,"GetVersion",""),t.addProperty("OnPopup",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnPopup","FOnPopup"),t.addProperty("OnClosePopup",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClosePopup","FOnClosePopup")})),this.$implcode=function(){rtl.createClass(t,"TTMSFNCOpenCustomSelector",pas["WEBLib.TMSFNCCustomSelector"].TTMSFNCCustomSelector,(function(){rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(t,"TTMSFNCCustomPickerEdit",pas["WEBLib.StdCtrls"].TEdit,(function(){rtl.addIntf(this,pas.System.IUnknown)}))}}),["SysUtils","WEBLib.TMSFNCUtils","WEBLib.TMSFNCStyles"]),rtl.module("WEBLib.TMSFNCColorPicker",["System","Classes","WEBLib.TMSFNCCustomPicker","WEBLib.Controls","WEBLib.TMSFNCColorSelector","WEBLib.TMSFNCCustomSelector","WEBLib.TMSFNCGraphics","WEBLib.TMSFNCTypes","WEBLib.TMSFNCGraphicsTypes","Types"],(function(){"use strict";var t=this;this.MAJ_VER=1,this.MIN_VER=0,this.REL_VER=0,this.BLD_VER=1,rtl.createClass(this,"TTMSFNCColorSelectorEx",pas["WEBLib.TMSFNCColorSelector"].TTMSFNCColorSelector,(function(){this.$init=function(){pas["WEBLib.TMSFNCColorSelector"].TTMSFNCColorSelector.$init.call(this),this.FPicker=null},this.$final=function(){this.FPicker=void 0,pas["WEBLib.TMSFNCColorSelector"].TTMSFNCColorSelector.$final.call(this)},this.WrapperSizeChanged=function(t,e){var i=pas["WEBLib.TMSFNCTypes"].TSizeF.$new();pas["WEBLib.TMSFNCColorSelector"].TTMSFNCCustomColorSelector.WrapperSizeChanged.apply(this,arguments),null!=this.FPicker&&(this.FPicker.SetDropDownHeight(e),this.FPicker.SetDropDownWidth(t),i.cx=t,i.cy=e,this.FPicker.GetPopup().SetPopupFormSize(i),this.SetWidth(this.GetWidth()+1),this.SetWidth(this.GetWidth()-1))},this.Create$1=function(e){return pas["WEBLib.TMSFNCColorSelector"].TTMSFNCCustomColorSelector.Create$1.apply(this,arguments),null!=e&&t.TTMSFNCCustomColorPicker.isPrototypeOf(e)&&(this.FPicker=rtl.as(e,t.TTMSFNCCustomColorPicker)),this},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),rtl.createClass(this,"TTMSFNCCustomColorPicker",pas["WEBLib.TMSFNCCustomPicker"].TTMSFNCDefaultPicker,(function(){this.$init=function(){pas["WEBLib.TMSFNCCustomPicker"].TTMSFNCDefaultPicker.$init.call(this),this.FColorSelector=null,this.FOnColorSelected=null,this.FCloseOnSelection=!1,this.FOnColorDeselected=null},this.$final=function(){this.FColorSelector=void 0,this.FOnColorSelected=void 0,this.FOnColorDeselected=void 0,pas["WEBLib.TMSFNCCustomPicker"].TTMSFNCDefaultPicker.$final.call(this)},this.GetSelectedColor=function(){return this.FColorSelector.GetSelectedColor()},this.SetSelectedColor=function(t){this.FColorSelector.SetSelectedColor(t),this.Invalidate()},this.GetItems$1=function(){return this.FColorSelector.GetItems()},this.SetItems$1=function(t){this.FColorSelector.GetItems().Assign(t)},this.GetMode=function(){return this.FColorSelector.FMode},this.SetMode=function(t){this.FColorSelector.SetMode(t);var e=this.GetMode();0===e?(this.SetDropDownWidth(135),this.SetDropDownHeight(135)):1===e?(this.SetDropDownWidth(200),this.SetDropDownHeight(135)):2===e&&(this.SetDropDownWidth(200),this.SetDropDownHeight(175))},this.DoColorSelected=function(){null!=this.FOnColorSelected&&this.FOnColorSelected(this,this.GetSelectedColor()),this.Invalidate()},this.ColorSelected=function(t,e){this.FCloseOnSelection&&!this.GetSelector().FBlockChange&&this.DropDown(),null!=this.FOnColorSelected&&this.FOnColorSelected(this,e),this.Invalidate()},this.ColorDeselected=function(t,e){null!=this.FOnColorDeselected&&this.FOnColorDeselected(this,e),this.Invalidate()},this.DrawContent=function(t,e){var i,s=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),o=0,n=0;s.$assign(e),pas["WEBLib.TMSFNCTypes"].InflateRectEx(s,this.ScalePaintValue$1(-3),this.ScalePaintValue$1(-4)),pas["WEBLib.TMSFNCTypes"].OffsetRectEx$1(s,this.ScalePaintValue$1(1),.5),i=t.SaveState(!1);try{t.ClipRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s)),t.FStroke.SetKind(0),t.FFill.SetKind(1),t.FStroke.SetWidth(1),t.FFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(255,255,255)),t.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),2),t.FFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(211,211,211));for(var a=0,r=pas.System.Trunc((s.Right-s.Left)/5)+1;a<=r;a++){o=a;for(var l=0,h=pas.System.Trunc((s.Bottom-s.Top)/5)+1;l<=h;l++)n=l,pas.System.Odd(o+n)&&t.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(5*o,5*n,5*(o+1),5*(n+1))),0)}t.FFill.SetKind(1),t.FFill.SetColor(this.GetSelectedColor()),t.FStroke.SetColor(0),t.FStroke.SetKind(1),t.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),2)}finally{t.RestoreState(i,!1)}},this.SelectFirstValue=function(){pas["WEBLib.TMSFNCCustomPicker"].TTMSFNCCustomPicker.SelectFirstValue.call(this),this.FColorSelector.GetItems().GetCount()>0&&(this.FColorSelector.SetSelectedItemIndex(0),this.DoColorSelected())},this.SelectLastValue=function(){pas["WEBLib.TMSFNCCustomPicker"].TTMSFNCCustomPicker.SelectLastValue.call(this),this.FColorSelector.GetItems().GetCount()>0&&(this.FColorSelector.SetSelectedItemIndex(this.FColorSelector.GetItems().GetCount()-1),this.DoColorSelected())},this.SelectNextValue=function(){pas["WEBLib.TMSFNCCustomPicker"].TTMSFNCCustomPicker.SelectNextValue.call(this),this.FColorSelector.GetItems().GetCount()>0&&(-1===this.FColorSelector.FSelectedItemIndex?this.FColorSelector.SetSelectedItemIndex(0):this.FColorSelector.SetSelectedItemIndex(Math.min(this.FColorSelector.GetItems().GetCount()-1,this.FColorSelector.FSelectedItemIndex+1)),this.DoColorSelected())},this.SelectPreviousValue=function(){pas["WEBLib.TMSFNCCustomPicker"].TTMSFNCCustomPicker.SelectPreviousValue.call(this),this.FColorSelector.GetItems().GetCount()>0&&(-1===this.FColorSelector.FSelectedItemIndex?this.FColorSelector.SetSelectedItemIndex(0):this.FColorSelector.SetSelectedItemIndex(Math.max(0,this.FColorSelector.FSelectedItemIndex-1)),this.DoColorSelected())},this.GetVersion=function(){return this.$class.GetVersionNumber(1,0,0,1)},this.CreateSelector=function(){return this.FColorSelector=t.TTMSFNCColorSelectorEx.$create("Create$1",[this]),this.FColorSelector.FOnColorSelected=rtl.createCallback(this,"ColorSelected"),this.FColorSelector.FOnColorDeselected=rtl.createCallback(this,"ColorDeselected"),this.FColorSelector.InitializeDefault(),this.FColorSelector},this.GetFocusedControl=function(){return this.FColorSelector},this.Create$1=function(t){return pas["WEBLib.TMSFNCCustomPicker"].TTMSFNCCustomPicker.Create$1.apply(this,arguments),this.FCloseOnSelection=!0,this},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),rtl.createClass(this,"TTMSFNCColorPicker",this.TTMSFNCCustomColorPicker,(function(){this.RegisterRuntimeClasses=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.RegisterRuntimeClasses.call(this),pas.Classes.RegisterClass(t.TTMSFNCColorPicker)},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("DropDownWidth",14,rtl.double,"FDropDownWidth","SetDropDownWidth",{stored:"IsDropDownWidthStored"}),e.addProperty("DropDownHeight",14,rtl.double,"FDropDownHeight","SetDropDownHeight",{stored:"IsDropDownHeightStored"}),e.addProperty("Appearance",3,pas["WEBLib.TMSFNCCustomSelector"].$rtti.TTMSFNCCustomSelectorAppearance,"GetAppearance","SetAppearance"),e.addProperty("Rows",3,rtl.longint,"GetRows","SetRows",{Default:4}),e.addProperty("Columns",3,rtl.longint,"GetColumns","SetColumns",{Default:4}),e.addProperty("Items",3,pas["WEBLib.TMSFNCColorSelector"].$rtti.TTMSFNCColorSelectorItems,"GetItems$1","SetItems$1"),e.addProperty("Mode",3,pas["WEBLib.TMSFNCColorSelector"].$rtti.TTMSFNCCustomColorSelectorMode,"GetMode","SetMode",{Default:pas["WEBLib.TMSFNCColorSelector"].TTMSFNCCustomColorSelectorMode.csmSimple}),e.addProperty("CloseOnSelection",0,rtl.boolean,"FCloseOnSelection","FCloseOnSelection",{Default:!0}),e.addProperty("OnColorSelected",0,pas["WEBLib.TMSFNCColorSelector"].$rtti.TTMSFNCCustomSelectorColorSelected,"FOnColorSelected","FOnColorSelected"),e.addProperty("OnColorDeselected",0,pas["WEBLib.TMSFNCColorSelector"].$rtti.TTMSFNCCustomSelectorColorDeselected,"FOnColorDeselected","FOnColorDeselected"),e.addProperty("SelectedColor",3,pas["WEBLib.Graphics"].$rtti.TColor,"GetSelectedColor","SetSelectedColor",{Default:-1}),e.addProperty("OnItemSelected",0,pas["WEBLib.TMSFNCCustomSelector"].$rtti.TTMSFNCCustomSelectorItemSelected,"FOnItemSelected","FOnItemSelected"),e.addProperty("OnItemDeselected",0,pas["WEBLib.TMSFNCCustomSelector"].$rtti.TTMSFNCCustomSelectorItemDeselected,"FOnItemDeselected","FOnItemDeselected"),e.addProperty("OnItemClick",0,pas["WEBLib.TMSFNCCustomSelector"].$rtti.TTMSFNCCustomSelectorItemClick,"FOnItemClick","FOnItemClick"),e.addProperty("SelectedItemIndex",3,rtl.longint,"GetSelectedItemIndex","SetSelectedItemIndex",{Default:-1}),e.addProperty("OnPickerBeforeDraw",0,pas["WEBLib.TMSFNCCustomPicker"].$rtti.TTMSFNCCustomPickerBeforeDraw,"FOnPickerBeforeDraw","FOnPickerBeforeDraw"),e.addProperty("OnPickerAfterDraw",0,pas["WEBLib.TMSFNCCustomPicker"].$rtti.TTMSFNCCustomPickerAfterDraw,"FOnPickerAfterDraw","FOnPickerAfterDraw"),e.addProperty("OnItemBeforeDrawBackground",0,pas["WEBLib.TMSFNCCustomSelector"].$rtti.TTMSFNCCustomSelectorItemBeforeDrawBackground,"FOnItemBeforeDrawBackground","FOnItemBeforeDrawBackground"),e.addProperty("OnItemAfterDrawBackground",0,pas["WEBLib.TMSFNCCustomSelector"].$rtti.TTMSFNCCustomSelectorItemAfterDrawBackground,"FOnItemAfterDrawBackground","FOnItemAfterDrawBackground"),e.addProperty("OnItemBeforeDrawContent",0,pas["WEBLib.TMSFNCCustomSelector"].$rtti.TTMSFNCCustomSelectorItemBeforeDrawContent,"FOnItemBeforeDrawContent","FOnItemBeforeDrawContent"),e.addProperty("OnItemAfterDrawContent",0,pas["WEBLib.TMSFNCCustomSelector"].$rtti.TTMSFNCCustomSelectorItemAfterDrawContent,"FOnItemAfterDrawContent","FOnItemAfterDrawContent"),e.addProperty("OnBeforeDraw",0,pas["WEBLib.TMSFNCCustomSelector"].$rtti.TTMSFNCCustomSelectorBeforeDraw,"FOnBeforeDraw$1","FOnBeforeDraw$1"),e.addProperty("OnAfterDraw",0,pas["WEBLib.TMSFNCCustomSelector"].$rtti.TTMSFNCCustomSelectorAfterDraw,"FOnAfterDraw$1","FOnAfterDraw$1"),e.addProperty("OnItemBeforeDrawText",0,pas["WEBLib.TMSFNCCustomSelector"].$rtti.TTMSFNCCustomSelectorItemBeforeDrawText,"FOnItemBeforeDrawText","FOnItemBeforeDrawText"),e.addProperty("OnItemAfterDrawText",0,pas["WEBLib.TMSFNCCustomSelector"].$rtti.TTMSFNCCustomSelectorItemAfterDrawText,"FOnItemAfterDrawText","FOnItemAfterDrawText"),e.attr=[pas.Classes.ComponentPlatformsAttribute,"Create$1",[0]]}))}),["Math","WEBLib.TMSFNCUtils"]),rtl.module("WEBLib.TMSFNCToolBarPopup",["System","Classes","WEBLib.TMSFNCPopup","WEBLib.TMSFNCToolBar","WEBLib.TMSFNCTypes"],(function(){"use strict";var t=this,e=t.$impl;this.MAJ_VER=1,this.MIN_VER=0,this.REL_VER=0,this.BLD_VER=0,rtl.createClass(this,"TTMSFNCToolBarPopupButton",pas.Classes.TCollectionItem,(function(){this.$init=function(){pas.Classes.TCollectionItem.$init.call(this),this.FOwner=null,this.FButton=null,this.FText="",this.FTag=0,this.FWidth=0,this.FHeight=0,this.FEnabled=!1,this.FVisible=!1,this.FTop=0,this.FLeft=0,this.FLastElement=!1,this.FBitmap=null},this.$final=function(){this.FOwner=void 0,this.FButton=void 0,this.FBitmap=void 0,pas.Classes.TCollectionItem.$final.call(this)},this.SetText=function(t){this.FText!==t&&(this.FText=t,null!=this.FButton&&this.FButton.SetText(this.FText),null!=this.FOwner&&this.FOwner.UpdateToolBar())},this.SetHeight=function(t){this.FHeight!==t&&(this.FHeight=t,null!=this.FButton&&this.FHeight>-1&&this.FButton.SetHeight(Math.round(this.FHeight)),null!=this.FOwner&&this.FOwner.UpdateToolBar())},this.SetWidth=function(t){this.FWidth!==t&&(this.FWidth=t,null!=this.FButton&&this.FWidth>-1&&this.FButton.SetWidth(Math.round(this.FWidth)),null!=this.FOwner&&this.FOwner.UpdateToolBar())},this.IsHeightStored=function(){return-1!==this.FHeight},this.IsWidthStored=function(){return-1!==this.FWidth},this.SetEnabled=function(t){this.FEnabled!==t&&(this.FEnabled=t,null!=this.FButton&&this.FButton.SetEnabled(this.FEnabled),null!=this.FOwner&&this.FOwner.UpdateToolBar())},this.SetVisible=function(t){this.FVisible!==t&&(this.FVisible=t,null!=this.FButton&&this.FButton.SetVisible(this.FVisible),null!=this.FOwner&&this.FOwner.UpdateToolBar())},this.IsLeftStored=function(){return-1!==this.FLeft},this.IsTopStored=function(){return-1!==this.FTop},this.SetLeft=function(t){this.FLeft!==t&&(this.FLeft=t,null!=this.FButton&&this.FLeft>-1&&this.FButton.SetLeft(Math.round(this.FLeft)),null!=this.FOwner&&this.FOwner.UpdateToolBar())},this.SetTop=function(t){this.FTop!==t&&(this.FTop=t,null!=this.FButton&&this.FTop>-1&&this.FButton.SetTop(Math.round(this.FTop)),null!=this.FOwner&&this.FOwner.UpdateToolBar())},this.SetLastElement=function(t){this.FLastElement!==t&&(this.FLastElement=t,null!=this.FButton&&this.FButton.SetLastElement(this.FLastElement),null!=this.FOwner&&this.FOwner.UpdateToolBar())},this.SetBitmap=function(t){this.FBitmap!==t&&(this.FBitmap.Assign(t),null==this.FButton||pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(this.FBitmap)||(this.FButton.FBitmaps.Clear(),this.FButton.FBitmaps.AddBitmap(this.FBitmap,1)),null!=this.FOwner&&this.FOwner.UpdateToolBar())},this.BitmapChanged=function(t){null==this.FButton||pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(this.FBitmap)||(this.FButton.FBitmaps.Clear(),this.FButton.FBitmaps.AddBitmap(this.FBitmap,1)),null!=this.FOwner&&this.FOwner.UpdateToolBar()},this.Create$1=function(e){return pas.Classes.TCollectionItem.Create$1.apply(this,arguments),null!=this.FCollection&&(this.FOwner=rtl.as(this.FCollection,t.TTMSFNCToolBarPopupButtons).FOwner$1),this.FBitmap=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),this.FBitmap.FOnChange=rtl.createCallback(this,"BitmapChanged"),this.FWidth=-1,this.FHeight=-1,this.FTop=-1,this.FLeft=-1,this.FVisible=!0,this.FEnabled=!0,this.FLastElement=!1,null!=this.FOwner&&null!=this.FOwner.FToolBar&&(this.FButton=pas["WEBLib.TMSFNCToolBar"].TTMSFNCToolBarButton.$create("Create$1",[this.FOwner.FToolBar]),this.FButton.SetTabStop(!1),this.FButton.SetAllowFocus(!1),this.FButton.SetParent(this.FOwner.FToolBar),this.FButton.FOnClick=rtl.createCallback(this.FOwner,"ToolBarButtonClick")),null!=this.FOwner&&(null!=this.FOwner.FToolBar&&this.FOwner.FToolBar.AddCustomControl(this.FButton,this.GetIndex()),this.FOwner.UpdateToolBar()),this},this.Assign=function(e){t.TTMSFNCToolBarPopupButton.isPrototypeOf(e)&&(this.FText=rtl.as(e,t.TTMSFNCToolBarPopupButton).FText,this.FWidth=rtl.as(e,t.TTMSFNCToolBarPopupButton).FWidth,this.FHeight=rtl.as(e,t.TTMSFNCToolBarPopupButton).FHeight,this.FLeft=rtl.as(e,t.TTMSFNCToolBarPopupButton).FLeft,this.FTop=rtl.as(e,t.TTMSFNCToolBarPopupButton).FTop,this.FEnabled=rtl.as(e,t.TTMSFNCToolBarPopupButton).FEnabled,this.FVisible=rtl.as(e,t.TTMSFNCToolBarPopupButton).FVisible,this.FBitmap.Assign(rtl.as(e,t.TTMSFNCToolBarPopupButton).FBitmap),this.FLastElement=rtl.as(e,t.TTMSFNCToolBarPopupButton).FLastElement)},this.Destroy=function(){rtl.free(this,"FBitmap"),pas.Classes.TCollectionItem.Destroy.call(this),null!=this.FOwner&&this.FOwner.UpdateToolBar()};var e=this.$rtti;e.addMethod("Create$1",2,[["ACollection",pas.Classes.$rtti.TCollection]]),e.addProperty("Text",2,rtl.string,"FText","SetText"),e.addProperty("Tag",0,rtl.longint,"FTag","FTag"),e.addProperty("Left",14,rtl.double,"FLeft","SetLeft",{stored:"IsLeftStored"}),e.addProperty("Top",14,rtl.double,"FTop","SetTop",{stored:"IsTopStored"}),e.addProperty("Width",14,rtl.double,"FWidth","SetWidth",{stored:"IsWidthStored"}),e.addProperty("Height",14,rtl.double,"FHeight","SetHeight",{stored:"IsHeightStored"}),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("LastElement",2,rtl.boolean,"FLastElement","SetLastElement",{Default:!1}),e.addProperty("Bitmap",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCBitmap,"FBitmap","SetBitmap")})),rtl.createClass(this,"TTMSFNCToolBarPopupButtons",pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection,(function(){this.$init=function(){pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection.$init.call(this),this.FOwner$1=null},this.$final=function(){this.FOwner$1=void 0,pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection.$final.call(this)},this.GetItem$1=function(t){return this.GetItem(t)},this.CreateItemClass=function(){return t.TTMSFNCToolBarPopupButton},this.GetOwner=function(){return this.FOwner$1},this.Create$3=function(t){return pas.Classes.TOwnedCollection.Create$2.call(this,t,this.CreateItemClass()),this.FOwner$1=t,this},this.$rtti.addMethod("Create$3",2,[["AOwner",t.$rtti.TTMSFNCCustomToolBarPopup]])})),rtl.createClass(this,"TTMSFNCCustomToolBarPopup",pas["WEBLib.TMSFNCPopup"].TTMSFNCCustomNonFocusablePopup,(function(){this.$init=function(){pas["WEBLib.TMSFNCPopup"].TTMSFNCCustomNonFocusablePopup.$init.call(this),this.FActivate=!1,this.FToolBar=null,this.FButtons=null,this.FButtonClick=null,this.FOnDeactivate=null,this.FOnActivate=null},this.$final=function(){this.FToolBar=void 0,this.FButtons=void 0,this.FButtonClick=void 0,this.FOnDeactivate=void 0,this.FOnActivate=void 0,pas["WEBLib.TMSFNCPopup"].TTMSFNCCustomNonFocusablePopup.$final.call(this)},this.GetAutoAlign=function(){return this.FToolBar.FAutoAlign},this.SetAutoAlign=function(t){this.FToolBar.SetAutoAlign(t)},this.GetDragGrip=function(){return this.FToolBar.FAppearance.FDragGrip},this.SetDragGrip=function(t){this.FToolBar.FAppearance.SetDragGrip(t)},this.GetVersion=function(){return this.$class.GetVersionNumber(1,0,0,0)},this.CreateToolBar=function(){return pas["WEBLib.TMSFNCToolBar"].TTMSFNCToolBar.$create("Create$1",[this])},this.FindPopupButton=function(t){var e=null,i=0;e=null;for(var s=0,o=this.FButtons.GetCount()-1;s<=o;s++)if(i=s,t===this.FButtons.GetItem$1(i).FButton){e=this.FButtons.GetItem$1(i);break}return e},this.SetAdaptToStyle=function(t){pas["WEBLib.TMSFNCPopup"].TTMSFNCCustomPopup.SetAdaptToStyle.apply(this,arguments),null!=this.FToolBar&&this.FToolBar.SetAdaptToStyle(this.FAdaptToStyle)},this.UpdateControls=function(t){this.UpdateToolBar()},this.UpdateToolBar=function(){0 in this.FComponentState||3 in this.FComponentState||(this.SetDropDownWidth(this.FToolBar.GetWidth()),this.SetDropDownHeight(this.FToolBar.GetHeight()))},this.PrepareToolBar=function(){null!=this.FToolBar&&this.FToolBar.SetAdaptToStyle(this.FAdaptToStyle)},this.ActivatePopup=function(){this.DoCreatePopup(!1)},this.DeactivatePopup=function(){this.ClosePopup()},this.DoClosePopup=function(){pas["WEBLib.TMSFNCPopup"].TTMSFNCCustomPopup.DoClosePopup.call(this),this.DestroyPopupForm()},this.ToolBarClick=function(t){this.ActivatePreviousWindow()},this.ToolBarButtonClick=function(t){null!=this.FButtonClick&&this.FButtonClick(this,this.FindPopupButton(rtl.as(t,pas["WEBLib.TMSFNCToolBar"].TTMSFNCToolBarButton))),this.ActivatePreviousWindow()},this.DoDragGripMoving=function(t,e,i){null!=this.FPopupForm&&(this.FPopupForm.SetLeft(this.FPopupForm.GetLeft()-Math.round(e)),this.FPopupForm.SetTop(this.FPopupForm.GetTop()-Math.round(i)))},this.Create$1=function(e){return pas["WEBLib.TMSFNCPopup"].TTMSFNCCustomNonFocusablePopup.Create$1.apply(this,arguments),this.SetPlacement(10),this.FButtons=t.TTMSFNCToolBarPopupButtons.$create("Create$3",[this]),this.FToolBar=this.CreateToolBar(),4 in this.FComponentState||this.FToolBar.SetParent(this),this.FToolBar.SetAutoAlign(!0),this.FToolBar.FOnClick=rtl.createCallback(this,"ToolBarClick"),this.FToolBar.SetTabStop(!1),this.FToolBar.SetAllowFocus(!1),this.FToolBar.FOptionsMenu.SetShowButton(!1),this.FToolBar.FAppearance.SetDragGrip(!1),this.FToolBar.FOnDragGripMoving=rtl.createCallback(this,"DoDragGripMoving"),this.FToolBar.FAutoMoveToolBar=!1,this.FToolBar.FOnUpdateControls=rtl.createCallback(this,"UpdateControls"),this.SetContentControl(this.FToolBar),this},this.Assign=function(e){pas["WEBLib.TMSFNCPopup"].TTMSFNCCustomPopup.Assign.apply(this,arguments),t.TTMSFNCCustomToolBarPopup.isPrototypeOf(e)&&(this.FButtons.Assign(rtl.as(e,t.TTMSFNCCustomToolBarPopup).FButtons),this.SetAutoAlign(rtl.as(e,t.TTMSFNCCustomToolBarPopup).GetAutoAlign()),this.SetDragGrip(rtl.as(e,t.TTMSFNCCustomToolBarPopup).GetDragGrip()))},this.Destroy=function(){rtl.free(this,"FButtons"),pas["WEBLib.TMSFNCPopup"].TTMSFNCCustomNonFocusablePopup.Destroy.call(this)},this.Activate=function(){this.Activated()&&this.Deactivate(),null!=this.FToolBar&&(this.FToolBar.SetParent(null),this.FToolBar.SetVisible(!1)),this.PrepareToolBar(),this.ActivatePopup(),this.UpdateToolBar(),this.FActivate=!0,null!=this.FOnActivate&&this.FOnActivate(this)},this.Deactivate=function(){this.DeactivatePopup(),this.FActivate=!1,null!=this.FOnDeactivate&&this.FOnDeactivate(this)},this.DropDownActive=function(){var t=!1;return t=!1,null!=this.FToolBar&&(t=this.FToolBar.DropDownActive()),t},this.Activated=function(){return this.HasPopupForm()},rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),t.$implcode=function(){rtl.createClass(e,"TTMSFNCToolBarOpen",pas["WEBLib.TMSFNCToolBar"].TTMSFNCToolBar,(function(){rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown)}))}}),["WEBLib.Forms","WEBLib.TMSFNCUtils","Types"]),rtl.module("WEBLib.TMSFNCCustomGrid",["System","Classes","WEBLib.TMSFNCEdit","WEBLib.TMSFNCPersistence","WEBLib.TMSFNCCustomComponent","WEBLib.StdCtrls","WEBLib.TMSFNCColorPicker","WEBLib.TMSFNCImage","WEBLib.TMSFNCGridData","WEBLib.TMSFNCGridCell","WEBLib.TMSFNCPopup","WEBLib.TMSFNCGraphics","WEBLib.TMSFNCToolBarPopup","Types","WEBLib.TMSFNCTypes","WEBLib.Controls","WEBLib.TMSFNCGridOptions","WEBLib.TMSFNCGridDataUtil","WEBLib.TMSFNCGraphicsTypes","WEBLib.ExtCtrls"],(function(){"use strict";var t=this,e=t.$impl;this.TTMSFNCGridCustomToolBarPopupMode={0:"tpmActiveCell",tpmActiveCell:0,1:"tpmHoverCell",tpmHoverCell:1,2:"tpmHoverNormalCell",tpmHoverNormalCell:2,3:"tpmNone",tpmNone:3},this.$rtti.$Enum("TTMSFNCGridCustomToolBarPopupMode",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TTMSFNCGridCustomToolBarPopupMode}),rtl.createClass(this,"TTMSFNCGridCustomToolBarPopup",pas["WEBLib.TMSFNCToolBarPopup"].TTMSFNCCustomToolBarPopup,(function(){this.$init=function(){pas["WEBLib.TMSFNCToolBarPopup"].TTMSFNCCustomToolBarPopup.$init.call(this),this.FGrid=null,this.FGridCell=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new()},this.$final=function(){this.FGrid=void 0,this.FGridCell=void 0,pas["WEBLib.TMSFNCToolBarPopup"].TTMSFNCCustomToolBarPopup.$final.call(this)},this.Notification=function(t,e){pas["WEBLib.TMSFNCPopup"].TTMSFNCCustomPopup.Notification.apply(this,arguments),1===e&&t===this.FGrid&&(this.FGrid=null)},this.Create$1=function(e){var i=0;if(pas["WEBLib.TMSFNCToolBarPopup"].TTMSFNCCustomToolBarPopup.Create$1.apply(this,arguments),this.IsDesignTime()&&null!=e&&pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(e))for(var s=0,o=e.GetComponentCount()-1;s<=o;s++)if(i=s,t.TTMSFNCCustomGrid.isPrototypeOf(e.GetComponent(i))){this.FGrid=rtl.as(e.GetComponent(i),t.TTMSFNCCustomGrid),this.FGrid.FToolBarPopup=this;break}return this},rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),rtl.createClass(this,"TTMSFNCGridColorPicker",pas["WEBLib.TMSFNCColorPicker"].TTMSFNCColorPicker,(function(){rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TTMSFNCGridEdit",pas["WEBLib.TMSFNCEdit"].TTMSFNCEdit,(function(){this.Create$1=function(t){return pas["WEBLib.TMSFNCEdit"].TTMSFNCEdit.Create$1.apply(this,arguments),this.FAutoClose=!1,this},rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),rtl.createClass(this,"TTMSFNCGridComboBox",pas["WEBLib.StdCtrls"].TComboBox,(function(){rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TTMSFNCGridTrackBar",pas["WEBLib.ExtCtrls"].TTrackBar,(function(){rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TTMSFNCGridMemo",pas["WEBLib.StdCtrls"].TMemo,(function(){rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TTMSFNCGridDatePicker",pas["WEBLib.StdCtrls"].TDateTimePicker,(function(){rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TTMSFNCGridSpinBox",pas["WEBLib.StdCtrls"].TSpinEdit,(function(){rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TTMSFNCGridProtectedControl",pas["WEBLib.Controls"].TWinControl,(function(){rtl.addIntf(this,pas.System.IUnknown)})),this.$rtti.$MethodVar("TTMSFNCGridOnGetCellClass",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint],["CellClassType",pas["WEBLib.TMSFNCGridCell"].$rtti.TTMSFNCGridCellClass,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridTopLeftChanged",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ATopRow",rtl.longint],["ALeftCol",rtl.longint]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnGetCellData",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint],["CellString",rtl.string,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnGetCellProperties",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint],["Cell",pas["WEBLib.TMSFNCGridCell"].$rtti.TTMSFNCGridCell]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnGetCellMergeInfo",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint],["ABaseCol",rtl.longint,1],["ABaseRow",rtl.longint,1],["AColSpan",rtl.longint,1],["ARowSpan",rtl.longint,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnGetCellEditorCustomClassType",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint],["CellEditorCustomClassType",pas["WEBLib.TMSFNCGridData"].$rtti.TTMSFNCGridEditorClass,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnGetCellEditorType",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint],["CellEditorType",pas["WEBLib.TMSFNCGridData"].$rtti.TTMSFNCGridEditorType,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnCellEditGetData",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint],["CellEditor",pas["WEBLib.Controls"].$rtti.TWinControl],["CellString",rtl.string,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnGetCellEditorProperties",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint],["CellEditor",pas["WEBLib.Controls"].$rtti.TWinControl]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnCellEditValidateData",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint],["CellEditor",pas["WEBLib.Controls"].$rtti.TWinControl],["CellString",rtl.string,1],["Allow",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnCellEditSetData",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint],["CellEditor",pas["WEBLib.Controls"].$rtti.TWinControl],["CellString",rtl.string,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnCellComboCloseUp",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint],["ItemIndex",rtl.longint],["AValue",rtl.string]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnCellEditGetColor",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint],["CellEditor",pas["WEBLib.Controls"].$rtti.TWinControl],["CellColor",pas["WEBLib.Graphics"].$rtti.TColor,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnCellEditValidateColor",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint],["CellEditor",pas["WEBLib.Controls"].$rtti.TWinControl],["CellColor",pas["WEBLib.Graphics"].$rtti.TColor,1],["Allow",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnCellEditSetColor",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint],["CellEditor",pas["WEBLib.Controls"].$rtti.TWinControl],["CellColor",pas["WEBLib.Graphics"].$rtti.TColor,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnCellEditDone",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint],["CellEditor",pas["WEBLib.Controls"].$rtti.TWinControl]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnCellEditCancel",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnCanSizeColumn",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["Allow",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnCanSizeRow",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ARow",rtl.longint],["Allow",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnColumnSize",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["NewWidth",rtl.double,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnRowSize",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ARow",rtl.longint],["NewHeight",rtl.double,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnColumnSized",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["NewWidth",rtl.double]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnRowSized",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ARow",rtl.longint],["NewHeight",rtl.double]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnColumnDragged",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["FromCol",rtl.longint],["ToCol",rtl.longint]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnRowDragged",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["FromRow",rtl.longint],["ToRow",rtl.longint]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnBeforeRowDrop",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["FromRow",rtl.longint],["ToRow",rtl.longint,1],["Allow",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnBeforeColumnDrop",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["FromColumn",rtl.longint],["ToColumn",rtl.longint,1],["Allow",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnCanSortColumn",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["Allow",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnColumnSorted",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["Direction",pas["WEBLib.TMSFNCGridData"].$rtti.TTMSFNCGridSortDirection]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnCellAnchorClick",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint],["AAnchor",rtl.string]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnGetCellReadOnly",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint],["AReadOnly",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnGetCellLayout",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint],["ALayout",pas["WEBLib.TMSFNCGridCell"].$rtti.TTMSFNCGridCellLayout],["ACellState",pas["WEBLib.TMSFNCGridData"].$rtti.TTMSFNCGridCellState]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnCellClick",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnGetCellIsFixed",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint],["ACellFixed",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnGetCellRotation",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint],["Angle",rtl.longint,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnGetRowIsBand",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ARow",rtl.longint],["ARowBand",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnCanInsertRow",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ARow",rtl.longint],["Allow",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnCanDeleteRow",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ARow",rtl.longint],["Allow",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnCanAppendColumn",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["Allow",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnCanAppendRow",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ARow",rtl.longint],["Allow",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnInsertRow",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ARow",rtl.longint]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnDeleteRow",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ARow",rtl.longint]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnAppendColumn",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridOnAppendRow",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ARow",rtl.longint]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridCellControlEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint],["ACell",pas["WEBLib.TMSFNCGridCell"].$rtti.TTMSFNCGridCell]]),methodkind:0}),this.TTMSFNCGridSizeMode={0:"smColumnSizing",smColumnSizing:0,1:"smRowSizing",smRowSizing:1,2:"smPreviousColumnSizing",smPreviousColumnSizing:2,3:"smPreviousRowSizing",smPreviousRowSizing:3},this.TTMSFNCGridDraggingMode={0:"dmNone",dmNone:0,1:"dmRowDragging",dmRowDragging:1,2:"dmColumnDragging",dmColumnDragging:2},this.$rtti.$MethodVar("TTMSFNCGridCellBeforeDraw",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF,1],["ATextRect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF,1],["ADrawText",rtl.boolean,1],["ADrawBackGround",rtl.boolean,1],["ADrawBorder",rtl.boolean,1],["AllowDraw",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridCellEditBeforeExit",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint],["CellEditor",pas["WEBLib.Controls"].$rtti.TWinControl],["AllowExit",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCGridCellAfterDraw",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF],["ATextRect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF]]),methodkind:0}),this.TTMSFNCGridEditCellStart={0:"csNone",csNone:0,1:"csStart",csStart:1,2:"csEnd",csEnd:2},this.TTMSFNCGridTabKeyMode={0:"tkmNone",tkmNone:0,1:"tkmNormal",tkmNormal:1,2:"tkmShift",tkmShift:2},rtl.createClass(this,"TTMSFNCGridAppearance",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FBandLayout=null,this.FFocusedLayout=null,this.FFixedSelectedLayout=null,this.FNormalLayout=null,this.FSummaryLayout=null,this.FOnChange=null,this.FSelectedLayout=null,this.FFixedLayout=null,this.FGroupLayout=null,this.FProgressLayout=null,this.FShowFocus=!1},this.$final=function(){this.FBandLayout=void 0,this.FFocusedLayout=void 0,this.FFixedSelectedLayout=void 0,this.FNormalLayout=void 0,this.FSummaryLayout=void 0,this.FOnChange=void 0,this.FSelectedLayout=void 0,this.FFixedLayout=void 0,this.FGroupLayout=void 0,this.FProgressLayout=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetBandLayout=function(t){this.FBandLayout.Assign(t)},this.SetFixedLayout=function(t){this.FFixedLayout.Assign(t)},this.SetFixedSelectedLayout=function(t){this.FFixedSelectedLayout.Assign(t)},this.SetFocusedLayout=function(t){this.FFocusedLayout.Assign(t)},this.SetGroupLayout=function(t){this.FGroupLayout.Assign(t)},this.SetNormalLayout=function(t){this.FNormalLayout.Assign(t)},this.SetSelectedLayout=function(t){this.FSelectedLayout.Assign(t)},this.SetSummaryLayout=function(t){this.FSummaryLayout.Assign(t)},this.SetProgressLayout=function(t){this.FProgressLayout.Assign(t)},this.SetShowFocus=function(t){this.FShowFocus!==t&&(this.FShowFocus=t,this.LayoutChanged(this))},this.LayoutChanged=function(t){null!=this.FOnChange&&this.FOnChange(this)},this.InitializeDefaultLayout=function(){this.FNormalLayout.FFill.SetColor(-1),this.FFixedLayout.FFill.SetKind(1),this.FFixedLayout.FFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(230,230,230)),this.FFixedLayout.FFont.SetStyle(rtl.createSet(0)),this.FFixedSelectedLayout.FFill.SetKind(1),this.FFixedSelectedLayout.FFill.SetColor(14599344),this.FFocusedLayout.FFill.SetColor(14599344),this.FFocusedLayout.FFont.SetColor(16777215),this.FSelectedLayout.FFill.SetColor(14599344),this.FSelectedLayout.FFont.SetColor(16777215),this.FBandLayout.FFill.SetColor(14745599),this.FGroupLayout.FFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(110,147,195)),this.FGroupLayout.FFont.SetColor(16777215),this.FSummaryLayout.FFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(185,197,213))},this.Create$1=function(){return this.FBandLayout=pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCellLayout.$create("Create$1"),this.FFixedLayout=pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCellLayout.$create("Create$1"),this.FNormalLayout=pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCellLayout.$create("Create$1"),this.FGroupLayout=pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCellLayout.$create("Create$1"),this.FSummaryLayout=pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCellLayout.$create("Create$1"),this.FSelectedLayout=pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCellLayout.$create("Create$1"),this.FFocusedLayout=pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCellLayout.$create("Create$1"),this.FFixedSelectedLayout=pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCellLayout.$create("Create$1"),this.FProgressLayout=pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCellProgressLayout.$create("Create$1"),this.FShowFocus=!0,this.InitializeDefaultLayout(),this.FProgressLayout.FOnChange=rtl.createCallback(this,"LayoutChanged"),this.FBandLayout.FOnChange=rtl.createCallback(this,"LayoutChanged"),this.FFixedLayout.FOnChange=rtl.createCallback(this,"LayoutChanged"),this.FNormalLayout.FOnChange=rtl.createCallback(this,"LayoutChanged"),this.FGroupLayout.FOnChange=rtl.createCallback(this,"LayoutChanged"),this.FSummaryLayout.FOnChange=rtl.createCallback(this,"LayoutChanged"),this.FSelectedLayout.FOnChange=rtl.createCallback(this,"LayoutChanged"),this.FFocusedLayout.FOnChange=rtl.createCallback(this,"LayoutChanged"),this.FFixedSelectedLayout.FOnChange=rtl.createCallback(this,"LayoutChanged"),this},this.Assign=function(e){t.TTMSFNCGridAppearance.isPrototypeOf(e)&&(this.FBandLayout.Assign(rtl.as(e,t.TTMSFNCGridAppearance).FBandLayout),this.FFixedSelectedLayout.Assign(rtl.as(e,t.TTMSFNCGridAppearance).FFixedSelectedLayout),this.FFixedLayout.Assign(rtl.as(e,t.TTMSFNCGridAppearance).FFixedLayout),this.FNormalLayout.Assign(rtl.as(e,t.TTMSFNCGridAppearance).FNormalLayout),this.FGroupLayout.Assign(rtl.as(e,t.TTMSFNCGridAppearance).FGroupLayout),this.FSummaryLayout.Assign(rtl.as(e,t.TTMSFNCGridAppearance).FSummaryLayout),this.FSelectedLayout.Assign(rtl.as(e,t.TTMSFNCGridAppearance).FSelectedLayout),this.FFocusedLayout.Assign(rtl.as(e,t.TTMSFNCGridAppearance).FFocusedLayout),this.FProgressLayout.Assign(rtl.as(e,t.TTMSFNCGridAppearance).FProgressLayout),this.FShowFocus=rtl.as(e,t.TTMSFNCGridAppearance).FShowFocus)},this.Destroy=function(){rtl.free(this,"FProgressLayout"),rtl.free(this,"FBandLayout"),rtl.free(this,"FFixedLayout"),rtl.free(this,"FNormalLayout"),rtl.free(this,"FGroupLayout"),rtl.free(this,"FSummaryLayout"),rtl.free(this,"FSelectedLayout"),rtl.free(this,"FFocusedLayout"),rtl.free(this,"FFixedSelectedLayout"),pas.System.TObject.Destroy.call(this)};var e=this.$rtti;e.addMethod("Create$1",2,[]),e.addProperty("FixedLayout",2,pas["WEBLib.TMSFNCGridCell"].$rtti.TTMSFNCGridCellLayout,"FFixedLayout","SetFixedLayout"),e.addProperty("NormalLayout",2,pas["WEBLib.TMSFNCGridCell"].$rtti.TTMSFNCGridCellLayout,"FNormalLayout","SetNormalLayout"),e.addProperty("GroupLayout",2,pas["WEBLib.TMSFNCGridCell"].$rtti.TTMSFNCGridCellLayout,"FGroupLayout","SetGroupLayout"),e.addProperty("SummaryLayout",2,pas["WEBLib.TMSFNCGridCell"].$rtti.TTMSFNCGridCellLayout,"FSummaryLayout","SetSummaryLayout"),e.addProperty("SelectedLayout",2,pas["WEBLib.TMSFNCGridCell"].$rtti.TTMSFNCGridCellLayout,"FSelectedLayout","SetSelectedLayout"),e.addProperty("FocusedLayout",2,pas["WEBLib.TMSFNCGridCell"].$rtti.TTMSFNCGridCellLayout,"FFocusedLayout","SetFocusedLayout"),e.addProperty("FixedSelectedLayout",2,pas["WEBLib.TMSFNCGridCell"].$rtti.TTMSFNCGridCellLayout,"FFixedSelectedLayout","SetFixedSelectedLayout"),e.addProperty("BandLayout",2,pas["WEBLib.TMSFNCGridCell"].$rtti.TTMSFNCGridCellLayout,"FBandLayout","SetBandLayout"),e.addProperty("ProgressLayout",2,pas["WEBLib.TMSFNCGridCell"].$rtti.TTMSFNCGridCellProgressLayout,"FProgressLayout","SetProgressLayout"),e.addProperty("ShowFocus",2,rtl.boolean,"FShowFocus","SetShowFocus",{Default:!0}),e.addProperty("OnChange",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnChange","FOnChange")})),rtl.createClass(this,"TTMSFNCGridAdapter",pas["WEBLib.TMSFNCCustomComponent"].TTMSFNCCustomComponent,(function(){this.$init=function(){pas["WEBLib.TMSFNCCustomComponent"].TTMSFNCCustomComponent.$init.call(this),this.FBlockAdd=!1,this.FGrid=null,this.FActive=!1},this.$final=function(){this.FGrid=void 0,pas["WEBLib.TMSFNCCustomComponent"].TTMSFNCCustomComponent.$final.call(this)},this.SetActive=function(t){this.FActive=t,null!=this.FGrid&&this.Initialize()},this.SetGrid=function(t){if(this.FGrid!==t){if(this.FGrid=t,this.FBlockAdd)return;this.FBlockAdd=!0,null!=this.FGrid&&(this.FGrid.SetAdapter(this),this.Initialize()),this.FBlockAdd=!1}},this.AlternateDisplayBuildUp=function(){return!1,!1},this.CanCancelEdit=function(){return!0,!0},this.StartBuild=function(t){},this.Notification=function(t,e){pas.Classes.TComponent.Notification.apply(this,arguments),1===e&&t===this.FGrid&&(this.FGrid=null)},this.UpdateBounds=function(){},this.Initialize=function(){},this.ScrollGrid=function(t,e,i){},this.SelectCell=function(t){},this.GetCellData=function(t,e,i){},this.GetCellClass=function(t,e,i){},this.GetCellProperties=function(t,e,i){},this.GetCellEditorProperties=function(t,e,i){},this.GetCellEditorType=function(t,e,i){},this.GetCellReadOnly=function(t,e,i){},this.CellEditGetData=function(t,e,i,s){},this.CellEditValidateData=function(t,e,i,s,o){},this.CellEditSetData=function(t,e,i,s){},this.CellEditDone=function(t,e,i){},this.CellEditCancel=function(t,e){},this.CellBeforeEdit=function(t,e){},this.CellCheckBoxClick=function(t,e,i){},this.CellBeforeEditExit=function(t,e,i,s){},this.ExportNotification=function(t,e){},this.Create$1=function(e){var i=0;if(pas["WEBLib.TMSFNCCustomComponent"].TTMSFNCCustomComponent.Create$1.apply(this,arguments),this.FActive=!1,this.IsDesignTime()&&null!=e&&pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(e))for(var s=0,o=e.GetComponentCount()-1;s<=o;s++)if(i=s,t.TTMSFNCCustomGrid.isPrototypeOf(e.GetComponent(i))){this.SetGrid(rtl.as(e.GetComponent(i),t.TTMSFNCCustomGrid));break}return this},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]]),e.addProperty("Active",2,rtl.boolean,"FActive","SetActive",{Default:!1}),e.addProperty("Grid",2,t.$rtti.TTMSFNCCustomGrid,"FGrid","SetGrid")})),rtl.createClass(this,"TTMSFNCCustomGrid",pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData,(function(){this.$init=function(){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.$init.call(this),this.FToolBarPopupCell=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),this.FDummyButtonBitmap=null,this.FBlockUpdateAdapter=0,this.FBlockAdd=!1,this.FKeyUsed=!1,this.FTimeStart$1=0,this.FTimeStop$1=0,this.FAnimating$1=!1,this.FAnimateVerticalPos$1=!1,this.FAnimateHorizontalPos$1=!1,this.FScrollVTo$1=0,this.FScrollHTo$1=0,this.FAnimateTimer$1=null,this.FFreeEditControlTimer=null,this.FDoubleSelection$1=!1,this.FSpX$1=0,this.FSpY$1=0,this.FScrollX$1=0,this.FScrollY$1=0,this.FCommentPopup=null,this.FDoTouchScroll=!1,this.FFilterPopup=null,this.FActiveComment="",this.FActiveCommentTextColor=0,this.FNodeOpenBitmap=null,this.FNodeClosedBitmap=null,this.FCellKeyDown=!1,this.FCellPosX=0,this.FCellPosY=0,this.FContainerWidth=0,this.FContainerHeight=0,this.FClearMouseDown=!1,this.ChangeCursor=!1,this.OldCursor=0,this.FBlockHide=!1,this.FTabKey=0,this.FTopr=0,this.FLeftC=0,this.FDblClick=!1,this.FSaveTopCell=null,this.FPrevSelection=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRecRange.$new(),this.FCellAnchor=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),this.FCellAnchorString="",this.FLookupString="",this.FDraggingMode=0,this.FDragBitmap=null,this.FDragFixed=!1,this.FTouchScrolling$1=!1,this.FMouseX$1=0,this.FMouseY$1=0,this.FDragCell=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),this.FDragScrollCell=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),this.FEditCell=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),this.FEditControl=null,this.FCellEdit=null,this.FCellComboBox=null,this.FRealCell=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),this.FX=0,this.FY=0,this.FPrevX=0,this.FPrevY=0,this.FSizeX=0,this.FSaveDragX=0,this.FSaveDragY=0,this.FSizeY=0,this.FDragX=0,this.FDragY=0,this.FDownX$1=0,this.FDownY$1=0,this.FTouchX=0,this.FTouchY=0,this.FScrollTimer=null,this.FDragTimer=null,this.FPrevSelectedCell=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),this.FFirstCell=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),this.FSaveCell=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),this.FMouseDown=!1,this.FMouseDblClick=!1,this.FMouseUp$1=!1,this.FMouseScrollingUp=!1,this.FMouseSizing=!1,this.FSizing=!1,this.FSizeMode=0,this.FMouseDragging=!1,this.FCStart=0,this.FRStart=0,this.FCStop=0,this.FRStop=0,this.FOldTopRow=0,this.FReset=!1,this.FCellArray=[],this.FOnGetCellClass=null,this.FOnGetCellData=null,this.FFreezeRows=0,this.FFreezeColumns=0,this.FOnGetCellMergeInfo=null,this.FOnCellEditSetData=null,this.FOnCellEditDone=null,this.FOnGetCellEditorCustomClassType=null,this.FOnCellEditValidateData=null,this.FOnCellEditGetData=null,this.FOnGetCellEditorProperties=null,this.FOnCellRadioButtonClick=null,this.FOnCellCheckBoxClick=null,this.FOnCellBitmapClick=null,this.FOnCellCommentClick=null,this.FOnCellSortClick=null,this.FOnRowSized=null,this.FOnColumnSized=null,this.FOnCanSizeRow=null,this.FOnCanSizeColumn=null,this.FOnCanDragRow=null,this.FOnCanDragColumn=null,this.FOnColumnDragged=null,this.FOnRowDragged=null,this.FOnRowSize=null,this.FOnColumnSize=null,this.FOnCellNodeClick=null,this.FOnCanSortColumn=null,this.FOnColumnSorted=null,this.FOnCellAnchorClick=null,this.FOnCellClick=null,this.FOnFixedCellClick=null,this.FOnCellRightClick=null,this.FOnFixedCellRightClick=null,this.FOnGetCellReadOnly=null,this.FOnGetCellLayout=null,this.FOnGetCellIsFixed=null,this.FOnGetCellEditorType=null,this.FCellSpinBox=null,this.FCellColorPicker=null,this.FCellDatePicker=null,this.FCellTrackBar=null,this.FOnCellEditGetColor=null,this.FOnCellEditSetColor=null,this.FOnCellEditValidateColor=null,this.FOnGetRowIsBand=null,this.FOnCanDeleteRow=null,this.FOnCanAppendRow=null,this.FOnCanAppendColumn=null,this.FOnCanInsertRow=null,this.FOnDeleteRow=null,this.FOnAppendRow=null,this.FOnAppendColumn=null,this.FOnInsertRow=null,this.FOnCellAfterDraw=null,this.FOnCellBeforeDraw=null,this.FOnFixedCellDropDownButtonClick=null,this.FEditing=!1,this.FFilterListBox=null,this.FFilterTimer=null,this.FOnTopLeftChanged=null,this.FOnCellEditCancel=null,this.FCellMemo=null,this.FOnBeforeRowDrop=null,this.FOnBeforeColumnDrop=null,this.FOnGetCellProperties=null,this.FAppearance=null,this.FOnBeforeCellEditExit=null,this.FAdapter=null,this.FOnCellButtonClick=null,this.FToolBarPopupMode=0,this.FToolBarPopup=null,this.FOnCellComboCloseUp=null,this.FOnInternalCellEditDone=null,this.FDesignTimeSampleData=!1,this.FOnFixedCellDblClick=null,this.FOnCellDblClick=null,this.FOnGetCellRotation=null},this.$final=function(){this.FToolBarPopupCell=void 0,this.FDummyButtonBitmap=void 0,this.FAnimateTimer$1=void 0,this.FFreeEditControlTimer=void 0,this.FCommentPopup=void 0,this.FFilterPopup=void 0,this.FNodeOpenBitmap=void 0,this.FNodeClosedBitmap=void 0,this.FSaveTopCell=void 0,this.FPrevSelection=void 0,this.FCellAnchor=void 0,this.FDragBitmap=void 0,this.FDragCell=void 0,this.FDragScrollCell=void 0,this.FEditCell=void 0,this.FEditControl=void 0,this.FCellEdit=void 0,this.FCellComboBox=void 0,this.FRealCell=void 0,this.FScrollTimer=void 0,this.FDragTimer=void 0,this.FPrevSelectedCell=void 0,this.FFirstCell=void 0,this.FSaveCell=void 0,this.FCellArray=void 0,this.FOnGetCellClass=void 0,this.FOnGetCellData=void 0,this.FOnGetCellMergeInfo=void 0,this.FOnCellEditSetData=void 0,this.FOnCellEditDone=void 0,this.FOnGetCellEditorCustomClassType=void 0,this.FOnCellEditValidateData=void 0,this.FOnCellEditGetData=void 0,this.FOnGetCellEditorProperties=void 0,this.FOnCellRadioButtonClick=void 0,this.FOnCellCheckBoxClick=void 0,this.FOnCellBitmapClick=void 0,this.FOnCellCommentClick=void 0,this.FOnCellSortClick=void 0,this.FOnRowSized=void 0,this.FOnColumnSized=void 0,this.FOnCanSizeRow=void 0,this.FOnCanSizeColumn=void 0,this.FOnCanDragRow=void 0,this.FOnCanDragColumn=void 0,this.FOnColumnDragged=void 0,this.FOnRowDragged=void 0,this.FOnRowSize=void 0,this.FOnColumnSize=void 0,this.FOnCellNodeClick=void 0,this.FOnCanSortColumn=void 0,this.FOnColumnSorted=void 0,this.FOnCellAnchorClick=void 0,this.FOnCellClick=void 0,this.FOnFixedCellClick=void 0,this.FOnCellRightClick=void 0,this.FOnFixedCellRightClick=void 0,this.FOnGetCellReadOnly=void 0,this.FOnGetCellLayout=void 0,this.FOnGetCellIsFixed=void 0,this.FOnGetCellEditorType=void 0,this.FCellSpinBox=void 0,this.FCellColorPicker=void 0,this.FCellDatePicker=void 0,this.FCellTrackBar=void 0,this.FOnCellEditGetColor=void 0,this.FOnCellEditSetColor=void 0,this.FOnCellEditValidateColor=void 0,this.FOnGetRowIsBand=void 0,this.FOnCanDeleteRow=void 0,this.FOnCanAppendRow=void 0,this.FOnCanAppendColumn=void 0,this.FOnCanInsertRow=void 0,this.FOnDeleteRow=void 0,this.FOnAppendRow=void 0,this.FOnAppendColumn=void 0,this.FOnInsertRow=void 0,this.FOnCellAfterDraw=void 0,this.FOnCellBeforeDraw=void 0,this.FOnFixedCellDropDownButtonClick=void 0,this.FFilterListBox=void 0,this.FFilterTimer=void 0,this.FOnTopLeftChanged=void 0,this.FOnCellEditCancel=void 0,this.FCellMemo=void 0,this.FOnBeforeRowDrop=void 0,this.FOnBeforeColumnDrop=void 0,this.FOnGetCellProperties=void 0,this.FAppearance=void 0,this.FOnBeforeCellEditExit=void 0,this.FAdapter=void 0,this.FOnCellButtonClick=void 0,this.FToolBarPopup=void 0,this.FOnCellComboCloseUp=void 0,this.FOnInternalCellEditDone=void 0,this.FOnFixedCellDblClick=void 0,this.FOnCellDblClick=void 0,this.FOnGetCellRotation=void 0,pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.$final.call(this)},this.SetFreezeColumns=function(t){this.FFreezeColumns!==t&&(this.FFreezeColumns=t,this.UpdateControl(!0,!0))},this.SetFreezeRows=function(t){this.FFreezeRows!==t&&(this.FFreezeRows=t,this.UpdateControl(!0,!0))},this.SetLeftCol=function(t){var e=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new();e.Row=Math.max(this.FFixedRows,Math.min(this.FRStart,this.GetRowCount()-1-this.FFixedFooterRows)),e.Col=Math.max(this.FFixedColumns,Math.min(t,this.GetColumnCount()-1-this.FFixedRightColumns)),this.Navigate(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(e),!0)},this.SetTopRow=function(t){var e=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new();e.Row=Math.max(this.FFixedRows,Math.min(t,this.GetRowCount()-1-this.FFixedFooterRows)),e.Col=Math.max(this.FFixedColumns,Math.min(this.FCStart,this.GetColumnCount()-1-this.FFixedRightColumns)),this.Navigate(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(e),!0)},this.SetC=function(t){this.SetControlCursor(t),this.ChangeCursor&&(this.OldCursor=t)},this.GetLeftCol=function(){return this.FCStart},this.GetTopRow=function(){return this.FRStart},this.GetCellMemo=function(){return null==this.FCellMemo&&(this.FCellMemo=t.TTMSFNCGridMemo.$create("Create$1",[this]),this.FCellMemo.SetBorderStyle(0),this.FCellMemo.SetAutoSize(!1),this.FCellMemo.SetTabStop(!1),this.FCellMemo.SetBorderStyle(0),this.FCellMemo.FDoubleBuffered=!1,this.FCellMemo.SetShowFocus(!1),this.FCellMemo.FOnKeyDown=rtl.createCallback(this,"CellEditKeyDown"),this.FCellMemo.FOnExit=rtl.createCallback(this,"CellExit")),this.FCellMemo},this.GetCellEdit=function(){return null==this.FCellEdit&&(this.FCellEdit=t.TTMSFNCGridEdit.$create("Create$1",[this]),this.FCellEdit.SetBorderStyle(0),this.FCellEdit.SetAutoSize(!1),this.FCellEdit.SetShowFocus(!1),this.FCellEdit.SetTabStop(!1),this.FCellEdit.SetBorderStyle(0),this.FCellEdit.FDoubleBuffered=!1,this.FCellEdit.FOnKeyDown=rtl.createCallback(this,"CellEditKeyDown"),this.FCellEdit.FOnExit=rtl.createCallback(this,"CellExit")),this.FCellEdit},this.GetCellSpinBox=function(){return null==this.FCellSpinBox&&(this.FCellSpinBox=t.TTMSFNCGridSpinBox.$create("Create$1",[this]),this.FCellSpinBox.SetBorderStyle(0),this.FCellSpinBox.FAutoSize=!1,this.FCellSpinBox.SetShowFocus(!1),this.FCellSpinBox.SetTabStop(!1),this.FCellSpinBox.SetBorderStyle(0),this.FCellSpinBox.FDoubleBuffered=!1,this.FCellSpinBox.FOnKeyDown=rtl.createCallback(this,"CellControlKeyDown"),this.FCellSpinBox.FOnExit=rtl.createCallback(this,"CellExit")),this.FCellSpinBox},this.GetCellColorPicker=function(){return null==this.FCellColorPicker&&(this.FCellColorPicker=t.TTMSFNCGridColorPicker.$create("Create$1",[this]),this.FCellColorPicker.FCloseOnSelection=!0,this.FCellColorPicker.SetMode(1),this.FCellColorPicker.FOnKeyDown=rtl.createCallback(this,"CellComboBoxKeyDown"),this.FCellColorPicker.FOnExit=rtl.createCallback(this,"CellExit")),this.FCellColorPicker},this.GetCellDatePicker=function(){return null==this.FCellDatePicker&&(this.FCellDatePicker=t.TTMSFNCGridDatePicker.$create("Create$1",[this]),this.FCellDatePicker.SetShowFocus(!1),this.FCellDatePicker.FOnKeyDown=rtl.createCallback(this,"CellComboBoxKeyDown"),this.FCellDatePicker.FOnExit=rtl.createCallback(this,"CellExit")),this.FCellDatePicker},this.GetCellTrackBar=function(){return null==this.FCellTrackBar&&(this.FCellTrackBar=t.TTMSFNCGridTrackBar.$create("Create$1",[this]),this.FCellTrackBar.SetShowFocus(!1),this.FCellTrackBar.FOnKeyDown=rtl.createCallback(this,"CellControlKeyDown"),this.FCellTrackBar.FOnExit=rtl.createCallback(this,"CellExit")),this.FCellTrackBar},this.GetCellComboBox=function(){return null==this.FCellComboBox&&(this.FCellComboBox=t.TTMSFNCGridComboBox.$create("Create$1",[this]),this.FCellComboBox.SetStyle(0),this.FCellComboBox.FOnChange=rtl.createCallback(this,"CellComboBoxChange"),this.FCellComboBox.SetShowFocus(!1),this.FCellComboBox.FOnKeyDown=rtl.createCallback(this,"CellComboBoxKeyDown"),this.FCellComboBox.FOnExit=rtl.createCallback(this,"CellExit")),this.FCellComboBox},this.SetAppearance=function(t){this.FAppearance!==t&&this.FAppearance.Assign(t)},this.SetAdapter=function(t){if(this.FAdapter!==t){if(this.FAdapter=t,this.FBlockAdd)return;this.FBlockAdd=!0,null!=this.FAdapter&&(this.FAdapter.SetGrid(this),this.FAdapter.Initialize()),this.FBlockAdd=!1}},this.SetDesignTimeSampleData=function(t){this.FDesignTimeSampleData=t,this.FDesignTimeSampleData&&(0 in this.FComponentState||1 in this.FComponentState)&&4 in this.FComponentState&&this.LoadSampleData()},this.Animate$1=function(t){var i,s,o=0,n=0,a=!1,r=!1;n=this.GetVScrollValue(),o=this.GetHScrollValue(),i=Math.abs(this.FScrollHTo$1-o)/Math.max(1,6*Math.abs(this.FSpX$1)),s=Math.abs(this.FScrollVTo$1-n)/Math.max(1,6*Math.abs(this.FSpY$1)),r=!1,this.FAnimateVerticalPos$1&&(r=e.AnimateDouble({get:function(){return n},set:function(t){n=t}},{p:this,get:function(){return this.p.FScrollVTo$1},set:function(t){this.p.FScrollVTo$1=t}},s,.01)),a=!1,this.FAnimateHorizontalPos$1&&(a=e.AnimateDouble({get:function(){return o},set:function(t){o=t}},{p:this,get:function(){return this.p.FScrollHTo$1},set:function(t){this.p.FScrollHTo$1=t}},i,.01)),this.FAnimating$1=r||a,this.FAnimating$1?this.Scroll(o,n):(this.FAnimateVerticalPos$1=!1,this.FAnimateTimer$1.SetEnabled(!1),this.FAnimateHorizontalPos$1=!1)},this.DoFreeEditControl=function(t){null!=this.FEditControl&&(rtl.free(this,"FEditControl"),this.FEditControl=null),this.FFreeEditControlTimer.SetEnabled(!1)},this.ApplyStyle=function(){var t=0,e=0,i=0,s=null;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.ApplyStyle.call(this),this.BeginUpdate(),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleBackgroundFillColor({get:function(){return t},set:function(e){t=e}})&&this.FFill.SetColor(t),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleLineFillColor({get:function(){return t},set:function(e){t=e}})&&(this.FStroke.SetColor(t),this.FAppearance.FFixedLayout.FStroke.SetColor(t),this.FAppearance.FFixedSelectedLayout.FStroke.SetColor(t),this.FAppearance.FSelectedLayout.FStroke.SetColor(t),this.FAppearance.FNormalLayout.FStroke.SetColor(t),this.FAppearance.FFocusedLayout.FStroke.SetColor(t),this.FAppearance.FBandLayout.FStroke.SetColor(t),this.FAppearance.FGroupLayout.FStroke.SetColor(t),this.FAppearance.FSummaryLayout.FStroke.SetColor(t)),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleHeaderFillColor({get:function(){return t},set:function(e){t=e}})&&(this.FAppearance.FFixedLayout.FFill.SetKind(1),this.FAppearance.FFixedLayout.FFill.SetColor(t)),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleHeaderFillColorTo({get:function(){return t},set:function(e){t=e}})&&(this.FAppearance.FFixedLayout.FFill.SetKind(2),this.FAppearance.FFixedLayout.FFill.SetColorTo(t)),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleSelectionFillColor({get:function(){return t},set:function(e){t=e}})&&(this.FAppearance.FFixedSelectedLayout.FFill.SetColor(t),this.FAppearance.FFocusedLayout.FFill.SetColor(t),this.FAppearance.FSelectedLayout.FFill.SetColor(t),this.FAppearance.FGroupLayout.FFill.SetColor(t),this.FAppearance.FSummaryLayout.FFill.SetColor(t),this.FAppearance.FProgressLayout.SetColor(t),this.FAppearance.FFixedSelectedLayout.FFill.SetKind(1),this.FAppearance.FFocusedLayout.FFill.SetKind(1),this.FAppearance.FSelectedLayout.FFill.SetKind(1),this.FAppearance.FGroupLayout.FFill.SetKind(1),this.FAppearance.FSummaryLayout.FFill.SetKind(1)),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleSelectionFillColorTo({get:function(){return t},set:function(e){t=e}})&&(this.FAppearance.FFixedSelectedLayout.FFill.SetColorTo(t),this.FAppearance.FFocusedLayout.FFill.SetColorTo(t),this.FAppearance.FSelectedLayout.FFill.SetColorTo(t),this.FAppearance.FGroupLayout.FFill.SetColorTo(t),this.FAppearance.FSummaryLayout.FFill.SetColorTo(t),this.FAppearance.FFixedSelectedLayout.FFill.SetKind(2),this.FAppearance.FFocusedLayout.FFill.SetKind(2),this.FAppearance.FSelectedLayout.FFill.SetKind(2),this.FAppearance.FGroupLayout.FFill.SetKind(2),this.FAppearance.FSummaryLayout.FFill.SetKind(2)),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleTextFontColor({get:function(){return t},set:function(e){t=e}})&&(this.FDefaultFont.SetColor(t),this.FAppearance.FFixedLayout.FFont.SetColor(t),this.FAppearance.FNormalLayout.FFont.SetColor(t),this.FAppearance.FFixedSelectedLayout.FFont.SetColor(t),this.FAppearance.FSelectedLayout.FFont.SetColor(t),this.FAppearance.FFocusedLayout.FFont.SetColor(t),this.FAppearance.FGroupLayout.FFont.SetColor(t),this.FAppearance.FSummaryLayout.FFont.SetColor(t)),this.RemoveAllCells();for(var o=0,n=this.FRowList.GetCount()-1;o<=n;o++)if(e=o,null!=this.FRowList.GetItem(e))for(var a=0,r=this.FRowList.GetItem(e).FData.GetCount()-1;a<=r;a++)i=a,null!=(s=this.FRowList.GetItem(e).FData.GetObject(i))&&(s.FFontColor=t);this.EndUpdate()},this.SetAdaptToStyle=function(t){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.SetAdaptToStyle.apply(this,arguments),null!=this.FCommentPopup&&this.FCommentPopup.SetAdaptToStyle(!0),null!=this.FFilterPopup&&this.FFilterPopup.SetAdaptToStyle(!0)},this.ResetToDefaultStyle=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.ResetToDefaultStyle.call(this),this.FAppearance.InitializeDefaultLayout(),this.FAppearance.SetShowFocus(!0),this.FAppearance.FFixedLayout.FFill.SetColor(16380654),this.FAppearance.FFixedLayout.FFont.SetColor(4539717),this.FAppearance.FNormalLayout.FFill.SetColor(16578806),this.FAppearance.FNormalLayout.FFont.SetColor(8026746),this.FAppearance.FSelectedLayout.FFill.SetColor(16441019),this.FAppearance.FSelectedLayout.FFont.SetColor(4539717),this.FAppearance.FFocusedLayout.FFill.SetColor(16039284),this.FAppearance.FFocusedLayout.FFont.SetColor(4539717),this.FAppearance.FBandLayout.FFill.SetColor(16711679),this.FAppearance.FBandLayout.FFont.SetColor(8026746),this.FAppearance.FSelectedLayout.FStroke.SetColor(12632256),this.FAppearance.FFocusedLayout.FStroke.SetColor(12632256),this.FAppearance.FNormalLayout.FStroke.SetColor(12632256),this.FAppearance.FNormalLayout.FStroke.SetKind(1),this.FAppearance.FFixedLayout.FFill.SetKind(1),this.FAppearance.FFixedLayout.FStroke.SetColor(12632256),this.FAppearance.FFixedLayout.FStroke.SetKind(1),this.FAppearance.FFixedLayout.FFont.SetStyle(rtl.createSet(0)),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.SetFontSize(this.FAppearance.FFixedLayout.FFont,14,1),this.FAppearance.FFixedSelectedLayout.FFont.SetColor(0),this.FAppearance.FFixedSelectedLayout.FStroke.SetColor(12632256),this.FAppearance.FFixedSelectedLayout.FFill.SetKind(1),this.FAppearance.FSelectedLayout.FFill.SetKind(1),this.FAppearance.FBandLayout.FStroke.SetKind(1),this.FAppearance.FBandLayout.FStroke.SetColor(12632256),this.FAppearance.FGroupLayout.FFont.SetColor(0),this.FAppearance.FGroupLayout.FFill.SetKind(1),this.FAppearance.FSummaryLayout.FFill.SetKind(1),this.FAppearance.FSummaryLayout.FFont.SetColor(0),this.FAppearance.FFocusedLayout.FFill.SetKind(1),this.FAppearance.FFocusedLayout.FStroke.SetKind(1),this.FFill.SetColor(16777215),this.FStroke.SetColor(12632256),this.RemoveAllCells(),this.UpdateGridCells(!1)},this.SetRowSelect=function(t,e){!this.FBlockUpdate&&e?(this.FBlockSelectEventHandler=!0,this.SelectCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(pas["WEBLib.TMSFNCGridData"].MakeCell(this.FFixedColumns,t)),rtl.createSet(2),!1)):pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.SetRowSelect.apply(this,arguments)},this.GetCellAppearance=function(t,e,i){var s=null,o=0,n=t;return 0===n?-1!==this.FGroupColumn?(o=i,s=this.IsNode(o)?this.GetDefaultGroupLayout():this.IsSummary(o)?this.GetDefaultSummaryLayout():this.IsBand(this.DisplToRealRow(i))&&this.FOptions.FBands.FEnabled?this.GetDefaultBandLayout():this.GetDefaultNormalLayout()):s=this.IsBand(this.DisplToRealRow(i))&&this.FOptions.FBands.FEnabled?this.GetDefaultBandLayout():this.GetDefaultNormalLayout():s=1===n?this.GetDefaultFocusedLayout():2===n?this.GetDefaultFixedLayout():3===n?this.GetDefaultFixedSelectedLayout():4===n?this.GetDefaultSelectedLayout():null,s},this.GetPageScrollSize=function(){return 0===this.FOptions.FKeyboard.FPageScrollSize&&this.GetVerticalScrollMax()*this.GetRowCount()>0?Math.round(this.GetVerticalContentViewPortSize()/this.GetVerticalScrollMax()*this.GetRowCount()):this.FOptions.FKeyboard.FPageScrollSize},this.GetColumnViewPortSize=function(){var t=0,e=0,i=0,s=0,o=pas["WEBLib.TMSFNCTypes"].TRectF.$new();t=0,s=this.GetFixedWidth()+this.GetFixedRightWidth(),i=0,o.$assign(this.GetContentRect());for(var n=this.GetColumnCount()-1-this.FFixedRightColumns;n>=0;n--){if(e=n,(s+=this.GetColWidths(e))>o.Right-o.Left){t=Math.max(1,i);break}i+=1}return t},this.GetRowViewPortSize=function(){var t=0,e=0,i=0,s=0,o=pas["WEBLib.TMSFNCTypes"].TRectF.$new();t=0,s=this.GetFixedHeight()+this.GetFixedFooterHeight(),i=0,o.$assign(this.GetContentRect());for(var n=this.GetRowCount()-1-this.FFixedFooterRows;n>=0;n--){if(e=n,(s+=this.GetRowHeights(e))>o.Bottom-o.Top){t=Math.max(1,i);break}i+=1}return t},this.GetVersion=function(){return this.$class.GetVersionNumber(1,0,0,1)},this.GetHorizontalContentCount=function(){return this.GetColumnCount()-this.FFixedColumns-this.FFreezeColumns-this.FFixedRightColumns},this.GetHorizontalContentViewPortSize=function(){return this.GetColumnViewPortSize()},this.GetVerticalContentCount=function(){return this.GetRowCount()-this.FFixedRows-this.FFreezeRows-this.FFixedFooterRows},this.GetVerticalContentViewPortSize=function(){return this.GetRowViewPortSize()},this.GetHorizontalPos=function(t,e){var i=0,s=0;i=0;for(var o=t,n=e-1;o<=n;o++)s=o,i+=this.GetColWidths(s);return i},this.GetVerticalPos=function(t,e){var i=0,s=0;i=0;for(var o=t,n=e-1;o<=n;o++)s=o,i+=this.GetRowHeights(s);return i},this.DoIsCellSelected=function(t,e){return this.FOptions.FSelection.FMode in rtl.createSet(7,8,9)?pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoIsCellSelected.call(this,t,e):t>=this.FStartCell.Col&&e>=this.FStartCell.Row&&t<=this.FStopCell.Col&&e<=this.FStopCell.Row},this.DoIsFixedCellSelected=function(t,e){var i=!1;return i=t>=this.FStartCell.Col&&t<=this.FStopCell.Col&&2!==this.FOptions.FSelection.FMode&&7!==this.FOptions.FSelection.FMode&&9!==this.FOptions.FSelection.FMode&&5!==this.FOptions.FSelection.FMode||e>=this.FStartCell.Row&&e<=this.FStopCell.Row&&3!==this.FOptions.FSelection.FMode&&8!==this.FOptions.FSelection.FMode&&9!==this.FOptions.FSelection.FMode&&6!==this.FOptions.FSelection.FMode,7===this.FOptions.FSelection.FMode?i=this.GetRowSelect(e):8===this.FOptions.FSelection.FMode?i=this.GetColumnSelect(t):9===this.FOptions.FSelection.FMode&&(i=this.GetFixedCellSelect(t,e)),i},this.GetDefaultFixedLayout=function(){return this.FAppearance.FFixedLayout},this.GetDefaultNormalLayout=function(){return this.FAppearance.FNormalLayout},this.GetDefaultGroupLayout=function(){return this.FAppearance.FGroupLayout},this.GetDefaultSummaryLayout=function(){return this.FAppearance.FSummaryLayout},this.GetDefaultSelectedLayout=function(){return this.FAppearance.FSelectedLayout},this.GetDefaultFocusedLayout=function(){return this.FAppearance.FFocusedLayout},this.GetDefaultFixedSelectedLayout=function(){return this.FAppearance.FFixedSelectedLayout},this.GetDefaultBandLayout=function(){return this.FAppearance.FBandLayout},this.GetNodeBitmap=function(e){var i=null,s=e;return 1===s?(null==this.FNodeClosedBitmap&&(this.FNodeClosedBitmap=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource$1(t.TMSFNCGRIDCELLNODECLOSED,pas["WEBLib.TMSFNCTypes"].HInstance())),i=this.FNodeClosedBitmap):0===s?(null==this.FNodeOpenBitmap&&(this.FNodeOpenBitmap=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource$1(t.TMSFNCGRIDCELLNODEOPEN,pas["WEBLib.TMSFNCTypes"].HInstance())),i=this.FNodeOpenBitmap):i=null,i},this.GetDummyButtonBitmap=function(t){return null==this.FDummyButtonBitmap||this.FDummyButtonBitmap.GetWidth()===t.FWidth&&this.FDummyButtonBitmap.GetHeight()===t.FHeight||(rtl.free(this,"FDummyButtonBitmap"),this.FDummyButtonBitmap=null),null==this.FDummyButtonBitmap&&(this.FDummyButtonBitmap=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),this.FDummyButtonBitmap.SetSize(t.FButtonWidth,t.FButtonHeight)),this.FDummyButtonBitmap},this.Notification=function(t,e){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.Notification.apply(this,arguments),t===this.FAdapter&&1===e&&this.SetAdapter(null),t===this.FToolBarPopup&&1===e&&(this.FToolBarPopup=null)},this.AppearanceChanged=function(t){this.UpdateControl(!0,!0)},this.DoPaintCommentPopup=function(t,e,i){var s=pas["WEBLib.TMSFNCTypes"].TRectF.$new();e.FFont.SetColor(this.FActiveCommentTextColor),s.$assign(i),pas["WEBLib.TMSFNCTypes"].InflateRectEx(s,-4,-4),e.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),this.FActiveComment,!0,1,1,0,0,-1,-1,!0,!1,-1,-1)},this.ClearFixedSorting=function(t){for(var e=0,i=0,s=null,o=null,n=0,a=rtl.length(this.FCellArray)-1;n<=a;n++){e=n;for(var r=0,l=this.FFixedRows-1;r<=l;r++)i=r,null!=(o=this.FCellArray[e][i])&&pas["WEBLib.TMSFNCGridCell"].TTMSFNCFixedGridCell.isPrototypeOf(o)&&o!==t&&((s=rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCFixedGridCell)).FSortIndex=-1,s.FSortKind=0)}},this.HandleMouseLeave=function(){var t=pas["WEBLib.TMSFNCTypes"].TPointF.$new();pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseLeave.call(this),null!=this.FToolBarPopup&&this.FToolBarPopup.Activated()&&!this.FEditing&&(t.$assign(pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.GetMousePos()),this.FToolBarPopup.PointInPopup(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(t))||this.FToolBarPopup.DropDownActive()||this.FToolBarPopup.Deactivate())},this.HandleDblClick=function(t,e){var i=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),s=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new();if(pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleDblClick.apply(this,arguments),this.FDblClick=!0,this.FMouseDblClick){this.FMouseDblClick=!1;var o=this.FSizeMode;2===o||0===o?this.FOptions.FMouse.FColumnAutoSizeOnDblClick&&this.AutoSizeColumn(this.FDragCell.Col,!0,5):3!==o&&1!==o||this.FOptions.FMouse.FRowAutoSizeOnDblClick&&this.AutoSizeRow(this.FDragCell.Row,5)}i.$assign(this.ScreenToLocalEx(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.GetMousePos()))),s.$assign(this.XYToCell(i.X,i.Y)),-1!==s.Col&&-1!==s.Row&&(this.IsFixed(s.Col,s.Row)?this.DoFixedCellDblClick(s.Col,s.Row):this.DoCellDblClick(s.Col,s.Row))},this.HandleMouseDown=function(t,i,s,o){var n=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),a=null,r=0,l=0,h=!1,F=!1,p=!1,C=!1,u=!1,d=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),c=!1;pas["WEBLib.TMSFNCCustomScrollControl"].TTMSFNCCustomScrollControl.HandleMouseDown.apply(this,arguments),!this.HideEdit(!1,!0)&&(d.$assign(this.XYToCell(s,o)),c=!0,d.Col===this.FEditCell.Col&&d.Row===this.FEditCell.Row||(this.CancelEdit(),c=!1),c)||(this.CanFocus()&&this.SetFocus(),this.CaptureEx(),0===t&&(r=s,l=o,n.$assign(this.XYToCell(s,o)),null!=(a=this.GetCellObject(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.GetDisplayCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(n)))))&&(this.FDragCell.$assign(n),(h=this.IsFixed(n.Col,n.Row))?(F=this.FOptions.FMouse.FFixedRowSizing,p=this.FOptions.FMouse.FFixedColumnSizing):(F=this.FOptions.FMouse.FRowSizing,p=this.FOptions.FMouse.FColumnSizing),F&&(n.Row<this.GetRowCount()-this.FFixedFooterRows&&h||!h)&&l>=a.FTop+a.FHeight-this.FOptions.FMouse.FRowSizeMargin&&r>a.FLeft+this.FOptions.FMouse.FColumnSizeMargin&&r<a.FLeft+a.FWidth-this.FOptions.FMouse.FColumnSizeMargin?(C=!0,this.DoCanSizeRow(n.Row,{get:function(){return C},set:function(t){C=t}}),C&&(this.FMouseSizing=!0,this.FSizeMode=1)):F&&(n.Row>this.FFixedRows&&h||!h)&&l<=a.FTop+this.FOptions.FMouse.FRowSizeMargin&&r>a.FLeft+this.FOptions.FMouse.FColumnSizeMargin&&r<a.FLeft+a.FWidth-this.FOptions.FMouse.FColumnSizeMargin?(C=!0,this.DoCanSizeRow(n.Row-1,{get:function(){return C},set:function(t){C=t}}),C&&(this.FMouseSizing=!0,this.FSizeMode=3)):p&&(n.Col<this.GetColumnCount()-this.FFixedRightColumns&&h||!h)&&r>=a.FLeft+a.FWidth-this.FOptions.FMouse.FColumnSizeMargin&&l>a.FTop+this.FOptions.FMouse.FRowSizeMargin&&l<a.FTop+a.FHeight-this.FOptions.FMouse.FRowSizeMargin?(C=!0,this.DoCanSizeColumn(n.Col,{get:function(){return C},set:function(t){C=t}}),C&&(this.FMouseSizing=!0,this.FSizeMode=0)):p&&(n.Col>this.FFixedColumns&&h||!h)&&r<=a.FLeft-this.FOptions.FMouse.FColumnSizeMargin&&l>a.FTop+this.FOptions.FMouse.FRowSizeMargin&&l<a.FTop+a.FHeight-this.FOptions.FMouse.FRowSizeMargin?(C=!0,this.DoCanSizeColumn(n.Col-1,{get:function(){return C},set:function(t){C=t}}),C&&(this.FMouseSizing=!0,this.FSizeMode=2)):(this.FMouseDown=!0,this.FMouseUp$1=!0,u=!1,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(a)&&(u=!1,rtl.as(a,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).HandleMouseDown(t,rtl.refSet(i),s,o,{get:function(){return u},set:function(t){u=t}}),u&&this.Invalidate()),u||(this.IsFixed(n.Col,n.Row)?(this.FDragFixed=this.FOptions.FMouse.FRowDragging&&(n.Col<this.FFixedColumns||n.Col>this.GetColumnCount()-1-this.FFixedRightColumns),this.FDragFixed=this.FDragFixed||(0!==this.FOptions.FSorting.FMode||this.FOptions.FMouse.FColumnDragging)&&(n.Row<this.FFixedRows||n.Row>this.GetRowCount()-1-this.FFixedFooterRows)):(n.$assign(this.BaseCell(n.Col,n.Row)),n.Col!==this.GetFocusedCell().Col||n.Row!==this.GetFocusedCell().Row||this.FOptions.FMouse.FDirectEdit?this.HideEdit(!1,!1):(this.FMouseUp$1=!1,C=!0,this.DoCanEditCell(this.GetFocusedCell().Col,this.GetFocusedCell().Row,{get:function(){return C},set:function(t){C=t}}),this.FMouseUp$1=!C,C&&this.EditCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.GetFocusedCell()),0,!1,"",0)))))),this.FTouchScrolling$1=!1,this.FPrevX=s,this.FPrevY=o,this.FSizeX=this.FPrevX,this.FSizeY=this.FPrevY,this.FDragX=this.FPrevX,this.FDragY=this.FPrevY,this.FDownX$1=this.FPrevX,this.FDownY$1=this.FPrevY,this.FTouchX=this.FPrevX,this.FTouchY=this.FPrevY,this.FScrollX$1=this.FPrevX,this.FScrollY$1=this.FPrevY,this.FMouseX$1=this.FPrevX,this.FMouseY$1=this.FPrevY,this.GetHVisible()?this.FScrollHTo$1=this.GetHScrollValue():this.FScrollHTo$1=0,this.GetVVisible()?this.FScrollVTo$1=this.GetVScrollValue():this.FScrollVTo$1=0,this.FCellAnchor.Col=-1,this.FCellAnchor.Row=-1,this.FFirstCell.Col=-1,this.FFirstCell.Row=-1,this.FCellAnchorString="",this.FDoubleSelection$1=!this.FAnimateTimer$1.FEnabled,this.FTimeStart$1=e.GetTickCountX(),this.FTimeStop$1=this.FTimeStart$1,this.FIsMouseDown=!0,this.FMouseScrollingUp=!1))},this.HandleMouseMove=function(t,e,i){var s=this,o=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),n=!1,a=null,r=0,l=0,h=!1,F=!1,p=!1,C=null,u=null,d=null,c=0,S=0,T=!1,m=0,g=0,M=0,f=0,b=0,y=!1,B=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),E=!1,L=0,D=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),N=0,A=0,G=0,P=pas["WEBLib.TMSFNCTypes"].TPointF.$new();function R(){s.FToolBarPopup.SetPlacementControl(s),s.FToolBarPopup.SetPlacement(9),s.FToolBarPopup.FGrid=s,s.FToolBarPopupCell.$assign(o),s.FToolBarPopup.FGridCell.$assign(s.FToolBarPopupCell),s.FToolBarPopup.Activate(),P.$assign(pas["WEBLib.TMSFNCTypes"].PointF(a.FLeft+(a.FWidth-s.FToolBarPopup.FToolBar.GetWidth())/2,a.FTop-s.FToolBarPopup.FToolBar.GetHeight()+1)),P.$assign(s.ConvertClientToScreen(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(P))),s.FToolBarPopup.FPlacementRectangle.SetLeft(P.X),s.FToolBarPopup.FPlacementRectangle.SetTop(P.Y),s.FToolBarPopup.FPlacementRectangle.SetRight(P.X),s.FToolBarPopup.FPlacementRectangle.SetBottom(P.Y)}if(pas["WEBLib.TMSFNCCustomScrollControl"].TTMSFNCCustomScrollControl.HandleMouseMove.apply(this,arguments),!this.FMouseDown||this.HideEdit(!1,!0))if(this.FClearMouseDown&&(this.FMouseDown=!1,this.FClearMouseDown=!1),this.FDblClick&&(this.FDblClick=!1,this.FMouseDown=!1,this.ReleaseCaptureEx()),this.FCellAnchor.Col=-1,this.FCellAnchor.Row=-1,this.FCellAnchorString="",this.FX=e,this.FY=i,D.$assign(this.GetContentClipRect()),this.FMouseDown&&(this.FX<this.FDownX$1-this.FOptions.FMouse.FClickMargin||this.FX>this.FDownX$1+this.FOptions.FMouse.FClickMargin||this.FY<this.FDownY$1-this.FOptions.FMouse.FClickMargin||this.FY>this.FDownY$1+this.FOptions.FMouse.FClickMargin)){if(this.FDragFixed){if(-1!==this.FDragCell.Col&&-1!==this.FDragCell.Row)if(null==this.FDragBitmap){if(null!=(C=this.GetCellObject(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.GetDisplayCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.FDragCell))))))if((T=this.FOptions.FMouse.FColumnDragging)&&this.DoCanDragColumn(this.FDragCell.Col,{get:function(){return T},set:function(t){T=t}}),(this.FDragCell.Row<this.FFixedRows||this.FDragCell.Row>this.GetRowCount()-1-this.FFixedFooterRows)&&T){this.UpdateCursor(10),this.FDragBitmap=pas["WEBLib.TMSFNCImage"].TTMSFNCImage.$create("Create$1",[s]),this.FDragBitmap.SetWidth(Math.round(C.FWidth)+2),this.FDragBitmap.SetHeight(Math.round(Math.min(this.GetHeight(),D.Bottom-D.Top))+2),c=-C.FLeft,this.FDragBitmap.SetLeft(Math.round(-c)),this.FDragBitmap.SetTop(0),(u=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("CreateBitmapCanvas",[Math.round(this.FDragBitmap.GetWidth()),Math.round(this.FDragBitmap.GetHeight()),!1,!0])).BeginScene(),u.FBitmapContainer=this.GetBitmapContainer(),u.FOptimizedHTMLDrawing=this.FOptimizedHTMLDrawing,d=this.MakeScreenshot();try{u.BeginScene(),u.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,this.FDragBitmap.GetWidth(),this.FDragBitmap.GetHeight())),2),u.DrawBitmapPart$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(this.FDragBitmap.GetLeft(),this.FDragBitmap.GetTop(),this.FDragBitmap.GetLeft()+this.FDragBitmap.GetWidth()-2,this.FDragBitmap.GetTop()+this.FDragBitmap.GetHeight()-2)),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,this.FDragBitmap.GetWidth(),this.FDragBitmap.GetHeight())),d,!0,!1,!0,!1),u.EndScene(),this.FDragBitmap.FBitmaps.AddDrawBitmap(u.FBitmap,1)}finally{d=rtl.freeLoc(d),u.EndScene(),u=rtl.freeLoc(u)}this.FDraggingMode=2,this.FSaveDragX=this.FDragBitmap.GetLeft(),this.FDragBitmap.SetParent(s),this.FDragX=this.FX,this.FDragY=this.FY}else if((T=this.FOptions.FMouse.FRowDragging)&&this.DoCanDragRow(this.FDragCell.Row,{get:function(){return T},set:function(t){T=t}}),(this.FDragCell.Col<this.FFixedColumns||this.FDragCell.Col>this.GetColumnCount()-1-this.FFixedRightColumns)&&T){this.UpdateCursor(10),this.FDragBitmap=pas["WEBLib.TMSFNCImage"].TTMSFNCImage.$create("Create$1",[s]),this.FDragBitmap.SetWidth(Math.round(Math.min(this.GetWidth(),D.Right-D.Left))+2),this.FDragBitmap.SetHeight(Math.round(C.FHeight)+2),S=-C.FTop,this.FDragBitmap.SetLeft(0),this.FDragBitmap.SetTop(Math.round(-S)),(u=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("CreateBitmapCanvas",[Math.round(this.FDragBitmap.GetWidth()),Math.round(this.FDragBitmap.GetHeight()),!1,!0])).BeginScene(),u.FOptimizedHTMLDrawing=this.FOptimizedHTMLDrawing,u.FBitmapContainer=this.GetBitmapContainer(),d=this.MakeScreenshot();try{u.BeginScene(),u.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,this.FDragBitmap.GetWidth(),this.FDragBitmap.GetHeight())),2),u.DrawBitmapPart$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(this.FDragBitmap.GetLeft(),this.FDragBitmap.GetTop(),this.FDragBitmap.GetLeft()+this.FDragBitmap.GetWidth()-2,this.FDragBitmap.GetTop()+this.FDragBitmap.GetHeight()-2)),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,this.FDragBitmap.GetWidth(),this.FDragBitmap.GetHeight())),d,!0,!1,!0,!1),u.EndScene(),this.FDragBitmap.FBitmaps.AddDrawBitmap(u.FBitmap,1)}finally{d=rtl.freeLoc(d),u.EndScene(),u=rtl.freeLoc(u)}this.FDraggingMode=1,this.FSaveDragY=this.FDragBitmap.GetTop(),this.FDragBitmap.SetParent(s),this.FDragX=this.FX,this.FDragY=this.FY}}else(this.FDragCell.Row<this.FFixedRows||this.FDragCell.Row>this.GetRowCount()-1-this.FFixedFooterRows)&&this.FOptions.FMouse.FColumnDragging?((g=this.FSaveDragX+(this.FX-this.FDragX))<=D.Right-D.Left-this.FDragBitmap.GetWidth()&&g>=0?(this.FDragBitmap.SetLeft(Math.round(Math.max(0,Math.min(D.Right-D.Left-this.FDragBitmap.GetWidth(),g)))),this.FSaveDragX=this.FDragBitmap.GetLeft(),this.FDragTimer.SetEnabled(!1),g>this.GetFixedWidth()&&g<D.Right-D.Left-this.GetFixedRightWidth()&&this.FDragScrollCell.$assign(this.XYToCell(g,(D.Bottom-D.Top)/2))):g>D.Right-D.Left-this.FDragBitmap.GetWidth()?(this.FDragBitmap.SetLeft(Math.round(D.Right-D.Left-this.FDragBitmap.GetWidth())),this.FSaveDragX=g,this.FDragTimer.SetEnabled(!0)):g<0&&(this.FDragBitmap.SetLeft(0),this.FSaveDragX=g,this.FDragTimer.SetEnabled(!0)),this.FDragX=this.FX,this.FDragY=this.FY):(this.FDragCell.Col<this.FFixedColumns||this.FDragCell.Col>this.GetColumnCount()-1-this.FFixedRightColumns)&&this.FOptions.FMouse.FRowDragging&&((M=this.FSaveDragY+(this.FY-this.FDragY))<=D.Bottom-D.Top-this.FDragBitmap.GetHeight()?(this.FDragBitmap.SetTop(Math.round(Math.max(0,Math.min(D.Bottom-D.Top-this.FDragBitmap.GetHeight(),M)))),this.FSaveDragY=this.FDragBitmap.GetTop(),this.FDragTimer.SetEnabled(!1),M>this.GetFixedHeight()&&M<D.Bottom-D.Top-this.GetFixedFooterHeight()&&this.FDragScrollCell.$assign(this.XYToCell((D.Right-D.Left)/2,M))):M>D.Bottom-D.Top-this.FDragBitmap.GetHeight()&&(this.FDragBitmap.SetTop(Math.round(D.Bottom-D.Top-this.FDragBitmap.GetHeight())),this.FSaveDragY=M,this.FDragTimer.SetEnabled(!0)),this.FDragX=this.FX,this.FDragY=this.FY),pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetLocalRect(),pas["WEBLib.TMSFNCTypes"].PointF(e,i))?this.UpdateCursor(10):this.UpdateCursor(13)}else if(this.HideEdit(!1,!1),b=this.GetCellContainerPosX(),f=this.GetCellContainerPosY(),B.$assign(this.GetContentRect()),this.FDoTouchScroll=this.FOptions.FMouse.FTouchScrolling&&(1===this.FOptions.FSelection.FMode||2===this.FOptions.FSelection.FMode||3===this.FOptions.FSelection.FMode||0===this.FOptions.FSelection.FMode),n=!1,(-b>0&&this.FX<this.GetFixedWidth()||-b<this.GetTotalContentWidth()-this.GetFixedRightWidth()&&this.FX>B.Right-B.Left-this.GetFixedRightWidth()||-f>0&&this.FY<this.GetFixedHeight()||-f<this.GetTotalContentHeight()-this.GetFixedFooterHeight()&&this.FY>B.Bottom-B.Top-this.GetFixedFooterHeight())&&(n=this.FOptions.FMouse.FAutoScrolling&&!this.FDoTouchScroll),this.FX>B.Right-B.Left-this.GetFixedRightWidth()&&(n=!(1 in this.FOptions.FMouse.FFixedCellSelection)&&!(3 in this.FOptions.FMouse.FFixedCellSelection)),this.FY>B.Bottom-B.Top-this.GetFixedFooterHeight()&&(n=!(2 in this.FOptions.FMouse.FFixedCellSelection)&&!(4 in this.FOptions.FMouse.FFixedCellSelection)),this.FScrollTimer.SetEnabled(n),!this.FScrollTimer.FEnabled)if(this.FOptions.FMouse.FTouchScrolling&&this.FDoTouchScroll)N=this.FOptions.FMouse.FTouchScrollingSensitivity,1===this.FScrollMode&&(N/=10),(this.FTouchScrolling$1||Math.abs(this.FMouseX$1-e)>3||Math.abs(this.FMouseY$1-i)>3)&&(Math.abs(e-this.FTouchX)>0||Math.abs(i-this.FTouchY)>0)&&(this.FTouchScrolling$1=!0,this.FDoubleSelection$1=!1,this.FIsMouseDown&&!this.FMouseScrollingUp&&(A=this.GetHVisible()?this.GetHScrollValue()-(e-this.FTouchX)*N:0,G=this.GetVVisible()?this.GetVScrollValue()-(i-this.FTouchY)*N:0,this.Scroll(A,G),this.FTouchY=i,this.FTouchX=e));else if(this.FMouseDragging=!0,o.$assign(this.XYToCell(e,i)),-1!==o.Col&&-1!==o.Row){y=this.IsFixed(o.Col,o.Row);var W=this.FOptions.FSelection.FMode;2===W?1 in this.FOptions.FMouse.FFixedCellSelection&&(y=!1):3===W?2 in this.FOptions.FMouse.FFixedCellSelection&&(y=!1):5===W?3 in this.FOptions.FMouse.FFixedCellSelection&&(y=!1):6===W&&4 in this.FOptions.FMouse.FFixedCellSelection&&(y=!1),y||this.SelectCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(o),rtl.refSet(t),this.FMouseDragging)}}else if(this.FMouseSizing){if(-1!==this.FDragCell.Col&&-1!==this.FDragCell.Col){this.HideEdit(!1,!1);var v=this.FSizeMode;0===v?(m=this.GetColWidths(this.FDragCell.Col)+(this.FX-this.FSizeX),this.DoColumnSize(this.FDragCell.Col,{get:function(){return m},set:function(t){m=t}}),this.SetColWidths(this.FDragCell.Col,m)):1===v?(m=this.GetRowHeights(this.FDragCell.Row)+(this.FY-this.FSizeY),this.DoRowSize(this.FDragCell.Row,{get:function(){return m},set:function(t){m=t}}),this.SetRowHeights(this.FDragCell.Row,m)):2===v?(m=this.GetColWidths(this.FDragCell.Col-1)+(this.FX-this.FSizeX),this.DoColumnSize(this.FDragCell.Col-1,{get:function(){return m},set:function(t){m=t}}),this.SetColWidths(this.FDragCell.Col-1,m)):3===v&&(m=this.GetRowHeights(this.FDragCell.Row-1)+(this.FY-this.FSizeY),this.DoRowSize(this.FDragCell.Row-1,{get:function(){return m},set:function(t){m=t}}),this.SetRowHeights(this.FDragCell.Row-1,m)),this.FSizeX=this.FX,this.FSizeY=this.FY,this.UpdateControl(!0,!0),this.FSizing=!0}}else r=e,l=i,o.$assign(this.XYToCell(e,i)),-1!==o.Col&&-1!==o.Row?null!=(a=this.GetCellObject(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.GetDisplayCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(o)))))&&(h=this.IsFixed(o.Col,o.Row),null!=this.FToolBarPopup&&3!==this.FToolBarPopupMode&&(0===this.FToolBarPopupMode&&(o.Col!==this.GetFocusedCell().Col||o.Row!==this.GetFocusedCell().Row||this.FToolBarPopup.Activated()||R(),o.Col===this.GetFocusedCell().Col&&o.Row===this.GetFocusedCell().Row||null==this.FToolBarPopup||!this.FToolBarPopup.Activated()||this.FToolBarPopup.DropDownActive()||this.FToolBarPopup.Deactivate()),this.FToolBarPopupMode in rtl.createSet(1,2)&&(o.Col===this.FToolBarPopupCell.Col&&o.Row===this.FToolBarPopupCell.Row||this.FToolBarPopup.Activated()||h&&1!==this.FToolBarPopupMode||R(),o.Col===this.FToolBarPopupCell.Col&&o.Row===this.FToolBarPopupCell.Row||!this.FToolBarPopup.Activated()||this.FToolBarPopup.DropDownActive()||this.FToolBarPopup.Deactivate())),h?(F=this.FOptions.FMouse.FFixedRowSizing,p=this.FOptions.FMouse.FFixedColumnSizing):(F=this.FOptions.FMouse.FRowSizing,p=this.FOptions.FMouse.FColumnSizing),F&&o.Row>this.FFixedRows&&l<=a.FTop+this.FOptions.FMouse.FRowSizeMargin&&r>a.FLeft+this.FOptions.FMouse.FColumnSizeMargin&&r<a.FLeft+a.FWidth-this.FOptions.FMouse.FColumnSizeMargin?(T=!0,this.DoCanSizeRow(o.Row-1,{get:function(){return T},set:function(t){T=t}}),T&&this.UpdateCursor(7)):F&&(o.Row<this.GetRowCount()-this.FFixedRows&&h||!h)&&l>=a.FTop+a.FHeight-this.FOptions.FMouse.FRowSizeMargin&&r>a.FLeft+this.FOptions.FMouse.FColumnSizeMargin&&r<a.FLeft+a.FWidth-this.FOptions.FMouse.FColumnSizeMargin?(T=!0,this.DoCanSizeRow(o.Row,{get:function(){return T},set:function(t){T=t}}),T&&this.UpdateCursor(7)):p&&o.Col>this.FFixedColumns&&r<=a.FLeft-this.FOptions.FMouse.FColumnSizeMargin&&l>a.FTop+this.FOptions.FMouse.FRowSizeMargin&&l<a.FTop+a.FHeight-this.FOptions.FMouse.FRowSizeMargin?(T=!0,this.DoCanSizeColumn(o.Col-1,{get:function(){return T},set:function(t){T=t}}),T&&this.UpdateCursor(9)):p&&(o.Col<this.GetColumnCount()-this.FFixedColumns&&h||!h)&&r>=a.FLeft+a.FWidth-this.FOptions.FMouse.FColumnSizeMargin&&l>a.FTop+this.FOptions.FMouse.FRowSizeMargin&&l<a.FTop+a.FHeight-this.FOptions.FMouse.FRowSizeMargin?(T=!0,this.DoCanSizeColumn(o.Col,{get:function(){return T},set:function(t){T=t}}),T&&this.UpdateCursor(9)):pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(a)&&(E=!1,L=this.OldCursor,rtl.as(a,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).HandleMouseMove(rtl.refSet(t),e,i,{get:function(){return E},set:function(t){E=t}},{get:function(){return L},set:function(t){L=t}}),E&&(this.UpdateCursor(L),this.Invalidate()),E||(rtl.as(a,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).IsHTML()?this.FCellAnchorString=rtl.as(a,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).XYToAnchor(e,i):(this.FCellAnchorString=rtl.as(a,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).FText,pas["WEBLib.TMSFNCGridDataUtil"].IsURL(this.FCellAnchorString)||(this.FCellAnchorString="")),""!==this.FCellAnchorString&&this.FOptions.FURL.FShow?this.UpdateCursor(21):this.UpdateCursor(this.OldCursor)))):this.UpdateCursor(this.OldCursor)},this.HandleMouseUp=function(t,i,s,o){var n=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),a=!1,r=null,l=!1,h=!1,F=!1,p=0;if(pas["WEBLib.TMSFNCCustomScrollControl"].TTMSFNCCustomScrollControl.HandleMouseUp.apply(this,arguments),this.HideEdit(!1,!0))if(this.ReleaseCaptureEx(),0===t){if(this.FIsMouseDown){if(this.FMouseScrollingUp=!0,this.FIsMouseDown=!1,this.FScrollTimer.SetEnabled(!1),this.FDragTimer.SetEnabled(!1),this.FSizing){var C=this.FSizeMode;0===C?this.DoColumnSized(this.FDragCell.Col,this.GetColWidths(this.FDragCell.Col)):1===C?this.DoRowSized(this.FDragCell.Row,this.GetRowHeights(this.FDragCell.Row)):2===C?this.DoColumnSized(this.FDragCell.Col-1,this.GetColWidths(this.FDragCell.Col-1)):3===C&&this.DoRowSized(this.FDragCell.Row-1,this.GetRowHeights(this.FDragCell.Row-1)),this.UpdateControl(!0,!0)}if(null!=this.FDragBitmap&&(this.FDragBitmap.SetParent(null),rtl.free(this,"FDragBitmap"),this.FDragBitmap=null),!this.FDoubleSelection$1&&this.FOptions.FMouse.FTouchScrolling&&this.FDoTouchScroll&&(p=this.FOptions.FMouse.FTouchScrollingSensitivity,1===this.FScrollMode&&(p/=10),this.FTimeStop$1=e.GetTickCountX(),this.FTimeStop$1-this.FTimeStart$1<300&&this.FTimeStop$1-this.FTimeStart$1>0&&(this.FSpY$1=Math.abs(o-this.FScrollY$1)/(this.FTimeStop$1-this.FTimeStart$1),this.FSpY$1>0&&(this.GetVVisible()?o-this.FScrollY$1>0?this.FScrollVTo$1=Math.max(0,Math.min(this.GetVMax()-this.GetVViewPortSize(),this.FScrollVTo$1-Math.round(Math.abs(o-this.FScrollY$1)*this.FSpY$1*p*3))):this.FScrollVTo$1=Math.max(0,Math.min(this.GetVMax()-this.GetVViewPortSize(),this.FScrollVTo$1+Math.round(Math.abs(o-this.FScrollY$1)*this.FSpY$1*p*3))):this.FScrollVTo$1=0,this.FAnimateVerticalPos$1=!0,this.FAnimateTimer$1.SetEnabled(!0)),this.FSpX$1=Math.abs(s-this.FScrollX$1)/(this.FTimeStop$1-this.FTimeStart$1),this.FSpX$1>0&&(this.GetHVisible()?s-this.FScrollX$1>0?this.FScrollHTo$1=Math.max(0,Math.min(this.GetHMax()-this.GetHViewPortSize(),this.FScrollHTo$1-Math.round(Math.abs(s-this.FScrollX$1)*this.FSpX$1*p*3))):this.FScrollHTo$1=Math.max(0,Math.min(this.GetHMax()-this.GetHViewPortSize(),this.FScrollHTo$1+Math.round(Math.abs(s-this.FScrollX$1)*this.FSpX$1*p*3))):this.FScrollHTo$1=0,this.FAnimateHorizontalPos$1=!0,this.FAnimateTimer$1.SetEnabled(!0)))),h=!1,this.FMouseUp$1&&(n.$assign(this.XYToCell(s,o)),-1!==n.Col&&-1!==n.Row&&(null!=(r=this.GetCellObject(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.GetDisplayCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(n)))))&&(this.FCellAnchor.Col=-1,this.FCellAnchor.Row=-1,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(r)&&!this.FMouseDragging&&(h=!1,rtl.as(r,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).HandleMouseUp(t,rtl.refSet(i),s,o,{get:function(){return h},set:function(t){h=t}}),h&&this.Invalidate(),rtl.as(r,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).IsHTML()?this.FCellAnchorString=rtl.as(r,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).XYToAnchor(s,o):(this.FCellAnchorString=rtl.as(r,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).FText,pas["WEBLib.TMSFNCGridDataUtil"].IsURL(this.FCellAnchorString)&&this.FOptions.FURL.FShow||(this.FCellAnchorString="")),""!==this.FCellAnchorString&&this.FCellAnchor.$assign(n))),!h)))if(-1===this.FCellAnchor.Col&&-1===this.FCellAnchor.Row&&""===this.FCellAnchorString){l=this.IsFixed(n.Col,n.Row);var u=this.FOptions.FSelection.FMode;4===u?0 in this.FOptions.FMouse.FFixedCellSelection&&n.Col<this.FFixedColumns&&n.Row<this.FFixedRows&&(l=!1):2===u?1 in this.FOptions.FMouse.FFixedCellSelection&&(l=!1):3===u?2 in this.FOptions.FMouse.FFixedCellSelection&&(l=!1):5===u?3 in this.FOptions.FMouse.FFixedCellSelection&&(l=!1):6===u?4 in this.FOptions.FMouse.FFixedCellSelection&&(l=!1):7===u?5 in this.FOptions.FMouse.FFixedCellSelection&&(l=!1):8===u&&6 in this.FOptions.FMouse.FFixedCellSelection&&(l=!1),l||this.FDragFixed||this.FTouchScrolling$1?2===this.FDraggingMode?(F=!0,this.DoBeforeColumnDrop(this.FDragCell.Col,{p:n,get:function(){return this.p.Col},set:function(t){this.p.Col=t}},{get:function(){return F},set:function(t){F=t}}),F&&(this.BeginUpdate(),this.MoveColumn(this.FDragCell.Col,n.Col),this.EndUpdate(),this.DoColumnDragged(this.FDragCell.Col,n.Col))):1===this.FDraggingMode?(F=!0,this.DoBeforeRowDrop(this.FDragCell.Row,{p:n,get:function(){return this.p.Row},set:function(t){this.p.Row=t}},{get:function(){return F},set:function(t){F=t}}),F&&(this.BeginUpdate(),this.MoveRow(this.FDragCell.Row,n.Row),this.EndUpdate(),this.DoRowDragged(this.FDragCell.Row,n.Row))):this.DoFixedCellClick(rtl.refSet(i),n.Col,n.Row):(this.SelectCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(n),rtl.refSet(i),this.FMouseDragging),this.DoCellClick(n.Col,n.Row),!this.FMouseDragging&&this.FOptions.FMouse.FDirectEdit&&(a=!0,this.DoCanEditCell(this.GetFocusedCell().Col,this.GetFocusedCell().Row,{get:function(){return a},set:function(t){a=t}}),a&&this.EditCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.GetFocusedCell()),0,!1,"",0)))}else this.DoCellAnchorClick(this.FCellAnchor.Col,this.FCellAnchor.Row,this.FCellAnchorString);this.FTouchScrolling$1=!1,this.FDraggingMode=0,this.FDragFixed=!1,this.FFirstCell.Row=-1,this.FFirstCell.Col=-1,this.FMouseDown=!1,this.FMouseUp$1=!1,this.FMouseDragging=!1,this.FMouseDblClick=this.FMouseSizing,this.FMouseSizing=!1,this.FSizing=!1}}else 1===t&&(n.$assign(this.XYToCell(s,o)),-1!==n.Col&&-1!==n.Row&&((l=this.IsFixed(n.Col,n.Row))?this.DoFixedCellRightClick(n.Col,n.Row):this.DoCellRightClick(n.Col,n.Row)))},this.HandleMouseWheel=function(t,e,i){var s=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),o=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),n=0;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseWheel.apply(this,arguments),2 in t||this.FOptions.FMouse.FWheelScrollKeepSelection?(e>0?this.SetTopRow(this.GetTopRow()-this.FOptions.FMouse.FWheelScrollSize):this.SetTopRow(this.GetTopRow()+this.FOptions.FMouse.FWheelScrollSize),n=this.GetTopRow(),o.$assign(this.BaseCell(this.GetLeftCol(),n)),this.SetTopRow(o.Row)):(s.$assign(this.GetFocusedCell()),s.Row=e>0?s.Row-this.FOptions.FMouse.FWheelScrollSize:s.Row+this.FOptions.FMouse.FWheelScrollSize,o.$assign(this.BaseCell(s.Col,s.Row)),s.$assign(o),this.CancelEdit(),this.SelectCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(s),rtl.refSet(t),!1)),i.set(!0)},this.HandleKeyDown=function(t,e){var i=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),s=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),o=0,n=0,a=0,r=0,l=!1;if(9!==t.get())if(pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleKeyDown.apply(this,arguments),t.get()in rtl.createSet(27,45,46,38,40,37,39,36,35,33,34,9)&&(this.FLookupString=""),!this.FOptions.FEditing.FEnabled||(l=!0,this.DoCanEditCell(this.GetFocusedCell().Col,this.GetFocusedCell().Row,{get:function(){return l},set:function(t){l=t}}),!l||113!==t.get()&&13!==t.get())){if(32===t.get())return t.set(32),void(-1!==this.GetFocusedCell().Row&&-1!==this.GetFocusedCell().Col&&this.DoCellKeyDown(this.GetFocusedCell().Col,this.GetFocusedCell().Row,t,rtl.refSet(e)));if(this.FPrevSelectedCell.$assign(this.GetFocusedCell()),!(0 in e)||2 in e||1 in e||45!==t.get()||this.FEditing||!this.FOptions.FClipboard.FEnabled||this.PasteFromClipboard(),!(2 in e)||0 in e||1 in e){i.$assign(this.GetFocusedCell()),s.$assign(this.FRealCell);var h=t.get();if(46===h)rtl.eqSet(e,{})&&1===this.FOptions.FKeyboard.FDeleteKeyHandling&&this.GetRowCount()>this.FFixedRows+this.FFixedFooterRows&&(l=!0,this.DoCanDeleteRow(i.Row,{get:function(){return l},set:function(t){l=t}}),l&&(this.DeleteRow(i.Row),i.Row=Math.max(this.FFixedRows,Math.min(i.Row,this.GetRowCount()-1-this.FFixedFooterRows)),this.DoDeleteRow(i.Row)));else if(45===h){if(rtl.eqSet(e,{})){-1===i.Row&&(i.Row=this.FFixedRows-1);var F=this.FOptions.FKeyboard.FInsertKeyHandling;1===F?(l=!0,this.DoCanInsertRow(i.Row,{get:function(){return l},set:function(t){l=t}}),l&&(this.InsertRow(i.Row),i.Row=Math.max(this.FFixedRows,Math.min(i.Row,this.GetRowCount()-1-this.FFixedFooterRows)),this.DoInsertRow(i.Row))):2===F&&(l=!0,this.DoCanInsertRow(i.Row,{get:function(){return l},set:function(t){l=t}}),l&&(this.InsertRow(i.Row+1),i.Row=Math.max(this.FFixedRows,Math.min(i.Row+1,this.GetRowCount()-1-this.FFixedFooterRows)),this.DoInsertRow(i.Row)))}}else 34===h?(i.$assign(this.NextSelectableRow(i.Col,i.Row+this.GetPageScrollSize()-1)),i.Col=s.Col):33===h?(i.$assign(this.PreviousSelectableRow(i.Col,i.Row-this.GetPageScrollSize()+1)),i.Col=s.Col):38===h?(i.$assign(this.PreviousSelectableRow(i.Col,i.Row)),i.Col=s.Col):40===h?(i.$assign(this.NextSelectableRow(i.Col,i.Row)),i.Col=s.Col):37===h?(i.$assign(this.PreviousSelectableColumn(i.Col,i.Row)),i.Row=s.Row):39===h?(i.$assign(this.NextSelectableColumn(i.Col,i.Row)),i.Row=s.Row):36===h?1 in e?(i.Row=this.FFixedRows,i.Col=s.Col,i.$assign(this.NextSelectableRow(i.Col,i.Row-1))):(i.Col=this.FFixedColumns,i.Row=s.Row,i.$assign(this.NextSelectableColumn(i.Col-1,i.Row))):35===h&&(1 in e?(i.Row=this.GetRowCount()-1-this.FFixedFooterRows,i.Col=s.Col,i.$assign(this.PreviousSelectableRow(i.Col,i.Row+1))):(i.Col=this.GetColumnCount()-1-this.FFixedRightColumns,i.Row=s.Row,i.$assign(this.PreviousSelectableColumn(i.Col+1,i.Row))));var p=t.get();38!==p&&37!==p&&40!==p&&39!==p&&36!==p&&35!==p&&34!==p&&33!==p&&46!==p&&45!==p||(2 in e?this.Navigate(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(i),!1):this.SelectCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(i),rtl.refSet(e),!1),t.set(0))}else{var C=t.get();if(77===C)this.FOptions.FKeyboard.FAllowCellMergeShortCut&&this.MergeSelection(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRecRange.$clone(this.GetSelection()));else if(83===C)this.FOptions.FKeyboard.FAllowCellMergeShortCut&&this.SplitCell(this.GetSelection().StartCol,this.GetSelection().StartRow);else if(88===C)this.FOptions.FClipboard.FEnabled&&!this.FEditing&&this.CutToClipboard(!0);else if(67===C)this.FOptions.FClipboard.FEnabled&&!this.FEditing&&this.CopyToClipboard(!0);else if(86===C)this.FOptions.FClipboard.FEnabled&&!this.FEditing&&this.PasteFromClipboard();else if(65===C){if(this.FOptions.FSelection.FMode in rtl.createSet(4,5,6,9,8,7)&&(this.SetStartCell(this.FFixedColumns,this.FFixedRows),this.SetStopCell(this.GetColumnCount()-1-this.FFixedRightColumns,this.GetRowCount()-1-this.FFixedFooterRows),this.SetFocusCell(this.FFixedColumns,this.FFixedRows)),this.FOptions.FSelection.FMode in rtl.createSet(7)){this.FBlockUpdate=!0;for(var u=this.FFixedRows,d=this.GetRowCount()-this.FFixedFooterRows-1;u<=d;u++)a=u,this.SetRowSelect(a,!0);this.FBlockUpdate=!1}if(this.FOptions.FSelection.FMode in rtl.createSet(8)){this.FBlockUpdate=!0;for(var c=this.FFixedColumns,S=this.GetColumnCount()-1-this.FFixedRightColumns;c<=S;c++)a=c,this.SetColumnSelect(a,!0);this.FBlockUpdate=!1}if(this.FOptions.FSelection.FMode in rtl.createSet(9)){this.FBlockUpdate=!0;for(var T=this.FFixedColumns,m=this.GetColumnCount()-1-this.FFixedRightColumns;T<=m;T++){a=T;for(var g=this.FFixedRows,M=this.GetRowCount()-this.FFixedFooterRows-1;g<=M;g++)r=g,this.SetCellSelect(a,r,!0)}this.FBlockUpdate=!1}this.Navigate(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.GetFocusedCell()),!1),null!=this.FOnSelectedCell&&this.FOnSelectedCell(this,this.GetFocusedCell().Col,this.GetFocusedCell().Row)}else 46===C?this.FOptions.FClipboard.FEnabled&&this.CutToClipboard(!0):45===C?this.FOptions.FClipboard.FEnabled&&this.CopyToClipboard(!0):34===C?this.SetTopRow(this.GetTopRow()+this.GetPageScrollSize()):33===C?this.SetTopRow(this.GetTopRow()-this.GetPageScrollSize()):38===C?this.SetTopRow(this.GetTopRow()-1):40===C?(n=this.RowSpan(this.GetLeftCol(),this.GetTopRow()))>0?this.SetTopRow(this.GetTopRow()+n):this.SetTopRow(this.GetTopRow()+1):37===C?this.SetLeftCol(this.GetLeftCol()-1):39===C?(o=this.ColSpan(this.GetLeftCol(),this.GetTopRow()))>0?this.SetLeftCol(this.GetLeftCol()+o):this.SetLeftCol(this.GetLeftCol()+1):36===C?this.SetTopRow(this.FFixedRows):35===C&&this.SetTopRow(this.GetRowCount()-1-this.FFixedFooterRows)}}else this.EditCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.GetFocusedCell()),0,!1,"",0)},this.HandleKeyPress=function(t){var e=!1,i=0;if(pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleKeyPress.apply(this,arguments),!((i=t.get().charCodeAt())in rtl.createSet(9)))return!this.FOptions.FEditing.FEnabled&&this.FOptions.FLookup.FEnabled&&(i in rtl.createSet(27,45,46,38,40,37,39,36,35,33,34,9)?this.FLookupString="":(this.FOptions.FLookup.FIncremental?this.FLookupString=this.FLookupString+t.get():this.FLookupString=t.get(),this.LookupInColumn(this.GetFocusedCell().Col,this.FLookupString,!0,!0))),this.FOptions.FEditing.FEnabled&&(e=!0,this.DoCanEditCell(this.GetFocusedCell().Col,this.GetFocusedCell().Row,{get:function(){return e},set:function(t){e=t}}),e&&i>=32)?(this.EditCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.GetFocusedCell()),1,!0,t.get(),t.get().charCodeAt()),void t.set("\0")):void 0},this.HandleDialogKey=function(t,e){this.FTabKey=0,9===t.get()&&2===this.FOptions.FKeyboard.FTabKeyHandling&&(this.FTabKey=0 in e?2:1),(this.IsFocused()||null!==this.FEditControl&&this.FEditControl.IsFocused())&&this.ProcessTab(t,rtl.refSet(e),this.FOptions.FKeyboard.FTabKeyDirection,this.FOptions.FKeyboard.FTabKeyHandling,this.FOptions.FKeyboard.FTabKeyDirectEdit,0),pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleDialogKey.apply(this,arguments)},this.HandleFilterListClick=function(t){this.FFilterTimer.SetEnabled(!0)},this.HandleFilterTimer=function(e){var i=null,s="",o=0,n=0,a=!1;if(this.FFilterTimer.SetEnabled(!1),null!=this.FFilterListBox){if(n=this.FFilterListBox.FTag$1,this.FOptions.FFiltering.FMultiColumn)for(var r=this.FFilter.GetCount()-1;r>=0;r--)o=r,this.FFilter.GetItem$1(o).FColumn===n&&this.FFilter.Delete(o);else this.FFilter.Clear();(i=this.FFilter.Add$1()).FColumn=n,s="",this.FFilterListBox.GetItemIndex()>=0&&this.FFilterListBox.GetItemIndex()<=this.FFilterListBox.FItems.GetCount()-1&&(s=this.FFilterListBox.FItems.Get(this.FFilterListBox.GetItemIndex())),pas.System.Pos(" ",s)>0&&(s='"'+s+'"'),this.FFilterPopup.SetIsOpen(!1),s===rtl.getResStr(t,"sTMSFNCGridFilterAll")?(this.FBlockUpdate=!0,this.UnHideRowsAll(),this.FBlockUpdate=!1,this.FFilter.Clear(),this.ApplyFilter()):(this.DoFilterSelect(i.FColumn,{get:function(){return s},set:function(t){s=t}}),i.FCondition=s,this.FBlockUpdate=!0,this.UnHideRowsAll(),this.FBlockUpdate=!1,this.ApplyFilter()),a=!1,this.DoAfterApplyFilter(i.FColumn,s,{get:function(){return a},set:function(t){a=t}}),a&&(this.BeginUpdate(),this.UpdateCalculations(),this.EndUpdate())}},this.HandleKeyUp=function(t,e){9!==t.get()&&(pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleKeyUp.apply(this,arguments),32===t.get()&&(t.set(32),-1!==this.GetFocusedCell().Row&&-1!==this.GetFocusedCell().Col&&this.DoCellKeyUp(this.GetFocusedCell().Col,this.GetFocusedCell().Row,t,rtl.refSet(e))))},this.DoCellKeyDown=function(t,e,i,s){var o=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new();(o.Col=t,o.Row=e,null!=this.GetCellObject(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.GetDisplayCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(o)))))&&(32===i.get()&&(this.FCellKeyDown=!0))},this.DoCellKeyUp=function(t,e,i,s){var o,n=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new();(n.Col=t,n.Row=e,null!=(o=this.GetCellObject(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.GetDisplayCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(n))))))&&(32===i.get()&&(this.FCellKeyDown&&!this.IsReadOnly(n.Col,n.Row)&&(pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell.isPrototypeOf(o)?rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).SetChecked(!rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).FChecked):pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell.isPrototypeOf(o)&&rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell).SetChecked(!rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell).FChecked)),this.FCellKeyDown=!1))},this.ProcessTab=function(t,e,i,s,o,n){var a=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),r=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),l=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),h=0,F=0,p=!1,C=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new();if(9===t.get()&&this.GetRowCount()>this.FFixedRows+this.FFixedFooterRows&&this.GetColumnCount()>this.FFixedColumns+this.FFixedRightColumns){if(C.$assign(this.GetFocusedCell()),!this.HideEdit(!1,!1))return;if(this.SetFocusedCell(C),this.IsFocused()){var u=s;if(1===u)t.set(0);else if(2===u)if(0 in e){if(a.Col=this.FFixedColumns,a.Row=this.FFixedRows,this.IsNormalFixed(a.Col,a.Row)){var d=i;0===d?a.$assign(this.NextSelectableColumn(a.Col,a.Row)):1===d&&a.$assign(this.NextSelectableRow(a.Col,a.Row))}2!==s||this.GetFocusedCell().Col===a.Col&&this.GetFocusedCell().Row===a.Row||t.set(0)}else{if(a.Col=this.GetColumnCount()-1-this.FFixedRightColumns,a.Row=this.GetRowCount()-1-this.FFixedFooterRows,this.IsNormalFixed(a.Col,a.Row)){var c=i;0===c?a.$assign(this.PreviousSelectableColumn(a.Col,a.Row)):1===c&&a.$assign(this.PreviousSelectableRow(a.Col,a.Row))}2!==s||this.GetFocusedCell().Col===a.Col&&this.GetFocusedCell().Row===a.Row||t.set(0)}if(0===t.get()){if(1===s||2===s)if(a.$assign(this.GetFocusedCell()),l.$assign(this.FRealCell),a.$assign(this.BaseCell(a.Col,a.Row)),0 in e){if(r.$assign(pas["WEBLib.TMSFNCGridData"].MakeCell(this.FFixedColumns,this.FFixedRows)),this.GetFocusedCell().Col===r.Col&&this.GetFocusedCell().Row===r.Row)return r.$assign(pas["WEBLib.TMSFNCGridData"].MakeCell(this.GetColumnCount()-1-this.FFixedRightColumns,this.GetRowCount()-1-this.FFixedFooterRows)),void this.SetFocusedCell(r);var S=i;if(0===S){if(h=a.Col,a.$assign(this.PreviousSelectableColumn(a.Col,a.Row)),a.Row=l.Row,h===a.Col){if(F=a.Row,a.Col=this.GetColumnCount()-1-this.FFixedRightColumns,a.$assign(this.PreviousSelectableColumn(a.Col,a.Row)),F===a.Row)for(a.$assign(this.PreviousSelectableColumn(this.GetColumnCount()-this.FFixedRightColumns,a.Row-1));a.Col===this.GetColumnCount()-this.FFixedRightColumns&&a.Row===F-1;)F=a.Row,a.$assign(this.PreviousSelectableColumn(this.GetColumnCount()-this.FFixedRightColumns,a.Row-1));1===s&&(a.Row<this.FFixedRows||F===a.Row)&&(a.Col=this.GetColumnCount()-1-this.FFixedRightColumns,a.Row=this.GetRowCount()-1-this.FFixedFooterRows,a.$assign(this.PreviousSelectableColumn(a.Col,a.Row)))}}else if(1===S&&(F=a.Row,a.$assign(this.PreviousSelectableRow(a.Col,a.Row)),a.Col=l.Col,F===a.Row)){if(h=a.Col,a.Row=this.GetRowCount()-1-this.FFixedFooterRows,a.$assign(this.PreviousSelectableRow(a.Col,a.Row)),h===a.Col)for(a.$assign(this.PreviousSelectableRow(a.Col-1,this.GetRowCount()-this.FFixedFooterRows));a.Row===this.GetRowCount()-this.FFixedFooterRows&&a.Col===h-1;)h=a.Col,a.$assign(this.PreviousSelectableRow(a.Col-1,this.GetRowCount()-this.FFixedFooterRows));1===s&&(a.Col<this.FFixedColumns||h===a.Col)&&(a.Col=this.GetColumnCount()-1-this.FFixedRightColumns,a.Row=this.GetRowCount()-1-this.FFixedFooterRows,a.$assign(this.PreviousSelectableRow(a.Col,a.Row)))}this.SelectCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(a),{},!1),o&&(p=!0,this.DoCanEditCell(this.GetFocusedCell().Col,this.GetFocusedCell().Row,{get:function(){return p},set:function(t){p=t}}),p&&this.EditCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.GetFocusedCell()),n,!1,"",0))}else{if(r.$assign(pas["WEBLib.TMSFNCGridData"].MakeCell(this.GetColumnCount()-1-this.FFixedRightColumns,this.GetRowCount()-1-this.FFixedFooterRows)),this.GetFocusedCell().Col===r.Col&&this.GetFocusedCell().Row===r.Row)return r.$assign(pas["WEBLib.TMSFNCGridData"].MakeCell(this.FFixedColumns,this.FFixedRows)),void this.SetFocusedCell(r);var T=i;if(0===T){if(h=a.Col,a.$assign(this.NextSelectableColumn(a.Col,a.Row)),a.Row=l.Row,h===a.Col){if(F=a.Row,a.Col=this.FFixedColumns,a.$assign(this.NextSelectableColumn(a.Col,a.Row)),F===a.Row)for(a.$assign(this.NextSelectableColumn(this.FFixedColumns-1,a.Row+1));a.Col===this.FFixedColumns-1&&a.Row===F+1;)F=a.Row,a.$assign(this.NextSelectableColumn(this.FFixedColumns-1,a.Row+1));1===s&&(a.Row>this.GetRowCount()-1-this.FFixedFooterRows||F===a.Row)&&(a.Col=this.FFixedColumns,a.Row=this.FFixedRows,a.$assign(this.NextSelectableColumn(a.Col,a.Row)))}}else if(1===T&&(F=a.Row,a.$assign(this.NextSelectableRow(a.Col,a.Row)),a.Col=l.Col,F===a.Row)){if(h=a.Col,a.Row=this.FFixedRows,a.$assign(this.NextSelectableRow(a.Col,a.Row)),h===a.Col)for(a.$assign(this.NextSelectableRow(a.Col+1,this.FFixedRows-1));a.Row===this.FFixedRows-1&&a.Col===h+1;)h=a.Col,a.$assign(this.NextSelectableRow(a.Col+1,this.FFixedRows-1));1===s&&(a.Col>this.GetColumnCount()-1-this.FFixedRightColumns||h===a.Col)&&(a.Col=this.FFixedColumns,a.Row=this.FFixedRows,a.$assign(this.NextSelectableRow(a.Col,a.Row)))}this.SelectCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(a),{},!1),o&&(p=!0,this.DoCanEditCell(this.GetFocusedCell().Col,this.GetFocusedCell().Row,{get:function(){return p},set:function(t){p=t}}),p&&this.EditCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.GetFocusedCell()),n,!1,"",0))}}}else if(0!==s)if(0 in e){if(a.Col=this.GetColumnCount()-1-this.FFixedRightColumns,a.Row=this.GetRowCount()-1-this.FFixedFooterRows,this.IsNormalFixed(a.Col,a.Row)){var m=i;0===m?a.$assign(this.PreviousSelectableColumn(a.Col,a.Row)):1===m&&a.$assign(this.PreviousSelectableRow(a.Col,a.Row))}this.SelectCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(a),{},!1)}else{if(a.Col=this.FFixedColumns,a.Row=this.FFixedRows,this.IsNormalFixed(a.Col,a.Row)){var g=i;0===g?a.$assign(this.NextSelectableColumn(a.Col,a.Row)):1===g&&a.$assign(this.NextSelectableRow(a.Col,a.Row))}this.SelectCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(a),{},!1)}}},this.UpdateCursor=function(t){this.ChangeCursor=!1,this.SetC(t),this.ChangeCursor=!0},this.DoExit=function(){pas["WEBLib.Controls"].TControl.DoExit.call(this),this.FClearMouseDown=this.FBlockHide,this.FDblClick=!1,this.FMouseDown=!1,this.FMouseDblClick=!1,this.UpdateGridCellDisplay()},this.DoEnter=function(){var t=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new();pas["WEBLib.Controls"].TControl.DoEnter.call(this),1===this.FTabKey?this.SetFocusedCell(pas["WEBLib.TMSFNCGridData"].MakeCell(this.FFixedColumns,this.FFixedRows)):2===this.FTabKey?(t.Col=this.GetColumnCount()-1-this.FFixedRightColumns,t.Row=this.GetRowCount()-1-this.FFixedFooterRows,this.SetFocusedCell(t)):this.UpdateGridCellDisplay(),this.FTabKey=0},this.StopAnimationTimer=function(){this.FAnimateTimer$1.SetEnabled(!1),this.FAnimating$1=!1},this.UpdateControlCache=function(){var t=0,e=0,i=0,s=0,o=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new();if(!(this.FUpdateCount$1>0||this.FBlockUpdate||3 in this.FComponentState)){if(this.FOldSize>0&&this.FOptions.FColumnSize.FSyncWithGrid){t=this.GetWidth()/this.FOldSize,this.FOptions.FColumnSize.FSyncNormalCellsOnly?(e=this.FFixedColumns,i=this.GetColumnCount()-1-this.FFixedRightColumns):(e=0,i=this.GetColumnCount()-1);for(var n=e,a=i;n<=a;n++)s=n,this.FOrigColumnW.GetCount()>s&&this.SetColWidths(s,this.FOrigColumnW.GetItem$1(s).FValue*t)}if(this.FOptions.FColumnSize.FStretch&&this.StretchColumn(this.FOptions.FColumnSize.FStretchColumn,-1),this.UpdateControlScrollBars(!0,!0),this.FContainerWidth=this.GetTotalColumnWidth(),this.FContainerHeight=this.GetTotalRowHeight(),this.UpdateControlScrollBars(!1,!1),this.FOptions.FColumnSize.FStretch&&this.StretchColumn(this.FOptions.FColumnSize.FStretchColumn,-1),this.FContainerWidth=this.GetTotalColumnWidth(),this.FContainerHeight=this.GetTotalRowHeight(),this.GetColumnCount()>this.FFixedColumns&&this.GetRowCount()>this.FFixedRows)if(this.FFirstCellApply){var r=this.FOptions.FSelection.FMode;5===r||2===r||7===r?this.SetStopCell(this.GetColumnCount()-1-this.FFixedRightColumns,this.FStopCell.Row):6!==r&&3!==r&&8!==r||this.SetStopCell(this.FStopCell.Col,this.GetRowCount()-1-this.FFixedFooterRows)}else{o.Col=this.FFixedColumns,o.Row=this.FFixedRows,this.IsNormalFixed(o.Col,o.Row)&&o.$assign(this.NextSelectableColumn(o.Col,o.Row)),this.SetStartCell(o.Col,o.Row),this.SetStopCell(o.Col,o.Row),this.SetFocusCell(o.Col,o.Row),this.FPrevSelectedCell.$assign(this.GetFocusedCell()),this.FSaveCell.$assign(this.GetFocusedCell()),this.FFirstCell.Col=-1,this.FFirstCell.Row=-1,this.FRealCell.$assign(this.GetFocusedCell()),this.FPrevSelection.$assign(this.GetSelection());var l=this.FOptions.FSelection.FMode;5===l||2===l||7===l?this.SetStopCell(this.GetColumnCount()-1-this.FFixedRightColumns,this.FStopCell.Row):6!==l&&3!==l&&8!==l||this.SetStopCell(this.FStopCell.Col,this.GetRowCount()-1-this.FFixedFooterRows),this.FBlockUpdate=!0;var h=this.FOptions.FSelection.FMode;7===h?this.SetRowSelect(this.GetFocusedCell().Row,!0):8===h?this.SetColumnSelect(this.GetFocusedCell().Col,!0):9===h&&this.SetCellSelect(this.GetFocusedCell().Col,this.GetFocusedCell().Row,!0),this.FBlockUpdate=!1,this.FFirstCellApply=!0}else o.Col=-1,o.Row=-1,this.FStartCell.$assign(o),this.FStopCell.$assign(o),this.FFocusedCell.$assign(o),this.FPrevSelectedCell.$assign(this.GetFocusedCell()),this.FSaveCell.$assign(this.GetFocusedCell()),this.FFirstCell.Col=-1,this.FFirstCell.Row=-1,this.FRealCell.$assign(this.GetFocusedCell()),this.FPrevSelection.$assign(this.GetSelection());this.UpdateGridCells(!1)}},this.UpdateControlDisplay=function(){pas["WEBLib.TMSFNCCustomScrollControl"].TTMSFNCCustomScrollControl.UpdateControlDisplay.call(this),this.UpdateGridCellDisplay()},this.VerticalScrollPositionChanged=function(){this.FReset||(this.StopEdit(),this.UpdateGridCells(!0))},this.HorizontalScrollPositionChanged=function(){this.FReset||(this.StopEdit(),this.UpdateGridCells(!0))},this.HideEdit=function(e,i){var s=!1,o="",n=!1,a=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),r=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),l=!1,h=0,F=0,p=0,C=0;if(s=!0,null==this.FEditControl||this.FBlockHide)return s;this.FBlockHide=!0;try{if(null!=this.FEditControl){if(o="",t.TTMSFNCGridEdit.isPrototypeOf(this.FEditControl)?o=rtl.as(this.FEditControl,t.TTMSFNCGridEdit).GetT():t.TTMSFNCGridMemo.isPrototypeOf(this.FEditControl)?o=rtl.as(this.FEditControl,t.TTMSFNCGridMemo).GetText():t.TTMSFNCGridSpinBox.isPrototypeOf(this.FEditControl)?o=rtl.as(this.FEditControl,t.TTMSFNCGridSpinBox).GetText():t.TTMSFNCGridDatePicker.isPrototypeOf(this.FEditControl)?o=pas.SysUtils.DateToStr(rtl.as(this.FEditControl,t.TTMSFNCGridDatePicker).GetDate()):t.TTMSFNCGridColorPicker.isPrototypeOf(this.FEditControl)?F=rtl.as(this.FEditControl,t.TTMSFNCGridColorPicker).GetSelectedColor():t.TTMSFNCGridTrackBar.isPrototypeOf(this.FEditControl)?o=pas.SysUtils.IntToStr(rtl.as(this.FEditControl,t.TTMSFNCGridTrackBar).GetPosition()):t.TTMSFNCGridComboBox.isPrototypeOf(this.FEditControl)&&(o=rtl.as(this.FEditControl,t.TTMSFNCGridComboBox).GetText()),n=!0,t.TTMSFNCGridColorPicker.isPrototypeOf(this.FEditControl)?this.DoCellEditValidateColor(this.FEditCell.Col,this.FEditCell.Row,this.FEditControl,{get:function(){return F},set:function(t){F=t}},{get:function(){return n},set:function(t){n=t}}):this.DoCellEditValidateData(this.FEditCell.Col,this.FEditCell.Row,this.FEditControl,{get:function(){return o},set:function(t){o=t}},{get:function(){return n},set:function(t){n=t}}),i)return s=n;if(n){if(this.FEditing=!1,t.TTMSFNCGridColorPicker.isPrototypeOf(this.FEditControl)?this.DoCellEditSetColor(this.FEditCell.Col,this.FEditCell.Row,this.FEditControl,{get:function(){return F},set:function(t){F=t}}):this.DoCellEditSetData(this.FEditCell.Col,this.FEditCell.Row,this.FEditControl,{get:function(){return o},set:function(t){o=t}}),this.FOptions.FEditing.FAutoHistory&&t.TTMSFNCGridEdit.isPrototypeOf(this.FEditControl)&&this.FOptions.FEditing.FAutoCompleteItems.Add(o),this.DoCellEditDone(this.FEditCell.Col,this.FEditCell.Row,this.FEditControl),h=0,this.DoGetCellEditorType(this.FEditCell.Col,this.FEditCell.Row,{get:function(){return h},set:function(t){h=t}}),18!==h?null!=this.FEditControl&&(this.FEditControl.SetParent(null),this.FEditControl=null):this.FFreeEditControlTimer.SetEnabled(!0),l=!1,a.$assign(this.GetFocusedCell()),r.$assign(this.FRealCell),e){var u=this.FOptions.FKeyboard.FEnterKeyHandling;if(1===u||3===u||5===u||8===u){if(l=!0,C=a.Col,a.$assign(this.NextSelectableColumn(a.Col,a.Row)),a.Row=r.Row,n=!0,this.DoCanAppendColumn(a.Col+1,{get:function(){return n},set:function(t){n=t}}),n&&5===this.FOptions.FKeyboard.FEnterKeyHandling)for(;C===a.Col;)this.InsertRow(this.GetColumnCount()-this.FFixedRightColumns),a.$assign(this.NextSelectableColumn(a.Col,a.Row)),this.DoAppendColumn(this.GetColumnCount()-this.FFixedRightColumns-1);if(C===a.Col&&(p=a.Row,a.Col=this.FFixedColumns-1,a.$assign(this.NextSelectableColumn(a.Col,a.Row)),p===a.Row)){if(3===this.FOptions.FKeyboard.FEnterKeyHandling)a.$assign(this.NextSelectableColumn(this.FFixedColumns-1,a.Row-1));else if(n=!0,this.DoCanAppendRow(a.Row+1,{get:function(){return n},set:function(t){n=t}}),n&&a.Row===this.GetRowCount()-1-this.FFixedFooterRows){if(8===this.FOptions.FKeyboard.FEnterKeyHandling)for(;p===a.Row;)this.InsertRow(this.GetRowCount()-this.FFixedFooterRows),a.$assign(this.NextSelectableColumn(this.FFixedColumns-1,a.Row+1)),this.DoAppendRow(this.GetRowCount()-this.FFixedFooterRows-1)}else a.$assign(this.NextSelectableColumn(this.FFixedColumns-1,a.Row+1));for(;a.Col===this.FFixedColumns-1&&a.Row===p+1;)p=a.Row,a.$assign(this.NextSelectableColumn(this.FFixedColumns-1,a.Row+1))}}else if(2===u||4===u||6===u||7===u){if(l=!0,p=a.Row,a.$assign(this.NextSelectableRow(a.Col,a.Row)),a.Col=r.Col,n=!0,this.DoCanAppendRow(a.Row+1,{get:function(){return n},set:function(t){n=t}}),n&&6===this.FOptions.FKeyboard.FEnterKeyHandling)for(;p===a.Row;)this.InsertRow(this.GetRowCount()-this.FFixedFooterRows),a.$assign(this.NextSelectableRow(a.Col,a.Row)),this.DoAppendRow(this.GetRowCount()-this.FFixedFooterRows-1);if(p===a.Row&&(C=a.Col,a.Row=this.FFixedRows-1,a.$assign(this.NextSelectableRow(a.Col,a.Row)),C===a.Col)){if(3===this.FOptions.FKeyboard.FEnterKeyHandling)a.$assign(this.NextSelectableRow(a.Col-1,this.FFixedRows-1));else if(n=!0,this.DoCanAppendColumn(a.Col+1,{get:function(){return n},set:function(t){n=t}}),n&&a.Col===this.GetColumnCount()-1-this.FFixedRightColumns){if(7===this.FOptions.FKeyboard.FEnterKeyHandling)for(;C===a.Col;)this.InsertColumn(this.GetColumnCount()-this.FFixedRightColumns),a.$assign(this.NextSelectableRow(a.Col+1,this.FFixedRows-1)),this.DoAppendColumn(this.GetColumnCount()-this.FFixedRightColumns-1)}else a.$assign(this.NextSelectableRow(a.Col+1,this.FFixedRows-1));for(;a.Row===this.FFixedRows-1&&a.Col===C+1;)C=a.Col,a.$assign(this.NextSelectableRow(a.Col+1,this.FFixedRows-1))}}}this.CanFocus()&&this.SetFocus(),l&&(this.SelectCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(a),{},!1),e&&this.FOptions.FKeyboard.FEnterKeyDirectEdit&&(n=!0,this.DoCanEditCell(this.GetFocusedCell().Col,this.GetFocusedCell().Row,{get:function(){return n},set:function(t){n=t}}),n&&this.EditCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.GetFocusedCell()),0,!1,"",0))),s=!0}else s=!1}}finally{this.FBlockHide=!1}return s},this.CellControlKeyDown=function(t,e,i){if(9===e.get()&&this.HandleDialogKey(e,rtl.refSet(i)),!rtl.neSet(i,{})){var s=e.get();27===s?this.CancelEdit():13!==s&&113!==s||(this.HideEdit(13===e.get(),!1),13===e.get()&&e.set(0))}},this.CellEditKeyDown=function(t,e,i){var s=0,o=!1;if(9===e.get()&&this.HandleDialogKey(e,rtl.refSet(i)),!rtl.neSet(i,{})){var n=e.get();27===n?this.CancelEdit():13===n||113===n?this.HideEdit(13===e.get(),!1):37===n?this.FOptions.FKeyboard.FArrowKeyDirectEdit&&(this.FEditControl===this.GetCellEdit()&&0===this.GetCellEdit().GetSelStart()||this.FEditControl===this.GetCellMemo()&&0===this.GetCellMemo().GetSelStart())&&(s=9,e.set(0),this.ProcessTab({get:function(){return s},set:function(t){s=t}},rtl.createSet(0),0,1,!0,2)):39===n?this.FOptions.FKeyboard.FArrowKeyDirectEdit&&(this.FEditControl===this.GetCellEdit()&&this.GetCellEdit().GetSelStart()===this.GetCellEdit().GetT().length||this.FEditControl===this.GetCellMemo()&&this.GetCellMemo().GetSelStart()===this.GetCellMemo().GetText().length)&&(s=9,e.set(0),this.ProcessTab({get:function(){return s},set:function(t){s=t}},{},0,1,!0,1)):38!==n&&40!==n||this.HideEdit(!1,!1)&&(this.HandleKeyDown(e,rtl.refSet(i)),this.FOptions.FKeyboard.FArrowKeyDirectEdit&&(o=!0,this.DoCanEditCell(this.GetFocusedCell().Col,this.GetFocusedCell().Row,{get:function(){return o},set:function(t){o=t}}),o&&this.EditCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.GetFocusedCell()),0,!1,"",0)))}},this.CellExit=function(t){var e=!1,i=null;pas["WEBLib.TMSFNCColorPicker"].TTMSFNCColorPicker.isPrototypeOf(t)&&null!=(i=rtl.as(t,pas["WEBLib.TMSFNCColorPicker"].TTMSFNCColorPicker).GetPopup())&&i.FIsOpen||pas["WEBLib.TMSFNCEdit"].TTMSFNCEdit.isPrototypeOf(t)&&null!=(i=rtl.as(t,pas["WEBLib.TMSFNCEdit"].TTMSFNCEdit).LookupList())&&i.FIsOpen||(e=!0,this.FEditing&&null!=this.FEditControl&&this.DoBeforeCellEditExit(this.FEditCell.Col,this.FEditCell.Row,this.FEditControl,{get:function(){return e},set:function(t){e=t}}),e&&this.StopEdit())},this.CellComboBoxKeyDown=function(t,e,i){if(9===e.get()&&this.HandleDialogKey(e,rtl.refSet(i)),this.FKeyUsed=!0,!rtl.neSet(i,{})){var s=e.get();115===s?(this.FEditControl,this.GetCellDatePicker()):13===s||113===s?(this.HideEdit(13===e.get(),!1),13===e.get()&&e.set(0)):27===s&&this.CancelEdit()}},this.CellComboBoxChange=function(t){this.FKeyUsed?this.FKeyUsed=!1:this.FOptions.FEditing.FDirectComboClose&&this.FEditing&&this.StopEdit()},this.ScrollTimer=function(t){var e=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),i=pas["WEBLib.TMSFNCTypes"].TRectF.$new();this.FOptions.FMouse.FAutoScrolling?(i.$assign(this.GetContentRect()),this.FX>=i.Right-i.Left-this.GetFixedRightWidth()?(e.$assign(this.GetFocusedCell()),0===this.FOptions.FMouse.FAutoScrollingSpeedMode?e.Col=e.Col+Math.round(this.FX-(i.Right-i.Left-this.GetFixedRightWidth()))*this.FOptions.FMouse.FAutoScrollingSpeed:e.Col=e.Col+this.FOptions.FMouse.FAutoScrollingSpeed,this.SetFocusCell(e.Col,e.Row),this.SelectCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.GetFocusedCell()),{},this.FMouseDragging)):this.FX<=this.GetFixedWidth()&&(e.$assign(this.GetFocusedCell()),0===this.FOptions.FMouse.FAutoScrollingSpeedMode?e.Col=e.Col+Math.round(this.FX-this.GetFixedWidth())*this.FOptions.FMouse.FAutoScrollingSpeed:e.Col=e.Col-this.FOptions.FMouse.FAutoScrollingSpeed,this.SetFocusCell(e.Col,e.Row),this.SelectCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.GetFocusedCell()),{},this.FMouseDragging)),this.FY>=i.Bottom-i.Top-this.GetFixedFooterHeight()?(e.$assign(this.GetFocusedCell()),0===this.FOptions.FMouse.FAutoScrollingSpeedMode?e.Row=e.Row+Math.round(this.FY-(i.Bottom-i.Top-this.GetFixedFooterHeight()))*this.FOptions.FMouse.FAutoScrollingSpeed:e.Row=e.Row+this.FOptions.FMouse.FAutoScrollingSpeed,this.SetFocusCell(e.Col,e.Row),this.SelectCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.GetFocusedCell()),{},this.FMouseDragging)):this.FY<=this.GetFixedHeight()&&(e.$assign(this.GetFocusedCell()),0===this.FOptions.FMouse.FAutoScrollingSpeedMode?e.Row=e.Row+Math.round(this.FY-this.GetFixedHeight())*this.FOptions.FMouse.FAutoScrollingSpeed:e.Row=e.Row-this.FOptions.FMouse.FAutoScrollingSpeed,this.SetFocusCell(e.Col,e.Row),this.SelectCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.GetFocusedCell()),{},this.FMouseDragging))):this.FScrollTimer.SetEnabled(!1)},this.DragTimer=function(t){var e=pas["WEBLib.TMSFNCTypes"].TRectF.$new();this.FOptions.FMouse.FAutoDragging?(e.$assign(this.GetContentRect()),this.FX>=e.Right-e.Left?(0===this.FOptions.FMouse.FAutoScrollingSpeedMode?this.FDragScrollCell.Col=this.FDragScrollCell.Col+Math.round(this.FX-(e.Right-e.Left))*this.FOptions.FMouse.FAutoScrollingSpeed:this.FDragScrollCell.Col=this.FDragScrollCell.Col+this.FOptions.FMouse.FAutoScrollingSpeed,this.Navigate(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.FDragScrollCell),!1)):this.FX<=0&&(0===this.FOptions.FMouse.FAutoScrollingSpeedMode?this.FDragScrollCell.Col=this.FDragScrollCell.Col+Math.round(this.FX)*this.FOptions.FMouse.FAutoScrollingSpeed:this.FDragScrollCell.Col=this.FDragScrollCell.Col-this.FOptions.FMouse.FAutoScrollingSpeed,this.Navigate(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.FDragScrollCell),!1)),this.FY>=e.Bottom-e.Top?(0===this.FOptions.FMouse.FAutoScrollingSpeedMode?this.FDragScrollCell.Row=this.FDragScrollCell.Row+Math.round(this.FY-(e.Bottom-e.Top))*this.FOptions.FMouse.FAutoScrollingSpeed:this.FDragScrollCell.Row=this.FDragScrollCell.Row+this.FOptions.FMouse.FAutoScrollingSpeed,this.Navigate(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.FDragScrollCell),!1)):this.FY<=0&&(0===this.FOptions.FMouse.FAutoScrollingSpeedMode?this.FDragScrollCell.Row=this.FDragScrollCell.Row+Math.round(this.FY)*this.FOptions.FMouse.FAutoScrollingSpeed:this.FDragScrollCell.Row=this.FDragScrollCell.Row-this.FOptions.FMouse.FAutoScrollingSpeed,this.Navigate(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.FDragScrollCell),!1))):this.FDragTimer.SetEnabled(!1)},this.AutoSizeColumnInt=function(t,e,i){var s=0,o=0,n=null,a=null,r=null,l="",h=0,F=0,p=0,C=null,u=null,d=null,c=0,S=0,T=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),m=0;u=pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCellLayout.$create("Create$1"),h=0,F=0,n=null,r=null,e||(r=pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell,(n=pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.$create("Create$1",[this])).FScaleFactor=this.FPaintScaleFactor,this.DoGetCellLayout(this.FFixedColumns,this.FFixedRows,n.FLayout,0),n.SetWidth(1e4),n.SetHeight(1e4),rtl.as(n,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).SetText("g"),F=rtl.as(n,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).GetTextWidth());for(var g=0,M=this.GetRowCount()-1;g<=M;g++)if(s=g,!this.IsXMergedCell(t,s)){if(a=null,this.DoGetCellClass(t,s,{get:function(){return a},set:function(t){a=t}}),l="",this.DoGetCellData(t,s,{get:function(){return l},set:function(t){l=t}}),r!==a&&null!==r&&null!=n&&(n=rtl.freeLoc(n)),r!==a&&(n=a.$create("Create$1",[this]),pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(n)&&(rtl.as(n,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).FBitmapContainer=this.GetBitmapContainer(),rtl.as(n,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).FOptimizedHTMLDrawing=this.FOptimizedHTMLDrawing)),n.FScaleFactor=this.FPaintScaleFactor,r=a,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(n)&&(m=0,this.DoGetCellRotation(t,s,{get:function(){return m},set:function(t){m=t}}),rtl.as(n,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).SetAngle(m),rtl.as(n,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).SetText(l),rtl.as(n,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).SetDisplayHTMLFormatting(this.FOptions.FCell.FDisplayHTMLFormatting),rtl.as(n,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).SetWidth(this.GetColWidths(t)),rtl.as(n,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).SetHeight(this.GetRowHeights(s))),pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell.isPrototypeOf(n)&&(rtl.as(n,pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell).SetFormat(this.FAppearance.FProgressLayout.FFormat),rtl.as(n,pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell).SetTextColor(this.FAppearance.FProgressLayout.FTextColor),rtl.as(n,pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell).SetColor(this.FAppearance.FProgressLayout.FColor),rtl.as(n,pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell).SetShowText(this.FAppearance.FProgressLayout.FShowText)),pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell.isPrototypeOf(n)&&rtl.as(n,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).SetControlBitmap(this.GetCheckBoxBitmap(rtl.as(n,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).FChecked,!1,!0)),pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell.isPrototypeOf(n)&&rtl.as(n,pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell).SetControlBitmap(this.GetRadioButtonBitmap(rtl.as(n,pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell).FChecked,!1,!0)),pas["WEBLib.TMSFNCGridCell"].TTMSFNCNodeGridCell.isPrototypeOf(n)&&rtl.as(n,pas["WEBLib.TMSFNCGridCell"].TTMSFNCNodeGridCell).SetControlBitmap(this.GetNodeBitmap(rtl.as(n,pas["WEBLib.TMSFNCGridCell"].TTMSFNCNodeGridCell).FState)),pas["WEBLib.TMSFNCGridCell"].TTMSFNCButtonGridCell.isPrototypeOf(n)&&rtl.as(n,pas["WEBLib.TMSFNCGridCell"].TTMSFNCButtonGridCell).SetControlBitmap(this.GetDummyButtonBitmap(rtl.as(n,pas["WEBLib.TMSFNCGridCell"].TTMSFNCButtonGridCell))),this.ApplyCellState(t,s,n),pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(n)&&(u.Assign(rtl.as(n,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).FLayout),this.DoGetCellLayout(t,s,u,this.GetCellState(t,s)),rtl.as(n,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).AssignLayout(u)),this.DoGetCellProperties(t,s,n),c=0,T.$assign(pas["WEBLib.TMSFNCGridData"].MakeCell(t,s)),T.$assign(this.BaseCell(T.Col,T.Row)),(S=this.RowSpan(T.Col,T.Row))>0)for(var f=T.Row,b=T.Row+S-1;f<=b;f++)o=f,c+=this.GetRowHeights(o);else c=this.GetRowHeights(T.Row);pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(n)&&((C=rtl.as(n,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell)).SetWidth(1e4),C.SetHeight(c-4),e?(F=C.GetTextWidth(),null==(d=C.GetControlBitmap())||pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(d)||(F+=d.GetWidth()),pas["WEBLib.TMSFNCGridCell"].TTMSFNCFixedGridCell.isPrototypeOf(C)&&(rtl.as(C,pas["WEBLib.TMSFNCGridCell"].TTMSFNCFixedGridCell).FShowDropDownButton&&(F+=19),0!==rtl.as(C,pas["WEBLib.TMSFNCGridCell"].TTMSFNCFixedGridCell).FSortKind&&(F+=16)),F>h&&(h=F)):(p=C.GetStrippedHTMLText().length*F,null==(d=C.GetControlBitmap())||pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(d)||(p+=d.GetWidth()),pas["WEBLib.TMSFNCGridCell"].TTMSFNCFixedGridCell.isPrototypeOf(C)&&(rtl.as(C,pas["WEBLib.TMSFNCGridCell"].TTMSFNCFixedGridCell).FShowDropDownButton&&(F+=19),0!==rtl.as(C,pas["WEBLib.TMSFNCGridCell"].TTMSFNCFixedGridCell).FSortKind&&(F+=16)),p>h&&(h=p)))}null!=n&&(n=rtl.freeLoc(n)),this.SetColWidths(t,h+i),u=rtl.freeLoc(u)},this.AutoSizeRowInt=function(t,e){var i=0,s=0,o=null,n=null,a=null,r="",l=0,h=0,F=null,p=null,C=null,u=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),d=0,c=0,S=0;p=pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCellLayout.$create("Create$1"),l=0,a=null,o=null;for(var T=0,m=this.GetColumnCount()-1;T<=m;T++)if(i=T,!this.IsYMergedCell(i,t)){if(n=null,this.DoGetCellClass(i,t,{get:function(){return n},set:function(t){n=t}}),r="",this.DoGetCellData(i,t,{get:function(){return r},set:function(t){r=t}}),a!==n&&null!==a&&null!=o&&(o=rtl.freeLoc(o)),a!==n&&(o=n.$create("Create$1",[this]),pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(o)&&(rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).SetLayout(null),rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).FBitmapContainer=this.GetBitmapContainer(),rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).FOptimizedHTMLDrawing=this.FOptimizedHTMLDrawing)),o.FScaleFactor=this.FPaintScaleFactor,a=n,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(o)&&(S=0,this.DoGetCellRotation(i,t,{get:function(){return S},set:function(t){S=t}}),rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).SetAngle(S),rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).SetText(r),rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).SetDisplayHTMLFormatting(this.FOptions.FCell.FDisplayHTMLFormatting),rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).SetWidth(this.GetColWidths(i)),rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).SetHeight(this.GetRowHeights(t))),pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell.isPrototypeOf(o)&&(rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell).SetFormat(this.FAppearance.FProgressLayout.FFormat),rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell).SetTextColor(this.FAppearance.FProgressLayout.FTextColor),rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell).SetColor(this.FAppearance.FProgressLayout.FColor),rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell).SetShowText(this.FAppearance.FProgressLayout.FShowText)),pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell.isPrototypeOf(o)&&rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).SetControlBitmap(this.GetCheckBoxBitmap(rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).FChecked,!1,!0)),pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell.isPrototypeOf(o)&&rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell).SetControlBitmap(this.GetRadioButtonBitmap(rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell).FChecked,!1,!0)),pas["WEBLib.TMSFNCGridCell"].TTMSFNCNodeGridCell.isPrototypeOf(o)&&rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCNodeGridCell).SetControlBitmap(this.GetNodeBitmap(rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCNodeGridCell).FState)),pas["WEBLib.TMSFNCGridCell"].TTMSFNCButtonGridCell.isPrototypeOf(o)&&rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCButtonGridCell).SetControlBitmap(this.GetDummyButtonBitmap(rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCButtonGridCell))),this.ApplyCellState(i,t,o),pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(o)&&(p.Assign(rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).FLayout),this.DoGetCellLayout(i,t,p,this.GetCellState(i,t)),rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).AssignLayout(p)),this.DoGetCellProperties(i,t,o),d=0,u.$assign(pas["WEBLib.TMSFNCGridData"].MakeCell(i,t)),u.$assign(this.BaseCell(u.Col,u.Row)),(c=this.ColSpan(u.Col,u.Row))>0)for(var g=u.Col,M=u.Col+c-1;g<=M;g++)s=g,d+=this.GetColWidths(s);else d=this.GetColWidths(u.Col);pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(o)&&((F=rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell)).SetWidth(d-4),F.SetHeight(1e4),h=F.GetTextHeight(),null==(C=F.GetControlBitmap())||pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(C)||C.GetHeight()>h&&(h=C.GetHeight()),pas["WEBLib.TMSFNCGridCell"].TTMSFNCFixedGridCell.isPrototypeOf(F)&&(rtl.as(F,pas["WEBLib.TMSFNCGridCell"].TTMSFNCFixedGridCell).FShowDropDownButton&&15>h&&(h=15),0!==rtl.as(F,pas["WEBLib.TMSFNCGridCell"].TTMSFNCFixedGridCell).FSortKind&&12>h&&(h=12)),h>l&&(l=h))}null!=o&&(o=rtl.freeLoc(o)),this.SetRowHeights(t,l+e),p=rtl.freeLoc(p)},this.DoCheckBoxClick=function(t){var e=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),i=null;this.StopEdit(),pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(t)&&(i=rtl.as(t,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell),e.$assign(this.GetCellByObject(i)),-1!==e.Row&&-1!==e.Col&&(null!=this.FAdapter&&this.FAdapter.CellCheckBoxClick(e.Col,e.Row,i),this.DoCellCheckBoxClick(e.Col,e.Row,i)))},this.DoRadioButtonClick=function(t){var e=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),i=null;pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(t)&&(i=rtl.as(t,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell),e.$assign(this.GetCellByObject(i)),-1!==e.Row&&-1!==e.Col&&this.DoCellRadioButtonClick(e.Col,e.Row,i))},this.DoButtonClick=function(t){var e=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),i=null;pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(t)&&(i=rtl.as(t,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell),e.$assign(this.GetCellByObject(i)),-1!==e.Row&&-1!==e.Col&&this.DoCellButtonClick(e.Col,e.Row,i))},this.DoNodeClick=function(t){var e=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),i=null;pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(t)&&(i=rtl.as(t,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell),e.$assign(this.GetCellByObject(i)),-1!==e.Row&&-1!==e.Col&&this.DoCellNodeClick(e.Col,e.Row,i))},this.DoBitmapClick=function(t){var e=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),i=null;pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(t)&&(i=rtl.as(t,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell),e.$assign(this.GetCellByObject(i)),-1!==e.Row&&-1!==e.Col&&this.DoCellBitmapClick(e.Col,e.Row,i))},this.DoCommentClick=function(t){var e=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),i=null;pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(t)&&(i=rtl.as(t,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell),e.$assign(this.GetCellByObject(i)),-1!==e.Row&&-1!==e.Col&&this.DoCellCommentClick(e.Col,e.Row,i))},this.DoFixedDropDownButtonClick=function(t){var e=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),i=null;pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(t)&&(i=rtl.as(t,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell),e.$assign(this.GetCellByObject(i)),-1!==e.Row&&-1!==e.Col&&this.DoFixedCellDropDownButtonClick(e.Col,e.Row,i))},this.DoCellAnchorClick=function(t,e,i){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoCellAnchorClick.apply(this,arguments),this.FOptions.FURL.FOpen&&pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.OpenURL(i),null!=this.FOnCellAnchorClick&&this.FOnCellAnchorClick(this,t,e,i)},this.DoCanSizeColumn=function(t,e){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoCanSizeColumn.apply(this,arguments),null!=this.FOnCanSizeColumn&&this.FOnCanSizeColumn(this,t,e)},this.DoCanSizeRow=function(t,e){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoCanSizeRow.apply(this,arguments),null!=this.FOnCanSizeRow&&this.FOnCanSizeRow(this,t,e)},this.DoColumnSize=function(t,e){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoColumnSize.apply(this,arguments),null!=this.FOnColumnSize&&this.FOnColumnSize(this,t,e)},this.DoRowSize=function(t,e){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoRowSize.apply(this,arguments),null!=this.FOnRowSize&&this.FOnRowSize(this,t,e)},this.DoColumnSized=function(t,e){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoColumnSized.apply(this,arguments),null!=this.FOnColumnSized&&this.FOnColumnSized(this,t,e)},this.DoRowSized=function(t,e){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoRowSized.apply(this,arguments),null!=this.FOnRowSized&&this.FOnRowSized(this,t,e)},this.DoCanSortColumn=function(t,e){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoCanSortColumn.apply(this,arguments),null!=this.FOnCanSortColumn&&this.FOnCanSortColumn(this,t,e)},this.DoColumnSorted=function(t,e){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoColumnSorted.apply(this,arguments),null!=this.FOnColumnSorted&&this.FOnColumnSorted(this,t,e)},this.DoCanDragColumn=function(t,e){null!=this.FOnCanDragColumn&&this.FOnCanDragColumn(this,t,e)},this.DoCanDragRow=function(t,e){null!=this.FOnCanDragRow&&this.FOnCanDragRow(this,t,e)},this.DoColumnDragged=function(t,e){null!=this.FOnColumnDragged&&this.FOnColumnDragged(this,t,e)},this.DoRowDragged=function(t,e){null!=this.FOnRowDragged&&this.FOnRowDragged(this,t,e)},this.DoBeforeCellEditExit=function(t,e,i,s){null!=this.FAdapter&&this.FAdapter.CellBeforeEditExit(t,e,i,s),null!=this.FOnBeforeCellEditExit&&this.FOnBeforeCellEditExit(this,t,e,i,s)},this.DoBeforeColumnDrop=function(t,e,i){null!=this.FOnBeforeColumnDrop&&this.FOnBeforeColumnDrop(this,t,e,i)},this.DoBeforeRowDrop=function(t,e,i){null!=this.FOnBeforeRowDrop&&this.FOnBeforeRowDrop(this,t,e,i)},this.DoFixedCellDropDownButtonClick=function(e,i,s){var o=null,n=0,a=0,r=pas["WEBLib.TMSFNCTypes"].TPointF.$new();if(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoFixedCellDropDownButtonClick.apply(this,arguments),this.FOptions.FFiltering.FDropDown&&this.FOptions.FFiltering.FDropDownFixedRow===i){o=pas.Classes.TStringList.$create("Create$1");try{o.FDuplicates=0,o.SetSorted(!0),o.Add(rtl.getResStr(t,"sTMSFNCGridFilterAll")),a=this.DisplToRealColumn(e);for(var l=this.FFixedRows,h=this.GetRowCount()-this.FFixedFooterRows-1+this.GetHiddenRowCount();l<=h;l++)n=l,o.Add(pas.SysUtils.Trim(this.GetAllCells(a,n)));this.DoNeedFilterDropDownData(a,i,o),this.FFilterListBox.SetParent(this),this.FFilterListBox.FItems.Assign(o),this.FFilterListBox.SetItemIndex(-1),this.FFilterListBox.SetParent(null),this.FFilterListBox.FTag$1=e}finally{o=rtl.freeLoc(o)}}this.FFilterPopup.SetPlacementControl(this),r.$assign(this.LocalToScreenEx(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(s.FLeft+s.FWidth-17*this.FPaintScaleFactor,s.FTop+(s.FHeight+15*this.FPaintScaleFactor)/2)))),this.FFilterPopup.FPlacementRectangle.SetLeft(r.X),this.FFilterPopup.FPlacementRectangle.SetTop(r.Y),this.FFilterPopup.FPlacementRectangle.SetRight(r.X+this.FFilterPopup.FDropDownWidth),this.FFilterPopup.FPlacementRectangle.SetBottom(r.Y+this.FFilterPopup.FDropDownHeight),this.FFilterListBox.SetWidth(this.FOptions.FFiltering.FDropDownWidth),this.FFilterListBox.SetHeight(this.FOptions.FFiltering.FDropDownHeight),this.FFilterPopup.SetDropDownHeight(this.FOptions.FFiltering.FDropDownHeight),this.FFilterPopup.SetDropDownWidth(this.FOptions.FFiltering.FDropDownWidth),this.FFilterPopup.SetContentControl(this.FFilterListBox),this.FFilterPopup.FFocusedControl=this.FFilterListBox,this.FFilterPopup.Popup(!1),null!=this.FOnFixedCellDropDownButtonClick&&this.FOnFixedCellDropDownButtonClick(this,e,i,s)},this.DoCellCheckBoxClick=function(t,e,i){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoCellCheckBoxClick.apply(this,arguments),null!=this.FOnCellCheckBoxClick&&this.FOnCellCheckBoxClick(this,t,e,i)},this.DoCellRadioButtonClick=function(t,e,i){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoCellRadioButtonClick.apply(this,arguments),null!=this.FOnCellRadioButtonClick&&this.FOnCellRadioButtonClick(this,t,e,i)},this.DoCellButtonClick=function(t,e,i){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoCellButtonClick.apply(this,arguments),null!=this.FOnCellButtonClick&&this.FOnCellButtonClick(this,t,e,i)},this.DoGetCellIsFixed=function(t,e,i){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoGetCellIsFixed.apply(this,arguments),null!=this.FOnGetCellIsFixed&&this.FOnGetCellIsFixed(this,t,e,i)},this.DoGetRowIsBand=function(t,e){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoGetRowIsBand.apply(this,arguments),null!=this.FOnGetRowIsBand&&this.FOnGetRowIsBand(this,t,e)},this.DoCellBitmapClick=function(t,e,i){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoCellBitmapClick.apply(this,arguments),null!=this.FOnCellBitmapClick&&this.FOnCellBitmapClick(this,t,e,i)},this.DoCellCommentClick=function(t,e,i){var s=null,o=pas["WEBLib.TMSFNCTypes"].TSizeF.$new(),n=pas["WEBLib.TMSFNCTypes"].TPointF.$new();pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoCellCommentClick.apply(this,arguments),this.FCommentPopup.SetPlacementControl(this),this.FActiveComment=rtl.as(i,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCommentGridCell).FCommentText,this.FActiveCommentTextColor=rtl.as(i,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCommentGridCell).FCommentTextColor,(s=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("CreateBitmapCanvas",[1,1,!1,!0])).BeginScene(),s.FBitmapContainer=this.GetBitmapContainer(),s.FOptimizedHTMLDrawing=this.FOptimizedHTMLDrawing;try{o.$assign(s.CalculateTextSize(this.FActiveComment,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,1e4,1e4)),!0,!0)),this.FCommentPopup.SetDropDownHeight(o.cy+10),this.FCommentPopup.SetDropDownWidth(o.cx+10)}finally{s.EndScene(),s=rtl.freeLoc(s)}n.$assign(this.LocalToScreenEx(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(i.FLeft+i.FWidth-this.FCommentPopup.FDropDownWidth,i.FTop-this.FCommentPopup.FDropDownHeight)))),this.FCommentPopup.FPlacementRectangle.SetLeft(n.X),this.FCommentPopup.FPlacementRectangle.SetTop(n.Y),this.FCommentPopup.FPlacementRectangle.SetRight(n.X+this.FCommentPopup.FDropDownWidth),this.FCommentPopup.FPlacementRectangle.SetBottom(n.Y+this.FCommentPopup.FDropDownHeight),this.FCommentPopup.Popup(!1),null!=this.FOnCellCommentClick&&this.FOnCellCommentClick(this,t,e,i)},this.DoCellSortClick=function(t,e,i,s,o){var n=!1,a=null;if(0!==this.FOptions.FSorting.FMode&&(n=!0,this.DoCanSortColumn(e,{get:function(){return n},set:function(t){n=t}}),n&&null!=(a=rtl.as(o,pas["WEBLib.TMSFNCGridCell"].TTMSFNCFixedGridCell)))){2===this.FOptions.FSorting.FMode?0 in t||(this.FSortIndexes.Clear(),this.ClearFixedSorting(a)):this.ClearFixedSorting(a);var r=a.FSortKind;1===r?(s=1,2===this.FOptions.FSorting.FMode?(-1===this.FSortIndexes.FindIndex(e)?this.FSortIndexes.AddIndex(e,1):this.FSortIndexes.ToggleIndex(e),a.FSortIndex=this.FSortIndexes.FindIndex(e)+1):a.FSortIndex=-1,a.FSortKind=2):0!==r&&2!==r||(s=0,2===this.FOptions.FSorting.FMode?(-1===this.FSortIndexes.FindIndex(e)?this.FSortIndexes.AddIndex(e,0):this.FSortIndexes.ToggleIndex(e),a.FSortIndex=this.FSortIndexes.FindIndex(e)+1):a.FSortIndex=-1,a.FSortKind=1),pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoCellSortClick.call(this,rtl.refSet(t),e,i,s,o),null!=this.FOnCellSortClick&&this.FOnCellSortClick(this,e,i,o),this.DoColumnSorted(e,s)}},this.DoCellNodeClick=function(t,e,i){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoCellNodeClick.apply(this,arguments),null!=this.FOnCellNodeClick&&this.FOnCellNodeClick(this,t,e,i)},this.DoInsertRow=function(t){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoInsertRow.apply(this,arguments),null!=this.FOnInsertRow&&this.FOnInsertRow(this,t)},this.DoDeleteRow=function(t){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoDeleteRow.apply(this,arguments),null!=this.FOnDeleteRow&&this.FOnDeleteRow(this,t)},this.DoAppendRow=function(t){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoAppendRow.apply(this,arguments),null!=this.FOnAppendRow&&this.FOnAppendRow(this,t)},this.DoAppendColumn=function(t){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoAppendColumn.apply(this,arguments),null!=this.FOnAppendColumn&&this.FOnAppendColumn(this,t)},this.DoCanInsertRow=function(t,e){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoCanInsertRow.apply(this,arguments),null!=this.FOnCanInsertRow&&this.FOnCanInsertRow(this,t,e)},this.DoCanDeleteRow=function(t,e){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoCanDeleteRow.apply(this,arguments),null!=this.FOnCanDeleteRow&&this.FOnCanDeleteRow(this,t,e)},this.DoCanAppendRow=function(t,e){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoCanAppendRow.apply(this,arguments),null!=this.FOnCanAppendRow&&this.FOnCanAppendRow(this,t,e)},this.DoCanAppendColumn=function(t,e){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoCanAppendColumn.apply(this,arguments),null!=this.FOnCanAppendColumn&&this.FOnCanAppendColumn(this,t,e)},this.DoCellRightClick=function(t,e){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoCellRightClick.apply(this,arguments),null!=this.FOnCellRightClick&&this.FOnCellRightClick(this,t,e)},this.DoFixedCellRightClick=function(t,e){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoFixedCellRightClick.apply(this,arguments),null!=this.FOnFixedCellRightClick&&this.FOnFixedCellRightClick(this,t,e)},this.DoCellClick=function(t,e){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoCellClick.apply(this,arguments),null!=this.FOnCellClick&&this.FOnCellClick(this,t,e)},this.DoFixedCellClick=function(t,e,i){var s=null,o=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new();pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoFixedCellClick.apply(this,arguments),o.Col=e,o.Row=i,null!=(s=this.GetCellObject(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.GetDisplayCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(o)))))&&pas["WEBLib.TMSFNCGridCell"].TTMSFNCFixedGridCell.isPrototypeOf(s)&&i===this.FOptions.FSorting.FRow&&this.DoCellSortClick(rtl.refSet(t),e,i,0,s),null!=this.FOnFixedCellClick&&this.FOnFixedCellClick(this,e,i)},this.DoCellDblClick=function(t,e){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoCellDblClick.apply(this,arguments),null!=this.FOnCellDblClick&&this.FOnCellDblClick(this,t,e)},this.DoFixedCellDblClick=function(t,e){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoFixedCellDblClick.apply(this,arguments),null!=this.FOnFixedCellDblClick&&this.FOnFixedCellDblClick(this,t,e)},this.DoGetCellClass=function(t,e,i){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoGetCellClass.apply(this,arguments),null!=this.FAdapter&&this.FAdapter.GetCellClass(t,e,i),null!=this.FOnGetCellClass&&this.FOnGetCellClass(this,t,e,i)},this.DoGetCellData=function(t,e,i){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoGetCellData.apply(this,arguments),null!=this.FAdapter&&this.FAdapter.GetCellData(t,e,i),null!=this.FOnGetCellData&&this.FOnGetCellData(this,t,e,i)},this.DoGetCellRotation=function(t,e,i){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoGetCellRotation.apply(this,arguments),null!=this.FOnGetCellRotation&&this.FOnGetCellRotation(this,t,e,i)},this.DoGetCellLayout=function(t,e,i,s){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoGetCellLayout.apply(this,arguments),null!=this.FOnGetCellLayout&&this.FOnGetCellLayout(this,t,e,i,s)},this.DoGetCellProperties=function(t,e,i){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoGetCellProperties.apply(this,arguments),null!=this.FAdapter&&this.FAdapter.GetCellProperties(t,e,i),null!=this.FOnGetCellProperties&&this.FOnGetCellProperties(this,t,e,i)},this.DoGetCellMergeInfo=function(t,e,i,s,o,n){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoGetCellMergeInfo.apply(this,arguments),null!=this.FOnGetCellMergeInfo&&this.FOnGetCellMergeInfo(this,t,e,i,s,o,n)},this.DoGetCellEditorCustomClassType=function(t,e,i){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoGetCellEditorCustomClassType.apply(this,arguments),null!=this.FOnGetCellEditorCustomClassType&&this.FOnGetCellEditorCustomClassType(this,t,e,i)},this.DoGetCellEditorType=function(t,e,i){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoGetCellEditorType.apply(this,arguments),null!=this.FAdapter&&this.FAdapter.GetCellEditorType(t,e,i),null!=this.FOnGetCellEditorType&&this.FOnGetCellEditorType(this,t,e,i)},this.DoCellEditGetData=function(t,e,i,s){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoCellEditGetData.apply(this,arguments),null!=this.FAdapter&&this.FAdapter.CellEditGetData(t,e,i,s),null!=this.FOnCellEditGetData&&this.FOnCellEditGetData(this,t,e,i,s)},this.DoCellEditValidateData=function(t,e,i,s,o){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoCellEditValidateData.apply(this,arguments),null!=this.FOnCellEditValidateData&&this.FOnCellEditValidateData(this,t,e,i,s,o),null!=this.FAdapter&&this.FAdapter.CellEditValidateData(t,e,i,s,o)},this.DoCellEditSetData=function(t,e,i,s){null!=this.FAdapter&&this.FAdapter.CellEditSetData(t,e,i,s),null!=this.FOnCellEditSetData&&this.FOnCellEditSetData(this,t,e,i,s),pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoCellEditSetData.apply(this,arguments)},this.DoCellEditGetColor=function(t,e,i,s){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoCellEditGetColor.apply(this,arguments),null!=this.FOnCellEditGetColor&&this.FOnCellEditGetColor(this,t,e,i,s)},this.DoCellEditValidateColor=function(t,e,i,s,o){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoCellEditValidateColor.apply(this,arguments),null!=this.FOnCellEditValidateColor&&this.FOnCellEditValidateColor(this,t,e,i,s,o)},this.DoCellEditSetColor=function(t,e,i,s){null!=this.FOnCellEditSetColor&&this.FOnCellEditSetColor(this,t,e,i,s),pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoCellEditSetColor.apply(this,arguments)},this.DoCellEditDone=function(t,e,i){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoCellEditDone.apply(this,arguments),null!=this.FAdapter&&this.FAdapter.CellEditDone(t,e,i),null!=this.FOnCellEditDone&&this.FOnCellEditDone(this,t,e,i),null!=this.FOnInternalCellEditDone&&this.FOnInternalCellEditDone(this,t,e,i)},this.DoCellEditCancel=function(t,e){null!=this.FAdapter&&this.FAdapter.CellEditCancel(t,e),null!=this.FOnCellEditCancel&&this.FOnCellEditCancel(this,t,e)},this.DoGetCellEditorProperties=function(t,e,i){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoGetCellEditorProperties.apply(this,arguments),pas["WEBLib.StdCtrls"].TComboBox.isPrototypeOf(i)&&rtl.as(i,pas["WEBLib.StdCtrls"].TComboBox).SetParent(this),null!=this.FAdapter&&this.FAdapter.GetCellEditorProperties(t,e,i),null!=this.FOnGetCellEditorProperties&&this.FOnGetCellEditorProperties(this,t,e,i),pas["WEBLib.StdCtrls"].TComboBox.isPrototypeOf(i)&&rtl.as(i,pas["WEBLib.StdCtrls"].TComboBox).SetParent(null)},this.DoGetCellReadOnly=function(t,e,i){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.DoGetCellReadOnly.apply(this,arguments),null!=this.FAdapter&&this.FAdapter.GetCellReadOnly(t,e,i),null!=this.FOnGetCellReadOnly&&this.FOnGetCellReadOnly(this,t,e,i)},this.DoBeforeDrawCell=function(t,e,i,s,o,n,a,r){var l=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),h=null;pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(t)&&(h=rtl.as(t,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell),l.$assign(this.GetCellByObject(h)),-1!==l.Row&&-1!==l.Col&&this.DoBeforeDrawGridCell(l.Col,l.Row,e,i,s,o,n,a,r))},this.DoAfterDrawCell=function(t,e,i,s){var o=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),n=null;pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(t)&&(n=rtl.as(t,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell),o.$assign(this.GetCellByObject(n)),-1!==o.Row&&-1!==o.Col&&this.DoAfterDrawGridCell(o.Col,o.Row,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s)))},this.DoBeforeDrawGridCell=function(t,e,i,s,o,n,a,r,l){null!=this.FOnCellBeforeDraw&&this.FOnCellBeforeDraw(this,t,e,i,s,o,n,a,r,l)},this.DoAfterDrawGridCell=function(t,e,i,s,o){null!=this.FOnCellAfterDraw&&this.FOnCellAfterDraw(this,t,e,i,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(o))},this.DisplayCellsAlternate=function(t,e,i,s,o,n,a,r,l,h,F,p){var C=0,u=0,d=0,c=0,S=0,T=0,m=0,g=0,M=null,f=0,b=0,y=0,B=0,E=0,L=0,D=null,N=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),A="",G=0,P=null,R=0;P=pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCellLayout.$create("Create$1");for(var W=a,v=r;W<=v;W++){b=W,u=this.GetRowHeights(b),null!=this.FAdapter&&this.FAdapter.StartBuild(b);for(var I=o,w=n;I<=w;I++){y=f=I,B=b,E=0,L=0,C=this.GetColWidths(f),this.DoGetCellMergeInfo(f,b,{get:function(){return y},set:function(t){y=t}},{get:function(){return B},set:function(t){B=t}},{get:function(){return E},set:function(t){E=t}},{get:function(){return L},set:function(t){L=t}}),D=null,this.DoGetCellClass(y,B,{get:function(){return D},set:function(t){D=t}}),M=null,rtl.length(this.FCellArray)>l&&rtl.length(this.FCellArray[l])>h&&(M=this.FCellArray[l][h]),null!=M&&M.$class.ClassType()!==D&&(M=rtl.freeLoc(M),M=null,this.FCellArray[l][h]=null),d=C,c=u,S=0;for(var O=y,$=y+E-1;O<=$;O++)G=O,S+=this.GetColWidths(G);S>0&&(d=S),T=0;for(var x=B,k=B+L-1;x<=k;x++)G=x,T+=this.GetRowHeights(G);T>0&&(c=T),m=0;for(var _=y,H=f-1;_<=H;_++)G=_,m+=this.GetColWidths(G);g=0;for(var U=B,V=b-1;U<=V;U++)G=U,g+=this.GetRowHeights(G);N.$assign(pas["WEBLib.TMSFNCTypes"].RectF(t-m,e-g,t-m+d+1,e-g+c+1)),null==M&&(M=D.$create("Create$1",[this]),rtl.length(this.FCellArray)<=l&&(this.FCellArray=rtl.arraySetLength(this.FCellArray,[],l+1)),rtl.length(this.FCellArray[l])<=h&&(this.FCellArray[l]=rtl.arraySetLength(this.FCellArray[l],null,h+1))),null!=M&&(M.FScaleFactor=this.FPaintScaleFactor,this.FCellArray[y][B]=M,A="",this.DoGetCellData(y,B,{get:function(){return A},set:function(t){A=t}}),pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(M)&&(R=0,this.DoGetCellRotation(y,B,{get:function(){return R},set:function(t){R=t}}),rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).SetAngle(R),rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).FOnBeforeDraw=rtl.createCallback(this,"DoBeforeDrawCell"),rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).FOnAfterDraw=rtl.createCallback(this,"DoAfterDrawCell"),rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).SetLayout(null),rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).SetText(A),rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).SetDisplayHTMLFormatting(this.FOptions.FCell.FDisplayHTMLFormatting),rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).FBitmapContainer=this.GetBitmapContainer(),rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).FOptimizedHTMLDrawing=this.FOptimizedHTMLDrawing),pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell.isPrototypeOf(M)&&(rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell).SetFormat(this.FAppearance.FProgressLayout.FFormat),rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell).SetTextColor(this.FAppearance.FProgressLayout.FTextColor),rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell).SetColor(this.FAppearance.FProgressLayout.FColor),rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell).SetShowText(this.FAppearance.FProgressLayout.FShowText)),pas["WEBLib.TMSFNCGridCell"].TTMSFNCNodeGridCell.isPrototypeOf(M)&&(rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCNodeGridCell).FOnControlClick=rtl.createCallback(this,"DoNodeClick")),pas["WEBLib.TMSFNCGridCell"].TTMSFNCCommentGridCell.isPrototypeOf(M)&&(rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCommentGridCell).FOnControlClick=rtl.createCallback(this,"DoCommentClick")),pas["WEBLib.TMSFNCGridCell"].TTMSFNCBitmapGridCell.isPrototypeOf(M)&&(rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCBitmapGridCell).FOnControlClick=rtl.createCallback(this,"DoBitmapClick")),pas["WEBLib.TMSFNCGridCell"].TTMSFNCFixedGridCell.isPrototypeOf(M)&&(rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCFixedGridCell).FOnControlClick=rtl.createCallback(this,"DoFixedDropDownButtonClick")),M.SetLeft(N.Left),M.SetTop(N.Top),M.SetWidth(N.Right-N.Left),M.SetHeight(N.Bottom-N.Top),pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell.isPrototypeOf(M)&&(rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).FOnCheckChanged=rtl.createCallback(this,"DoCheckBoxClick")),pas["WEBLib.TMSFNCGridCell"].TTMSFNCButtonGridCell.isPrototypeOf(M)&&(rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCButtonGridCell).FOnControlClick=rtl.createCallback(this,"DoButtonClick")),pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell.isPrototypeOf(M)&&(rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell).FOnCheckChanged=rtl.createCallback(this,"DoRadioButtonClick")),this.ApplyCellState(y,B,M),pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(M)&&(P.Assign(rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).FLayout),this.DoGetCellLayout(y,B,P,this.GetCellState(y,B)),rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).AssignLayout(P)),this.DoGetCellProperties(y,B,M)),t+=C,l+=1}t=i,e+=u,h+=1,l=o}P=rtl.freeLoc(P)},this.DisplayCellsNormal=function(t,e,i,s,o,n,a,r,l,h,F,p){var C=0,u=0,d=0,c=0,S=0,T=0,m=0,g=0,M=null,f=0,b=0,y=0,B=0,E=0,L=0,D=null,N=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),A="",G=0,P=null,R=0;P=pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCellLayout.$create("Create$1");for(var W=o,v=n;W<=v;W++){f=W,C=this.GetColWidths(f);for(var I=a,w=r;I<=w;I++){b=I,null!=this.FAdapter&&this.FAdapter.StartBuild(b),y=f,B=b,E=0,L=0,u=this.GetRowHeights(b),this.DoGetCellMergeInfo(f,b,{get:function(){return y},set:function(t){y=t}},{get:function(){return B},set:function(t){B=t}},{get:function(){return E},set:function(t){E=t}},{get:function(){return L},set:function(t){L=t}}),D=null,this.DoGetCellClass(y,B,{get:function(){return D},set:function(t){D=t}}),M=null,rtl.length(this.FCellArray)>l&&rtl.length(this.FCellArray[l])>h&&(M=this.FCellArray[l][h]),null!=M&&M.$class.ClassType()!==D&&(M=rtl.freeLoc(M),M=null,this.FCellArray[l][h]=null),d=C,c=u,S=0;for(var O=y,$=y+E-1;O<=$;O++)G=O,S+=this.GetColWidths(G);S>0&&(d=S),T=0;for(var x=B,k=B+L-1;x<=k;x++)G=x,T+=this.GetRowHeights(G);T>0&&(c=T),m=0;for(var _=y,H=f-1;_<=H;_++)G=_,m+=this.GetColWidths(G);g=0;for(var U=B,V=b-1;U<=V;U++)G=U,g+=this.GetRowHeights(G);N.$assign(pas["WEBLib.TMSFNCTypes"].RectF(t-m,e-g,t-m+d+1,e-g+c+1)),pas["WEBLib.TMSFNCTypes"].OffsetRectEx$1(N,this.GetContentRect().Left,this.GetContentRect().Top),null==M&&(M=D.$create("Create$1",[this]),rtl.length(this.FCellArray)<=l&&(this.FCellArray=rtl.arraySetLength(this.FCellArray,[],l+1)),rtl.length(this.FCellArray[l])<=h&&(this.FCellArray[l]=rtl.arraySetLength(this.FCellArray[l],null,h+1))),null!=M&&(R=0,this.DoGetCellRotation(y,B,{get:function(){return R},set:function(t){R=t}}),rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).SetAngle(R),M.FScaleFactor=this.FPaintScaleFactor,this.FCellArray[l][h]=M,A="",this.DoGetCellData(y,B,{get:function(){return A},set:function(t){A=t}}),pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(M)&&(rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).FOnBeforeDraw=rtl.createCallback(this,"DoBeforeDrawCell"),rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).FOnAfterDraw=rtl.createCallback(this,"DoAfterDrawCell"),rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).SetLayout(null),rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).SetText(A),rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).SetDisplayHTMLFormatting(this.FOptions.FCell.FDisplayHTMLFormatting),rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).FBitmapContainer=this.GetBitmapContainer(),rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).FOptimizedHTMLDrawing=this.FOptimizedHTMLDrawing),pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell.isPrototypeOf(M)&&(rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell).SetFormat(this.FAppearance.FProgressLayout.FFormat),rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell).SetTextColor(this.FAppearance.FProgressLayout.FTextColor),rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell).SetColor(this.FAppearance.FProgressLayout.FColor),rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCProgressGridCell).SetShowText(this.FAppearance.FProgressLayout.FShowText)),pas["WEBLib.TMSFNCGridCell"].TTMSFNCNodeGridCell.isPrototypeOf(M)&&(rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCNodeGridCell).FOnControlClick=rtl.createCallback(this,"DoNodeClick")),pas["WEBLib.TMSFNCGridCell"].TTMSFNCCommentGridCell.isPrototypeOf(M)&&(rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCommentGridCell).FOnControlClick=rtl.createCallback(this,"DoCommentClick")),pas["WEBLib.TMSFNCGridCell"].TTMSFNCBitmapGridCell.isPrototypeOf(M)&&(rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCBitmapGridCell).FOnControlClick=rtl.createCallback(this,"DoBitmapClick")),pas["WEBLib.TMSFNCGridCell"].TTMSFNCFixedGridCell.isPrototypeOf(M)&&(rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCFixedGridCell).FOnControlClick=rtl.createCallback(this,"DoFixedDropDownButtonClick")),M.SetLeft(N.Left),M.SetTop(N.Top),M.SetWidth(N.Right-N.Left),M.SetHeight(N.Bottom-N.Top),pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell.isPrototypeOf(M)&&(rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).FOnCheckChanged=rtl.createCallback(this,"DoCheckBoxClick")),pas["WEBLib.TMSFNCGridCell"].TTMSFNCButtonGridCell.isPrototypeOf(M)&&(rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCButtonGridCell).FOnControlClick=rtl.createCallback(this,"DoButtonClick")),pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell.isPrototypeOf(M)&&(rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell).FOnCheckChanged=rtl.createCallback(this,"DoRadioButtonClick")),this.ApplyCellState(y,B,M),pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(M)&&(P.Assign(rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).FLayout),this.DoGetCellLayout(y,B,P,this.GetCellState(y,B)),rtl.as(M,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).AssignLayout(P)),this.DoGetCellProperties(y,B,M)),e+=u,h+=1}e=s,t+=C,l+=1,h=F}P=rtl.freeLoc(P)},this.Create$1=function(e){return pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.Create$1.apply(this,arguments),this.UpdateScrollingMode(1),this.ChangeCursor=!0,this.FLeftC=0,this.FTopr=0,this.FFreezeRows=0,this.FFreezeColumns=0,this.FToolBarPopupMode=0,this.FFreeEditControlTimer=pas["WEBLib.ExtCtrls"].TTimer.$create("Create$1",[this]),this.FFreeEditControlTimer.SetInterval(1),this.FFreeEditControlTimer.SetEnabled(!1),this.FFreeEditControlTimer.FOnTimer=rtl.createCallback(this,"DoFreeEditControl"),this.FAnimateTimer$1=pas["WEBLib.ExtCtrls"].TTimer.$create("Create$1",[this]),this.FAnimateTimer$1.SetInterval(1),this.FAnimateTimer$1.SetEnabled(!1),this.FAnimateTimer$1.FOnTimer=rtl.createCallback(this,"Animate$1"),this.FScrollTimer=pas["WEBLib.ExtCtrls"].TTimer.$create("Create$1",[this]),this.FScrollTimer.FOnTimer=rtl.createCallback(this,"ScrollTimer"),this.FScrollTimer.SetInterval(this.FOptions.FMouse.FAutoScrollingInterval),this.FScrollTimer.SetEnabled(!1),this.FDragTimer=pas["WEBLib.ExtCtrls"].TTimer.$create("Create$1",[this]),this.FDragTimer.FOnTimer=rtl.createCallback(this,"DragTimer"),this.FDragTimer.SetInterval(this.FOptions.FMouse.FAutoScrollingInterval),this.FDragTimer.SetEnabled(!1),this.FActiveCommentTextColor=0,this.FActiveComment="",this.FFilterListBox=pas["WEBLib.StdCtrls"].TListBox.$create("Create$1",[this]),this.FFilterListBox.FTag$1=-1,this.FFilterListBox.FOnClick=rtl.createCallback(this,"HandleFilterListClick"),this.FFilterTimer=pas["WEBLib.ExtCtrls"].TTimer.$create("Create$1",[this]),this.FFilterTimer.FOnTimer=rtl.createCallback(this,"HandleFilterTimer"),this.FFilterTimer.SetInterval(100),this.FFilterTimer.SetEnabled(!1),this.FCommentPopup=pas["WEBLib.TMSFNCPopup"].TTMSFNCPopup.$create("Create$1",[this]),this.FCommentPopup.SetPlacement(9),this.FCommentPopup.FOnPopupPaint=rtl.createCallback(this,"DoPaintCommentPopup"),this.FFilterPopup=pas["WEBLib.TMSFNCPopup"].TTMSFNCPopup.$create("Create$1",[this]),this.FFilterPopup.SetPlacement(9),this.FAppearance=t.TTMSFNCGridAppearance.$create("Create$1"),this.FAppearance.FOnChange=rtl.createCallback(this,"AppearanceChanged"),this.SetWidth(370),this.SetHeight(270),this.IsDesignTime()&&this.InitSample(),this.FDesignTimeSampleData=!0,this},this.Destroy=function(){pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FDragTimer},set:function(t){this.p.FDragTimer=t}}),pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FFilterTimer},set:function(t){this.p.FFilterTimer=t}}),pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FScrollTimer},set:function(t){this.p.FScrollTimer=t}}),pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FAnimateTimer$1},set:function(t){this.p.FAnimateTimer$1=t}}),pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FFreeEditControlTimer},set:function(t){this.p.FFreeEditControlTimer=t}}),this.RemoveAllCells(),null!=this.FDummyButtonBitmap&&rtl.free(this,"FDummyButtonBitmap"),null!=this.FNodeOpenBitmap&&rtl.free(this,"FNodeOpenBitmap"),null!=this.FNodeClosedBitmap&&rtl.free(this,"FNodeClosedBitmap"),null!=this.FCellMemo&&rtl.free(this,"FCellMemo"),null!=this.FCellEdit&&rtl.free(this,"FCellEdit"),null!=this.FCellColorPicker&&rtl.free(this,"FCellColorPicker"),null!=this.FCellSpinBox&&rtl.free(this,"FCellSpinBox"),null!=this.FCellComboBox&&rtl.free(this,"FCellComboBox"),null!=this.FCellDatePicker&&rtl.free(this,"FCellDatePicker"),null!=this.FCellTrackBar&&rtl.free(this,"FCellTrackBar"),rtl.free(this,"FFilterListBox"),rtl.free(this,"FCommentPopup"),rtl.free(this,"FFilterPopup"),rtl.free(this,"FAppearance"),pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.Destroy.call(this)},this.GetDisplayCell=function(t){var e,i=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),s=0;return e=rtl.length(this.FCellArray)-1,t.Col>this.GetColumnCount()-1-this.FFixedRightColumns?i.Col=this.FCStop-this.FCStart+this.FFixedRightColumns+this.FFixedColumns-(this.GetColumnCount()-t.Col-1):t.Col>=this.GetFixedCols()?i.Col=t.Col-this.FCStart+this.GetFixedCols():i.Col=t.Col,i.Col=Math.max(0,Math.min(i.Col,e)),s=0,i.Col>=0&&i.Col<=e&&(s=rtl.length(this.FCellArray[i.Col])-1,t.Row>this.GetRowCount()-1-this.FFixedRightColumns?i.Row=this.FRStop-this.FRStart+this.FFixedFooterRows+this.FFixedRows-(this.GetRowCount()-t.Row-1):t.Row>=this.GetFixedRows()?i.Row=t.Row-this.FRStart+this.GetFixedRows():i.Row=t.Row),i.Row=Math.max(0,Math.min(i.Row,s)),i},this.GetRealCell=function(t){var e=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new();return t.Col>rtl.length(this.FCellArray)-1-this.FFixedRightColumns?e.Col=this.GetColumnCount()-1-(rtl.length(this.FCellArray)-1-t.Col):t.Col>=this.GetFixedCols()?e.Col=t.Col+this.FCStart-this.GetFixedCols():e.Col=t.Col,t.Col>=0&&t.Col<=rtl.length(this.FCellArray)-1&&(t.Row>rtl.length(this.FCellArray[t.Col])-1-this.FFixedRightColumns?e.Row=this.GetRowCount()-1-(rtl.length(this.FCellArray[t.Col])-1-t.Row):t.Row>=this.GetFixedRows()?e.Row=t.Row+this.FRStart-this.GetFixedRows():e.Row=t.Row),e},this.GetCellObject=function(t){var e=null;return e=null,t.Col>=0&&t.Col<=rtl.length(this.FCellArray)-1&&t.Row>=0&&t.Row<=rtl.length(this.FCellArray[t.Col])-1&&(e=this.FCellArray[t.Col][t.Row]),e},this.GetCellByObject=function(t){var e=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),i=0,s=0;e.Col=-1,e.Row=-1;for(var o=0,n=rtl.length(this.FCellArray)-1;o<=n;o++){i=o;for(var a=0,r=rtl.length(this.FCellArray[i])-1;a<=r;a++)if(s=a,this.FCellArray[i][s]===t)return e.Col=i,e.Row=s,e.$assign(this.GetRealCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(e))),e}return e},this.GetTotalColumnWidth=function(){var t=0,e=0;t=(this.GetColumnCount()-Math.min(this.GetColumnCount(),this.FColumnW.GetCount()))*this.FDefaultColumnWidth;for(var i=0,s=Math.min(this.GetColumnCount()-1,this.FColumnW.GetCount()-1);i<=s;i++)e=i,t+=this.FColumnW.GetItem$1(e).FValue;return t},this.GetTotalRowHeight=function(){var t=0,e=0;t=(this.GetRowCount()-Math.min(this.GetRowCount(),this.FRowH.GetCount()))*this.FDefaultRowHeight;for(var i=0,s=Math.min(this.GetRowCount()-1,this.FRowH.GetCount()-1);i<=s;i++)e=i,t+=this.FRowH.GetItem$1(e).FValue;return t},this.GetTotalContentWidth=function(){return pas["WEBLib.TMSFNCCustomScrollControl"].TTMSFNCCustomScrollControl.GetTotalContentWidth.call(this),this.FContainerWidth},this.GetTotalContentHeight=function(){return pas["WEBLib.TMSFNCCustomScrollControl"].TTMSFNCCustomScrollControl.GetTotalContentHeight.call(this),this.FContainerHeight},this.EndUpdate=function(){pas["WEBLib.TMSFNCCustomScrollControl"].TTMSFNCCustomScrollControl.EndUpdate.call(this),null!=this.FDragTimer&&this.FDragTimer.SetInterval(this.FOptions.FMouse.FAutoScrollingInterval),null!=this.FScrollTimer&&this.FScrollTimer.SetInterval(this.FOptions.FMouse.FAutoScrollingInterval)},this.RemoveAllCells=function(){for(var t=0,e=0,i=0,s=rtl.length(this.FCellArray)-1;i<=s;i++){t=i;for(var o=0,n=rtl.length(this.FCellArray[t])-1;o<=n;o++)e=o,null!=this.FCellArray[t][e]&&(rtl.free(this.FCellArray[t],e),this.FCellArray[t][e]=null)}this.FCellArray=rtl.arraySetLength(this.FCellArray,[],0)},this.ExportNotification=function(t,e){pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.ExportNotification.apply(this,arguments),null!=this.FAdapter&&this.FAdapter.ExportNotification(t,e)},this.ApplyCellState=function(t,e,i){var s=null,o=null,n=0;if(pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(i)&&null!=(s=rtl.as(i,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell))){if(0!==this.FOptions.FSelection.FMode&&this.GetFocusedCell().Row===e&&this.GetFocusedCell().Col===t&&this.IsFocused()?s.AssignLayout(this.GetCellAppearance(1,t,e)):this.IsFixed(t,e)?0!==this.FOptions.FSelection.FMode&&this.FOptions.FSelection.FShowSelectionInFixedCells&&this.DoIsFixedCellSelected(t,e)&&!this.IsNormalFixed(t,e)?s.AssignLayout(this.GetCellAppearance(3,t,e)):s.AssignLayout(this.GetCellAppearance(2,t,e)):0!==this.FOptions.FSelection.FMode&&this.DoIsCellSelected(t,e)?s.AssignLayout(this.GetCellAppearance(4,t,e)):s.AssignLayout(this.GetCellAppearance(0,t,e)),this.IsFixed(t,e)){var a=this.FOptions.FBorders.FFixedCellBorders;0===a?s.FLayout.SetSides({}):2===a?s.FLayout.SetSides(rtl.diffSet(s.FLayout.FSides,rtl.createSet(1,3))):3===a&&s.FLayout.SetSides(rtl.diffSet(s.FLayout.FSides,rtl.createSet(0,2)))}else{var r=this.FOptions.FBorders.FCellBorders;0===r?s.FLayout.SetSides({}):2===r?s.FLayout.SetSides(rtl.diffSet(s.FLayout.FSides,rtl.createSet(1,3))):3===r&&s.FLayout.SetSides(rtl.diffSet(s.FLayout.FSides,rtl.createSet(0,2)))}if(pas["WEBLib.TMSFNCGridCell"].TTMSFNCFixedGridCell.isPrototypeOf(s)&&e===this.FOptions.FSorting.FRow){(o=rtl.as(s,pas["WEBLib.TMSFNCGridCell"].TTMSFNCFixedGridCell)).FSortIndex=-1,o.FSortKind=0;var l=this.FOptions.FSorting.FMode;if(0===l)o.FSortKind=0;else if(1===l){if(t===this.FSortColumn){var h=this.FSortDirection;0===h?o.FSortKind=1:1===h&&(o.FSortKind=2)}}else 2===l&&-1!==(n=this.FSortIndexes.FindIndex(t))&&(o.FSortIndex=n+1,this.FSortIndexes.GetSortDirections(n)?o.FSortKind=1:o.FSortKind=2)}}},this.GetCellState=function(t,e){return 0!==this.FOptions.FSelection.FMode&&this.GetFocusedCell().Row===e&&this.GetFocusedCell().Col===t?1:this.IsFixed(t,e)?0!==this.FOptions.FSelection.FMode&&this.FOptions.FSelection.FShowSelectionInFixedCells&&this.DoIsFixedCellSelected(t,e)?3:2:0!==this.FOptions.FSelection.FMode&&this.DoIsCellSelected(t,e)?4:0},this.XYToCell=function(t,e){var i=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),s=0,o=0,n=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(i.Row=-1,i.Col=-1,0===this.GetRowCount()||0===this.GetColumnCount())return i;if(n.$assign(this.GetContentRect()),!pas["WEBLib.TMSFNCTypes"].PtInRectEx(n,pas["WEBLib.TMSFNCTypes"].PointF(t,e)))return i;if(e<this.GetFixedHeight()){o=0;for(var a=0,r=this.GetFixedRows();a<=r;a++)if(s=a,(o+=this.GetRowHeights(s))>=e){i.Row=s;break}}else if(e>n.Bottom-n.Top-this.GetFixedFooterHeight()){o=n.Bottom-n.Top;for(var l=this.GetRowCount()-1,h=this.GetRowCount()-1-this.FFixedFooterRows;l>=h;l--)if(s=l,(o-=this.GetRowHeights(s))<=e){i.Row=s;break}}else{o=this.GetCellContainerPosY();for(var F=0,p=this.FRStop;F<=p;F++)if(s=F,(o+=this.GetRowHeights(s))>=e){i.Row=s;break}}if(t<this.GetFixedWidth()){o=0;for(var C=0,u=this.GetFixedCols();C<=u;C++)if(s=C,(o+=this.GetColWidths(s))>=t){i.Col=s;break}}else if(t>n.Right-n.Left-this.GetFixedRightWidth()){o=n.Right-n.Left;for(var d=this.GetColumnCount()-1,c=this.GetColumnCount()-1-this.FFixedRightColumns;d>=c;d--)if(s=d,(o-=this.GetColWidths(s))<=t){i.Col=s;break}}else{o=this.GetCellContainerPosX();for(var S=0,T=this.FCStop;S<=T;S++)if(s=S,(o+=this.GetColWidths(s))>=t){i.Col=s;break}}return i},this.GetFixedCols=function(){return this.FFixedColumns+this.FFreezeColumns},this.GetFixedRows=function(){return this.FFixedRows+this.FFreezeRows},this.GetFixedWidth=function(){var t=0,e=0;t=0;for(var i=0,s=this.FFixedColumns+this.FFreezeColumns-1;i<=s;i++)e=i,t+=this.GetColWidths(e);return t},this.GetFixedHeight=function(){var t=0,e=0;t=0;for(var i=0,s=this.FFixedRows+this.FFreezeRows-1;i<=s;i++)e=i,t+=this.GetRowHeights(e);return t},this.GetFixedRightWidth=function(){var t=0,e=0;t=0;for(var i=this.GetColumnCount()-1,s=this.GetColumnCount()-this.FFixedRightColumns;i>=s;i--)e=i,t+=this.GetColWidths(e);return t},this.GetFixedFooterHeight=function(){var t=0,e=0;t=0;for(var i=this.GetRowCount()-1,s=this.GetRowCount()-this.FFixedFooterRows;i>=s;i--)e=i,t+=this.GetRowHeights(e);return t},this.GetCellContainerPosX=function(){return this.FCellPosX},this.GetCellContainerPosY=function(){return this.FCellPosY},this.ColumnStretchingActive=function(){return this.FOptions.FColumnSize.FStretch&&this.FOptions.FColumnSize.FStretchAll},this.DrawContent=function(t,e){var i=0,s=0,o=0,n=0;pas["WEBLib.TMSFNCCustomScrollControl"].TTMSFNCCustomScrollControl.DrawContent.apply(this,arguments),t.FBitmapContainer=this.GetBitmapContainer(),i=this.GetFixedCols(),s=this.GetFixedRows(),o=this.FFixedRightColumns,n=this.FFixedFooterRows,this.GetColumnCount()>this.FFixedColumns&&this.GetRowCount()>this.FFixedRows&&this.PaintCells(t,this.FCStart,this.FCStop,this.FRStart,this.FRStop,i,s,s),this.GetRowCount()>this.FFixedRows&&this.PaintCells(t,0,i-1,this.FRStart,this.FRStop,0,s,s),this.GetColumnCount()>this.FFixedColumns&&this.PaintCells(t,this.FCStart,this.FCStop,0,s-1,i,0,0),this.PaintCells(t,0,i-1,0,s-1,0,0,0),this.GetColumnCount()>this.FFixedColumns+this.FFixedRightColumns&&this.GetRowCount()>this.FFixedRows&&(this.PaintCells(t,this.GetColumnCount()-o,this.GetColumnCount()-1,this.FRStart,this.FRStop,this.FCStop-this.FCStart+i+1,s,s),this.PaintCells(t,this.GetColumnCount()-o,this.GetColumnCount()-1,0,s-1,this.FCStop-this.FCStart+i+1,0,0)),this.GetColumnCount()>this.FFixedColumns&&this.GetRowCount()>this.FFixedRows+this.FFixedFooterRows&&this.PaintCells(t,this.FCStart,this.FCStop,this.GetRowCount()-n,this.GetRowCount()-1,i,this.FRStop-this.FRStart+s+1,this.FRStop-this.FRStart+s+1),this.GetColumnCount()>this.FFixedColumns+this.FFixedRightColumns&&this.GetRowCount()>this.FFixedRows+this.FFixedFooterRows&&this.PaintCells(t,this.GetColumnCount()-o,this.GetColumnCount()-1,this.GetRowCount()-n,this.GetRowCount()-1,this.FCStop-this.FCStart+i+1,this.FRStop-this.FRStart+s+1,this.FRStop-this.FRStart+s+1),this.GetRowCount()>this.FFixedRows&&this.PaintCells(t,0,i-1,this.GetRowCount()-n,this.GetRowCount()-1,0,this.FRStop-this.FRStart+s+1,this.FRStop-this.FRStart+s+1)},this.Assign=function(e){t.TTMSFNCCustomGrid.isPrototypeOf(e)&&(this.FAppearance.Assign(rtl.as(e,t.TTMSFNCCustomGrid).FAppearance),this.FOptions.Assign(rtl.as(e,t.TTMSFNCCustomGrid).FOptions),this.SetColumnCount(rtl.as(e,t.TTMSFNCCustomGrid).GetColumnCount()),this.SetRowCount(rtl.as(e,t.TTMSFNCCustomGrid).GetRowCount()),this.SetFixedColumns(rtl.as(e,t.TTMSFNCCustomGrid).FFixedColumns),this.SetFixedRows(rtl.as(e,t.TTMSFNCCustomGrid).FFixedRows),this.SetFixedRightColumns(rtl.as(e,t.TTMSFNCCustomGrid).FFixedRightColumns),this.SetFixedFooterRows(rtl.as(e,t.TTMSFNCCustomGrid).FFixedFooterRows),this.SetFreezeColumns(rtl.as(e,t.TTMSFNCCustomGrid).FFreezeColumns),this.SetFreezeRows(rtl.as(e,t.TTMSFNCCustomGrid).FFreezeRows),this.SetBitmapContainer(rtl.as(e,t.TTMSFNCCustomGrid).GetBitmapContainer()),this.SetEnabled(rtl.as(e,t.TTMSFNCCustomGrid).FEnabled),this.SetDefaultColumnWidth(rtl.as(e,t.TTMSFNCCustomGrid).FDefaultColumnWidth),this.SetDefaultRowHeight(rtl.as(e,t.TTMSFNCCustomGrid).FDefaultRowHeight),this.SetLeftCol(rtl.as(e,t.TTMSFNCCustomGrid).GetLeftCol()),this.SetTopRow(rtl.as(e,t.TTMSFNCCustomGrid).GetTopRow()))},this.EditCell=function(e,i,s,o,n){function a(t,e){var i=pas.Types.TPoint.$new();return i.x=t,i.y=e,i}var r=null,l="",h=null,F=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),p=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),C=!1,u=0,d=0,c=!1,S="",T=null,m=null,g=0,M=rtl.createIntfRefs();try{if(!this.FOptions.FEditing.FEnabled||this.IsFixed(e.Col,e.Row))return;if(this.Navigate(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(e),!1),C=!1,this.DoGetCellReadOnly(e.Col,e.Row,{get:function(){return C},set:function(t){C=t}}),c=this.DoGetCellIsDataCheckBox(e.Col,e.Row),C||c)return;if(null!=this.FAdapter&&this.FAdapter.CellBeforeEdit(e.Col,e.Row),F.$assign(this.GetDisplayCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(e))),h=null,F.Col>=0&&F.Col<=rtl.length(this.FCellArray)-1&&F.Row>=0&&F.Row<=rtl.length(this.FCellArray[F.Col])-1&&(h=this.FCellArray[F.Col][F.Row]),null!=h&&pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(h)){if(u=0,this.FEditControl=this.GetCellEdit(),r=t.TTMSFNCGridEdit,this.DoGetCellEditorType(e.Col,e.Row,{get:function(){return u},set:function(t){u=t}}),18===u)this.DoGetCellEditorCustomClassType(e.Col,e.Row,{get:function(){return r},set:function(t){r=t}}),null!==r&&(this.FEditControl=r.$create("Create$1",[this]),this.FEditControl.SetShowFocus(!1),this.FEditControl.FOnKeyDown=rtl.createCallback(this,"CellControlKeyDown"),this.FEditControl.FOnExit=rtl.createCallback(this,"CellExit"));else{var f=u;17===f?this.FEditControl=this.GetCellMemo():13===f?this.FEditControl=this.GetCellSpinBox():15===f?this.FEditControl=this.GetCellColorPicker():12===f?this.FEditControl=this.GetCellComboBox():14===f?this.FEditControl=this.GetCellDatePicker():16===f?this.FEditControl=this.GetCellTrackBar():0===f?this.GetCellEdit().SetEditType$1(0):1===f?this.GetCellEdit().SetEditType$1(1):2===f?this.GetCellEdit().SetEditType$1(2):3===f?this.GetCellEdit().SetEditType$1(3):4===f?this.GetCellEdit().SetEditType$1(4):5===f?this.GetCellEdit().SetEditType$1(5):6===f?this.GetCellEdit().SetEditType$1(6):7===f?this.GetCellEdit().SetEditType$1(7):8===f?this.GetCellEdit().SetEditType$1(8):9===f?this.GetCellEdit().SetEditType$1(9):10===f?this.GetCellEdit().SetEditType$1(10):11===f&&this.GetCellEdit().SetEditType$1(11),u in rtl.createSet(0)&&0!==this.FOptions.FEditing.FAutoComplete&&(this.GetCellEdit().FLookup.FDisplayList.Assign(this.FOptions.FEditing.FAutoCompleteItems),this.GetCellEdit().FAutoComplete=1===this.FOptions.FEditing.FAutoComplete,this.GetCellEdit().FLookup.FEnabled=1!==this.FOptions.FEditing.FAutoComplete)}if(null!=this.FEditControl){if(pas["WEBLib.StdCtrls"].TComboBox.isPrototypeOf(this.FEditControl)&&rtl.as(this.FEditControl,pas["WEBLib.StdCtrls"].TComboBox).SetParent(this),this.DoGetCellEditorProperties(e.Col,e.Row,this.FEditControl),pas["WEBLib.StdCtrls"].TComboBox.isPrototypeOf(this.FEditControl)&&rtl.as(this.FEditControl,pas["WEBLib.StdCtrls"].TComboBox).SetParent(null),l=this.GetCells(e.Col,e.Row),!this.FOptions.FEditing.FEditWithTags&&pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IsHTML(l)&&(l=pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.HTMLStrip(l)),d=this.GetColors(e.Col,e.Row),t.TTMSFNCGridColorPicker.isPrototypeOf(this.FEditControl)?this.DoCellEditGetColor(e.Col,e.Row,this.FEditControl,{get:function(){return d},set:function(t){d=t}}):this.DoCellEditGetData(e.Col,e.Row,this.FEditControl,{get:function(){return l},set:function(t){l=t}}),pas.SysUtils.Supports$1(M.ref(1,rtl.queryIntfT(this.FEditControl,pas.System.IUnknown)),rtl.getIntfGUIDR(pas["WEBLib.TMSFNCTypes"].ITMSFNCCustomEditor),{get:function(){return m},set:function(t){m=t}})&&s&&m.SetText(o),t.TTMSFNCGridEdit.isPrototypeOf(this.FEditControl)||t.TTMSFNCGridMemo.isPrototypeOf(this.FEditControl)?s?(t.TTMSFNCGridMemo.isPrototypeOf(this.FEditControl)&&rtl.as(this.FEditControl,t.TTMSFNCGridMemo).SetText(""),t.TTMSFNCGridEdit.isPrototypeOf(this.FEditControl)&&rtl.as(this.FEditControl,t.TTMSFNCGridEdit).SetT(""),t.TTMSFNCGridEdit.isPrototypeOf(this.FEditControl)&&u in rtl.createSet(8,3,4,1)&&(this.FEditControl.SetParent(this),this.FEditControl.SelectAll(),this.FEditControl.SetParent(null)),S=o,t.TTMSFNCGridMemo.isPrototypeOf(this.FEditControl)&&rtl.as(this.FEditControl,t.TTMSFNCGridMemo).SetText(S),t.TTMSFNCGridEdit.isPrototypeOf(this.FEditControl)&&rtl.as(this.FEditControl,t.TTMSFNCGridEdit).SetT(S)):(t.TTMSFNCGridMemo.isPrototypeOf(this.FEditControl)&&rtl.as(this.FEditControl,t.TTMSFNCGridMemo).SetText(l),t.TTMSFNCGridEdit.isPrototypeOf(this.FEditControl)&&rtl.as(this.FEditControl,t.TTMSFNCGridEdit).SetT(l)):t.TTMSFNCGridTrackBar.isPrototypeOf(this.FEditControl)?""!==l?rtl.as(this.FEditControl,t.TTMSFNCGridTrackBar).SetPosition(pas.SysUtils.StrToInt(l)):rtl.as(this.FEditControl,t.TTMSFNCGridTrackBar).SetPosition(0):t.TTMSFNCGridColorPicker.isPrototypeOf(this.FEditControl)?rtl.as(this.FEditControl,t.TTMSFNCGridColorPicker).SetSelectedColor(d):t.TTMSFNCGridSpinBox.isPrototypeOf(this.FEditControl)?rtl.as(this.FEditControl,t.TTMSFNCGridSpinBox).SetText(l):t.TTMSFNCGridDatePicker.isPrototypeOf(this.FEditControl)?(rtl.as(this.FEditControl,t.TTMSFNCGridDatePicker).SetParent(this),""===l?(rtl.as(this.FEditControl,t.TTMSFNCGridDatePicker).SetDate(pas.System.Int(pas.SysUtils.Now())),rtl.as(this.FEditControl,t.TTMSFNCGridDatePicker).SetText(pas.SysUtils.DateToStr(pas.SysUtils.Now()))):(rtl.as(this.FEditControl,t.TTMSFNCGridDatePicker).SetDate(pas["WEBLib.TMSFNCTypes"].VarToDateTime(l)),rtl.as(this.FEditControl,t.TTMSFNCGridDatePicker).SetText(l)),rtl.as(this.FEditControl,t.TTMSFNCGridDatePicker).SetParent(null)):t.TTMSFNCGridComboBox.isPrototypeOf(this.FEditControl)&&(rtl.as(this.FEditControl,t.TTMSFNCGridComboBox).SetParent(this),rtl.as(this.FEditControl,t.TTMSFNCGridComboBox).SetItemIndex(rtl.as(this.FEditControl,t.TTMSFNCGridComboBox).FItems.IndexOf(l)),rtl.as(this.FEditControl,t.TTMSFNCGridComboBox).SetParent(null)),T=this.FEditControl,t.TTMSFNCGridEdit.isPrototypeOf(T)){g=rtl.as(T,t.TTMSFNCGridEdit).FFont.FColor,rtl.as(T,t.TTMSFNCGridEdit).FFont.Assign(h.FLayout.FFont),rtl.as(T,t.TTMSFNCGridEdit).FFont.SetColor(g);var b=h.FLayout.FTextAlign;0===b?rtl.as(T,t.TTMSFNCGridEdit).SetAlignment(2):1===b?rtl.as(T,t.TTMSFNCGridEdit).SetAlignment(0):2===b&&rtl.as(T,t.TTMSFNCGridEdit).SetAlignment(1),p.$assign(h.GetTextRect(!1))}else p.$assign(h.GetTextRect(!1));if(T.SetBounds(Math.round(h.FLeft+p.Left),Math.round(h.FTop+p.Top),Math.round(p.Right-p.Left),Math.round(p.Bottom-p.Top)),T.SetBounds(Math.round(T.GetLeft()+(p.Right-p.Left-T.GetWidth())/2),Math.round(T.GetTop()+(p.Bottom-p.Top-T.GetHeight())/2),T.GetWidth(),T.GetHeight()),(pas["WEBLib.StdCtrls"].TCustomEdit.isPrototypeOf(T)||pas["WEBLib.StdCtrls"].TCustomMemo.isPrototypeOf(T))&&!t.TTMSFNCGridSpinBox.isPrototypeOf(T)&&T.GetHeight()>p.Bottom-p.Top&&(T.SetTop(T.GetTop()+4),T.SetHeight(T.GetHeight()-8)),this.FEditControl.SetParent(this),this.FEditControl.SetVisible(!0),this.FEditControl.BringToFront(),pas.SysUtils.Supports$1(M.ref(2,rtl.queryIntfT(this.FEditControl,pas.System.IUnknown)),rtl.getIntfGUIDR(pas["WEBLib.TMSFNCTypes"].ITMSFNCCustomEditor),{get:function(){return m},set:function(t){m=t}}))if(s)m.SetSelStart(m.GetTextLength()),m.SetSelLength(0);else{var y=i;0===y?(m.SetSelStart(0),m.SetSelLength(m.GetTextLength())):1===y?(m.SetSelStart(0),m.SetSelLength(0)):2===y&&(m.SetSelStart(m.GetTextLength()),m.SetSelLength(0))}if(t.TTMSFNCGridEdit.isPrototypeOf(this.FEditControl))try{if(s)rtl.as(this.FEditControl,t.TTMSFNCGridEdit).SetSelStart(rtl.as(this.FEditControl,t.TTMSFNCGridEdit).GetT().length),rtl.as(this.FEditControl,t.TTMSFNCGridEdit).SetSelLength(0);else{var B=i;0===B?(rtl.as(this.FEditControl,t.TTMSFNCGridEdit).SetSelStart(0),rtl.as(this.FEditControl,t.TTMSFNCGridEdit).SetSelLength(rtl.as(this.FEditControl,t.TTMSFNCGridEdit).GetT().length)):1===B?(rtl.as(this.FEditControl,t.TTMSFNCGridEdit).SetSelStart(0),rtl.as(this.FEditControl,t.TTMSFNCGridEdit).SetSelLength(0)):2===B&&(rtl.as(this.FEditControl,t.TTMSFNCGridEdit).SetSelStart(rtl.as(this.FEditControl,t.TTMSFNCGridEdit).GetT().length),rtl.as(this.FEditControl,t.TTMSFNCGridEdit).SetSelLength(0))}}finally{}if(t.TTMSFNCGridMemo.isPrototypeOf(this.FEditControl))if(s)rtl.as(this.FEditControl,t.TTMSFNCGridMemo).FLines.GetCount()>0?rtl.as(this.FEditControl,t.TTMSFNCGridMemo).FCaretPosition.$assign(a(rtl.as(this.FEditControl,t.TTMSFNCGridMemo).FLines.GetCount()-1,rtl.as(this.FEditControl,t.TTMSFNCGridMemo).FLines.Get(rtl.as(this.FEditControl,t.TTMSFNCGridMemo).FLines.GetCount()-1).length)):rtl.as(this.FEditControl,t.TTMSFNCGridMemo).FCaretPosition.$assign(a(0,0)),rtl.as(this.FEditControl,t.TTMSFNCGridMemo).SetSelLength(0);else{var E=i;0===E?(rtl.as(this.FEditControl,t.TTMSFNCGridMemo).FCaretPosition.$assign(a(0,0)),rtl.as(this.FEditControl,t.TTMSFNCGridMemo).SetSelLength(rtl.as(this.FEditControl,t.TTMSFNCGridMemo).FLines.GetCount()-1)):1===E?(rtl.as(this.FEditControl,t.TTMSFNCGridMemo).FCaretPosition.$assign(a(0,0)),rtl.as(this.FEditControl,t.TTMSFNCGridMemo).SetSelLength(0)):2===E&&(rtl.as(this.FEditControl,t.TTMSFNCGridMemo).FLines.GetCount()>0?rtl.as(this.FEditControl,t.TTMSFNCGridMemo).FCaretPosition.$assign(a(rtl.as(this.FEditControl,t.TTMSFNCGridMemo).FLines.GetCount()-1,rtl.as(this.FEditControl,t.TTMSFNCGridMemo).FLines.Get(rtl.as(this.FEditControl,t.TTMSFNCGridMemo).FLines.GetCount()-1).length)):rtl.as(this.FEditControl,t.TTMSFNCGridMemo).FCaretPosition.$assign(a(0,0)),rtl.as(this.FEditControl,t.TTMSFNCGridMemo).SetSelLength(0))}this.FOptions.FEditing.FDirectComboDrop&&(t.TTMSFNCGridComboBox.isPrototypeOf(this.FEditControl)&&t.TTMSFNCGridComboBox.isPrototypeOf(this.FEditControl)&&rtl.as(this.FEditControl,t.TTMSFNCGridComboBox).SetDroppedDown(!0),t.TTMSFNCGridDatePicker.isPrototypeOf(this.FEditControl)),this.FEditControl.CanFocus()&&this.FEditControl.SetFocus(),this.FEditCell.$assign(e),this.FEditing=!0}}this.Invalidate()}finally{M.free(),rtl._Release(m)}},this.CancelEdit=function(){var t=0;this.FBlockHide||(this.FBlockHide=!0,t=0,this.DoGetCellEditorType(this.FEditCell.Col,this.FEditCell.Row,{get:function(){return t},set:function(e){t=e}}),18!==t?(null!=this.FEditControl&&this.FEditControl.SetParent(null),this.FEditControl=null):this.FFreeEditControlTimer.SetEnabled(!0),this.FEditing=!1,this.DoCellEditCancel(this.FEditCell.Col,this.FEditCell.Row),this.CanFocus()&&this.SetFocus(),this.FBlockHide=!1)},this.StopEdit=function(){this.HideEdit(!1,!1)},this.Navigate=function(t,e){var i,s,o=0,n=0,a=0,r=0,l=0,h=0,F=0,p=0,C=0,u=0,d=0,c=0,S=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),T=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(!this.FBlockUpdate){if(T.$assign(this.GetContentRect()),a=n=this.GetVerticalScrollPosition(),r=o=this.GetHorizontalScrollPosition(),1===this.FScrollMode&&(a=-this.GetCellContainerPosY(),r=-this.GetCellContainerPosX()),h=0,l=0,t.$assign(this.BaseCell(t.Col,t.Row)),F=this.ColSpan(t.Col,t.Row),p=this.RowSpan(t.Col,t.Row),F>0)for(var m=t.Col,g=t.Col+F-1;m<=g;m++)C=m,h+=this.GetColWidths(C);else h=this.GetColWidths(t.Col);if(p>0)for(var M=t.Row,f=t.Row+p-1;M<=f;M++)u=M,l+=this.GetRowHeights(u);else l=this.GetRowHeights(t.Row);if(s=this.GetVerticalPos(0,t.Row),e){var b=this.FScrollMode;0===b?n=s-this.GetFixedHeight():1===b&&(n=t.Row-this.FFixedRows-this.FFreezeRows)}else if(s<a+this.GetFixedHeight()){var y=this.FScrollMode;0===y?n=s-this.GetFixedHeight():1===y&&(n=t.Row-this.FFixedRows-this.FFreezeRows)}else{var B=this.FScrollMode;if(0===B)s+l>a+(T.Bottom-T.Top)-this.GetFixedFooterHeight()&&(n=s+l-(T.Bottom-T.Top)+this.GetFixedFooterHeight());else if(1===B)for(;s+l>a+(T.Bottom-T.Top)-this.GetFixedFooterHeight();){if(d=0,n+=1,S.$assign(this.BaseCell(t.Col,Math.round(n))),(p=this.RowSpan(S.Col,S.Row))>0)for(var E=S.Row,L=S.Row+p-1;E<=L;E++)u=E,d+=this.GetRowHeights(u);else p=1,d=this.GetRowHeights(S.Row);n=n+p-1,a+=d}}if(i=this.GetHorizontalPos(0,t.Col),e){var D=this.FScrollMode;0===D?o=i-this.GetFixedWidth():1===D&&(o=t.Col-this.FFixedColumns-this.FFreezeColumns)}else if(i<r+this.GetFixedWidth()){var N=this.FScrollMode;0===N?o=i-this.GetFixedWidth():1===N&&(o=t.Col-this.FFixedColumns-this.FFreezeColumns)}else{var A=this.FScrollMode;if(0===A)i+h>r+(T.Right-T.Left)-this.GetFixedRightWidth()&&(o=i+h-(T.Right-T.Left)+this.GetFixedRightWidth());else if(1===A)for(;i+h>r+(T.Right-T.Left)-this.GetFixedRightWidth();){if(c=0,o+=1,S.$assign(this.BaseCell(Math.round(o),t.Row)),(F=this.ColSpan(S.Col,S.Row))>0)for(var G=S.Col,P=S.Col+F-1;G<=P;G++)C=G,c+=this.GetColWidths(C);else F=1,c=this.GetColWidths(S.Col);o=o+F-1,r+=c}}this.Scroll(o,n)}},this.UpdateControlAfterResize=function(){var t=!1;pas["WEBLib.TMSFNCCustomScrollControl"].TTMSFNCCustomScrollControl.UpdateControlAfterResize.call(this),t=!0,null!=this.FAdapter&&(this.FAdapter.UpdateBounds(),t=this.FAdapter.CanCancelEdit()),this.FEditing&&t&&this.CancelEdit()},this.AutoSizeColumn=function(t,e,i){this.AutoSizeColumnInt(t,e,i),this.UpdateControl(!0,!0)},this.AutoSizeRow=function(t,e){this.AutoSizeRowInt(t,e),this.UpdateControl(!0,!0)},this.StretchColumn=function(t,e){var i,s=0,o=0,n=0,a=0,r=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(r.$assign(this.GetContentRect()),n=-1===e?r.Right-r.Left-1:e,i=this.GetColumnCount(),-1===t&&(t=i-1),0!==i&&this.FOptions.FColumnSize.FStretch){if(t>=i)throw pas.SysUtils.Exception.$create("Create$1",["Stretch column index out of range"]);if(1!==i)if(o=0,this.FOptions.FColumnSize.FStretchAll){if(i-this.FFixedColumns-this.FFixedRightColumns>0){a=n;for(var l=1,h=this.FFixedColumns;l<=h;l++)s=l,a-=this.GetColWidths(s-1);for(var F=1,p=this.FFixedRightColumns;F<=p;F++)s=F,a-=this.GetColWidths(i-s);o=a/(i-this.FFixedColumns-this.FFixedRightColumns);for(var C=this.FFixedColumns,u=i-this.FFixedRightColumns-1;C<=u;C++)s=C,this.SetColWidths(s,o)}}else{for(var d=0,c=i-1;d<=c;d++)(s=d)!==t&&(o+=this.GetColWidths(s));o<this.GetWidth()&&this.SetColWidths(t,n-o)}else this.SetColWidths(0,r.Right-r.Left-1)}},this.SelectCell=function(t,e,i){var s=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),o=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),n=0,a=0,r=0,l=0,h=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),F=0,p=0,C=0,u=0,d=0,c=0,S=!1,T=!1,m=0,g="",M=0,f=0,b=0;if(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridData.SelectCell.apply(this,arguments),this.FPrevSelection.$assign(this.GetSelection()),t.Row<this.FFixedRows&&t.Col<this.FFixedColumns&&0 in this.FOptions.FMouse.FFixedCellSelection)return g="",m=65,this.HandleKeyPress({get:function(){return g},set:function(t){g=t}}),void this.HandleKeyDown({get:function(){return m},set:function(t){m=t}},rtl.createSet(2));if(t.Row=Math.max(this.FFixedRows,Math.min(t.Row,this.GetRowCount()-1-this.FFixedFooterRows)),t.Col=Math.max(this.FFixedColumns,Math.min(t.Col,this.GetColumnCount()-1-this.FFixedRightColumns)),T=!0,null==this.FOnSelectCell||this.FBlockSelectEventHandler||this.FOnSelectCell(this,t.Col,t.Row,{get:function(){return T},set:function(t){T=t}}),T){this.FPrevSelectedCell.$assign(this.GetFocusedCell()),this.FRealCell.$assign(t),t.$assign(this.BaseCell(t.Col,t.Row)),this.SetFocusCell(t.Col,t.Row);var y=this.FOptions.FSelection.FMode;if(1===y)this.SetStartCell(this.GetFocusedCell().Col,this.GetFocusedCell().Row),this.SetStopCell(this.GetFocusedCell().Col,this.GetFocusedCell().Row);else if(2===y)this.SetStartCell(this.FFixedColumns,this.GetFocusedCell().Row),this.SetStopCell(this.GetColumnCount()-1-this.FFixedRightColumns,this.GetFocusedCell().Row);else if(3===y)this.SetStartCell(this.GetFocusedCell().Col,this.FFixedRows),this.SetStopCell(this.GetFocusedCell().Col,this.GetRowCount()-1-this.FFixedFooterRows);else if(4===y||5===y||6===y||7===y||8===y||9===y){if(S=!0,i&&-1!==this.FFirstCell.Row&&-1!==this.FFirstCell.Col||0 in e||2 in e)if(!(0 in e)||-1!==this.FSaveCell.Row&&-1!==this.FSaveCell.Col){if(2 in e&&(7===this.FOptions.FSelection.FMode||8===this.FOptions.FSelection.FMode||9===this.FOptions.FSelection.FMode)){var B=this.FOptions.FSelection.FMode;7===B?this.GetFocusedCell().Row<this.FStartCell.Row?(this.SetStartCell(this.FRealCell.Col,this.GetFocusedCell().Row),this.FFirstCell.$assign(this.FStopCell),this.FSaveCell.$assign(this.FStopCell)):this.GetFocusedCell().Row>this.FStopCell.Row?(this.SetStopCell(this.GetFocusedCell().Col,this.GetFocusedCell().Row),this.FFirstCell.$assign(this.FStartCell),this.FSaveCell.$assign(this.FStartCell)):S=!1:8===B?this.GetFocusedCell().Col<this.FStartCell.Col?(this.SetStartCell(this.GetFocusedCell().Col,this.FRealCell.Row),this.FFirstCell.$assign(this.FStopCell),this.FSaveCell.$assign(this.FStopCell)):this.GetFocusedCell().Col>this.FStopCell.Col?(this.SetStopCell(this.GetFocusedCell().Col,this.GetFocusedCell().Row),this.FFirstCell.$assign(this.FStartCell),this.FSaveCell.$assign(this.FStartCell)):S=!1:9===B&&(S=!1,this.GetFocusedCell().Col<this.FStartCell.Col?this.GetFocusedCell().Row<this.FStartCell.Row?this.SetStartCell(this.GetFocusedCell().Col,this.GetFocusedCell().Row):this.GetFocusedCell().Row>this.FStopCell.Row?this.SetStopCell(this.GetFocusedCell().Col,this.GetFocusedCell().Row):(this.GetFocusedCell().Row>=this.FStartCell.Row||this.GetFocusedCell().Row<=this.FStopCell.Row)&&this.SetStartCell(this.GetFocusedCell().Col,this.FStartCell.Row):this.GetFocusedCell().Col>this.FStopCell.Col?this.GetFocusedCell().Row<this.FStartCell.Row?this.SetStartCell(this.GetFocusedCell().Col,this.GetFocusedCell().Row):this.GetFocusedCell().Row>this.FStopCell.Row?this.SetStopCell(this.GetFocusedCell().Col,this.GetFocusedCell().Row):(this.GetFocusedCell().Row>=this.FStartCell.Row||this.GetFocusedCell().Row>=this.FStopCell.Row)&&this.SetStopCell(this.GetFocusedCell().Col,this.FStopCell.Row):this.GetFocusedCell().Col>=this.FStartCell.Col&&this.GetFocusedCell().Col<=this.FStopCell.Col&&(this.GetFocusedCell().Row<this.FStartCell.Row?this.SetStartCell(this.FStartCell.Col,this.GetFocusedCell().Row):this.GetFocusedCell().Row>this.FStopCell.Row&&this.SetStopCell(this.FStopCell.Col,this.GetFocusedCell().Row)))}}else this.SetStartCell(this.GetFocusedCell().Col,this.GetFocusedCell().Row),this.SetStopCell(this.GetFocusedCell().Col,this.GetFocusedCell().Row),this.FSaveCell.$assign(this.FStartCell);else this.SetStartCell(this.FRealCell.Col,this.GetFocusedCell().Row),this.SetStopCell(this.GetFocusedCell().Col,this.GetFocusedCell().Row),this.FFirstCell.$assign(this.FStartCell),this.FSaveCell.$assign(this.FStartCell);0 in e&&this.FFirstCell.$assign(this.FSaveCell),S&&(this.GetFocusedCell().Col<this.FFirstCell.Col?(this.SetStartCell(this.GetFocusedCell().Col,this.FStartCell.Row),this.SetStopCell(this.FFirstCell.Col,this.FStopCell.Row)):(this.SetStopCell(this.GetFocusedCell().Col,this.FStopCell.Row),this.SetStartCell(this.FFirstCell.Col,this.FStartCell.Row)),this.GetFocusedCell().Row<this.FFirstCell.Row?(this.SetStartCell(this.FStartCell.Col,this.GetFocusedCell().Row),this.SetStopCell(this.FStopCell.Col,this.FFirstCell.Row)):(this.SetStopCell(this.FStopCell.Col,this.GetFocusedCell().Row),this.SetStartCell(this.FStartCell.Col,this.FFirstCell.Row)));var E=this.FOptions.FSelection.FMode;7!==E&&8!==E&&9!==E||2 in e||0 in e||(this.SetStartCell(this.GetFocusedCell().Col,this.GetFocusedCell().Row),this.SetStopCell(this.GetFocusedCell().Col,this.GetFocusedCell().Row),this.FSaveCell.$assign(this.GetFocusedCell()));var L=this.FOptions.FSelection.FMode;5===L||7===L?(this.SetStartCell(this.FFixedColumns,this.FStartCell.Row),this.SetStopCell(this.GetColumnCount()-1-this.FFixedRightColumns,this.FStopCell.Row)):6!==L&&8!==L||(this.SetStartCell(this.FStartCell.Col,this.FFixedRows),this.SetStopCell(this.FStopCell.Col,this.GetRowCount()-1-this.FFixedFooterRows))}o.$assign(this.FStopCell),s.$assign(this.FStartCell),this.FStopCell.Col<this.FStartCell.Col&&(this.SetStopCell(s.Col,this.FStopCell.Row),this.SetStartCell(o.Col,this.FStartCell.Row)),this.FStopCell.Row<this.FStartCell.Row&&(this.SetStopCell(this.FStopCell.Col,s.Row),this.SetStartCell(this.FStartCell.Col,o.Row)),this.Navigate(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.GetFocusedCell()),!1),a=this.FStopCell.Col,l=this.FStartCell.Col,n=this.FStopCell.Row,r=this.FStartCell.Row;for(var D=Math.max(this.FCStart,l),N=Math.min(this.FCStop,a);D<=N;D++){C=D;for(var A=Math.max(this.FRStart,r),G=Math.min(this.FRStop,n);A<=G;A++)u=A,h.$assign(this.BaseCell(C,u)),F=this.ColSpan(h.Col,h.Row),h.Col+F-1>a&&(a=h.Col+F-1),h.Col<l&&(l=h.Col),p=this.RowSpan(h.Col,h.Row),h.Row+p-1>n&&(n=h.Row+p-1),h.Row<r&&(r=h.Row)}this.SetStopCell(a,n),this.SetStartCell(l,r);var P=this.FOptions.FSelection.FMode;if(7===P){if(this.FBlockUpdate=!0,2 in e||this.ClearRowSelect(),0 in e)for(var R=this.FStartCell.Row,W=this.FStopCell.Row;R<=W;R++)d=R,this.SetRowSelect(d,!this.GetRowSelect(d));else this.SetRowSelect(this.GetFocusedCell().Row,!this.GetRowSelect(this.GetFocusedCell().Row)),M=this.GetSelectedRowCount(),this.GetRowSelect(this.GetFocusedCell().Row)||0!==M||this.SetRowSelect(this.GetFocusedCell().Row,!0);if(!this.GetRowSelect(this.GetFocusedCell().Row))for(var v=this.FStartCell.Row,I=this.FStopCell.Row;v<=I;v++)(d=v)!==this.GetFocusedCell().Row&&this.GetRowSelect(d)&&this.SetFocusCell(this.GetFocusedCell().Col,d);this.FBlockUpdate=!1}else if(8===P){if(this.FBlockUpdate=!0,2 in e||this.ClearColumnSelect(),0 in e)for(var w=this.FStartCell.Col,O=this.FStopCell.Col;w<=O;w++)d=w,this.SetColumnSelect(d,!this.GetColumnSelect(d));else this.SetColumnSelect(this.GetFocusedCell().Col,!this.GetColumnSelect(this.GetFocusedCell().Col)),f=this.GetSelectedColumnCount(),this.GetColumnSelect(this.GetFocusedCell().Col)||0!==f||this.SetColumnSelect(this.GetFocusedCell().Col,!0);if(!this.GetColumnSelect(this.GetFocusedCell().Col))for(var $=this.FStartCell.Col,x=this.FStopCell.Col;$<=x;$++)(d=$)!==this.GetFocusedCell().Col&&this.GetColumnSelect(d)&&this.SetFocusCell(d,this.GetFocusedCell().Row);this.FBlockUpdate=!1}else if(9===P){if(this.FBlockUpdate=!0,2 in e||this.ClearCellSelect(),0 in e)for(var k=this.FStartCell.Col,_=this.FStartCell.Row;k<=_;k++){d=k;for(var H=this.FStartCell.Row,U=this.FStopCell.Row;H<=U;H++)c=H,this.SetCellSelect(d,c,!this.GetCellSelect(d,c))}else this.SetCellSelect(this.GetFocusedCell().Col,this.GetFocusedCell().Row,!this.GetCellSelect(this.GetFocusedCell().Col,this.GetFocusedCell().Row)),b=this.GetSelectedCellCount(),this.GetCellSelect(this.GetFocusedCell().Col,this.GetFocusedCell().Row)||0!==b||this.SetCellSelect(this.GetFocusedCell().Col,this.GetFocusedCell().Row,!0);if(!this.GetCellSelect(this.GetFocusedCell().Col,this.GetFocusedCell().Row))for(var V=this.FStartCell.Col,z=this.FStartCell.Row;V<=z;V++){d=V;for(var K=this.FStartCell.Row,j=this.FStopCell.Row;K<=j;K++)c=K,d!==this.GetFocusedCell().Col&&c!==this.GetFocusedCell().Row&&this.GetCellSelect(d,c)&&this.SetFocusCell(d,c)}this.FBlockUpdate=!1}this.Navigate(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.GetFocusedCell()),!1),T&&null!=this.FAdapter&&this.FAdapter.SelectCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(this.GetFocusedCell())),T&&null!=this.FOnSelectedCell&&!this.FBlockSelectEventHandler&&this.FOnSelectedCell(this,this.GetFocusedCell().Col,this.GetFocusedCell().Row)}},this.UpdateGridCells=function(t){var e,i,s=0,o=0,n=0,a=0,r=0,l=0,h=0,F=0,p=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),C=0,u=0,d=0,c=0,S=0,T=0,m=0,g=0,M=0,f=0,b=0,y=0,B=0,E=0,L=0;if(!(this.FUpdateCount$1>0||this.FBlockUpdate||3 in this.FComponentState)){if(this.FBlockUpdate=!0,s=this.GetVerticalScrollPosition(),o=this.GetHorizontalScrollPosition(),E=this.GetHorizontalScrollMax(),L=this.GetVerticalScrollMax(),d=0,c=0,1===this.FScrollMode){E=this.GetTotalContentWidth(),L=this.GetTotalContentHeight();for(var D=this.FFixedRows+this.FFreezeRows,N=Math.round(s)-1+this.FFixedRows+this.FFreezeRows;D<=N;D++)S=D,d+=this.GetRowHeights(S);for(var A=this.FFixedColumns+this.FFreezeColumns,G=Math.round(o)-1+this.FFixedColumns+this.FFreezeColumns;A<=G;A++)S=A,c+=this.GetColWidths(S);s=d,o=c}if(this.FCellPosX=Math.round(-o),this.FCellPosY=Math.round(-s),i=this.GetTotalContentWidth(),e=this.GetTotalContentHeight(),i>0&&e>0){if(f=this.GetFixedCols(),b=this.GetFixedRows(),y=this.FFixedRightColumns,B=this.FFixedFooterRows,this.FOldTopRow=this.FRStart,this.FCStart=f,this.FRStart=b,p.$assign(this.GetContentRect()),p.$assign(pas["WEBLib.TMSFNCTypes"].RectF(p.Left,p.Top,p.Right-1,p.Bottom-1)),T=this.GetFixedWidth(),m=this.GetFixedHeight(),g=this.GetFixedRightWidth(),M=this.GetFixedFooterHeight(),C=0,u=0,o>E/2&&0===this.FColumnW.GetCount()){this.FCStop=this.GetColumnCount()-1-y,r=i-g;do{r-(n=this.GetColWidths(this.FCStop))>o+(p.Right-p.Left)-g&&(r-=n,this.FCStop-=1)}while(!(r-n<=o+(p.Right-p.Left)-g))}else{r=T;do{r+(n=this.GetColWidths(this.FCStart))<=o+T&&(r+=n,this.FCStart+=1)}while(!(r+n>o+T));C=r}if(s>L/2&&0===this.FRowH.GetCount()){this.FRStop=this.GetRowCount()-1-B,l=e-M;do{l-(a=this.GetRowHeights(this.FRStop))>s+(p.Bottom-p.Top)-M&&(l-=a,this.FRStop-=1)}while(!(l-a<=s+(p.Bottom-p.Top)-M))}else{l=m;do{l+(a=this.GetRowHeights(this.FRStart))<=s+m&&(l+=a,this.FRStart+=1)}while(!(l+a>s+m));u=l}if(o>E/2&&0===this.FColumnW.GetCount()){for(this.FCStart=this.FCStop;this.FCStart>0&&r>o+T&&(r-=this.GetColWidths(this.FCStart),this.FCStart>0&&r>o+T);)this.FCStart-=1;C=r}else for(this.FCStop=this.FCStart;this.FCStop<this.GetColumnCount()-1&&r<o+(p.Right-p.Left)-g&&(r+=this.GetColWidths(this.FCStop),this.FCStop<this.GetColumnCount()-1&&r<o+(p.Right-p.Left)-g);)this.FCStop+=1;if(s>L/2&&0===this.FRowH.GetCount()){for(this.FRStart=this.FRStop;this.FRStart>0&&l>s+m&&(l-=this.GetRowHeights(this.FRStart),this.FRStart>0&&l>s+m);)this.FRStart-=1;u=l}else for(this.FRStop=this.FRStart;this.FRStop<this.GetRowCount()-1&&l<s+(p.Bottom-p.Top)-M&&(l+=this.GetRowHeights(this.FRStop),this.FRStop<this.GetRowCount()-1&&l<s+(p.Bottom-p.Top)-M);)this.FRStop+=1;this.FRStart=Math.max(this.FFixedRows,Math.min(this.GetRowCount()-1-this.FFixedFooterRows,this.FRStart)),this.FCStart=Math.max(this.FFixedColumns,Math.min(this.GetColumnCount()-1-this.FFixedRightColumns,this.FCStart)),this.FRStop=Math.max(this.FFixedRows,Math.min(this.GetRowCount()-1-this.FFixedFooterRows,this.FRStop)),this.FCStop=Math.max(this.FFixedColumns,Math.min(this.GetColumnCount()-1-this.FFixedRightColumns,this.FCStop)),null!=this.FAdapter&&0===this.FBlockUpdateAdapter&&(this.FBlockUpdateAdapter+=1,this.FAdapter.ScrollGrid(this.GetTopRow()-this.FOldTopRow,!0,t),this.FBlockUpdateAdapter-=1),r=C-o,l=u-s,h=0,F=0,this.GetColumnCount()>this.GetFixedCols()&&this.GetRowCount()>this.GetFixedRows()&&this.DisplayCells(r,l,r,l,this.FCStart,this.FCStop,this.FRStart,this.FRStop,f,b,b,!1),this.GetRowCount()>this.GetFixedRows()&&this.DisplayCells(h,l,h,l,0,f-1,this.FRStart,this.FRStop,0,b,b,!0),this.GetColumnCount()>this.GetFixedCols()&&this.DisplayCells(r,F,r,F,this.FCStart,this.FCStop,0,b-1,f,0,0,!0),this.DisplayCells(h,F,h,F,0,f-1,0,b-1,0,0,0,!0),this.GetColumnCount()>this.GetFixedCols()+this.FFixedRightColumns&&this.GetRowCount()>this.GetFixedRows()&&(this.DisplayCells(h+(p.Right-p.Left)-g,l,h+(p.Right-p.Left)-g,l,this.GetColumnCount()-y,this.GetColumnCount()-1,this.FRStart,this.FRStop,this.FCStop-this.FCStart+f+1,b,b,!0),this.DisplayCells(h+(p.Right-p.Left)-g,F,h+(p.Right-p.Left)-g,F,this.GetColumnCount()-y,this.GetColumnCount()-1,0,b-1,this.FCStop-this.FCStart+f+1,0,0,!0)),this.GetColumnCount()>this.GetFixedCols()&&this.GetRowCount()>this.GetFixedRows()+this.FFixedFooterRows&&this.DisplayCells(r,F+(p.Bottom-p.Top)-M,h,F+(p.Bottom-p.Top)-M,this.FCStart,this.FCStop,this.GetRowCount()-B,this.GetRowCount()-1,f,this.FRStop-this.FRStart+b+1,this.FRStop-this.FRStart+b+1,!0),this.GetColumnCount()>this.GetFixedCols()+this.FFixedRightColumns&&this.GetRowCount()>this.GetFixedRows()+this.FFixedFooterRows&&this.DisplayCells(h+(p.Right-p.Left)-g,F+(p.Bottom-p.Top)-M,h+(p.Right-p.Left)-g,F+(p.Bottom-p.Top)-M,this.GetColumnCount()-y,this.GetColumnCount()-1,this.GetRowCount()-B,this.GetRowCount()-1,this.FCStop-this.FCStart+f+1,this.FRStop-this.FRStart+b+1,this.FRStop-this.FRStart+b+1,!0),this.GetRowCount()>this.GetFixedRows()&&this.DisplayCells(h,F+(p.Bottom-p.Top)-M,h,F+(p.Bottom-p.Top)-M,0,f-1,this.GetRowCount()-B,this.GetRowCount()-1,0,this.FRStop-this.FRStart+b+1,this.FRStop-this.FRStart+b+1,!0)}else this.RemoveAllCells();null!=this.FEditControl&&this.FEditing&&!this.FFreeEditControlTimer.FEnabled&&(this.FEditControl.BringToFront(),this.FEditControl.SetVisible(!0),this.FEditControl.CanFocus()&&this.FEditControl.SetFocus()),this.FTopr===this.GetTopRow()&&this.FLeftC===this.GetLeftCol()||null!=this.FOnTopLeftChanged&&this.FOnTopLeftChanged(this,this.GetTopRow(),this.GetLeftCol()),this.FTopr=this.GetTopRow(),this.FLeftC=this.GetLeftCol(),this.FBlockUpdate=!1,null!=this.FAdapter&&0===this.FBlockUpdateAdapter&&(this.FBlockUpdateAdapter+=1,this.FAdapter.ScrollGrid(this.GetTopRow()-this.FOldTopRow,!1,t),this.FBlockUpdateAdapter-=1),this.Invalidate()}},this.UpdateControlScroll=function(t,e,i,s){pas["WEBLib.TMSFNCCustomScrollControl"].TTMSFNCCustomScrollControl.UpdateControlScroll.apply(this,arguments),t!==i||e!==s?this.UpdateGridCells(!1):this.UpdateGridCellDisplay()},this.UpdateGridCellDisplay=function(){var t=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRecRange.$new();this.FUpdateCount$1>0||this.FBlockUpdate||3 in this.FComponentState||(this.FBlockUpdate=!0,t.StartCol=this.FPrevSelection.StartCol,t.EndCol=this.FPrevSelection.EndCol,t.StartRow=0,t.EndRow=this.FFixedRows-1,this.DoUpdateGridCellDisplay(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRecRange.$clone(t)),t.StartCol=0,t.EndCol=this.FFixedColumns-1,t.StartRow=this.FPrevSelection.StartRow,t.EndRow=this.FPrevSelection.EndRow,this.DoUpdateGridCellDisplay(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRecRange.$clone(t)),t.StartCol=this.FPrevSelection.StartCol,t.EndCol=this.FPrevSelection.EndCol,t.StartRow=this.GetRowCount()-this.FFixedFooterRows,t.EndRow=this.GetRowCount()-1,this.DoUpdateGridCellDisplay(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRecRange.$clone(t)),t.StartCol=this.GetColumnCount()-this.FFixedRightColumns,t.EndCol=this.GetColumnCount()-1,t.StartRow=this.FPrevSelection.StartRow,t.EndRow=this.FPrevSelection.EndRow,this.DoUpdateGridCellDisplay(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRecRange.$clone(t)),this.DoUpdateGridCellDisplay(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRecRange.$clone(this.FPrevSelection)),t.StartCol=this.GetSelection().StartCol,t.EndCol=this.GetSelection().EndCol,t.StartRow=0,t.EndRow=this.FFixedRows-1,this.DoUpdateGridCellDisplay(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRecRange.$clone(t)),t.StartCol=0,t.EndCol=this.FFixedColumns-1,t.StartRow=this.GetSelection().StartRow,t.EndRow=this.GetSelection().EndRow,this.DoUpdateGridCellDisplay(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRecRange.$clone(t)),t.StartCol=this.GetSelection().StartCol,t.EndCol=this.GetSelection().EndCol,t.StartRow=this.GetRowCount()-this.FFixedFooterRows,t.EndRow=this.GetRowCount()-1,this.DoUpdateGridCellDisplay(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRecRange.$clone(t)),t.StartCol=this.GetColumnCount()-this.FFixedRightColumns,t.EndCol=this.GetColumnCount()-1,t.StartRow=this.GetSelection().StartRow,t.EndRow=this.GetSelection().EndRow,this.DoUpdateGridCellDisplay(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRecRange.$clone(t)),this.DoUpdateGridCellDisplay(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRecRange.$clone(this.GetSelection())),this.FBlockUpdate=!1,this.Invalidate())},this.DoUpdateGridCellDisplay=function(t){var e,i,s,o,n=0,a=0,r=0,l=0,h=null,F=0,p=0,C=0,u=0,d=0,c=0,S=!1,T=!1,m=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),g=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),M=null;M=pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCellLayout.$create("Create$1"),d=0,this.FSaveTopCell=null,T=!1,e=t.StartCol,i=t.EndCol,s=t.StartRow,o=t.EndRow,m.Col=e,g.Col=i,m.Row=s,g.Row=o,m.$assign(this.GetDisplayCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(m))),g.$assign(this.GetDisplayCell(pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$clone(g)));for(var f=m.Col,b=g.Col;f<=b;f++)if((n=f)>=0&&n<=rtl.length(this.FCellArray)-1){T&&(d+=1),c=0,S=!1;for(var y=m.Row,B=g.Row;y<=B;y++)(a=y)>=0&&a<=rtl.length(this.FCellArray[n])-1&&(S&&(c+=1),null!=(h=this.FCellArray[n][a])&&pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(h)&&((F=n+this.FCStart-this.GetFixedCols())>this.FCStop?(F=this.GetColumnCount()-this.FFixedRightColumns+d,T=!0):F<this.FCStart&&(F=n),(p=a+this.FRStart-this.GetFixedRows())>this.FRStop?(p=this.GetRowCount()-this.FFixedFooterRows+c,S=!0):p<this.FRStart&&(p=a),C=0,u=0,this.DoGetCellMergeInfo(F,p,{get:function(){return F},set:function(t){F=t}},{get:function(){return p},set:function(t){p=t}},{get:function(){return C},set:function(t){C=t}},{get:function(){return u},set:function(t){u=t}}),r=F,l=p,r=Math.max(0,Math.min(r,this.GetColumnCount()-1)),l=Math.max(0,Math.min(l,this.GetRowCount()-1)),r===this.GetFocusedCell().Col&&l===this.GetFocusedCell().Row&&(this.FSaveTopCell=h),this.ApplyCellState(r,l,h),pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell.isPrototypeOf(h)&&(M.Assign(rtl.as(h,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).FLayout),this.DoGetCellLayout(r,l,M,this.GetCellState(r,l)),rtl.as(h,pas["WEBLib.TMSFNCGridCell"].TTMSFNCGridCell).AssignLayout(M)),this.DoGetCellProperties(r,l,h)))}M=rtl.freeLoc(M)},this.PaintCells=function(t,e,i,s,o,n,a,r){for(var l=0,h=0,F=null,p=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),C=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),u=!1,d=!1,c=pas["WEBLib.TMSFNCGridData"].TTMSFNCGridCellRec.$new(),S=e,T=i;S<=T;S++){l=S;for(var m=s,g=o;m<=g;m++)h=m,rtl.length(this.FCellArray)>n&&rtl.length(this.FCellArray[n])>a&&(d=!0,u=this.GetFocusedCell().Col===l&&this.GetFocusedCell().Row===h,this.IsMerged(l,h)&&(c.$assign(this.BaseCell(l,h)),u=u||c.Col===this.GetFocusedCell().Col&&c.Row===this.GetFocusedCell().Row),this.FEditing&&u&&(d=!1),null!=(F=this.FCellArray[n][a])&&(p.$assign(pas["WEBLib.TMSFNCTypes"].RectF(F.FLeft,F.FTop,F.FLeft+F.FWidth,F.FTop+F.FHeight)),p.Bottom-p.Top>1&&p.Right-p.Left>1&&(pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell.isPrototypeOf(F)&&rtl.as(F,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).SetControlBitmap(this.GetCheckBoxBitmap(rtl.as(F,pas["WEBLib.TMSFNCGridCell"].TTMSFNCCheckGridCell).FChecked,!1,!0)),pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell.isPrototypeOf(F)&&rtl.as(F,pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell).SetControlBitmap(this.GetRadioButtonBitmap(rtl.as(F,pas["WEBLib.TMSFNCGridCell"].TTMSFNCRadioGridCell).FChecked,!1,!0)),pas["WEBLib.TMSFNCGridCell"].TTMSFNCNodeGridCell.isPrototypeOf(F)&&rtl.as(F,pas["WEBLib.TMSFNCGridCell"].TTMSFNCNodeGridCell).SetControlBitmap(this.GetNodeBitmap(rtl.as(F,pas["WEBLib.TMSFNCGridCell"].TTMSFNCNodeGridCell).FState)),pas["WEBLib.TMSFNCGridCell"].TTMSFNCButtonGridCell.isPrototypeOf(F)&&rtl.as(F,pas["WEBLib.TMSFNCGridCell"].TTMSFNCButtonGridCell).SetControlBitmap(this.GetDummyButtonBitmap(rtl.as(F,pas["WEBLib.TMSFNCGridCell"].TTMSFNCButtonGridCell))),d||(F.FLayout.FFill.Assign(this.FAppearance.FNormalLayout.FFill),F.FLayout.FStroke.Assign(this.FAppearance.FNormalLayout.FStroke)),C.$assign(F.GetTextRect(!1)),pas["WEBLib.TMSFNCTypes"].InflateRectEx(C,-2,-2),F.Draw(t,d,d,!0),this.GetFocusedCell().Col===l&&this.GetFocusedCell().Row===h&&!this.FEditing&&this.IsFocused()&&d&&this.FAppearance.FShowFocus&&t.DrawFocusRectangle$3(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(p.Left+1,p.Top+1,p.Right-1,p.Bottom-1)),0,2)))),a+=1;n+=1,a=r}},this.DisplayCells=function(t,e,i,s,o,n,a,r,l,h,F,p){null!=this.FAdapter&&this.FAdapter.AlternateDisplayBuildUp()?this.DisplayCellsAlternate(t,e,i,s,o,n,a,r,l,h,F,p):this.DisplayCellsNormal(t,e,i,s,o,n,a,r,l,h,F,p)},this.InitSample=function(){var t=0;this.BeginUpdate(),this.FUseColumns=!1,this.ResetToDefaultStyle(),this.SetDefaultRowHeight(this.ScalePaintValue(40)),this.SetFixedColumns(0),this.FOptions.FBands.SetEnabled(!0);for(var e=0,i=this.FColumns.GetCount()-1;e<=i;e++)t=e,this.FColumns.GetItem$1(t).SetWidth(this.ScalePaintValue(90)),this.FColumns.GetItem$1(t).FFixedFont.SetColor(4539717),this.FColumns.GetItem$1(t).FFont.SetColor(8026746);this.FColumns.GetItem$1(0).SetWidth(this.ScalePaintValue(70)),this.FColumns.GetItem$1(1).SetWidth(this.ScalePaintValue(250)),this.FColumns.GetItem$1(2).SetWidth(this.ScalePaintValue(100)),this.FColumns.GetItem$1(3).SetWidth(this.ScalePaintValue(100)),this.LoadSampleData(),this.SetColumnCount(4),this.SetWidth(this.ScalePaintValue(520)),this.EndUpdate()},this.LoadSampleData=function(){var t=0,e=0,i="",s="",o=0;this.BeginUpdate();for(var n=0,a=this.FFixedRows-1;n<=a;n++){s=(t=n)>0?"Sub ":"";for(var r=this.FFixedColumns,l=this.GetColumnCount()-1;r<=l;r++){e=r;i=0===e?s+"ID":1===e?s+"Name":2===e?s+"Joined":3===e?s+"Status":s+"Number",this.SetCells(e,t,i)}}for(var h=this.FFixedRows,F=this.GetRowCount()-1;h<=F;h++){t=h;for(var p=this.FFixedColumns,C=this.GetColumnCount()-1;p<=C;p++){i="";var u=e=p;if(0===u)i="00"+pas.SysUtils.TIntegerHelper.ToString$1.call({get:function(){return t},set:function(e){t=e}});else if(1===u){var d=pas.System.Random(120)%5;i=0===d?"David":1===d?"Laura":2===d?"Isaac":3===d?"Marie":"Leon";var c=pas.System.Random(120)%5;i+=0===c?" Kleermakers":1===c?" Tailor":2===c?" Terzi":3===c?" Sastre":" Schneider"}else if(2===u)o=Math.round(pas.SysUtils.Now())-pas.System.Random(5475),i=pas.SysUtils.DateToStr(o);else if(3===u){var S=pas.System.Random(120)%5;i=0===S?"Flight":1===S?"On Leave":2===S?"Abroad":"Office"}else i=pas.SysUtils.TIntegerHelper.ToString$1.call({a:pas.System.Random(100),get:function(){return this.a},set:function(t){this.a=t}});this.SetCells(e,t,i)}}this.EndUpdate()},rtl.addIntf(this,pas["WEBLib.TMSFNCGraphicsTypes"].ITMSFNCAppearanceGlobalFont),rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),this.TMSFNCGRIDCELLNODEOPEN="data:image/PNG;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAARJJREFUeNpi/P//P0NcX2oCAwNDJhCbMRAGp4B4+qKi2QsYY3tT6hTFVRrdTQIYZETkCep88uYhw84zGxjuv7xTzwSyMdo5mUFRQpGBlYWJIAapA6kH6WMBEhIifAIMpAB2VrB6CSYIhwkrLqzrxSkHAiCbGViZmXDagk8OrJnhPx434pEDa/77DyGQUdmJoiC1HMGf0V6OqfnPH4TAlGaEgpzaThQ+sjq45p+//+F0Gj45sObvP3/jVIBPDqz587cfWCXLczNwysE0P3329rk0Nwcf0Ynk649PIOops767Eefrjy+dBLllGP79YwT68Q9e/OHrR4ZD1zYxfP7xvosRmqvqoLlKggiLX0BzVRNAgAEAJkJ1yu0zs+kAAAAASUVORK5CYII=",this.TMSFNCGRIDCELLNODECLOSED="data:image/PNG;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAOxJREFUeNpi/P//P0NcX2oCAwNDJhCbMRAGp4B4+qKi2QsYY3tT6hTFVRrdTQIYZETkCep88uYhw84zGxjuv7xTzwSyMdo5mUFRQpGBlYWJIAapA6kH6WMBEhIifAIMpAB2VrB6CRYIh4mBHADWzMpMgWaG/wzka/77DyGQUdmJU/GM9nJMzX/+IASmNJfj1IysDq755+9/5Dv7+8/f5Gv+/O0H2ZqfPnv7XJqbg49oTV9/fAJRT5n13Y04X3986STILcPw7x8j0P9/8OIPXz8yHLq2ieHzj/ddjNBcVQfNVRJEWPwCmquaAAIMAGYuZD5GuUOeAAAAAElFTkSuQmCC",t.$resourcestrings={sTMSFNCGridFilterAll:{org:"(All)"}},t.$implcode=function(){e.GetTickCountX=function(){var t=0,e=0,i=0,s=0;return pas.SysUtils.DecodeTime(pas.SysUtils.Now(),{get:function(){return t},set:function(e){t=e}},{get:function(){return e},set:function(t){e=t}},{get:function(){return i},set:function(t){i=t}},{get:function(){return s},set:function(t){s=t}}),s+1e3*i+60*e*1e3+60*t*60*1e3},e.AnimateDouble=function(t,e,i,s){var o=!1;return o=!0,t.get()>e.get()-s&&t.get()<e.get()+s?(t.set(e.get()),o=!1):(i=Math.max(s,i),t.get()<e.get()?t.set(t.get()+i):t.set(t.get()-i)),o}},t.$init=function(){pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRIDCELLNODEOPEN),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRIDCELLNODECLOSED)}}),["WEBLib.TMSFNCCustomScrollControl","WEBLib.TMSFNCUtils","SysUtils","WEBLib.TMSFNCColorSelector","Math","WEBLib.Graphics","WEBLib.Forms","WEBLib.TMSFNCStyles","WEBLib.Dialogs"]),rtl.module("WEBLib.TMSFNCGrid",["System","Classes","WEBLib.TMSFNCCustomGrid","WEBLib.TMSFNCGridData"],(function(){"use strict";var t=this;rtl.createClass(this,"TTMSFNCGrid",pas["WEBLib.TMSFNCCustomGrid"].TTMSFNCCustomGrid,(function(){this.RegisterRuntimeClasses=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.RegisterRuntimeClasses.call(this),pas.Classes.RegisterClasses([t.TTMSFNCGrid,pas["WEBLib.TMSFNCGridData"].TTMSFNCGridColumn])},rtl.addIntf(this,pas["WEBLib.TMSFNCGraphicsTypes"].ITMSFNCAppearanceGlobalFont),rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Adapter",2,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridAdapter,"FAdapter","SetAdapter"),e.addProperty("HorizontalScrollBarVisible",2,rtl.boolean,"FHorizontalScrollBarVisible","SetHorizontalScrollBarVisible",{Default:!0}),e.addProperty("VerticalScrollBarVisible",2,rtl.boolean,"FVerticalScrollBarVisible","SetVerticalScrollBarVisible",{Default:!0}),e.addProperty("Columns",2,pas["WEBLib.TMSFNCGridData"].$rtti.TTMSFNCGridColumns,"FColumns","SetColumns"),e.addProperty("ToolBarPopup",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridCustomToolBarPopup,"FToolBarPopup","FToolBarPopup"),e.addProperty("ToolBarPopupMode",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridCustomToolBarPopupMode,"FToolBarPopupMode","FToolBarPopupMode",{Default:pas["WEBLib.TMSFNCCustomGrid"].TTMSFNCGridCustomToolBarPopupMode.tpmActiveCell}),e.addProperty("Version",1,rtl.string,"GetVersion",""),e.addProperty("Fill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FFill","SetFill"),e.addProperty("DefaultFont",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFont,"FDefaultFont","SetDefaultFont"),e.addProperty("Stroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FStroke","SetStroke"),e.addProperty("TopRow",3,rtl.longint,"GetTopRow","SetTopRow"),e.addProperty("Appearance",2,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridAppearance,"FAppearance","SetAppearance"),e.addProperty("LeftCol",3,rtl.longint,"GetLeftCol","SetLeftCol"),e.addProperty("ScrollMode",2,pas["WEBLib.TMSFNCCustomScrollControl"].$rtti.TTMSFNCCustomScrollControlMode,"FScrollMode","SetScrollMode",{Default:pas["WEBLib.TMSFNCCustomScrollControl"].TTMSFNCCustomScrollControlMode.scmPixelScrolling}),e.addProperty("ScrollUpdate",2,pas["WEBLib.TMSFNCCustomScrollControl"].$rtti.TTMSFNCCustomScrollControlUpdate,"FScrollUpdate","SetScrollUpdate",{Default:pas["WEBLib.TMSFNCCustomScrollControl"].TTMSFNCCustomScrollControlUpdate.scuContinuous}),e.addProperty("CustomScrollBars",2,rtl.boolean,"FCustomScrollBars","SetCustomScrollBars",{Default:!1}),e.addProperty("FreezeColumns",2,rtl.longint,"FFreezeColumns","SetFreezeColumns",{Default:0}),e.addProperty("FreezeRows",2,rtl.longint,"FFreezeRows","SetFreezeRows",{Default:0}),e.addProperty("GlobalFont",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCAppearanceGlobalFont,"FGlobalFont","SetGlobalFont"),e.addProperty("DesignTimeSampleData",2,rtl.boolean,"FDesignTimeSampleData","SetDesignTimeSampleData"),e.addProperty("OnTopLeftChanged",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridTopLeftChanged,"FOnTopLeftChanged","FOnTopLeftChanged"),e.addProperty("OnGetCellClass",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnGetCellClass,"FOnGetCellClass","FOnGetCellClass"),e.addProperty("OnGetCellData",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnGetCellData,"FOnGetCellData","FOnGetCellData"),e.addProperty("OnGetCellRotation",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnGetCellRotation,"FOnGetCellRotation","FOnGetCellRotation"),e.addProperty("OnGetCellProperties",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnGetCellProperties,"FOnGetCellProperties","FOnGetCellProperties"),e.addProperty("OnGetCellLayout",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnGetCellLayout,"FOnGetCellLayout","FOnGetCellLayout"),e.addProperty("OnGetCellMergeInfo",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnGetCellMergeInfo,"FOnGetCellMergeInfo","FOnGetCellMergeInfo"),e.addProperty("OnGetCellReadOnly",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnGetCellReadOnly,"FOnGetCellReadOnly","FOnGetCellReadOnly"),e.addProperty("OnGetRowIsBand",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnGetRowIsBand,"FOnGetRowIsBand","FOnGetRowIsBand"),e.addProperty("OnCanInsertRow",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnCanInsertRow,"FOnCanInsertRow","FOnCanInsertRow"),e.addProperty("OnCanAppendRow",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnCanAppendRow,"FOnCanAppendRow","FOnCanAppendRow"),e.addProperty("OnCanAppendColumn",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnCanAppendColumn,"FOnCanAppendColumn","FOnCanAppendColumn"),e.addProperty("OnCanDeleteRow",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnCanDeleteRow,"FOnCanDeleteRow","FOnCanDeleteRow"),e.addProperty("OnInsertRow",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnInsertRow,"FOnInsertRow","FOnInsertRow"),e.addProperty("OnAppendRow",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnAppendRow,"FOnAppendRow","FOnAppendRow"),e.addProperty("OnAppendColumn",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnAppendColumn,"FOnAppendColumn","FOnAppendColumn"),e.addProperty("OnDeleteRow",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnDeleteRow,"FOnDeleteRow","FOnDeleteRow"),e.addProperty("OnCellAnchorClick",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnCellAnchorClick,"FOnCellAnchorClick","FOnCellAnchorClick"),e.addProperty("OnGetCellEditorCustomClassType",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnGetCellEditorCustomClassType,"FOnGetCellEditorCustomClassType","FOnGetCellEditorCustomClassType"),e.addProperty("OnGetCellEditorType",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnGetCellEditorType,"FOnGetCellEditorType","FOnGetCellEditorType"),e.addProperty("OnCellEditGetData",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnCellEditGetData,"FOnCellEditGetData","FOnCellEditGetData"),e.addProperty("OnCellEditValidateData",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnCellEditValidateData,"FOnCellEditValidateData","FOnCellEditValidateData"),e.addProperty("OnCellEditSetData",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnCellEditSetData,"FOnCellEditSetData","FOnCellEditSetData"),e.addProperty("OnCellEditGetColor",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnCellEditGetColor,"FOnCellEditGetColor","FOnCellEditGetColor"),e.addProperty("OnCellEditValidateColor",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnCellEditValidateColor,"FOnCellEditValidateColor","FOnCellEditValidateColor"),e.addProperty("OnCellEditSetColor",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnCellEditSetColor,"FOnCellEditSetColor","FOnCellEditSetColor"),e.addProperty("OnCellEditDone",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnCellEditDone,"FOnCellEditDone","FOnCellEditDone"),e.addProperty("OnCellEditCancel",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnCellEditCancel,"FOnCellEditCancel","FOnCellEditCancel"),e.addProperty("OnGetCellEditorProperties",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnGetCellEditorProperties,"FOnGetCellEditorProperties","FOnGetCellEditorProperties"),e.addProperty("OnGetCellIsFixed",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnGetCellIsFixed,"FOnGetCellIsFixed","FOnGetCellIsFixed"),e.addProperty("OnFixedCellDropDownButtonClick",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridCellControlEvent,"FOnFixedCellDropDownButtonClick","FOnFixedCellDropDownButtonClick"),e.addProperty("OnCellComboCloseUp",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnCellComboCloseUp,"FOnCellComboCloseUp","FOnCellComboCloseUp"),e.addProperty("OnCellBeforeDraw",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridCellBeforeDraw,"FOnCellBeforeDraw","FOnCellBeforeDraw"),e.addProperty("OnCellAfterDraw",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridCellAfterDraw,"FOnCellAfterDraw","FOnCellAfterDraw"),e.addProperty("OnCellBitmapClick",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridCellControlEvent,"FOnCellBitmapClick","FOnCellBitmapClick"),e.addProperty("OnCellRadioButtonClick",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridCellControlEvent,"FOnCellRadioButtonClick","FOnCellRadioButtonClick"),e.addProperty("OnCellCheckBoxClick",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridCellControlEvent,"FOnCellCheckBoxClick","FOnCellCheckBoxClick"),e.addProperty("OnCellButtonClick",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridCellControlEvent,"FOnCellButtonClick","FOnCellButtonClick"),e.addProperty("OnCellCommentClick",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridCellControlEvent,"FOnCellCommentClick","FOnCellCommentClick"),e.addProperty("OnCellSortClick",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridCellControlEvent,"FOnCellSortClick","FOnCellSortClick"),e.addProperty("OnCellNodeClick",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridCellControlEvent,"FOnCellNodeClick","FOnCellNodeClick"),e.addProperty("OnCanSizeColumn",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnCanSizeColumn,"FOnCanSizeColumn","FOnCanSizeColumn"),e.addProperty("OnCanSizeRow",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnCanSizeRow,"FOnCanSizeRow","FOnCanSizeRow"),e.addProperty("OnColumnSize",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnColumnSize,"FOnColumnSize","FOnColumnSize"),e.addProperty("OnRowSize",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnRowSize,"FOnRowSize","FOnRowSize"),e.addProperty("OnColumnSized",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnColumnSized,"FOnColumnSized","FOnColumnSized"),e.addProperty("OnRowSized",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnRowSized,"FOnRowSized","FOnRowSized"),e.addProperty("OnCanDragColumn",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnCanSizeColumn,"FOnCanDragColumn","FOnCanDragColumn"),e.addProperty("OnCanDragRow",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnCanSizeRow,"FOnCanDragRow","FOnCanDragRow"),e.addProperty("OnColumnDragged",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnColumnDragged,"FOnColumnDragged","FOnColumnDragged"),e.addProperty("OnRowDragged",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnRowDragged,"FOnRowDragged","FOnRowDragged"),e.addProperty("OnBeforeColumnDrop",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnBeforeColumnDrop,"FOnBeforeColumnDrop","FOnBeforeColumnDrop"),e.addProperty("OnBeforeCellEditExit",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridCellEditBeforeExit,"FOnBeforeCellEditExit","FOnBeforeCellEditExit"),e.addProperty("OnBeforeRowDrop",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnBeforeRowDrop,"FOnBeforeRowDrop","FOnBeforeRowDrop"),e.addProperty("OnColumnSorted",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnColumnSorted,"FOnColumnSorted","FOnColumnSorted"),e.addProperty("OnCanSortColumn",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnCanSortColumn,"FOnCanSortColumn","FOnCanSortColumn"),e.addProperty("OnCellRightClick",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnCellClick,"FOnCellRightClick","FOnCellRightClick"),e.addProperty("OnFixedCellRightClick",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnCellClick,"FOnFixedCellRightClick","FOnFixedCellRightClick"),e.addProperty("OnCellClick",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnCellClick,"FOnCellClick","FOnCellClick"),e.addProperty("OnFixedCellClick",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnCellClick,"FOnFixedCellClick","FOnFixedCellClick"),e.addProperty("OnCellDblClick",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnCellClick,"FOnCellDblClick","FOnCellDblClick"),e.addProperty("OnFixedCellDblClick",0,pas["WEBLib.TMSFNCCustomGrid"].$rtti.TTMSFNCGridOnCellClick,"FOnFixedCellDblClick","FOnFixedCellDblClick"),e.addProperty("OnSelectCell",0,pas["WEBLib.TMSFNCGridData"].$rtti.TTMSFNCGridOnSelectCell,"FOnSelectCell","FOnSelectCell"),e.addProperty("OnSelectedCell",0,pas["WEBLib.TMSFNCGridData"].$rtti.TTMSFNCGridOnSelectedCell,"FOnSelectedCell","FOnSelectedCell"),e.attr=[pas.Classes.ComponentPlatformsAttribute,"Create$1",[1]]}))})),rtl.module("WEBLib.TMSFNCTabSet",["System","Classes","Types","WEBLib.TMSFNCPersistence","WEBLib.TMSFNCCustomControl","WEBLib.TMSFNCBitmapContainer","WEBLib.TMSFNCPopup","WEBLib.TMSFNCGraphics","WEBLib.TMSFNCTypes","WEBLib.Controls","WEBLib.ExtCtrls","WEBLib.StdCtrls","WEBLib.TMSFNCGraphicsTypes"],(function(){"use strict";var t=this,e=t.$impl;this.MAJ_VER=1,this.MIN_VER=0,this.REL_VER=1,this.BLD_VER=1,this.TMSFNCTABSETLISTSVG="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJtMTcgMTAtNSA1LTUtNSIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==",this.TMSFNCTABSETCLOSESVG="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJNMTIgMTIgNyA3bTUgNSA1IDVtLTUtNSA1LTVtLTUgNS01IDUiLz48L3N2Zz4=",this.TMSFNCTABSETADDSVG="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSI+CjxnIGlkPSJzdXJmYWNlMSI+CjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoMCUsMCUsMCUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSAxMiA2IEMgMTIuNDE0MDYyIDYgMTIuNzUgNi4zMzU5MzggMTIuNzUgNi43NSBMIDEyLjc1IDExLjI1IEwgMTcuMjUgMTEuMjUgQyAxNy42NjQwNjIgMTEuMjUgMTggMTEuNTg1OTM4IDE4IDEyIEMgMTggMTIuNDE0MDYyIDE3LjY2NDA2MiAxMi43NSAxNy4yNSAxMi43NSBMIDEyLjc1IDEyLjc1IEwgMTIuNzUgMTcuMjUgQyAxMi43NSAxNy42NjQwNjIgMTIuNDE0MDYyIDE4IDEyIDE4IEMgMTEuNTg1OTM4IDE4IDExLjI1IDE3LjY2NDA2MiAxMS4yNSAxNy4yNSBMIDExLjI1IDEyLjc1IEwgNi43NSAxMi43NSBDIDYuMzM1OTM4IDEyLjc1IDYgMTIuNDE0MDYyIDYgMTIgQyA2IDExLjU4NTkzOCA2LjMzNTkzOCAxMS4yNSA2Ljc1IDExLjI1IEwgMTEuMjUgMTEuMjUgTCAxMS4yNSA2Ljc1IEMgMTEuMjUgNi4zMzU5MzggMTEuNTg1OTM4IDYgMTIgNiBaIE0gMTIgNiAiLz4KPC9nPgo8L3N2Zz4K",this.TMSFNCTABSETNEXTSVG="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJtMTAgNyA1IDUtNSA1Ii8+PC9zdmc+",this.TMSFNCTABSETPREVIOUSSVG="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJtMTQgNy01IDUgNSA1Ii8+PC9zdmc+",this.TTMSFNCTabSetColorProgress=16297243,this.TTMSFNCTabSetColor=16316397,this.TTMSFNCTabSetDownColor=15655897,this.TTMSFNCTabSetHoverColor=16313827,this.$rtti.$Class("TTMSFNCTabSetTab"),this.TTMSFNCTabSetTabShape={0:"tsRectangle",tsRectangle:0,1:"tsPyramidLeft",tsPyramidLeft:1,2:"tsPyramidRight",tsPyramidRight:2,3:"tsPyramid",tsPyramid:3,4:"tsRoundLeft",tsRoundLeft:4,5:"tsRoundRight",tsRoundRight:5,6:"tsRound",tsRound:6},this.$rtti.$Enum("TTMSFNCTabSetTabShape",{minvalue:0,maxvalue:6,ordtype:1,enumtype:this.TTMSFNCTabSetTabShape}),this.TTMSFNCTabSetTabKind={0:"ttkNormal",ttkNormal:0,1:"ttkInsert",ttkInsert:1},this.TTMSFNCTabSetTabProgressMode={0:"tpmNormal",tpmNormal:0,1:"tpmMarquee",tpmMarquee:1},this.$rtti.$Enum("TTMSFNCTabSetTabProgressMode",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TTMSFNCTabSetTabProgressMode}),this.TTMSFNCTabSetTabProgressKind={0:"tpkNone",tpkNone:0,1:"tpkCircular",tpkCircular:1,2:"tpkRectangular",tpkRectangular:2},this.$rtti.$Enum("TTMSFNCTabSetTabProgressKind",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TTMSFNCTabSetTabProgressKind}),this.TTMSFNCTabSetTabSizeMode={0:"tsmAutoSize",tsmAutoSize:0,1:"tsmFixedSize",tsmFixedSize:1,2:"tsmFixedSizeAutoShrink",tsmFixedSizeAutoShrink:2,3:"tsmAutoTabSize",tsmAutoTabSize:3},this.$rtti.$Enum("TTMSFNCTabSetTabSizeMode",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TTMSFNCTabSetTabSizeMode}),this.TTMSFNCTabSetLayoutPosition={0:"tlpLeft",tlpLeft:0,1:"tlpTop",tlpTop:1,2:"tlpBottom",tlpBottom:2,3:"tlpRight",tlpRight:3},this.$rtti.$Enum("TTMSFNCTabSetLayoutPosition",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TTMSFNCTabSetLayoutPosition}),this.TTMSFNCTabSetLayoutMultiline={0:"tlmNone",tlmNone:0,1:"tlmEnabled",tlmEnabled:1,2:"tlmEnabledActiveTab",tlmEnabledActiveTab:2},this.$rtti.$Enum("TTMSFNCTabSetLayoutMultiline",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TTMSFNCTabSetLayoutMultiline}),this.TTMSFNCTabSetTabCloseAction={0:"ttcaNone",ttcaNone:0,1:"ttcaFree",ttcaFree:1,2:"ttcaHide",ttcaHide:2},this.$rtti.$Enum("TTMSFNCTabSetTabCloseAction",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TTMSFNCTabSetTabCloseAction}),rtl.recNewT(this,"TTMSFNCTabSetDisplayTab",(function(){this.Tab=null,this.TabKind=0,this.First=!1,this.Last=!1,this.Index=0,this.Row=0,this.$new=function(){var t=Object.create(this);return t.ContentRect=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),t.ProgressRect=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),t.CloseButtonRect=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),t.Rect=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),t.BitmapRect=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),t.TextRect=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),t},this.$eq=function(t){return this.Tab===t.Tab&&this.TabKind===t.TabKind&&this.First===t.First&&this.Last===t.Last&&this.ContentRect.$eq(t.ContentRect)&&this.ProgressRect.$eq(t.ProgressRect)&&this.CloseButtonRect.$eq(t.CloseButtonRect)&&this.Rect.$eq(t.Rect)&&this.BitmapRect.$eq(t.BitmapRect)&&this.Index===t.Index&&this.Row===t.Row&&this.TextRect.$eq(t.TextRect)},this.$assign=function(t){return this.Tab=t.Tab,this.TabKind=t.TabKind,this.First=t.First,this.Last=t.Last,this.ContentRect.$assign(t.ContentRect),this.ProgressRect.$assign(t.ProgressRect),this.CloseButtonRect.$assign(t.CloseButtonRect),this.Rect.$assign(t.Rect),this.BitmapRect.$assign(t.BitmapRect),this.Index=t.Index,this.Row=t.Row,this.TextRect.$assign(t.TextRect),this}})),rtl.createClass(this,"TTMSFNCTabSetDisplayList",pas.Classes.TList,(function(){this.GetItem=function(e){var i=t.TTMSFNCTabSetDisplayTab.$new();return i.$assign(rtl.getObject(this.Get(e))),i},this.SetItem=function(e,i){var s=t.TTMSFNCTabSetDisplayTab.$new();s.$assign(i),this.Put(e,s)}})),rtl.createClass(this,"TTMSFNCTabSetInvisibleTabList",pas.Classes.TList,(function(){this.GetItem=function(t){return rtl.getObject(this.Get(t))}})),rtl.createClass(this,"TTMSFNCTabSetTab",pas.Classes.TCollectionItem,(function(){this.$init=function(){pas.Classes.TCollectionItem.$init.call(this),this.FAnimMarqueeStartAngle=0,this.FAnimMarqueeSweepAngle=0,this.FAnimMarqueeSwitch=!1,this.FTag=0,this.FTabSet=null,this.FText="",this.FWordWrapping=!1,this.FTrimming=0,this.FTextAlign=0,this.FActiveTextColor=0,this.FTextColor=0,this.FDisabledTextColor=0,this.FEnabled=!1,this.FBitmaps=null,this.FDisabledBitmaps=null,this.FVisible=!1,this.FUseDefaultAppearance=!1,this.FWidth=0,this.FHeight=0,this.FDisabledColor=0,this.FActiveColor=0,this.FHoverTextColor=0,this.FColor=0,this.FHoverColor=0,this.FDownTextColor=0,this.FDownColor=0,this.FBitmapVisible=!1,this.FBitmapSize=0,this.FTextVisible=!1,this.FStretchText=!1,this.FShape=0,this.FProgressColor=0,this.FProgress=0,this.FProgressMax=0,this.FProgressMode=0,this.FCloseButton=!1,this.FProgressKind=0,this.FBadge="",this.FBadgeColor=0,this.FBadgeTextColor=0,this.FHint=""},this.$final=function(){this.FTabSet=void 0,this.FBitmaps=void 0,this.FDisabledBitmaps=void 0,pas.Classes.TCollectionItem.$final.call(this)},this.SetTrimming=function(t){this.FTrimming!==t&&(this.FTrimming=t,this.UpdateTab())},this.SetWordWrapping=function(t){this.FWordWrapping!==t&&(this.FWordWrapping=t,this.UpdateTab())},this.SetTextAlign=function(t){this.FTextAlign!==t&&(this.FTextAlign=t,this.UpdateTab())},this.SetActiveTextColor=function(t){this.FActiveTextColor!==t&&(this.FActiveTextColor=t,this.UpdateTab())},this.SetTextColor=function(t){this.FTextColor!==t&&(this.FTextColor=t,this.UpdateTab())},this.SetDisabledTextColor=function(t){this.FDisabledTextColor!==t&&(this.FDisabledTextColor=t,this.UpdateTab())},this.SetEnabled=function(t){this.FEnabled!==t&&(this.FEnabled=t,this.UpdateTab())},this.SetBitmaps=function(t){this.FBitmaps.Assign(t)},this.SetDisabledBitmaps=function(t){this.FDisabledBitmaps.Assign(t)},this.GetBitmapContainer=function(){var t=null,e=null;return t=null,null!=(e=this.TabSet())&&(t=e.GetBitmapContainer()),t},this.SetVisible=function(t){this.FVisible!==t&&(this.FVisible=t,this.UpdateTab())},this.SetUseDefaultAppearance=function(t){this.FUseDefaultAppearance!==t&&(this.FUseDefaultAppearance=t,this.UpdateTab())},this.IsWidthStored=function(){return-1!==this.FWidth},this.SetWidth=function(t){this.FWidth!==t&&(this.FWidth=t,this.UpdateTab())},this.SetColor=function(t){this.FColor!==t&&(this.FColor=t,this.UpdateTab())},this.SetDisabledColor=function(t){this.FDisabledColor!==t&&(this.FDisabledColor=t,this.UpdateTab())},this.SetDownColor=function(t){this.FDownColor!==t&&(this.FDownColor=t,this.UpdateTab())},this.SetDownTextColor=function(t){this.FDownTextColor!==t&&(this.FDownTextColor=t,this.UpdateTab())},this.SetHoverColor=function(t){this.FHoverColor!==t&&(this.FHoverColor=t,this.UpdateTab())},this.SetHoverTextColor=function(t){this.FHoverTextColor!==t&&(this.FHoverTextColor=t,this.UpdateTab())},this.SetActiveColor=function(t){this.FActiveColor!==t&&(this.FActiveColor=t,this.UpdateTab())},this.SetBitmapVisible=function(t){this.FBitmapVisible!==t&&(this.FBitmapVisible=t,this.UpdateTab())},this.IsBitmapSizeStored=function(){return 24!==this.FBitmapSize},this.SetBitmapSize=function(t){this.FBitmapSize!==t&&(this.FBitmapSize=t,this.UpdateTab())},this.SetTextVisible=function(t){this.FTextVisible!==t&&(this.FTextVisible=t,this.UpdateTab())},this.SetStretchText=function(t){this.FStretchText!==t&&(this.FStretchText=t,this.UpdateTab())},this.SetShape=function(t){this.FShape!==t&&(this.FShape=t,this.UpdateTab())},this.SetProgressColor=function(t){this.FProgressColor!==t&&(this.FProgressColor=t,this.UpdateTab())},this.IsProgressStored=function(){return 0!==this.FProgress},this.SetProgress=function(t){this.FProgress!==t&&(this.FProgress=t,this.UpdateTab())},this.IsProgressMaxStored=function(){return 100!==this.FProgressMax},this.SetProgressMax=function(t){this.FProgressMax!==t&&(this.FProgressMax=t,this.UpdateTab())},this.SetProgressMode=function(t){this.FProgressMode!==t&&(this.FProgressMode=t,1===this.FProgressMode&&0!==this.FProgressKind&&this.FTabSet.StartProgressAnimationTimer(),this.UpdateTab())},this.SetCloseButton=function(t){this.FCloseButton!==t&&(this.FCloseButton=t,this.UpdateTab())},this.SetProgressKind=function(t){this.FProgressKind!==t&&(this.FProgressKind=t,1===this.FProgressMode&&0!==this.FProgressKind&&this.FTabSet.StartProgressAnimationTimer(),this.UpdateTab())},this.SetBadge=function(t){this.FBadge!==t&&(this.FBadge=t,this.UpdateTab())},this.SetBadgeColor=function(t){this.FBadgeColor!==t&&(this.FBadgeColor=t,this.UpdateTab())},this.SetBadgeTextColor=function(t){this.FBadgeTextColor!==t&&(this.FBadgeTextColor=t,this.UpdateTab())},this.SetHint=function(t){this.FHint!==t&&(this.FHint=t,this.UpdateTab())},this.SetText=function(t){this.FText!==t&&(this.FText=t,this.UpdateTab())},this.UpdateTab=function(){var t=null;null!=(t=this.TabSet())&&t.UpdateTabs(!1,!1)},this.BitmapsChanged=function(t){var e;e=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.GetScaledBitmap(this.FBitmaps,0,this.GetBitmapContainer()),this.SetBitmapVisible(null!=e&&!pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(e))},this.Draw=function(e,i){var s=pas["WEBLib.TMSFNCTypes"].TRectF.$new();null!=this.FTabSet&&null!=i.Tab&&(s.$assign(this.GetFixedRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i.Rect),t.TTMSFNCTabSetDisplayTab.$clone(i))),s.Right-s.Left<=0||s.Bottom-s.Top<=0||(e.FFont.Assign(this.TabSet().FTabAppearance.FFont),this.FEnabled?i.Tab===this.TabSet().FActiveTab?(e.FFill.Assign(this.TabSet().FTabAppearance.FActiveFill),e.FStroke.Assign(this.TabSet().FTabAppearance.FActiveStroke)):i.Tab===this.TabSet().FDownTab?(e.FFill.Assign(this.TabSet().FTabAppearance.FDownFill),e.FStroke.Assign(this.TabSet().FTabAppearance.FDownStroke)):i.Tab===this.TabSet().FHoverTab?(e.FFill.Assign(this.TabSet().FTabAppearance.FHoverFill),e.FStroke.Assign(this.TabSet().FTabAppearance.FHoverStroke)):(e.FFill.Assign(this.TabSet().FTabAppearance.FFill),e.FStroke.Assign(this.TabSet().FTabAppearance.FStroke)):(e.FFill.Assign(this.TabSet().FTabAppearance.FDisabledFill),e.FStroke.Assign(this.TabSet().FTabAppearance.FDisabledStroke)),this.FUseDefaultAppearance||(this.FEnabled?i.Tab===this.TabSet().FActiveTab?e.FFill.SetColor(this.FActiveColor):i.Tab===this.TabSet().FDownTab?e.FFill.SetColor(this.FDownColor):i.Tab===this.TabSet().FHoverTab?e.FFill.SetColor(this.FHoverColor):e.FFill.SetColor(this.FColor):e.FFill.SetColor(this.FDisabledColor)),this.DrawBackground(e,t.TTMSFNCTabSetDisplayTab.$clone(i)),this.DrawProgress(e,t.TTMSFNCTabSetDisplayTab.$clone(i)),this.DrawBitmap(e,t.TTMSFNCTabSetDisplayTab.$clone(i)),this.DrawText(e,t.TTMSFNCTabSetDisplayTab.$clone(i)),this.DrawCloseButton(e,t.TTMSFNCTabSetDisplayTab.$clone(i)),this.DrawFocus(e,t.TTMSFNCTabSetDisplayTab.$clone(i))))},this.DrawBackground=function(e,i){var s=null,o=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),n=!1,a=0;null!=this.FTabSet&&(o.$assign(this.GetFixedRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i.Rect),t.TTMSFNCTabSetDisplayTab.$clone(i))),a=this.FEnabled?i.Tab===this.TabSet().FActiveTab?3:i.Tab===this.TabSet().FDownTab?2:i.Tab===this.TabSet().FHoverTab?1:0:4,n=!0,this.FTabSet.DoBeforeDrawTabBackground(e,this.GetIndex(),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(o),a,{get:function(){return n},set:function(t){n=t}}),n&&(this===this.TabSet().FInsertTab?e.DrawRoundRectangle$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(o),this.TabSet().FButtonAppearance.FRounding,rtl.createSet(0,1,2,3),2):null!=(s=this.GetShapePath(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(o)))&&(e.DrawPath(s,0),s=rtl.freeLoc(s)),this.FTabSet.DoAfterDrawTabBackground(e,this.GetIndex(),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(o),a)))},this.DrawText=function(t,e){var i,s=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),o=!1,n=0,a=0,r=0,l="",h=!1;if(null!=this.FTabSet&&this.FTextVisible&&""!==this.FText&&(!this.FTabSet.FInplaceEditorActive||this.FTabSet.FUpdateTab.Tab!==this)){s.$assign(e.TextRect),i=t.SaveState(!1);try{if(t.ClipRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s)),this.FUseDefaultAppearance?(o=this.TabSet().FTabAppearance.FWordWrapping,n=this.TabSet().FTabAppearance.FTrimming,a=this.TabSet().FTabAppearance.FTextAlign,this.FEnabled?this===this.TabSet().FActiveTab?t.FFont.SetColor(this.TabSet().FTabAppearance.FActiveTextColor):this===this.TabSet().FDownTab?t.FFont.SetColor(this.TabSet().FTabAppearance.FDownTextColor):this===this.TabSet().FHoverTab?t.FFont.SetColor(this.TabSet().FTabAppearance.FHoverTextColor):t.FFont.SetColor(this.TabSet().FTabAppearance.FTextColor):t.FFont.SetColor(this.TabSet().FTabAppearance.FDisabledTextColor)):(o=this.FWordWrapping,n=this.FTrimming,a=this.FTextAlign,this.FEnabled?this===this.TabSet().FActiveTab?t.FFont.SetColor(this.FActiveTextColor):this===this.TabSet().FDownTab?t.FFont.SetColor(this.FDownTextColor):this===this.TabSet().FHoverTab?t.FFont.SetColor(this.FHoverTextColor):t.FFont.SetColor(this.FTextColor):t.FFont.SetColor(this.FDisabledTextColor)),r=0,l=this.FText,h=!0,this.FTabSet.DoBeforeDrawTabText(t,this.GetIndex(),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),l,{get:function(){return h},set:function(t){h=t}}),h){var F=this.TabSet().FLayout.FPosition;1===F||2===F?t.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),l,o,a,r,n,0,-1,-1,!0,!1,-1,-1):0===F?t.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),l,o,a,r,n,-90,-1,-1,!0,!1,-1,-1):3===F&&t.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),l,o,a,r,n,90,-1,-1,!0,!1,-1,-1),this.FTabSet.DoAfterDrawTabText(t,this.GetIndex(),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),l)}}finally{t.RestoreState(i,!1)}}},this.DrawFocus=function(t,e){var i=pas["WEBLib.TMSFNCTypes"].TRectF.$new();null!=this.FTabSet&&this.FTabSet.FTabAppearance.FShowFocus&&this.FTabSet.IsFocused()&&this===this.FTabSet.FFocusedTab&&(i.$assign(e.ContentRect),pas["WEBLib.TMSFNCTypes"].InflateRectEx(i,-1,-1),t.DrawFocusRectangle$3(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),this.FTabSet.FTabAppearance.FFocusBorderColor,2))},this.DrawProgress=function(t,e){var i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),o=!1;if(null!=this.FTabSet&&0!==this.FProgressKind&&(this.FProgress>0&&this.FProgressMax>0&&0===this.FProgressMode||1===this.FProgressMode)){var n=this.FProgressKind;if(1===n){if(t.FFill.SetKind(0),t.FStroke.Assign(this.FTabSet.FTabAppearance.FProgressStroke),this.FUseDefaultAppearance||t.FStroke.SetColor(this.FProgressColor),t.FStroke.SetWidth(2),i.$assign(e.ProgressRect),pas["WEBLib.TMSFNCTypes"].InflateRectEx(i,-2,-2),o=!0,this.FTabSet.DoBeforeDrawTabProgress(t,this.GetIndex(),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),this.FProgressMode,this.FProgressKind,this.FAnimMarqueeStartAngle,this.FAnimMarqueeSweepAngle,this.FProgress,this.FProgressMax,{get:function(){return o},set:function(t){o=t}}),o){var a=this.FProgressMode;0===a?t.DrawArc(pas["WEBLib.TMSFNCTypes"].CenterPointEx(i),pas["WEBLib.TMSFNCTypes"].PointF((i.Right-i.Left)/2,(i.Bottom-i.Top)/2),0,360/this.FProgressMax*this.FProgress):1===a&&t.DrawArc(pas["WEBLib.TMSFNCTypes"].CenterPointEx(i),pas["WEBLib.TMSFNCTypes"].PointF((i.Right-i.Left)/2,(i.Bottom-i.Top)/2),this.FAnimMarqueeStartAngle,this.FAnimMarqueeSweepAngle),this.FTabSet.DoAfterDrawTabProgress(t,this.GetIndex(),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),this.FProgressMode,this.FProgressKind,this.FAnimMarqueeStartAngle,this.FAnimMarqueeSweepAngle,this.FProgress,this.FProgressMax)}}else if(2===n&&(t.FFill.Assign(this.FTabSet.FTabAppearance.FProgressFill),this.FUseDefaultAppearance||t.FFill.SetColor(this.FProgressColor),t.FStroke.Assign(this.FTabSet.FTabAppearance.FProgressStroke),i.$assign(e.ContentRect),pas["WEBLib.TMSFNCTypes"].InflateRectEx(i,-4,-4),o=!0,this.FTabSet.DoBeforeDrawTabProgress(t,this.GetIndex(),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),this.FProgressMode,this.FProgressKind,this.FAnimMarqueeStartAngle,this.FAnimMarqueeSweepAngle,this.FProgress,this.FProgressMax,{get:function(){return o},set:function(t){o=t}}),o)){var r=this.FTabSet.FLayout.FPosition;if(1===r||2===r){var l=this.FProgressMode;0===l?s.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left,i.Top,i.Left+(i.Right-i.Left)/this.FProgressMax*this.FProgress,i.Bottom)):1===l&&s.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left+(i.Right-i.Left)/360*this.FAnimMarqueeSweepAngle-5,i.Top,i.Left+5+(i.Right-i.Left)/360*this.FAnimMarqueeSweepAngle,i.Bottom)),t.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),2)}else if(0===r){var h=this.FProgressMode;0===h?s.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left,i.Bottom-(i.Bottom-i.Top)/this.FProgressMax*this.FProgress,i.Right,i.Bottom)):1===h&&s.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left,i.Bottom-(i.Bottom-i.Top)/360*this.FAnimMarqueeSweepAngle,i.Right,i.Bottom)),t.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),2)}else if(3===r){var F=this.FProgressMode;0===F?s.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left,i.Top,i.Right,i.Bottom-(i.Bottom-i.Top)/this.FProgressMax*this.FProgress)):1===F&&s.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left,i.Top,i.Right,i.Bottom-(i.Bottom-i.Top)/360*this.FAnimMarqueeSweepAngle)),t.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),2)}this.FTabSet.DoAfterDrawTabProgress(t,this.GetIndex(),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),this.FProgressMode,this.FProgressKind,this.FAnimMarqueeStartAngle,this.FAnimMarqueeSweepAngle,this.FProgress,this.FProgressMax)}}},this.DrawCloseButton=function(t,e){var i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=0,o=0,n=!1,a=0,r=0;null!=this.FTabSet&&1===this.TabSet().FOptions.FCloseMode&&this.FCloseButton&&(i.$assign(e.CloseButtonRect),i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left),pas.System.Int(i.Top),pas.System.Int(i.Right),pas.System.Int(i.Bottom))),e.Tab===this.TabSet().FDownCloseTab?(t.FFill.Assign(this.TabSet().FTabAppearance.FCloseDownFill),t.FStroke.Assign(this.TabSet().FTabAppearance.FCloseDownStroke)):e.Tab===this.TabSet().FHoverCloseTab?(t.FFill.Assign(this.TabSet().FTabAppearance.FCloseHoverFill),t.FStroke.Assign(this.TabSet().FTabAppearance.FCloseHoverStroke)):(t.FFill.Assign(this.TabSet().FTabAppearance.FCloseFill),t.FStroke.Assign(this.TabSet().FTabAppearance.FCloseStroke)),a=e.Tab===this.TabSet().FDownCloseTab?2:e.Tab===this.TabSet().FHoverCloseTab?1:0,n=!0,this.FTabSet.DoBeforeDrawTabCloseButton(t,this.GetIndex(),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),a,{get:function(){return n},set:function(t){n=t}}),n&&(0!==t.FFill.FKind&&(s=t.FStroke.FKind,o=t.FStroke.FColor,t.FStroke.SetKind(1),t.FStroke.SetColor(t.FFill.FColor),t.DrawEllipse$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),0),t.FStroke.SetKind(s),t.FStroke.SetColor(o)),r=this.FTabSet.FPaintScaleFactor,pas["WEBLib.TMSFNCTypes"].InflateRectEx(i,-4*r,-4*r),t.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(i.Left,i.Top)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(i.Right,i.Bottom)),0,0),t.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(i.Left,i.Bottom)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(i.Right,i.Top)),0,0),this.FTabSet.DoAfterDrawTabCloseButton(t,this.GetIndex(),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),a)))},this.DrawBitmap=function(t,e){var i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=!1;null!=this.FTabSet&&this.FBitmapVisible&&(i.$assign(e.BitmapRect),s=!0,this.FTabSet.DoBeforeDrawTabBitmap(t,this.GetIndex(),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),{get:function(){return s},set:function(t){s=t}}),s&&(this.FEnabled?t.DrawScaledBitmap(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),this.FBitmaps,0,!0,!1,!0,!1):t.DrawScaledBitmap(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),this.FDisabledBitmaps,0,!0,!1,!0,!1),this.FTabSet.DoAfterDrawTabBitmap(t,this.GetIndex(),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i))))},this.DrawBadge=function(t,e){var i,s=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),o=pas["WEBLib.TMSFNCTypes"].TSizeF.$new(),n=null,a=0,r=!1;if(null!=this.FTabSet&&""!==this.FBadge&&(t.FFont.Assign(this.TabSet().FTabAppearance.FBadgeFont),t.FStroke.Assign(this.TabSet().FTabAppearance.FBadgeStroke),t.FFill.Assign(this.TabSet().FTabAppearance.FBadgeFill),this.FUseDefaultAppearance||(t.FFont.SetColor(this.FBadgeTextColor),t.FFill.SetColor(this.FBadgeColor)),i=this.FBadge,o.$assign(t.CalculateTextSize$1(i)),o.cy=o.cy+4,o.cx=Math.max(o.cy,o.cx+6),this.GetShape()in rtl.createSet(0,4,5,6)?s.$assign(e.Rect):s.$assign(e.ContentRect),!((s.Right-s.Left)/3*2<o.cx))){var l=this.TabSet().FLayout.FPosition;if(1===l?s.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(s.Right-o.cx/2),pas.System.Int(s.Top-o.cy/2),pas.System.Int(s.Right+o.cx/2),pas.System.Int(s.Top+o.cy/2))):2===l?s.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(s.Right-o.cx/2),pas.System.Int(s.Bottom-o.cy/2),pas.System.Int(s.Right+o.cx/2),pas.System.Int(s.Bottom+o.cy/2))):0===l?s.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(s.Left-o.cy/2),pas.System.Int(s.Top-o.cx/2),pas.System.Int(s.Left+o.cy/2),pas.System.Int(s.Top+o.cx/2))):3===l&&s.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(s.Right-o.cy/2),pas.System.Int(s.Bottom-o.cx/2),pas.System.Int(s.Right+o.cy/2),pas.System.Int(s.Bottom+o.cx/2))),r=!0,this.FTabSet.DoBeforeDrawTabBadge(t,this.GetIndex(),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),i,{get:function(){return r},set:function(t){r=t}}),r){var h=this.TabSet().FLayout.FPosition;a=1===h||2===h?(s.Bottom-s.Top)/2:0===h||3===h?(s.Right-s.Left)/2:0,(n=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsPath.$create("Create$1")).AddArc(pas["WEBLib.TMSFNCTypes"].PointF(s.Left+a,s.Top+a),pas["WEBLib.TMSFNCTypes"].PointF(a,a),180,90),n.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(s.Right-a,s.Top+a),pas["WEBLib.TMSFNCTypes"].PointF(a,a),-90,90),n.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(s.Right-a,s.Bottom-a),pas["WEBLib.TMSFNCTypes"].PointF(a,a),0,90),n.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(s.Left+a,s.Bottom-a),pas["WEBLib.TMSFNCTypes"].PointF(a,a),-270,90),n.ClosePath(),t.DrawPath(n,0);var F=this.TabSet().FLayout.FPosition;1===F||2===F?t.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),i,!1,0,0,0,0,-1,-1,!0,!1,-1,-1):0===F?t.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),i,!1,0,0,0,-90,-1,-1,!0,!1,-1,-1):3===F&&t.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),i,!1,0,0,0,90,-1,-1,!0,!1,-1,-1),n=rtl.freeLoc(n),this.FTabSet.DoAfterDrawTabBadge(t,this.GetIndex(),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s),i)}}},this.GetInsertShapePath=function(t){var e,i=null,s=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return s.$assign(t),e=this.TabSet().FTabAppearance.FShapeRounding,(i=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsPath.$create("Create$1")).AddArc(pas["WEBLib.TMSFNCTypes"].PointF(s.Left+e,s.Top+e),pas["WEBLib.TMSFNCTypes"].PointF(e,e),180,90),i.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(s.Right-e,s.Top+e),pas["WEBLib.TMSFNCTypes"].PointF(e,e),-90,90),i.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(s.Right-e,s.Bottom-e),pas["WEBLib.TMSFNCTypes"].PointF(e,e),0,90),i.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(s.Left+e,s.Bottom-e),pas["WEBLib.TMSFNCTypes"].PointF(e,e),-270,90),i.ClosePath(),i},this.GetShapePath=function(t){var e,i,s=null,o=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),n=0,a=0;if(o.$assign(t),n=this.GetShape(),0===(e=this.TabSet().FTabAppearance.FShapeSlope)&&n in rtl.createSet(1,2,3)&&(n=0),i=this.TabSet().FTabAppearance.FShapeRounding,a=0,e>0){var r=this.TabSet().FLayout.FPosition;1===r||2===r?a=pas.Math.RadToDeg(Math.asin((o.Bottom-o.Top)/Math.sqrt(Math.pow(o.Bottom-o.Top,2)+Math.pow(e,2)))):0!==r&&3!==r||(a=pas.Math.RadToDeg(Math.asin((o.Right-o.Left)/Math.sqrt(Math.pow(o.Right-o.Left,2)+Math.pow(e,2)))))}var l=this.TabSet().FLayout.FPosition;if(1===l){(s=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsPath.$create("Create$1")).MoveTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Left,o.Bottom));var h=n;0===h||2===h||5===h?s.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Left,o.Top)):1===h||3===h?(s.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(o.Left,o.Bottom-i),pas["WEBLib.TMSFNCTypes"].PointF(i,i),-270,-a),s.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(o.Left+e+i,o.Top+i),pas["WEBLib.TMSFNCTypes"].PointF(i,i),-a-90,a)):4!==h&&6!==h||(s.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Left,o.Top+i)),s.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(o.Left+i,o.Top+i),pas["WEBLib.TMSFNCTypes"].PointF(i,i),180,90));var F=n;0===F||1===F||4===F?s.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Right,o.Top)):2===F||3===F?(s.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(o.Right-e-i,o.Top+i),pas["WEBLib.TMSFNCTypes"].PointF(i,i),270,a),s.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(o.Right,o.Bottom-i),pas["WEBLib.TMSFNCTypes"].PointF(i,i),a+90,-a)):5!==F&&6!==F||(s.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(o.Right-i,o.Top+i),pas["WEBLib.TMSFNCTypes"].PointF(i,i),270,90),s.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Right,o.Top+i))),s.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Right,o.Bottom)),s.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Left,o.Bottom)),s.ClosePath()}else if(2===l){(s=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsPath.$create("Create$1")).MoveTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Left,o.Top));var p=n;0===p||2===p||5===p?s.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Left,o.Bottom)):1===p||3===p?(s.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(o.Left,o.Top+i),pas["WEBLib.TMSFNCTypes"].PointF(i,i),270,a),s.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(o.Left+e+i,o.Bottom-i),pas["WEBLib.TMSFNCTypes"].PointF(i,i),a-270,-a)):4!==p&&6!==p||(s.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Left,o.Bottom-i)),s.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(o.Left+i,o.Bottom-i),pas["WEBLib.TMSFNCTypes"].PointF(i,i),-180,-90));var C=n;0===C||1===C||4===C?s.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Right,o.Bottom)):2===C||3===C?(s.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(o.Right-e-i,o.Bottom-i),pas["WEBLib.TMSFNCTypes"].PointF(i,i),-270,-a),s.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(o.Right,o.Top+i),pas["WEBLib.TMSFNCTypes"].PointF(i,i),270-a,a)):5!==C&&6!==C||(s.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(o.Right-i,o.Bottom-i),pas["WEBLib.TMSFNCTypes"].PointF(i,i),-270,-90),s.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Right,o.Bottom-i))),s.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Right,o.Top)),s.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Left,o.Top)),s.ClosePath()}else if(0===l){(s=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsPath.$create("Create$1")).MoveTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Right,o.Bottom));var u=n;0===u||2===u||5===u?s.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Left,o.Bottom)):1===u||3===u?(s.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(o.Right-i,o.Bottom),pas["WEBLib.TMSFNCTypes"].PointF(i,i),0,-a),s.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(o.Left+i,o.Bottom-e-i),pas["WEBLib.TMSFNCTypes"].PointF(i,i),180-a,a)):4!==u&&6!==u||(s.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Left+i,o.Bottom)),s.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(o.Left+i,o.Bottom-i),pas["WEBLib.TMSFNCTypes"].PointF(i,i),90,90));var d=n;0===d||1===d||4===d?s.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Left,o.Top)):2===d||3===d?(s.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(o.Left+i,o.Top+e+i),pas["WEBLib.TMSFNCTypes"].PointF(i,i),180,a),s.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(o.Right-i,o.Top),pas["WEBLib.TMSFNCTypes"].PointF(i,i),a,-a)):5!==d&&6!==d||(s.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(o.Left+i,o.Top+i),pas["WEBLib.TMSFNCTypes"].PointF(i,i),180,90),s.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Left+i,o.Top))),s.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Right,o.Top)),s.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Right,o.Bottom)),s.ClosePath()}else if(3===l){(s=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsPath.$create("Create$1")).MoveTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Left,o.Top));var c=n;0===c||2===c||5===c?s.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Right,o.Top)):1===c||3===c?(s.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(o.Left+i,o.Top),pas["WEBLib.TMSFNCTypes"].PointF(i,i),-180,-a),s.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(o.Right-i,o.Top+e+i),pas["WEBLib.TMSFNCTypes"].PointF(i,i),-a,a)):4!==c&&6!==c||(s.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Right-i,o.Top)),s.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(o.Right-i,o.Top+i),pas["WEBLib.TMSFNCTypes"].PointF(i,i),-90,90));var S=n;0===S||1===S||4===S?s.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Right,o.Bottom)):2===S||3===S?(s.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(o.Right-i,o.Bottom-e-i),pas["WEBLib.TMSFNCTypes"].PointF(i,i),0,a),s.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(o.Left+i,o.Bottom),pas["WEBLib.TMSFNCTypes"].PointF(i,i),-180+a,-a)):5!==S&&6!==S||(s.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(o.Right-i,o.Bottom-i),pas["WEBLib.TMSFNCTypes"].PointF(i,i),0,90),s.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Right-i,o.Bottom))),s.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Left,o.Bottom)),s.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(o.Left,o.Top)),s.ClosePath()}else s=null;return s},this.GetBitmapRect=function(t){var e=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=pas["WEBLib.TMSFNCTypes"].TRectF.$new();i.$assign(t),s.$assign(this.GetProgressRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i))),e.$assign(i);var o=this.TabSet().FLayout.FPosition;return 1===o||2===o?this.FBitmapVisible?this.FTextVisible&&""!==this.FText?this.FTextVisible&&""!==this.FText&&e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Right+2,i.Top+2,s.Right+this.FBitmapSize+2,i.Bottom-2)):e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Right+2,i.Top+2,i.Right-2,i.Bottom-2)):e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Right,i.Top,s.Right,i.Bottom)):0===o?this.FBitmapVisible?this.FTextVisible&&""!==this.FText?this.FTextVisible&&""!==this.FText&&e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left+2,s.Top-this.FBitmapSize-2,i.Right-2,s.Top-2)):e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left+2,i.Top+2,i.Right-2,s.Bottom-2)):e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left,s.Top,i.Right,s.Top)):3===o&&(this.FBitmapVisible?this.FTextVisible&&""!==this.FText?this.FTextVisible&&""!==this.FText&&e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left+2,s.Bottom+2,i.Right-2,s.Bottom+this.FBitmapSize+2)):e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left+2,s.Top+2,i.Right-2,i.Bottom-2)):e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left,s.Bottom,i.Right,s.Bottom))),e},this.GetTextRect=function(t){var e=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),o=pas["WEBLib.TMSFNCTypes"].TRectF.$new();o.$assign(t),i.$assign(this.GetBitmapRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t))),s.$assign(this.GetCloseButtonRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t)));var n=this.TabSet().FLayout.FPosition;return 1===n||2===n?this.FStretchText?e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(o.Left+2,o.Top+2,o.Right-2,o.Bottom-2)):e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Right+2,o.Top+2,s.Left-4,o.Bottom-2)):0===n?this.FStretchText?e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(o.Left+2,o.Top+2,o.Right-2,o.Bottom-2)):e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(o.Left+2,s.Bottom+4,o.Right-2,i.Top-2)):3===n&&(this.FStretchText?e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(o.Left+2,o.Top+2,o.Right-2,o.Bottom-2)):e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(o.Left+2,i.Bottom+2,o.Right-2,s.Top-4))),e},this.GetProgressRect=function(t){var e=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),i=0,s=this.FTabSet.FLayout.FPosition;if(0===s?e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(t.Left,t.Bottom,t.Right,t.Bottom)):1===s||2===s?e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(t.Left,t.Top,t.Left,t.Bottom)):3===s&&e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(t.Left,t.Top,t.Right,t.Top)),1===this.FProgressKind){i=this.TabSet().FTabAppearance.FProgressCircularSize+4;var o=this.FTabSet.FLayout.FPosition;1===o||2===o?e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left+4,e.Top+(e.Bottom-e.Top-i)/2,e.Left+i+4,e.Top+(e.Bottom-e.Top-i)/2+i)):0===o?e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left+(e.Right-e.Left-i)/2,e.Bottom-i-4,e.Left+(e.Right-e.Left-i)/2+i,e.Bottom-4)):3===o&&e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left+(e.Right-e.Left-i)/2,e.Top+4,e.Left+(e.Right-e.Left-i)/2+i,e.Top+i+4))}return e},this.GetCloseButtonRect=function(t){var e=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),i=0,s=this.FTabSet.FLayout.FPosition;if(0===s?e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(t.Left,t.Top,t.Right,t.Top)):1===s||2===s?e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(t.Right,t.Top,t.Right,t.Bottom)):3===s&&e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(t.Left,t.Bottom,t.Right,t.Bottom)),1===this.FTabSet.FOptions.FCloseMode&&this.FCloseButton){i=this.FTabSet.FTabAppearance.FCloseSize;var o=this.FTabSet.FLayout.FPosition;1===o||2===o?e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Right-i-4,e.Top+(e.Bottom-e.Top-i)/2,e.Right-4,e.Top+(e.Bottom-e.Top-i)/2+i)):0===o?e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left+(e.Right-e.Left-i)/2,e.Top+4,e.Left+(e.Right-e.Left-i)/2+i,e.Top+i+4)):3===o&&e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left+(e.Right-e.Left-i)/2,e.Bottom-i-4,e.Left+(e.Right-e.Left-i)/2+i,e.Bottom-4))}return e},this.GetFriendlyName=function(){var t="";return""===(t=this.GetStrippedHTMLText())&&(t="Tab "+pas.SysUtils.IntToStr(this.GetIndex())),t},this.GetStrippedHTMLText=function(){var t;return t=this.FText,this.IsHTML()?pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.HTMLStrip(t):t},this.IsHTML=function(){return pas.System.Pos("</",this.FText)>0||pas.System.Pos("/>",this.FText)>0||pas.System.Pos("<BR>",pas.SysUtils.UpperCase(this.FText))>0},this.GetFixedRect=function(t,e){var i=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(i.$assign(pas["WEBLib.TMSFNCTypes"].EmptyRect()),null==this.TabSet())return i;i.$assign(t);var s=this.TabSet().FLayout.FPosition;return 1===s||2===s?e.First?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)+.5,pas.System.Int(i.Top)+.5,pas.System.Int(i.Right)+.5,pas.System.Int(i.Bottom)-.5)):e.Last?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)-.5,pas.System.Int(i.Top)+.5,pas.System.Int(i.Right)-.5,pas.System.Int(i.Bottom)-.5)):i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)-.5,pas.System.Int(i.Top)+.5,pas.System.Int(i.Right)+.5,pas.System.Int(i.Bottom)-.5)):0!==s&&3!==s||(e.First?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)+.5,pas.System.Int(i.Top)+.5,pas.System.Int(i.Right)-.5,pas.System.Int(i.Bottom)+.5)):e.Last?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)+.5,pas.System.Int(i.Top)-.5,pas.System.Int(i.Right)-.5,pas.System.Int(i.Bottom)-.5)):i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)+.5,pas.System.Int(i.Top)-.5,pas.System.Int(i.Right)-.5,pas.System.Int(i.Bottom)+.5))),i},this.Create$1=function(e){return pas.Classes.TCollectionItem.Create$1.apply(this,arguments),null!=this.FCollection&&(this.FTabSet=rtl.as(this.FCollection,t.TTMSFNCTabSetTabs).TabSet()),null!=this.FTabSet&&this.FTabSet.IsDesignTime()&&(this.FText="Tab Item "+pas.SysUtils.IntToStr(this.GetIndex())),this.FEnabled=!0,this.FProgress=0,this.FProgressMax=100,this.FProgressMode=0,this.FProgressKind=0,this.FUseDefaultAppearance=!1,this.FTextColor=0,this.FActiveTextColor=0,this.FDisabledTextColor=0,this.FBadgeColor=42495,this.FBadgeTextColor=139,this.FDownTextColor=0,this.FHoverTextColor=0,this.FColor=16316397,this.FProgressColor=16297243,this.FActiveColor=16777215,this.FDisabledColor=13882323,this.FDownColor=15655897,this.FHoverColor=16313827,this.FWordWrapping=!1,this.FTextAlign=0,this.FTrimming=1,this.FCloseButton=!0,this.FWidth=-1,this.FHeight=-1,this.FStretchText=!1,this.FBitmapVisible=!1,this.FBitmapSize=24,this.FTextVisible=!0,this.FShape=3,this.FVisible=!0,this.FBitmaps=pas["WEBLib.TMSFNCTypes"].TTMSFNCScaledBitmaps.$create("Create$3",[this.FTabSet]),this.FBitmaps.FOnChange=rtl.createCallback(this,"BitmapsChanged"),this.FDisabledBitmaps=pas["WEBLib.TMSFNCTypes"].TTMSFNCScaledBitmaps.$create("Create$3",[this.FTabSet]),this.FDisabledBitmaps.FOnChange=rtl.createCallback(this,"BitmapsChanged"),this.UpdateTab(),this},this.Destroy=function(){var t=null;rtl.free(this,"FDisabledBitmaps"),rtl.free(this,"FBitmaps"),null!=(t=this.TabSet())&&t.FActiveTab===this&&(t.FActiveTab=null),pas.Classes.TCollectionItem.Destroy.call(this),this.UpdateTab()},this.TabSet=function(){return this.FTabSet},this.GetShape=function(){return this.FUseDefaultAppearance?this.TabSet().FTabAppearance.FShape:this.FShape},this.GetAutoSize=function(){var t,e=0,i=null,s=null,o=pas["WEBLib.TMSFNCTypes"].TSizeF.$new(),n=0;if(e=0,n=1,null!=(t=this.TabSet())){i=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("CreateBitmapCanvas",[1,1,t.FNativeCanvas,!0]),t.FNativeCanvas||i.BeginScene();try{s=this.GetBitmap(),""!==this.FText&&this.FTextVisible&&(i.SetFont(t.FTabAppearance.FFont),o.$assign(i.CalculateTextSize(this.FText,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,1e4,1e4)),!0,!0)),e=e+o.cx+6,(0!==t.FTabAppearance.FTrimming&&this.FUseDefaultAppearance||0!==this.FTrimming&&!this.FUseDefaultAppearance)&&(e+=2)),null!=s&&this.FBitmapVisible&&(e=e+this.FBitmapSize+4),1===this.FProgressKind&&(e=e+t.FTabAppearance.FProgressCircularSize+8),1===t.FOptions.FCloseMode&&this.FCloseButton&&(e=e+t.FTabAppearance.FCloseSize+4)}finally{t.FNativeCanvas||i.EndScene(),i=rtl.freeLoc(i)}n=t.FPaintScaleFactor}return e=Math.max(30*n,e)},this.GetBitmap=function(){return this.FEnabled?pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.GetScaledBitmap(this.FBitmaps,0,this.GetBitmapContainer()):pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.GetScaledBitmap(this.FDisabledBitmaps,0,this.GetBitmapContainer())},this.Assign=function(e){t.TTMSFNCTabSetTab.isPrototypeOf(e)&&(this.FTag=rtl.as(e,t.TTMSFNCTabSetTab).FTag,this.FText=rtl.as(e,t.TTMSFNCTabSetTab).FText,this.FTrimming=rtl.as(e,t.TTMSFNCTabSetTab).FTrimming,this.FWordWrapping=rtl.as(e,t.TTMSFNCTabSetTab).FWordWrapping,this.FTextAlign=rtl.as(e,t.TTMSFNCTabSetTab).FTextAlign,this.FTextColor=rtl.as(e,t.TTMSFNCTabSetTab).FTextColor,this.FActiveTextColor=rtl.as(e,t.TTMSFNCTabSetTab).FActiveTextColor,this.FDisabledTextColor=rtl.as(e,t.TTMSFNCTabSetTab).FDisabledTextColor,this.FDownTextColor=rtl.as(e,t.TTMSFNCTabSetTab).FDownTextColor,this.FHoverTextColor=rtl.as(e,t.TTMSFNCTabSetTab).FHoverTextColor,this.FColor=rtl.as(e,t.TTMSFNCTabSetTab).FColor,this.FProgressColor=rtl.as(e,t.TTMSFNCTabSetTab).FProgressColor,this.FActiveColor=rtl.as(e,t.TTMSFNCTabSetTab).FActiveColor,this.FDisabledColor=rtl.as(e,t.TTMSFNCTabSetTab).FDisabledColor,this.FDownColor=rtl.as(e,t.TTMSFNCTabSetTab).FDownColor,this.FHoverColor=rtl.as(e,t.TTMSFNCTabSetTab).FHoverColor,this.FEnabled=rtl.as(e,t.TTMSFNCTabSetTab).FEnabled,this.FVisible=rtl.as(e,t.TTMSFNCTabSetTab).FVisible,this.FBitmaps.Assign(rtl.as(e,t.TTMSFNCTabSetTab).FBitmaps),this.FDisabledBitmaps.Assign(rtl.as(e,t.TTMSFNCTabSetTab).FDisabledBitmaps),this.FWidth=rtl.as(e,t.TTMSFNCTabSetTab).FWidth,this.FBitmapVisible=rtl.as(e,t.TTMSFNCTabSetTab).FBitmapVisible,this.FBitmapSize=rtl.as(e,t.TTMSFNCTabSetTab).FBitmapSize,this.FUseDefaultAppearance=rtl.as(e,t.TTMSFNCTabSetTab).FUseDefaultAppearance,this.FTextVisible=rtl.as(e,t.TTMSFNCTabSetTab).FTextVisible,this.FStretchText=rtl.as(e,t.TTMSFNCTabSetTab).FStretchText,this.FShape=rtl.as(e,t.TTMSFNCTabSetTab).FShape,this.FProgress=rtl.as(e,t.TTMSFNCTabSetTab).FProgress,this.FProgressMax=rtl.as(e,t.TTMSFNCTabSetTab).FProgressMax,this.FProgressMode=rtl.as(e,t.TTMSFNCTabSetTab).FProgressMode,this.FProgressKind=rtl.as(e,t.TTMSFNCTabSetTab).FProgressKind,this.FCloseButton=rtl.as(e,t.TTMSFNCTabSetTab).FCloseButton,this.FBadge=rtl.as(e,t.TTMSFNCTabSetTab).FBadge,this.FBadgeColor=rtl.as(e,t.TTMSFNCTabSetTab).FBadgeColor,this.FBadgeTextColor=rtl.as(e,t.TTMSFNCTabSetTab).FBadgeTextColor,this.FHint=rtl.as(e,t.TTMSFNCTabSetTab).FHint)};var e=this.$rtti;e.addMethod("Create$1",2,[["ACollection",pas.Classes.$rtti.TCollection]]),e.addProperty("Text",2,rtl.string,"FText","SetText"),e.addProperty("Badge",2,rtl.string,"FBadge","SetBadge"),e.addProperty("Hint",2,rtl.string,"FHint","SetHint"),e.addProperty("StretchText",2,rtl.boolean,"FStretchText","SetStretchText",{Default:!1}),e.addProperty("TextVisible",2,rtl.boolean,"FTextVisible","SetTextVisible",{Default:!0}),e.addProperty("TabVisible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("Bitmaps",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCScaledBitmaps,"FBitmaps","SetBitmaps"),e.addProperty("DisabledBitmaps",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCScaledBitmaps,"FDisabledBitmaps","SetDisabledBitmaps"),e.addProperty("BitmapVisible",2,rtl.boolean,"FBitmapVisible","SetBitmapVisible",{Default:!1}),e.addProperty("BitmapSize",14,rtl.double,"FBitmapSize","SetBitmapSize",{stored:"IsBitmapSizeStored"}),e.addProperty("WordWrapping",2,rtl.boolean,"FWordWrapping","SetWordWrapping",{Default:!1}),e.addProperty("Trimming",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsTextTrimming,"FTrimming","SetTrimming",{Default:pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsTextTrimming.gttCharacter}),e.addProperty("TextAlign",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsTextAlign,"FTextAlign","SetTextAlign",{Default:pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsTextAlign.gtaCenter}),e.addProperty("TextColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FTextColor","SetTextColor",{Default:0}),e.addProperty("ActiveTextColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FActiveTextColor","SetActiveTextColor",{Default:0}),e.addProperty("HoverTextColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FHoverTextColor","SetHoverTextColor",{Default:0}),e.addProperty("DownTextColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FDownTextColor","SetDownTextColor",{Default:0}),e.addProperty("DisabledTextColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FDisabledTextColor","SetDisabledTextColor",{Default:0}),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor",{Default:16316397}),e.addProperty("ProgressColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FProgressColor","SetProgressColor",{Default:16297243}),e.addProperty("ActiveColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FActiveColor","SetActiveColor",{Default:16777215}),e.addProperty("HoverColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FHoverColor","SetHoverColor",{Default:16313827}),e.addProperty("DownColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FDownColor","SetDownColor",{Default:15655897}),e.addProperty("DisabledColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FDisabledColor","SetDisabledColor",{Default:13882323}),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("UseDefaultAppearance",2,rtl.boolean,"FUseDefaultAppearance","SetUseDefaultAppearance",{Default:!1}),e.addProperty("Width",14,rtl.double,"FWidth","SetWidth",{stored:"IsWidthStored"}),e.addProperty("Shape",2,t.$rtti.TTMSFNCTabSetTabShape,"FShape","SetShape",{Default:t.TTMSFNCTabSetTabShape.tsPyramid}),e.addProperty("Tag",0,rtl.nativeint,"FTag","FTag",{Default:0}),e.addProperty("Progress",14,rtl.double,"FProgress","SetProgress",{stored:"IsProgressStored"}),e.addProperty("ProgressMax",14,rtl.double,"FProgressMax","SetProgressMax",{stored:"IsProgressMaxStored"}),e.addProperty("ProgressMode",2,t.$rtti.TTMSFNCTabSetTabProgressMode,"FProgressMode","SetProgressMode",{Default:t.TTMSFNCTabSetTabProgressMode.tpmNormal}),e.addProperty("ProgressKind",2,t.$rtti.TTMSFNCTabSetTabProgressKind,"FProgressKind","SetProgressKind",{Default:t.TTMSFNCTabSetTabProgressKind.tpkNone}),e.addProperty("CloseButton",2,rtl.boolean,"FCloseButton","SetCloseButton",{Default:!0}),e.addProperty("BadgeTextColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FBadgeTextColor","SetBadgeTextColor",{Default:139}),e.addProperty("BadgeColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FBadgeColor","SetBadgeColor",{Default:42495})})),rtl.createClass(this,"TTMSFNCTabSetTabs",pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection,(function(){this.$init=function(){pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection.$init.call(this),this.FOwnerInterface=null,this.FTabSet=null},this.$final=function(){rtl.setIntfP(this,"FOwnerInterface",null),this.FTabSet=void 0,pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection.$final.call(this)},this.GetTab=function(t){return this.GetItem(t)},this._AddRef=function(){return null!==this.FOwnerInterface?this.FOwnerInterface._AddRef():-1},this._Release=function(){return null!==this.FOwnerInterface?this.FOwnerInterface._Release():-1},this.GetTabClass=function(){return t.TTMSFNCTabSetTab};this.QueryInterface=function(t,e){return this.GetInterface(t,e)?0:-2147467262},this.TabSet=function(){return this.FTabSet},this.Create$3=function(t){return pas.Classes.TOwnedCollection.Create$2.call(this,t,this.GetTabClass()),this.FTabSet=t,this},this.Add$1=function(){return pas.Classes.TCollection.Add.call(this)},this.Clear$1=function(){var t=null,e=null;if(null!=(t=this.TabSet())&&(t.BeginUpdate(),t.SetActiveTabIndex(-1)),this.GetCount()>0)for(;this.GetCount()>0;)e=this.GetItem(this.GetCount()-1),e=rtl.freeLoc(e);null!=t&&t.EndUpdate()},this.$rtti.addMethod("Create$3",2,[["ATabSet",t.$rtti.TTMSFNCCustomTabSet]])})),rtl.createClass(this,"TTMSFNCTabSetTabSize",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FTabSet=null,this.FMode=0,this.FWidth=0,this.FHeight=0,this.FSpacing=0,this.FMargins=null,this.FOnChange=null},this.$final=function(){this.FTabSet=void 0,this.FMargins=void 0,this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.IsHeightStored=function(){return 22!==this.FHeight},this.IsWidthStored=function(){return 100!==this.FWidth},this.SetHeight=function(t){this.FHeight!==t&&(this.FHeight=t,this.UpdateTabs())},this.SetMode=function(t){this.FMode!==t&&(this.FMode=t,this.UpdateTabs())},this.SetWidth=function(t){this.FWidth!==t&&(this.FWidth=t,this.UpdateTabs())},this.IsSpacingStored=function(){return 0!==this.FSpacing},this.SetMargins=function(t){this.FMargins.Assign(t)},this.SetSpacing=function(t){this.FSpacing!==t&&(this.FSpacing=t,this.UpdateTabs())},this.UpdateTabs=function(){null!=this.FOnChange&&this.FOnChange(this),null!=this.FTabSet&&this.FTabSet.UpdateTabs(!1,!1)},this.MarginsChanged=function(t){this.UpdateTabs()},this.Create$1=function(t){return this.FTabSet=t,this.FWidth=100,this.FHeight=22,this.FSpacing=0,this.FMode=3,this.FMargins=pas["WEBLib.TMSFNCTypes"].TTMSFNCMargins.$create("Create$1"),null!=this.FTabSet&&this.FTabSet.IsDesignTime()&&(this.FMargins.SetLeft(8),this.FMargins.SetTop(8),this.FMargins.SetRight(8),this.FMargins.SetBottom(8)),this.FMargins.FOnChange=rtl.createCallback(this,"MarginsChanged"),this},this.Destroy=function(){rtl.free(this,"FMargins"),pas.System.TObject.Destroy.call(this)},this.Assign=function(e){t.TTMSFNCTabSetTabSize.isPrototypeOf(e)&&(this.FMode=rtl.as(e,t.TTMSFNCTabSetTabSize).FMode,this.FWidth=rtl.as(e,t.TTMSFNCTabSetTabSize).FWidth,this.FHeight=rtl.as(e,t.TTMSFNCTabSetTabSize).FHeight,this.FMargins.Assign(rtl.as(e,t.TTMSFNCTabSetTabSize).FMargins),this.FSpacing=rtl.as(e,t.TTMSFNCTabSetTabSize).FSpacing)};var e=this.$rtti;e.addMethod("Create$1",2,[["ATabSet",t.$rtti.TTMSFNCCustomTabSet]]),e.addProperty("Mode",2,t.$rtti.TTMSFNCTabSetTabSizeMode,"FMode","SetMode",{Default:t.TTMSFNCTabSetTabSizeMode.tsmAutoTabSize}),e.addProperty("Width",14,rtl.double,"FWidth","SetWidth",{stored:"IsWidthStored"}),e.addProperty("Height",14,rtl.double,"FHeight","SetHeight",{stored:"IsHeightStored"}),e.addProperty("Margins",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCMargins,"FMargins","SetMargins"),e.addProperty("Spacing",14,rtl.double,"FSpacing","SetSpacing",{stored:"IsSpacingStored"})})),this.TTMSFNCTabSetCloseMode={0:"tcmNone",tcmNone:0,1:"tcmTab",tcmTab:1,2:"tcmMenu",tcmMenu:2},this.$rtti.$Enum("TTMSFNCTabSetCloseMode",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TTMSFNCTabSetCloseMode}),this.TTMSFNCTabSetInsertMode={0:"timNone",timNone:0,1:"timTab",timTab:1,2:"timMenu",timMenu:2},this.$rtti.$Enum("TTMSFNCTabSetInsertMode",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TTMSFNCTabSetInsertMode}),rtl.createClass(this,"TTMSFNCTabSetButtonAppearance",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FTabSet=null,this.FSize=0,this.FHoverFill=null,this.FStroke=null,this.FHoverStroke=null,this.FDownFill=null,this.FDownStroke=null,this.FDisabledFill=null,this.FDisabledStroke=null,this.FFill=null,this.FCloseIcon=null,this.FScrollPreviousIcon=null,this.FInsertIcon=null,this.FScrollNextIcon=null,this.FTabListIcon=null,this.FRounding=0},this.$final=function(){this.FTabSet=void 0,this.FHoverFill=void 0,this.FStroke=void 0,this.FHoverStroke=void 0,this.FDownFill=void 0,this.FDownStroke=void 0,this.FDisabledFill=void 0,this.FDisabledStroke=void 0,this.FFill=void 0,this.FCloseIcon=void 0,this.FScrollPreviousIcon=void 0,this.FInsertIcon=void 0,this.FScrollNextIcon=void 0,this.FTabListIcon=void 0,pas.Classes.TPersistent.$final.call(this)},this.IsSizedStored=function(){return 20!==this.FSize},this.SetSize=function(t){this.FSize!==t&&(this.FSize=t,this.UpdateTabs())},this.SetDisabledFill=function(t){this.FDisabledFill.Assign(t)},this.SetDisabledStroke=function(t){this.FDisabledStroke.Assign(t)},this.SetDownFill=function(t){this.FDownFill.Assign(t)},this.SetDownStroke=function(t){this.FDownStroke.Assign(t)},this.SetFill=function(t){this.FFill.Assign(t)},this.SetHoverFill=function(t){this.FHoverFill.Assign(t)},this.SetHoverStroke=function(t){this.FHoverStroke.Assign(t)},this.SetStroke=function(t){this.FStroke.Assign(t)},this.SetCloseIcon=function(t){this.FCloseIcon.Assign(t)},this.SetInsertIcon=function(t){this.FInsertIcon.Assign(t)},this.SetScrollNextIcon=function(t){this.FScrollNextIcon.Assign(t)},this.SetScrollPreviousIcon=function(t){this.FScrollPreviousIcon.Assign(t)},this.SetTabListIcon=function(t){this.FTabListIcon.Assign(t)},this.IsRoundingStored=function(){return 5!==this.FRounding},this.SetRounding=function(t){this.FRounding=t},this.UpdateTabs=function(){null!=this.FTabSet&&this.FTabSet.UpdateTabs(!1,!1)},this.FillChanged=function(t){this.UpdateTabs()},this.StrokeChanged=function(t){this.UpdateTabs()},this.BitmapChanged=function(t){null!=this.FTabSet&&null!=this.FTabSet.FInsertTab&&(this.FTabSet.FInsertTab.FBitmaps.Clear(),this.FTabSet.FInsertTab.FBitmaps.AddBitmap(this.FInsertIcon,1),this.FTabSet.FInsertTab.FDisabledBitmaps.Clear(),this.FTabSet.FInsertTab.FDisabledBitmaps.AddBitmap(this.FInsertIcon,1)),this.UpdateTabs()},this.Create$1=function(e){return this.FTabSet=e,this.FSize=20,this.FRounding=5,this.FFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,16316397,8421504,-1,-1]),this.FFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FDownFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,15655897,8421504,-1,-1]),this.FDownFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FHoverFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,16313827,8421504,-1,-1]),this.FHoverFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FDisabledFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,13882323,8421504,-1,-1]),this.FDisabledFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,11119017]),this.FStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FDownStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,11119017]),this.FDownStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FHoverStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,11119017]),this.FHoverStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FDisabledStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,11119017]),this.FDisabledStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FTabListIcon=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource$1(t.TMSFNCTABSETLISTSVG,pas["WEBLib.TMSFNCTypes"].HInstance()),this.FTabListIcon.FOnChange=rtl.createCallback(this,"BitmapChanged"),this.FCloseIcon=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource$1(t.TMSFNCTABSETCLOSESVG,pas["WEBLib.TMSFNCTypes"].HInstance()),this.FCloseIcon.FOnChange=rtl.createCallback(this,"BitmapChanged"),this.FInsertIcon=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource$1(t.TMSFNCTABSETADDSVG,pas["WEBLib.TMSFNCTypes"].HInstance()),this.FInsertIcon.FOnChange=rtl.createCallback(this,"BitmapChanged"),this.FScrollNextIcon=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource$1(t.TMSFNCTABSETNEXTSVG,pas["WEBLib.TMSFNCTypes"].HInstance()),this.FScrollNextIcon.FOnChange=rtl.createCallback(this,"BitmapChanged"),this.FScrollPreviousIcon=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource$1(t.TMSFNCTABSETPREVIOUSSVG,pas["WEBLib.TMSFNCTypes"].HInstance()),this.FScrollPreviousIcon.FOnChange=rtl.createCallback(this,"BitmapChanged"),this},this.Assign=function(e){t.TTMSFNCTabSetButtonAppearance.isPrototypeOf(e)&&(this.FSize=rtl.as(e,t.TTMSFNCTabSetButtonAppearance).FSize,this.FRounding=rtl.as(e,t.TTMSFNCTabSetButtonAppearance).FRounding,this.FFill.Assign(rtl.as(e,t.TTMSFNCTabSetButtonAppearance).FFill),this.FDownFill.Assign(rtl.as(e,t.TTMSFNCTabSetButtonAppearance).FDownFill),this.FHoverFill.Assign(rtl.as(e,t.TTMSFNCTabSetButtonAppearance).FHoverFill),this.FDisabledFill.Assign(rtl.as(e,t.TTMSFNCTabSetButtonAppearance).FDisabledFill),this.FStroke.Assign(rtl.as(e,t.TTMSFNCTabSetButtonAppearance).FStroke),this.FDownStroke.Assign(rtl.as(e,t.TTMSFNCTabSetButtonAppearance).FDownStroke),this.FHoverStroke.Assign(rtl.as(e,t.TTMSFNCTabSetButtonAppearance).FHoverStroke),this.FDisabledStroke.Assign(rtl.as(e,t.TTMSFNCTabSetButtonAppearance).FDisabledStroke),this.FTabListIcon.Assign(rtl.as(e,t.TTMSFNCTabSetButtonAppearance).FTabListIcon),this.FCloseIcon.Assign(rtl.as(e,t.TTMSFNCTabSetButtonAppearance).FCloseIcon),this.FInsertIcon.Assign(rtl.as(e,t.TTMSFNCTabSetButtonAppearance).FInsertIcon),this.FScrollNextIcon.Assign(rtl.as(e,t.TTMSFNCTabSetButtonAppearance).FScrollNextIcon),this.FScrollPreviousIcon.Assign(rtl.as(e,t.TTMSFNCTabSetButtonAppearance).FScrollPreviousIcon))},this.Destroy=function(){rtl.free(this,"FTabListIcon"),rtl.free(this,"FCloseIcon"),rtl.free(this,"FInsertIcon"),rtl.free(this,"FScrollPreviousIcon"),rtl.free(this,"FScrollNextIcon"),rtl.free(this,"FFill"),rtl.free(this,"FStroke"),rtl.free(this,"FHoverFill"),rtl.free(this,"FHoverStroke"),rtl.free(this,"FDownFill"),rtl.free(this,"FDownStroke"),rtl.free(this,"FDisabledFill"),rtl.free(this,"FDisabledStroke"),pas.System.TObject.Destroy.call(this)};var e=this.$rtti;e.addMethod("Create$1",2,[["ATabSet",t.$rtti.TTMSFNCCustomTabSet]]),e.addProperty("Rounding",14,rtl.double,"FRounding","SetRounding",{stored:"IsRoundingStored"}),e.addProperty("Size",14,rtl.double,"FSize","SetSize",{stored:"IsSizedStored"}),e.addProperty("Fill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FFill","SetFill"),e.addProperty("Stroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FStroke","SetStroke"),e.addProperty("DownFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FDownFill","SetDownFill"),e.addProperty("DownStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FDownStroke","SetDownStroke"),e.addProperty("DisabledFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FDisabledFill","SetDisabledFill"),e.addProperty("DisabledStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FDisabledStroke","SetDisabledStroke"),e.addProperty("HoverFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FHoverFill","SetHoverFill"),e.addProperty("HoverStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FHoverStroke","SetHoverStroke"),e.addProperty("CloseIcon",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCBitmap,"FCloseIcon","SetCloseIcon"),e.addProperty("InsertIcon",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCBitmap,"FInsertIcon","SetInsertIcon"),e.addProperty("TabListIcon",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCBitmap,"FTabListIcon","SetTabListIcon"),e.addProperty("ScrollNextIcon",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCBitmap,"FScrollNextIcon","SetScrollNextIcon"),e.addProperty("ScrollPreviousIcon",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCBitmap,"FScrollPreviousIcon","SetScrollPreviousIcon")})),rtl.createClass(this,"TTMSFNCTabSetTabAppearance",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FTabSet=null,this.FHoverStroke=null,this.FDownFill=null,this.FDownStroke=null,this.FDisabledFill=null,this.FFont=null,this.FActiveFill=null,this.FDisabledStroke=null,this.FActiveStroke=null,this.FFill=null,this.FHoverFill=null,this.FStroke=null,this.FWordWrapping=!1,this.FTrimming=0,this.FTextAlign=0,this.FShape=0,this.FShapeOverlap=0,this.FShapeSlope=0,this.FTextColor=0,this.FHoverTextColor=0,this.FDownTextColor=0,this.FDisabledTextColor=0,this.FActiveTextColor=0,this.FShowFocus=!1,this.FFocusBorderColor=0,this.FProgressFill=null,this.FShapeRounding=0,this.FProgressStroke=null,this.FCloseSize=0,this.FProgressCircularSize=0,this.FCloseHoverStroke=null,this.FCloseDownFill=null,this.FCloseDownStroke=null,this.FCloseFill=null,this.FCloseHoverFill=null,this.FCloseStroke=null,this.FInsertSize=0,this.FBadgeFont=null,this.FBadgeFill=null,this.FBadgeStroke=null,this.FTextSpacing=0},this.$final=function(){this.FTabSet=void 0,this.FHoverStroke=void 0,this.FDownFill=void 0,this.FDownStroke=void 0,this.FDisabledFill=void 0,this.FFont=void 0,this.FActiveFill=void 0,this.FDisabledStroke=void 0,this.FActiveStroke=void 0,this.FFill=void 0,this.FHoverFill=void 0,this.FStroke=void 0,this.FProgressFill=void 0,this.FProgressStroke=void 0,this.FCloseHoverStroke=void 0,this.FCloseDownFill=void 0,this.FCloseDownStroke=void 0,this.FCloseFill=void 0,this.FCloseHoverFill=void 0,this.FCloseStroke=void 0,this.FBadgeFont=void 0,this.FBadgeFill=void 0,this.FBadgeStroke=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetDisabledFill=function(t){this.FDisabledFill.Assign(t)},this.SetDisabledStroke=function(t){this.FDisabledStroke.Assign(t)},this.SetDownFill=function(t){this.FDownFill.Assign(t)},this.SetDownStroke=function(t){this.FDownStroke.Assign(t)},this.SetFill=function(t){this.FFill.Assign(t)},this.SetFont=function(t){this.FFont.Assign(t)},this.SetHoverFill=function(t){this.FHoverFill.Assign(t)},this.SetHoverStroke=function(t){this.FHoverStroke.Assign(t)},this.SetActiveFill=function(t){this.FActiveFill.Assign(t)},this.SetActiveStroke=function(t){this.FActiveStroke.Assign(t)},this.SetStroke=function(t){this.FStroke.Assign(t)},this.SetTextAlign=function(t){this.FTextAlign!==t&&(this.FTextAlign=t,this.UpdateTabs())},this.SetTrimming=function(t){this.FTrimming!==t&&(this.FTrimming=t,this.UpdateTabs())},this.SetWordWrapping=function(t){this.FWordWrapping!==t&&(this.FWordWrapping=t,this.UpdateTabs())},this.SetShape=function(t){this.FShape!==t&&(this.FShape=t,this.UpdateTabs())},this.SetShapeOverlap=function(t){this.FShapeOverlap!==t&&(this.FShapeOverlap=t,this.UpdateTabs())},this.IsShapeOverlapStored=function(){return 12!==this.FShapeOverlap},this.IsShapeSlopeStored=function(){return 11!==this.FShapeSlope},this.SetShapeSlope=function(t){this.FShapeSlope!==t&&(this.FShapeSlope=t,this.UpdateTabs())},this.SetActiveTextColor=function(t){this.FActiveTextColor!==t&&(this.FActiveTextColor=t,this.UpdateTabs())},this.SetDisabledTextColor=function(t){this.FDisabledTextColor!==t&&(this.FDisabledTextColor=t,this.UpdateTabs())},this.SetDownTextColor=function(t){this.FDownTextColor!==t&&(this.FDownTextColor=t,this.UpdateTabs())},this.SetHoverTextColor=function(t){this.FHoverTextColor!==t&&(this.FHoverTextColor=t,this.UpdateTabs())},this.SetTextColor=function(t){this.FTextColor!==t&&(this.FTextColor=t,this.UpdateTabs())},this.SetFocusBorderColor=function(t){this.FFocusBorderColor!==t&&(this.FFocusBorderColor=t,this.UpdateTabs())},this.SetShowFocus=function(t){this.FShowFocus!==t&&(this.FShowFocus=t,this.UpdateTabs())},this.SetProgressFill=function(t){this.FProgressFill.Assign(t)},this.IsShapeRoundingStored=function(){return 5!==this.FShapeRounding},this.SetShapeRounding=function(t){this.FShapeRounding!==t&&(this.FShapeRounding=t,this.UpdateTabs())},this.SetProgressStroke=function(t){this.FProgressStroke.Assign(t)},this.IsCloseSizeStored=function(){return 14!==this.FCloseSize},this.SetCloseSize=function(t){this.FCloseSize!==t&&(this.FCloseSize=t,this.UpdateTabs())},this.IsProgressCircularSizeStored=function(){return 15!==this.FProgressCircularSize},this.SetProgressCircularSize=function(t){this.FProgressCircularSize!==t&&(this.FProgressCircularSize=t,this.UpdateTabs())},this.SetCloseDownFill=function(t){this.FCloseDownFill.Assign(t)},this.SetCloseDownStroke=function(t){this.FCloseDownStroke.Assign(t)},this.SetCloseFill=function(t){this.FCloseFill.Assign(t)},this.SetCloseHoverFill=function(t){this.FCloseHoverFill.Assign(t)},this.SetCloseHoverStroke=function(t){this.FCloseHoverStroke.Assign(t)},this.SetCloseStroke=function(t){this.FCloseStroke.Assign(t)},this.IsInsertSizeStored=function(){return 20!==this.FInsertSize},this.SetInsertSize=function(t){this.FInsertSize!==t&&(this.FInsertSize=t,this.UpdateTabs())},this.SetBadgeFill=function(t){this.FBadgeFill.Assign(t)},this.SetBadgeFont=function(t){this.FBadgeFont.Assign(t)},this.SetBadgeStroke=function(t){this.FBadgeStroke.Assign(t)},this.SetTextSpacing=function(t){this.FTextSpacing!==t&&(this.FTextSpacing=t,this.UpdateTabs())},this.UpdateTabs=function(){null!=this.FTabSet&&this.FTabSet.UpdateTabs(!1,!1)},this.FillChanged=function(t){this.UpdateTabs()},this.StrokeChanged=function(t){this.UpdateTabs()},this.FontChanged=function(t){this.UpdateTabs()},this.Create$1=function(t){return this.FTabSet=t,this.FWordWrapping=!1,this.FTrimming=1,this.FShapeOverlap=12,this.FTextAlign=0,this.FShapeSlope=11,this.FTextSpacing=0,this.FProgressCircularSize=15,this.FCloseSize=14,this.FInsertSize=20,this.FShapeRounding=5,this.FTextColor=0,this.FBadgeFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,42495,8421504,-1,-1]),this.FBadgeFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FBadgeStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,139]),this.FBadgeStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FBadgeFont=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2"),null!=this.FTabSet&&this.FTabSet.IsDesignTime()&&(this.FBadgeFont.SetColor(139),this.FBadgeFont.SetStyle(rtl.createSet(0))),this.FBadgeFont.FOnChanged=rtl.createCallback(this,"FontChanged"),this.FActiveTextColor=0,this.FDisabledTextColor=0,this.FDownTextColor=0,this.FShowFocus=!0,this.FFocusBorderColor=0,this.FHoverTextColor=0,this.FFont=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2"),this.FFont.FOnChanged=rtl.createCallback(this,"FontChanged"),this.FProgressFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,16297243,8421504,-1,-1]),this.FProgressFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FProgressStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,16297243]),this.FProgressStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,16316397,8421504,-1,-1]),this.FFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FDownFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,15655897,8421504,-1,-1]),this.FDownFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FActiveFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,16777215,8421504,-1,-1]),this.FActiveFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FHoverFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,16313827,8421504,-1,-1]),this.FHoverFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FDisabledFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,13882323,8421504,-1,-1]),this.FDisabledFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,11119017]),this.FStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FDownStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,11119017]),this.FDownStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FActiveStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,11119017]),this.FActiveStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FHoverStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,11119017]),this.FHoverStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FDisabledStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,11119017]),this.FDisabledStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FCloseFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[0,16316397,8421504,-1,-1]),this.FCloseFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FCloseStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,11119017]),this.FCloseStroke.SetWidth(2),this.FCloseStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FCloseHoverFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,255,8421504,-1,-1]),this.FCloseHoverFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FCloseHoverStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,16777215]),this.FCloseHoverStroke.SetWidth(2),this.FCloseHoverStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FCloseDownFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,3937500,8421504,-1,-1]),this.FCloseDownFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FCloseDownStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,16777215]),this.FCloseDownStroke.SetWidth(2),this.FCloseDownStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FShape=3,this},this.Assign=function(e){t.TTMSFNCTabSetTabAppearance.isPrototypeOf(e)&&(this.FWordWrapping=rtl.as(e,t.TTMSFNCTabSetTabAppearance).FWordWrapping,this.FTrimming=rtl.as(e,t.TTMSFNCTabSetTabAppearance).FTrimming,this.FShapeOverlap=rtl.as(e,t.TTMSFNCTabSetTabAppearance).FShapeOverlap,this.FTextAlign=rtl.as(e,t.TTMSFNCTabSetTabAppearance).FTextAlign,this.FShapeSlope=rtl.as(e,t.TTMSFNCTabSetTabAppearance).FShapeSlope,this.FTextSpacing=rtl.as(e,t.TTMSFNCTabSetTabAppearance).FTextSpacing,this.FShapeRounding=rtl.as(e,t.TTMSFNCTabSetTabAppearance).FShapeRounding,this.FFont.Assign(rtl.as(e,t.TTMSFNCTabSetTabAppearance).FFont),this.FTextColor=rtl.as(e,t.TTMSFNCTabSetTabAppearance).FTextColor,this.FActiveTextColor=rtl.as(e,t.TTMSFNCTabSetTabAppearance).FActiveTextColor,this.FDisabledTextColor=rtl.as(e,t.TTMSFNCTabSetTabAppearance).FDisabledTextColor,this.FDownTextColor=rtl.as(e,t.TTMSFNCTabSetTabAppearance).FDownTextColor,this.FHoverTextColor=rtl.as(e,t.TTMSFNCTabSetTabAppearance).FHoverTextColor,this.FFill.Assign(rtl.as(e,t.TTMSFNCTabSetTabAppearance).FFill),this.FProgressFill.Assign(rtl.as(e,t.TTMSFNCTabSetTabAppearance).FProgressFill),this.FProgressStroke.Assign(rtl.as(e,t.TTMSFNCTabSetTabAppearance).FProgressStroke),this.FDownFill.Assign(rtl.as(e,t.TTMSFNCTabSetTabAppearance).FDownFill),this.FActiveFill.Assign(rtl.as(e,t.TTMSFNCTabSetTabAppearance).FActiveFill),this.FHoverFill.Assign(rtl.as(e,t.TTMSFNCTabSetTabAppearance).FHoverFill),this.FDisabledFill.Assign(rtl.as(e,t.TTMSFNCTabSetTabAppearance).FDisabledFill),this.FStroke.Assign(rtl.as(e,t.TTMSFNCTabSetTabAppearance).FStroke),this.FDownStroke.Assign(rtl.as(e,t.TTMSFNCTabSetTabAppearance).FDownStroke),this.FActiveStroke.Assign(rtl.as(e,t.TTMSFNCTabSetTabAppearance).FActiveStroke),this.FHoverStroke.Assign(rtl.as(e,t.TTMSFNCTabSetTabAppearance).FHoverStroke),this.FDisabledStroke.Assign(rtl.as(e,t.TTMSFNCTabSetTabAppearance).FDisabledStroke),this.FShape=rtl.as(e,t.TTMSFNCTabSetTabAppearance).FShape,this.FShowFocus=rtl.as(e,t.TTMSFNCTabSetTabAppearance).FShowFocus,this.FFocusBorderColor=rtl.as(e,t.TTMSFNCTabSetTabAppearance).FFocusBorderColor,this.FCloseSize=rtl.as(e,t.TTMSFNCTabSetTabAppearance).FCloseSize,this.FInsertSize=rtl.as(e,t.TTMSFNCTabSetTabAppearance).FInsertSize,this.FProgressCircularSize=rtl.as(e,t.TTMSFNCTabSetTabAppearance).FProgressCircularSize,this.FCloseFill.Assign(rtl.as(e,t.TTMSFNCTabSetTabAppearance).FCloseFill),this.FCloseStroke.Assign(rtl.as(e,t.TTMSFNCTabSetTabAppearance).FCloseStroke),this.FCloseHoverFill.Assign(rtl.as(e,t.TTMSFNCTabSetTabAppearance).FCloseHoverFill),this.FCloseHoverStroke.Assign(rtl.as(e,t.TTMSFNCTabSetTabAppearance).FCloseHoverStroke),this.FCloseDownFill.Assign(rtl.as(e,t.TTMSFNCTabSetTabAppearance).FCloseDownFill),this.FCloseDownStroke.Assign(rtl.as(e,t.TTMSFNCTabSetTabAppearance).FCloseDownStroke),this.FBadgeFont.Assign(rtl.as(e,t.TTMSFNCTabSetTabAppearance).FBadgeFont),this.FBadgeFill.Assign(rtl.as(e,t.TTMSFNCTabSetTabAppearance).FBadgeFill),this.FBadgeStroke.Assign(rtl.as(e,t.TTMSFNCTabSetTabAppearance).FBadgeStroke))},this.Destroy=function(){rtl.free(this,"FBadgeFont"),rtl.free(this,"FBadgeFill"),rtl.free(this,"FBadgeStroke"),rtl.free(this,"FFont"),rtl.free(this,"FFill"),rtl.free(this,"FProgressFill"),rtl.free(this,"FProgressStroke"),rtl.free(this,"FDownFill"),rtl.free(this,"FHoverFill"),rtl.free(this,"FDisabledFill"),rtl.free(this,"FActiveFill"),rtl.free(this,"FStroke"),rtl.free(this,"FDownStroke"),rtl.free(this,"FHoverStroke"),rtl.free(this,"FDisabledStroke"),rtl.free(this,"FActiveStroke"),rtl.free(this,"FCloseHoverStroke"),rtl.free(this,"FCloseHoverFill"),rtl.free(this,"FCloseFill"),rtl.free(this,"FCloseStroke"),rtl.free(this,"FCloseDownFill"),rtl.free(this,"FCloseDownStroke"),pas.System.TObject.Destroy.call(this)};var e=this.$rtti;e.addMethod("Create$1",2,[["ATabSet",t.$rtti.TTMSFNCCustomTabSet]]),e.addProperty("Font",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFont,"FFont","SetFont"),e.addProperty("ProgressFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FProgressFill","SetProgressFill"),e.addProperty("ProgressStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FProgressStroke","SetProgressStroke"),e.addProperty("Fill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FFill","SetFill"),e.addProperty("Stroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FStroke","SetStroke"),e.addProperty("ActiveFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FActiveFill","SetActiveFill"),e.addProperty("ActiveStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FActiveStroke","SetActiveStroke"),e.addProperty("DisabledFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FDisabledFill","SetDisabledFill"),e.addProperty("DisabledStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FDisabledStroke","SetDisabledStroke"),e.addProperty("DownFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FDownFill","SetDownFill"),e.addProperty("DownStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FDownStroke","SetDownStroke"),e.addProperty("HoverFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FHoverFill","SetHoverFill"),e.addProperty("HoverStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FHoverStroke","SetHoverStroke"),e.addProperty("WordWrapping",2,rtl.boolean,"FWordWrapping","SetWordWrapping",{Default:!1}),e.addProperty("Trimming",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsTextTrimming,"FTrimming","SetTrimming",{Default:pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsTextTrimming.gttCharacter}),e.addProperty("TextAlign",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsTextAlign,"FTextAlign","SetTextAlign",{Default:pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsTextAlign.gtaCenter}),e.addProperty("TextSpacing",2,rtl.double,"FTextSpacing","SetTextSpacing"),e.addProperty("Shape",2,t.$rtti.TTMSFNCTabSetTabShape,"FShape","SetShape",{Default:t.TTMSFNCTabSetTabShape.tsPyramid}),e.addProperty("ShapeOverlap",14,rtl.double,"FShapeOverlap","SetShapeOverlap",{stored:"IsShapeOverlapStored"}),e.addProperty("ShapeSlope",14,rtl.double,"FShapeSlope","SetShapeSlope",{stored:"IsShapeSlopeStored"}),e.addProperty("ShapeRounding",14,rtl.double,"FShapeRounding","SetShapeRounding",{stored:"IsShapeRoundingStored"}),e.addProperty("TextColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FTextColor","SetTextColor",{Default:0}),e.addProperty("ActiveTextColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FActiveTextColor","SetActiveTextColor",{Default:0}),e.addProperty("HoverTextColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FHoverTextColor","SetHoverTextColor",{Default:0}),e.addProperty("DownTextColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FDownTextColor","SetDownTextColor",{Default:0}),e.addProperty("DisabledTextColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FDisabledTextColor","SetDisabledTextColor",{Default:0}),e.addProperty("ShowFocus",2,rtl.boolean,"FShowFocus","SetShowFocus",{Default:!0}),e.addProperty("FocusBorderColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FFocusBorderColor","SetFocusBorderColor",{Default:0}),e.addProperty("ProgressCircularSize",14,rtl.double,"FProgressCircularSize","SetProgressCircularSize",{stored:"IsProgressCircularSizeStored"}),e.addProperty("InsertSize",14,rtl.double,"FInsertSize","SetInsertSize",{stored:"IsInsertSizeStored"}),e.addProperty("CloseSize",14,rtl.double,"FCloseSize","SetCloseSize",{stored:"IsCloseSizeStored"}),e.addProperty("CloseFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FCloseFill","SetCloseFill"),e.addProperty("CloseStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FCloseStroke","SetCloseStroke"),e.addProperty("CloseDownFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FCloseDownFill","SetCloseDownFill"),e.addProperty("CloseDownStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FCloseDownStroke","SetCloseDownStroke"),e.addProperty("CloseHoverFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FCloseHoverFill","SetCloseHoverFill"),e.addProperty("CloseHoverStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FCloseHoverStroke","SetCloseHoverStroke"),e.addProperty("BadgeFill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FBadgeFill","SetBadgeFill"),e.addProperty("BadgeStroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FBadgeStroke","SetBadgeStroke"),e.addProperty("BadgeFont",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFont,"FBadgeFont","SetBadgeFont")})),rtl.createClass(this,"TTMSFNCTabSetLayout",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FTabSet=null,this.FMultiline=0,this.FPosition=0,this.FOnChange=null},this.$final=function(){this.FTabSet=void 0,this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetMultiline=function(t){this.FMultiline!==t&&(this.FMultiline=t,this.UpdateTabs())},this.SetPosition=function(t){if(this.FPosition!==t){if(this.FPosition=t,null!=this.FTabSet&&null!=this.FTabSet.FTabList){var e=this.FPosition;0===e?this.FTabSet.FTabListPopup.SetPlacement(3):1===e?this.FTabSet.FTabListPopup.SetPlacement(0):2===e?this.FTabSet.FTabListPopup.SetPlacement(1):3===e&&this.FTabSet.FTabListPopup.SetPlacement(2)}this.UpdateTabs()}},this.UpdateTabs=function(){null!=this.FOnChange&&this.FOnChange(this),null!=this.FTabSet&&this.FTabSet.UpdateTabs(!1,!1)},this.Assign=function(e){t.TTMSFNCTabSetLayout.isPrototypeOf(e)&&(this.FMultiline=rtl.as(e,t.TTMSFNCTabSetLayout).FMultiline,this.FPosition=rtl.as(e,t.TTMSFNCTabSetLayout).FPosition)},this.Create$1=function(t){return this.FTabSet=t,this.FMultiline=0,this.FPosition=1,this};var e=this.$rtti;e.addMethod("Create$1",2,[["ATabSet",t.$rtti.TTMSFNCCustomTabSet]]),e.addProperty("Position",2,t.$rtti.TTMSFNCTabSetLayoutPosition,"FPosition","SetPosition",{Default:t.TTMSFNCTabSetLayoutPosition.tlpTop}),e.addProperty("Multiline",2,t.$rtti.TTMSFNCTabSetLayoutMultiline,"FMultiline","SetMultiline",{Default:t.TTMSFNCTabSetLayoutMultiline.tlmNone})})),rtl.createClass(this,"TTMSFNCTabSetInteraction",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FTabSet=null,this.FSelectTabOnFocus=!1,this.FEditing=!1,this.FSelectTabOnInsert=!1,this.FSelectTabOnScroll=!1,this.FInsertTabWithKeyboard=!1,this.FCloseTabWithKeyboard=!1,this.FAutoOpenURL=!1,this.FReorder=!1},this.$final=function(){this.FTabSet=void 0,pas.Classes.TPersistent.$final.call(this)},this.Assign=function(e){t.TTMSFNCTabSetInteraction.isPrototypeOf(e)&&(this.FSelectTabOnFocus=rtl.as(e,t.TTMSFNCTabSetInteraction).FSelectTabOnFocus,this.FSelectTabOnInsert=rtl.as(e,t.TTMSFNCTabSetInteraction).FSelectTabOnInsert,this.FSelectTabOnScroll=rtl.as(e,t.TTMSFNCTabSetInteraction).FSelectTabOnScroll,this.FEditing=rtl.as(e,t.TTMSFNCTabSetInteraction).FEditing,this.FCloseTabWithKeyboard=rtl.as(e,t.TTMSFNCTabSetInteraction).FCloseTabWithKeyboard,this.FInsertTabWithKeyboard=rtl.as(e,t.TTMSFNCTabSetInteraction).FInsertTabWithKeyboard,this.FAutoOpenURL=rtl.as(e,t.TTMSFNCTabSetInteraction).FAutoOpenURL,this.FReorder=rtl.as(e,t.TTMSFNCTabSetInteraction).FReorder)},this.Create$1=function(t){return this.FTabSet=t,this.FSelectTabOnFocus=!0,this.FSelectTabOnInsert=!0,this.FSelectTabOnScroll=!0,this.FEditing=!1,this.FInsertTabWithKeyboard=!0,this.FCloseTabWithKeyboard=!0,this.FAutoOpenURL=!0,this.FReorder=!1,this};var e=this.$rtti;e.addMethod("Create$1",2,[["ATabSet",t.$rtti.TTMSFNCCustomTabSet]]),e.addProperty("SelectTabOnFocus",0,rtl.boolean,"FSelectTabOnFocus","FSelectTabOnFocus",{Default:!0}),e.addProperty("SelectTabOnInsert",0,rtl.boolean,"FSelectTabOnInsert","FSelectTabOnInsert",{Default:!0}),e.addProperty("SelectTabOnScroll",0,rtl.boolean,"FSelectTabOnScroll","FSelectTabOnScroll",{Default:!0}),e.addProperty("Editing",0,rtl.boolean,"FEditing","FEditing",{Default:!1}),e.addProperty("CloseTabWithKeyboard",0,rtl.boolean,"FCloseTabWithKeyboard","FCloseTabWithKeyboard",{Default:!0}),e.addProperty("InsertTabWithKeyboard",0,rtl.boolean,"FInsertTabWithKeyboard","FInsertTabWithKeyboard",{Default:!0}),e.addProperty("AutoOpenURL",0,rtl.boolean,"FAutoOpenURL","FAutoOpenURL",{Default:!0}),e.addProperty("Reorder",0,rtl.boolean,"FReorder","FReorder",{Default:!1})})),rtl.createClass(this,"TTMSFNCTabSetOptions",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FTabSet=null,this.FCloseMode=0,this.FInsertMode=0,this.FTabListButton=!1,this.FCloseAction=0},this.$final=function(){this.FTabSet=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetCloseMode=function(t){this.FCloseMode!==t&&(this.FCloseMode=t,this.UpdateTabs())},this.SetInsertMode=function(t){this.FInsertMode!==t&&(this.FInsertMode=t,this.UpdateTabs())},this.SetTabListButton=function(t){this.FTabListButton!==t&&(this.FTabListButton=t,this.UpdateTabs())},this.UpdateTabs=function(){null!=this.FTabSet&&this.FTabSet.UpdateTabs(!1,!1)},this.Assign=function(e){t.TTMSFNCTabSetOptions.isPrototypeOf(e)&&(this.FCloseMode=rtl.as(e,t.TTMSFNCTabSetOptions).FCloseMode,this.FInsertMode=rtl.as(e,t.TTMSFNCTabSetOptions).FInsertMode,this.FTabListButton=rtl.as(e,t.TTMSFNCTabSetOptions).FTabListButton,this.FCloseAction=rtl.as(e,t.TTMSFNCTabSetOptions).FCloseAction)},this.Create$1=function(t){return this.FTabSet=t,this.FCloseMode=0,this.FInsertMode=0,this.FTabListButton=!1,this.FCloseAction=2,this};var e=this.$rtti;e.addMethod("Create$1",2,[["ATabSet",t.$rtti.TTMSFNCCustomTabSet]]),e.addProperty("CloseMode",2,t.$rtti.TTMSFNCTabSetCloseMode,"FCloseMode","SetCloseMode",{Default:t.TTMSFNCTabSetCloseMode.tcmNone}),e.addProperty("CloseAction",0,t.$rtti.TTMSFNCTabSetTabCloseAction,"FCloseAction","FCloseAction",{Default:t.TTMSFNCTabSetTabCloseAction.ttcaHide}),e.addProperty("InsertMode",2,t.$rtti.TTMSFNCTabSetInsertMode,"FInsertMode","SetInsertMode",{Default:t.TTMSFNCTabSetInsertMode.timNone}),e.addProperty("TabListButton",2,rtl.boolean,"FTabListButton","SetTabListButton",{Default:!1})})),this.TTMSFNCTabSetButtonState={0:"tbsNormal",tbsNormal:0,1:"tbsHover",tbsHover:1,2:"tbsDown",tbsDown:2,3:"tbsDisabled",tbsDisabled:3},this.$rtti.$Enum("TTMSFNCTabSetButtonState",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TTMSFNCTabSetButtonState}),this.TTMSFNCTabSetTabState={0:"ttsNormal",ttsNormal:0,1:"ttsHover",ttsHover:1,2:"ttsDown",ttsDown:2,3:"ttsActive",ttsActive:3,4:"ttsDisabled",ttsDisabled:4},this.$rtti.$Enum("TTMSFNCTabSetTabState",{minvalue:0,maxvalue:4,ordtype:1,enumtype:this.TTMSFNCTabSetTabState}),this.TTMSFNCTabSetMenuButton={0:"tmbClose",tmbClose:0,1:"tmbInsert",tmbInsert:1,2:"tmbTabList",tmbTabList:2,3:"tmbScrollPrevious",tmbScrollPrevious:3,4:"tmbScrollNext",tmbScrollNext:4},this.$rtti.$Enum("TTMSFNCTabSetMenuButton",{minvalue:0,maxvalue:4,ordtype:1,enumtype:this.TTMSFNCTabSetMenuButton}),this.$rtti.$ClassRef("TTMSFNCTabSetInplaceEditorClass",{instancetype:pas["WEBLib.Controls"].$rtti.TWinControl}),this.$rtti.$MethodVar("TTMSFNCTabSetCustomizeInplaceEditorEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ATabIndex",rtl.longint],["AInplaceEditor",pas["WEBLib.Controls"].$rtti.TWinControl]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCTabSetGetInplaceEditorRectEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ATabIndex",rtl.longint],["AInplaceEditor",pas["WEBLib.Controls"].$rtti.TWinControl],["AInplaceEditorRect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCTabSetGetInplaceEditorEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ATabIndex",rtl.longint],["AInplaceEditorClass",this.$rtti.TTMSFNCTabSetInplaceEditorClass,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCTabSetBeforeOpenInplaceEditorEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ATabIndex",rtl.longint],["ACanOpen",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCTabSetOpenInplaceEditorEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ATabIndex",rtl.longint],["AInplaceEditor",pas["WEBLib.Controls"].$rtti.TWinControl],["AInplaceEditorRect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCTabSetCloseInplaceEditorEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ATabIndex",rtl.longint],["AInplaceEditor",pas["WEBLib.Controls"].$rtti.TWinControl],["ACancelled",rtl.boolean],["ACanClose",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCTabSetBeforeUpdateTabEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ATabIndex",rtl.longint],["AText",rtl.string,1],["ACanUpdate",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCTabSetUpdateTabEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ATabIndex",rtl.longint]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCTabSetAnchorTabClickEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ATabIndex",rtl.longint],["AAnchor",rtl.string]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCTabSetBeforeDrawTabBackgroundEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ATabIndex",rtl.longint],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF],["AState",this.$rtti.TTMSFNCTabSetTabState],["ADefaultDraw",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCTabSetBeforeDrawTabProgressEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ATabIndex",rtl.longint],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF],["AProgressMode",this.$rtti.TTMSFNCTabSetTabProgressMode],["AProgressKind",this.$rtti.TTMSFNCTabSetTabProgressKind],["AAnimationStartAngle",rtl.double],["AAnimationSweepAngle",rtl.double],["AProgress",rtl.double],["AProgressMax",rtl.double],["ADefaultDraw",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCTabSetBeforeDrawTabBadgeEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ATabIndex",rtl.longint],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF],["AText",rtl.string],["ADefaultDraw",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCTabSetBeforeDrawTabTextEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ATabIndex",rtl.longint],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF],["AText",rtl.string],["ADefaultDraw",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCTabSetBeforeDrawTabCloseButtonEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ATabIndex",rtl.longint],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF],["AState",this.$rtti.TTMSFNCTabSetButtonState],["ADefaultDraw",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCTabSetBeforeDrawTabBitmapEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ATabIndex",rtl.longint],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF],["ADefaultDraw",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCTabSetAfterDrawTabBackgroundEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ATabIndex",rtl.longint],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF],["AState",this.$rtti.TTMSFNCTabSetTabState]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCTabSetAfterDrawTabProgressEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ATabIndex",rtl.longint],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF],["AProgressMode",this.$rtti.TTMSFNCTabSetTabProgressMode],["AProgressKind",this.$rtti.TTMSFNCTabSetTabProgressKind],["AAnimationStartAngle",rtl.double],["AAnimationSweepAngle",rtl.double],["AProgress",rtl.double],["AProgressMax",rtl.double]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCTabSetAfterDrawTabBadgeEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ATabIndex",rtl.longint],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF],["AText",rtl.string]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCTabSetAfterDrawTabTextEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ATabIndex",rtl.longint],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF],["AText",rtl.string]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCTabSetAfterDrawTabCloseButtonEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ATabIndex",rtl.longint],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF],["AState",this.$rtti.TTMSFNCTabSetButtonState]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCTabSetAfterDrawTabBitmapEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ATabIndex",rtl.longint],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCTabSetBeforeDrawMenuButton",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF],["AButton",this.$rtti.TTMSFNCTabSetMenuButton],["AState",this.$rtti.TTMSFNCTabSetButtonState],["ADefaultDraw",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCTabSetAfterDrawMenuButton",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF],["AButton",this.$rtti.TTMSFNCTabSetMenuButton],["AState",this.$rtti.TTMSFNCTabSetButtonState]]),methodkind:0}),rtl.createClass(this,"TTMSFNCTabSetEdit",pas["WEBLib.StdCtrls"].TEdit,(function(){this.$init=function(){pas["WEBLib.StdCtrls"].TEdit.$init.call(this),this.FTabSet=null},this.$final=function(){this.FTabSet=void 0,pas["WEBLib.StdCtrls"].TEdit.$final.call(this)},this.KeyDown=function(t,e){if(pas["WEBLib.Controls"].TControl.KeyDown.apply(this,arguments),null!=this.FTabSet&&this.FTabSet.FInplaceEditorActive){var i=t.get();27===i?(this.FTabSet.CloseInplaceEditor(!0),this.FTabSet.FInplaceEditorClosed=!0,t.set(0)):113!==i&&13!==i||(this.FTabSet.CloseInplaceEditor(!1),this.FTabSet.FInplaceEditorClosed=!0,t.set(0))}},this.DoExit=function(){pas["WEBLib.Controls"].TControl.DoExit.call(this),null!=this.FTabSet&&this.FTabSet.FInplaceEditorActive&&this.FTabSet.CloseInplaceEditor(!1)},this.Create$1=function(e){return pas["WEBLib.Controls"].TControl.Create$1.apply(this,arguments),t.TTMSFNCCustomTabSet.isPrototypeOf(e)&&(this.FTabSet=rtl.as(e,t.TTMSFNCCustomTabSet)),this},rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),rtl.createClass(this,"TTMSFNCCustomTabSet",pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl,(function(){this.$init=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$init.call(this),this.FTotalTabHeight=0,this.FDownX=0,this.FDownY=0,this.FDragDownX=0,this.FDragDownY=0,this.FClosing=!1,this.FTabAnchor="",this.FDblClicked=!1,this.FInplaceEditorClosed=!1,this.FCloseWithDialogKey=!1,this.FUpdateTab=t.TTMSFNCTabSetDisplayTab.$new(),this.FInplaceEditorClass=null,this.FInplaceEditor=null,this.FInplaceEditorActive=!1,this.FMenuSize=0,this.FInvisibleTabList=null,this.FTabListPopup=null,this.FTabList=null,this.FFirstTabIndex=0,this.FLastTabIndex=0,this.FTabListButtonState=0,this.FCloseButtonState=0,this.FInsertButtonState=0,this.FScrollButtonPreviousState=0,this.FScrollButtonNextState=0,this.FPrevTabListButtonState=0,this.FPrevCloseButtonState=0,this.FPrevInsertButtonState=0,this.FPrevScrollButtonPreviousState=0,this.FPrevScrollButtonNextState=0,this.FScrollButtonNextDisabled=!1,this.FScrollButtonPreviousDisabled=!1,this.FShowMenu=!1,this.FShowScrollButtons=!1,this.FAllowScrolling=!1,this.FShowCloseButton=!1,this.FShowTabListButton=!1,this.FShowInsertButton=!1,this.FInsertTab=null,this.FDragTab=null,this.FActiveTabIndex=0,this.FDownCount=0,this.FAnimTimer=null,this.FDownTimer=null,this.FActiveTab=null,this.FFocusedTab=null,this.FPrevTab=null,this.FDownTab=null,this.FPrevHoverTab=null,this.FHoverTab=null,this.FTabChanging=!1,this.FDownCloseTab=null,this.FHoverCloseTab=null,this.FPrevHoverCloseTab=null,this.FDragTabDisplay=t.TTMSFNCTabSetDisplayTab.$new(),this.FOrigRect$1=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),this.FStartTab=0,this.FScrollCount=0,this.FUpdateCount$1=0,this.FDisplayList=null,this.FBitmapContainer=null,this.FTabs=null,this.FTabSize=null,this.FLayout=null,this.FTabAppearance=null,this.FInteraction=null,this.FOnChangeTab=null,this.FOnCloseTab=null,this.FOnBeforeChangeTab=null,this.FOnBeforeCloseTab=null,this.FOptions=null,this.FOnInsertTab=null,this.FOnBeforeInsertTab=null,this.FButtonAppearance=null,this.FOnGetInplaceEditorRect=null,this.FOnCustomizeInplaceEditor=null,this.FOnOpenInplaceEditor=null,this.FOnGetInplaceEditor=null,this.FOnCloseInplaceEditor=null,this.FOnBeforeOpenInplaceEditor=null,this.FOnUpdateTab=null,this.FOnBeforeUpdateTab=null,this.FOnAnchorTabClick=null,this.FOnReorderTab=null,this.FOnBeforeReorderTab=null,this.FOnBeforeDrawTabBadge=null,this.FOnBeforeDrawTabText=null,this.FOnAfterDrawTabBackground=null,this.FOnAfterDrawTabBitmap=null,this.FOnBeforeDrawTabCloseButton=null,this.FOnAfterDrawTabProgress=null,this.FOnAfterDrawTabBadge=null,this.FOnAfterDrawTabText=null,this.FOnAfterDrawTabCloseButton=null,this.FOnBeforeDrawTabBackground=null,this.FOnBeforeDrawTabBitmap=null,this.FOnBeforeDrawTabProgress=null,this.FOnAfterDrawMenuButton=null,this.FOnBeforeDrawMenuButton=null,this.FGlobalFont=null},this.$final=function(){this.FUpdateTab=void 0,this.FInplaceEditorClass=void 0,this.FInplaceEditor=void 0,this.FInvisibleTabList=void 0,this.FTabListPopup=void 0,this.FTabList=void 0,this.FInsertTab=void 0,this.FDragTab=void 0,this.FAnimTimer=void 0,this.FDownTimer=void 0,this.FActiveTab=void 0,this.FFocusedTab=void 0,this.FPrevTab=void 0,this.FDownTab=void 0,this.FPrevHoverTab=void 0,this.FHoverTab=void 0,this.FDownCloseTab=void 0,this.FHoverCloseTab=void 0,this.FPrevHoverCloseTab=void 0,this.FDragTabDisplay=void 0,this.FOrigRect$1=void 0,this.FDisplayList=void 0,this.FBitmapContainer=void 0,this.FTabs=void 0,this.FTabSize=void 0,this.FLayout=void 0,this.FTabAppearance=void 0,this.FInteraction=void 0,this.FOnChangeTab=void 0,this.FOnCloseTab=void 0,this.FOnBeforeChangeTab=void 0,this.FOnBeforeCloseTab=void 0,this.FOptions=void 0,this.FOnInsertTab=void 0,this.FOnBeforeInsertTab=void 0,this.FButtonAppearance=void 0,this.FOnGetInplaceEditorRect=void 0,this.FOnCustomizeInplaceEditor=void 0,this.FOnOpenInplaceEditor=void 0,this.FOnGetInplaceEditor=void 0,this.FOnCloseInplaceEditor=void 0,this.FOnBeforeOpenInplaceEditor=void 0,this.FOnUpdateTab=void 0,this.FOnBeforeUpdateTab=void 0,this.FOnAnchorTabClick=void 0,this.FOnReorderTab=void 0,this.FOnBeforeReorderTab=void 0,this.FOnBeforeDrawTabBadge=void 0,this.FOnBeforeDrawTabText=void 0,this.FOnAfterDrawTabBackground=void 0,this.FOnAfterDrawTabBitmap=void 0,this.FOnBeforeDrawTabCloseButton=void 0,this.FOnAfterDrawTabProgress=void 0,this.FOnAfterDrawTabBadge=void 0,this.FOnAfterDrawTabText=void 0,this.FOnAfterDrawTabCloseButton=void 0,this.FOnBeforeDrawTabBackground=void 0,this.FOnBeforeDrawTabBitmap=void 0,this.FOnBeforeDrawTabProgress=void 0,this.FOnAfterDrawMenuButton=void 0,this.FOnBeforeDrawMenuButton=void 0,this.FGlobalFont=void 0,pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$final.call(this)},this.SetTabSize=function(t){this.FTabSize.Assign(t)},this.SetLayout=function(t){this.FLayout!==t&&(this.FLayout=t,this.UpdateTabs(!1,!1))},this.SetTabAppearance=function(t){this.FTabAppearance.Assign(t)},this.GetActiveTab=function(){var t=null;return t=null,this.FActiveTabIndex>=0&&this.FActiveTabIndex<=this.FTabs.GetCount()-1&&(t=this.FTabs.GetTab(this.FActiveTabIndex)),t},this.GetActiveTabIndex=function(){var t=0;return t=this.FActiveTabIndex,null!=this.FActiveTab&&(t=this.FActiveTab.GetIndex()),t},this.SetActiveTab=function(t){this.HandleChangeTab(t)},this.SetActiveTabIndex=function(t){this.FActiveTabIndex=Math.max(0,Math.min(t,this.FTabs.GetCount()-1)),this.FActiveTabIndex>=0&&this.FActiveTabIndex<=this.FTabs.GetCount()-1?this.SetActiveTab(this.FTabs.GetTab(this.FActiveTabIndex)):this.SetActiveTab(null)},this.SetInteraction=function(t){this.FInteraction.Assign(t)},this.SetOptions=function(t){this.FOptions.Assign(t)},this.SetButtonAppearance=function(t){this.FButtonAppearance.Assign(t)},this.GetBitmapContainer=function(){return this.FBitmapContainer},this.CreateTabs=function(){return t.TTMSFNCTabSetTabs.$create("Create$3",[this])},this.GetTotalTabHeight=function(){return this.FTotalTabHeight},this.GetVersion=function(){return this.$class.GetVersionNumber(1,0,1,1)},this.GetTabSize=function(t){var e=0;if(e=0,t===this.GetTotalTabCount()-1&&1===this.FOptions.FInsertMode)e=this.FTabAppearance.FInsertSize;else if(t>=0&&t<=this.FTabs.GetCount()-1){var i=this.FTabSize.FMode;3===i?(e=this.FTabs.GetTab(t).GetAutoSize(),this.FTabAppearance.FShape in rtl.createSet(1,2,3)?e+=2*this.FTabAppearance.FShapeSlope:this.FTabAppearance.FShape in rtl.createSet(4,5,6)?e+=this.FTabAppearance.FShapeSlope:e+=2*this.FTabAppearance.FShapeOverlap,e+=this.FTabAppearance.FTextSpacing):1!==i&&2!==i||(e=this.FTabs.GetTab(t).FWidth>-1?this.FTabs.GetTab(t).FWidth:this.FTabSize.FWidth)}return e},this.GetTotalTabCount=function(){var t=0;return t=this.FTabs.GetCount(),1===this.FOptions.FInsertMode&&(t+=1),t},this.GetTabRect=function(){var t,e=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),i=pas["WEBLib.TMSFNCTypes"].TRectF.$new();e.$assign(this.GetLocalRect()),i.$assign(e),t=this.FMenuSize;var s=this.FLayout.FPosition;return 0===s?(e.Left=i.Left+this.FTabSize.FMargins.FLeft+1,e.Top=i.Top+this.FTabSize.FMargins.FTop,e.Right=i.Left+this.FTabSize.FMargins.FLeft+this.FTabSize.FHeight,this.FShowMenu?e.Bottom=i.Bottom-this.FTabSize.FMargins.FBottom-t:e.Bottom=i.Bottom-this.FTabSize.FMargins.FBottom):1===s?(e.Left=i.Left+this.FTabSize.FMargins.FLeft,e.Top=i.Top+this.FTabSize.FMargins.FTop+1,this.FShowMenu?e.Right=i.Right-this.FTabSize.FMargins.FRight-t:e.Right=i.Right-this.FTabSize.FMargins.FRight,e.Bottom=i.Top+this.FTabSize.FMargins.FTop+this.FTabSize.FHeight):2===s?(e.Left=i.Left+this.FTabSize.FMargins.FLeft,e.Top=i.Bottom-this.FTabSize.FMargins.FBottom-this.FTabSize.FHeight,this.FShowMenu?e.Right=i.Right-this.FTabSize.FMargins.FRight-t:e.Right=i.Right-this.FTabSize.FMargins.FRight,e.Bottom=i.Bottom-this.FTabSize.FMargins.FBottom-1):3===s&&(e.Left=i.Right-this.FTabSize.FMargins.FRight-this.FTabSize.FHeight,e.Top=i.Top+this.FTabSize.FMargins.FTop,e.Right=i.Right-this.FTabSize.FMargins.FRight-1,this.FShowMenu?e.Bottom=i.Bottom-this.FTabSize.FMargins.FBottom-t:e.Bottom=i.Bottom-this.FTabSize.FMargins.FBottom),e},this.GetMenuRect=function(){var t,e=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),i=pas["WEBLib.TMSFNCTypes"].TRectF.$new();e.$assign(this.GetTabRect()),i.$assign(e),t=this.FMenuSize;var s=this.FLayout.FPosition;return 1===s||2===s?(e.Left=i.Right,e.Top=i.Top,e.Right=i.Right+t,e.Bottom=i.Bottom):0!==s&&3!==s||(e.Left=i.Left,e.Top=i.Bottom,e.Right=i.Right,e.Bottom=i.Bottom+t),e},this.GetVisibleTabCount=function(){var t=0,e=0;t=0;for(var i=0,s=this.FTabs.GetCount()-1;i<=s;i++)e=i,this.IsTabVisible(e)&&(t+=1);return t},this.GetInvisibleTabCount=function(){var t=0,e=0;t=0;for(var i=0,s=this.FTabs.GetCount()-1;i<=s;i++)e=i,this.IsTabVisible(e)||(t+=1);return t},this.GetInvisibleTabCountForScrolling=function(){var t=0,e=0;t=0;for(var i=this.FStartTab,s=this.FLastTabIndex;i<=s;i++)e=i,this.IsTabVisible(e)||(t+=1);return t},this.GetLastScrollableTabIndex=function(){var t=0,e=0;t=0;for(var i=this.FTabs.GetCount()-1;i>=0;i--)if(e=i,this.IsTabVisible(e)&&this.IsTabEnabled(e)){t=e;break}return t},this.GetFirstScrollableTabIndex=function(){var t=0,e=0;t=0;for(var i=0,s=this.FTabs.GetCount()-1;i<=s;i++)if(e=i,this.IsTabVisible(e)&&this.IsTabEnabled(e)){t=e;break}return t},this.GetDisplayCount=function(){return this.FDisplayList.GetCount()},this.GetNormalDisplayCount=function(){var t=0;return t=this.GetDisplayCount(),1===this.FOptions.FInsertMode&&(t-=1),t},this.GetAdditionalTabSpacing=function(){var t=0;return t=0,1===this.FOptions.FInsertMode&&(t=t+this.FTabAppearance.FInsertSize+10),t},this.GetTabListButtonRect=function(){var t,e,i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=pas["WEBLib.TMSFNCTypes"].TRectF.$new();s.$assign(this.GetMenuRect()),t=this.FButtonAppearance.FSize,e=this.ScalePaintValue(3);var o=this.FLayout.FPosition;return 1===o||2===o?this.FShowTabListButton?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Right-e-t,s.Top+(s.Bottom-s.Top-t)/2,s.Right-e,s.Top+(s.Bottom-s.Top-t)/2+t)):i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Right,s.Top,s.Right,s.Bottom)):0!==o&&3!==o||(this.FShowTabListButton?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Left+(s.Right-s.Left-t)/2,s.Bottom-e-t,s.Left+(s.Right-s.Left-t)/2+t,s.Bottom-e)):i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Left,s.Bottom,s.Right,s.Bottom))),i},this.GetCloseButtonRect=function(){var t,e=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=0;i.$assign(this.GetTabListButtonRect()),t=this.FButtonAppearance.FSize,s=this.FShowTabListButton?this.ScalePaintValue(6):this.ScalePaintValue(3);var o=this.FLayout.FPosition;return 1===o||2===o?this.FShowCloseButton?e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left-s-t,i.Top+(i.Bottom-i.Top-t)/2,i.Left-s,i.Top+(i.Bottom-i.Top-t)/2+t)):e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left,i.Top,i.Left,i.Bottom)):0!==o&&3!==o||(this.FShowCloseButton?e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left+(i.Right-i.Left-t)/2,i.Top-s-t,i.Left+(i.Right-i.Left-t)/2+t,i.Top-s)):e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left,i.Top,i.Right,i.Top))),e},this.GetInsertButtonRect=function(){var t,e=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=0;i.$assign(this.GetCloseButtonRect()),t=this.FButtonAppearance.FSize,s=this.FShowTabListButton||this.FShowCloseButton?6:3;var o=this.FLayout.FPosition;return 1===o||2===o?this.FShowInsertButton?e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left-s-t,i.Top+(i.Bottom-i.Top-t)/2,i.Left-s,i.Top+(i.Bottom-i.Top-t)/2+t)):e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left,i.Top,i.Left,i.Bottom)):0!==o&&3!==o||(this.FShowInsertButton?e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left+(i.Right-i.Left-t)/2,i.Top-s-t,i.Left+(i.Right-i.Left-t)/2+t,i.Top-s)):e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left,i.Top,i.Right,i.Top))),e},this.GetScrollButtonNextRect=function(){var t,e=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=0;i.$assign(this.GetInsertButtonRect()),t=this.FButtonAppearance.FSize,s=this.FShowTabListButton||this.FShowCloseButton||this.FShowInsertButton?this.ScalePaintValue(6):this.ScalePaintValue(3);var o=this.FLayout.FPosition;return 1===o||2===o?this.FShowScrollButtons?e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left-s-t,i.Top+(i.Bottom-i.Top-t)/2,i.Left-s,i.Top+(i.Bottom-i.Top-t)/2+t)):e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left,i.Top,i.Left,i.Bottom)):0!==o&&3!==o||(this.FShowScrollButtons?e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left+(i.Right-i.Left-t)/2,i.Top-s-t,i.Left+(i.Right-i.Left-t)/2+t,i.Top-s)):e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left,i.Top,i.Right,i.Top))),e},this.GetScrollButtonPreviousRect=function(){var t,e=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=0;i.$assign(this.GetScrollButtonNextRect()),t=this.FButtonAppearance.FSize,s=this.FShowScrollButtons?this.ScalePaintValue(6):this.ScalePaintValue(3);var o=this.FLayout.FPosition;return 1===o||2===o?this.FShowScrollButtons?e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left-s-t,i.Top+(i.Bottom-i.Top-t)/2,i.Left-s,i.Top+(i.Bottom-i.Top-t)/2+t)):e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left,i.Top,i.Left,i.Bottom)):0!==o&&3!==o||(this.FShowScrollButtons?e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left+(i.Right-i.Left-t)/2,i.Top-s-t,i.Left+(i.Right-i.Left-t)/2+t,i.Top-s)):e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(i.Left,i.Top,i.Right,i.Top))),e},this.IsButtonStateDown=function(){return 2===this.FTabListButtonState||2===this.FInsertButtonState||2===this.FCloseButtonState||2===this.FScrollButtonPreviousState||2===this.FScrollButtonNextState},this.DragTabDisplay=function(){var e=t.TTMSFNCTabSetDisplayTab.$new();return e.$assign(this.FDragTabDisplay),e},this.IsButtonStateChanged=function(){return this.FTabListButtonState!==this.FPrevTabListButtonState||this.FInsertButtonState!==this.FPrevInsertButtonState||this.FCloseButtonState!==this.FPrevCloseButtonState||this.FScrollButtonPreviousState!==this.FPrevScrollButtonPreviousState||this.FScrollButtonNextState!==this.FPrevScrollButtonNextState},this.GetNextTab=function(t){var e=0,i=0,s=0;if(e=t,t<0)return e;for(i=t,s=1;s<this.FTabs.GetCount();){if((i+=1)>=this.FTabs.GetCount()&&(i=0),t!==i&&this.IsTabVisible(i)&&this.IsTabEnabled(i)){e=i;break}s+=1}return e},this.GetPreviousTab=function(t){var e=0,i=0,s=0;if(e=t,t<0)return e;for(i=t,s=1;s<this.FTabs.GetCount();){if((i-=1)>=this.FTabs.GetCount()&&(i=0),i<0&&(i=this.FTabs.GetCount()-1),t!==i&&this.IsTabVisible(i)&&this.IsTabEnabled(i)){e=i;break}s+=1}return e},this.GetDisplayTab=function(i){var s=t.TTMSFNCTabSetDisplayTab.$new(),o=0,n=t.TTMSFNCTabSetDisplayTab.$new();s.$assign(e.EmptyDisplayTab());for(var a=0,r=this.GetNormalDisplayCount()-1;a<=r;a++)if(o=a,n.$assign(this.FDisplayList.GetItem(o)),null!=n.Tab&&n.Tab.GetIndex()===i){s.$assign(n);break}return s},this.HandleInsertTab=function(t){var e=null,i=0,s=!1;return e=null,i=this.FTabs.GetCount(),s=!0,this.DoBeforeInsertTab({get:function(){return i},set:function(t){i=t}},{get:function(){return s},set:function(t){s=t}}),s&&((e=this.FTabs.Add$1()).SetIndex(i),this.DoInsertTab(i),t.set(!0)),e},this.GetInplaceEditorRect=function(t){var e=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),i=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,0,0)),null==t.Tab||(i.$assign(t.TextRect),pas["WEBLib.TMSFNCTypes"].InflateRectEx(i,2,0),e.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.Math.Floor(i.Left),pas.Math.Floor(i.Top),Math.round(i.Right),Math.round(i.Bottom))),null!=this.FOnGetInplaceEditorRect&&this.FOnGetInplaceEditorRect(this,t.Tab.GetIndex(),this.FInplaceEditor,e)),e},this.XYToAnchor=function(t,e,i){var s="",o=null,n=0,a=0,r=!1,l=0;if(s="",null==t.Tab)return s;if(t.Tab.IsHTML()){o=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("CreateBitmapCanvas",[1,1,this.FNativeCanvas,!0]),this.FNativeCanvas||o.BeginScene(),o.FBitmapContainer=this.GetBitmapContainer(),o.FOptimizedHTMLDrawing=this.FOptimizedHTMLDrawing;try{o.FFont.Assign(this.FTabAppearance.FFont),t.Tab.FUseDefaultAppearance?(r=this.FTabAppearance.FWordWrapping,l=this.FTabAppearance.FTrimming,n=this.FTabAppearance.FTextAlign):(r=t.Tab.FWordWrapping,l=t.Tab.FTrimming,n=t.Tab.FTextAlign),a=0;var h=this.FLayout.FPosition;1===h||2===h?s=o.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t.TextRect),t.Tab.FText,r,n,a,l,0,-1,-1,!0,!0,e,i):0===h?s=o.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t.TextRect),t.Tab.FText,r,n,a,l,-90,-1,-1,!0,!0,e,i):3===h&&(s=o.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t.TextRect),t.Tab.FText,r,n,a,l,90,-1,-1,!0,!0,e,i))}finally{this.FNativeCanvas||o.EndScene(),o=rtl.freeLoc(o)}}return s},this.SetBitmapContainer=function(t){this.FBitmapContainer=t,this.UpdateTabs(!1,!1)},this.PopupListSelected=function(e){var i=null;this.FTabListPopup.SetIsOpen(!1),this.FTabList.GetItemIndex()>=0&&this.FTabList.GetItemIndex()<=this.FTabList.GetCount()-1&&null!=(i=rtl.as(this.FTabList.FItems.GetObject(this.FTabList.GetItemIndex()),t.TTMSFNCTabSetTab))&&i.SetVisible(!0)},this.ApplyStyle=function(){var t=0,e=0,i=0,s=0;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.ApplyStyle.call(this),i=t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleBackgroundFillColor({get:function(){return t},set:function(e){t=e}})&&(i=t,this.FTabAppearance.FActiveFill.SetColor(t)),t=-1,e=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleSelectionFillColor({get:function(){return t},set:function(e){t=e}})&&(e=t=pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.GetColorRed(t),pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.GetColorGreen(t),pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.GetColorBlue(t)),this.FTabAppearance.FHoverFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Lighter(t,20)),this.FTabAppearance.FDownFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Darker(t,20)),this.FTabAppearance.FFill.SetColor(t),this.FTabAppearance.FBadgeFill.SetColor(t),this.FButtonAppearance.FHoverFill.SetColor(this.FTabAppearance.FHoverFill.FColor),this.FButtonAppearance.FDownFill.SetColor(this.FTabAppearance.FDownFill.FColor),this.FButtonAppearance.FFill.SetColor(this.FTabAppearance.FFill.FColor)),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleLineFillColor({get:function(){return t},set:function(e){t=e}})&&(this.FTabAppearance.FActiveStroke.SetColor(t),this.FTabAppearance.FStroke.SetColor(t),this.FTabAppearance.FHoverStroke.SetColor(t),this.FTabAppearance.FDownStroke.SetColor(t),this.FButtonAppearance.FStroke.SetColor(t),this.FButtonAppearance.FHoverStroke.SetColor(t),this.FButtonAppearance.FDownStroke.SetColor(t)),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleTextFontColor({get:function(){return t},set:function(e){t=e}})&&(i!==t?this.FTabAppearance.SetActiveTextColor(t):16777215===t?this.FTabAppearance.SetActiveTextColor(8421504):this.FTabAppearance.SetActiveTextColor(pas["WEBLib.TMSFNCGraphicsTypes"].Darker(t,40)),e!==t?this.FTabAppearance.SetDownTextColor(t):16777215===t?this.FTabAppearance.SetDownTextColor(8421504):this.FTabAppearance.SetDownTextColor(pas["WEBLib.TMSFNCGraphicsTypes"].Darker(t,40)),e!==t?this.FTabAppearance.SetHoverTextColor(t):16777215===t?this.FTabAppearance.SetHoverTextColor(8421504):this.FTabAppearance.SetHoverTextColor(pas["WEBLib.TMSFNCGraphicsTypes"].Darker(t,40)),e!==t?this.FTabAppearance.SetTextColor(t):16777215===t?this.FTabAppearance.SetTextColor(8421504):this.FTabAppearance.SetTextColor(pas["WEBLib.TMSFNCGraphicsTypes"].Darker(t,40)));for(var o=0,n=this.FTabs.GetCount()-1;o<=n;o++)s=o,this.FTabs.GetTab(s).SetUseDefaultAppearance(!0);null!=this.FInsertTab&&this.FInsertTab.SetUseDefaultAppearance(!0)},this.ResetToDefaultStyle=function(){var t=0;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.ResetToDefaultStyle.call(this),this.BeginUpdate(),this.FTabAppearance.FBadgeFill.SetColor(42495),this.FButtonAppearance.FHoverFill.SetColor(this.FTabAppearance.FHoverFill.FColor),this.FButtonAppearance.FDownFill.SetColor(this.FTabAppearance.FDownFill.FColor),this.FButtonAppearance.FFill.SetColor(this.FTabAppearance.FFill.FColor),this.FTabAppearance.FActiveStroke.SetColor(11119017),this.FTabAppearance.FStroke.SetColor(11119017),this.FTabAppearance.FHoverStroke.SetColor(11119017),this.FTabAppearance.FDownStroke.SetColor(11119017),this.FButtonAppearance.FStroke.SetColor(11119017),this.FButtonAppearance.FHoverStroke.SetColor(11119017),this.FButtonAppearance.FDownStroke.SetColor(11119017),this.FTabAppearance.FFill.SetColor(16578806),this.FTabAppearance.FHoverFill.SetColor(16380654),this.FTabAppearance.FDownFill.SetColor(15776936),this.FTabAppearance.FHoverStroke.SetColor(15702829),this.FTabAppearance.SetTextColor(8026746),this.FTabAppearance.SetActiveTextColor(4539717),this.FTabAppearance.FActiveFill.SetColor(16777215),this.FTabAppearance.SetHoverTextColor(this.FTabAppearance.FTextColor),this.FTabAppearance.SetDownTextColor(this.FTabAppearance.FActiveTextColor),this.FTabAppearance.FDownStroke.SetColor(this.FTabAppearance.FHoverStroke.FColor),this.FTabAppearance.FHoverFill.SetKind(1),this.FTabAppearance.FDownFill.SetKind(1),this.FTabAppearance.FActiveFill.SetKind(1),this.FTabAppearance.FFill.SetKind(1),this.FTabAppearance.SetShowFocus(!1);for(var e=0,i=this.FTabs.GetCount()-1;e<=i;e++)t=e,this.FTabs.GetTab(t).SetUseDefaultAppearance(!0);null!=this.FInsertTab&&this.FInsertTab.SetUseDefaultAppearance(!1),this.EndUpdate()},this.DoInvalidate=function(){},this.InitializeInvisibleTabs=function(){var t=0,e=null;this.FInvisibleTabList.Clear();for(var i=0,s=this.FTabs.GetCount()-1;i<=s;i++)t=i,(e=this.FTabs.GetTab(t)).FVisible||this.FInvisibleTabList.Add(e)},this.InitializeScrollButtonState=function(){this.FInteraction.FSelectTabOnScroll?(this.FScrollButtonPreviousDisabled=this.GetActiveTabIndex()===this.GetFirstScrollableTabIndex()||-1===this.GetActiveTabIndex(),this.FScrollButtonNextDisabled=this.GetActiveTabIndex()===this.GetLastScrollableTabIndex()||-1===this.GetActiveTabIndex()):(this.FScrollButtonPreviousDisabled=0===this.FStartTab,this.FScrollButtonNextDisabled=this.FScrollCount-this.FStartTab==0)},this.FillTabList=function(){var t=0;this.FTabList.SetParent(this),this.FTabList.FItems.Clear();for(var e=0,i=this.FInvisibleTabList.GetCount()-1;e<=i;e++)t=e,this.FTabList.FItems.AddObject(this.FInvisibleTabList.GetItem(t).GetFriendlyName(),this.FInvisibleTabList.GetItem(t));this.FTabList.SetParent(null)},this.SaveButtonState=function(){this.FPrevTabListButtonState=this.FTabListButtonState,this.FPrevCloseButtonState=this.FCloseButtonState,this.FPrevScrollButtonPreviousState=this.FScrollButtonPreviousState,this.FPrevScrollButtonNextState=this.FScrollButtonNextState,this.FPrevInsertButtonState=this.FInsertButtonState},this.ClearButtonState=function(){this.FTabListButtonState=0,this.FCloseButtonState=0,this.FScrollButtonPreviousState=0,this.FScrollButtonNextState=0,this.FInsertButtonState=0},this.HandleButtonDownState=function(t,e){this.XYToScrollPreviousButton(t,e)?this.FScrollButtonPreviousState=2:this.XYToScrollNextButton(t,e)?this.FScrollButtonNextState=2:this.XYToCloseButton(t,e)?this.FCloseButtonState=2:this.XYToInsertButton(t,e)?this.FInsertButtonState=2:this.XYToTabListButton(t,e)&&(this.FTabListButtonState=2)},this.HandleButtonHoverState=function(t,e){this.XYToScrollPreviousButton(t,e)?this.FScrollButtonPreviousState=1:this.XYToScrollNextButton(t,e)?this.FScrollButtonNextState=1:this.XYToCloseButton(t,e)?this.FCloseButtonState=1:this.XYToInsertButton(t,e)?this.FInsertButtonState=1:this.XYToTabListButton(t,e)&&(this.FTabListButtonState=1)},this.InitializeMenu=function(){this.FMenuSize=0,this.FShowCloseButton=2===this.FOptions.FCloseMode,this.FShowInsertButton=2===this.FOptions.FInsertMode,this.FShowTabListButton=this.GetInvisibleTabCount()>0&&this.FOptions.FTabListButton,this.FShowTabListButton&&(this.FMenuSize=this.FMenuSize+this.FButtonAppearance.FSize+8,this.FShowMenu=!0),this.FShowCloseButton&&(this.FMenuSize=this.FMenuSize+this.FButtonAppearance.FSize+8,this.FShowMenu=!0),this.FShowInsertButton&&(this.FMenuSize=this.FMenuSize+this.FButtonAppearance.FSize+8,this.FShowMenu=!0),this.FShowScrollButtons&&(this.FMenuSize=this.FMenuSize+2*(this.FButtonAppearance.FSize+8),this.FShowMenu=!0)},this.StartProgressAnimationTimer=function(){this.FAnimTimer.SetEnabled(!this.IsDesignTime())},this.Notification=function(t,e){pas["WEBLib.Menus"].TWebCustomControl.Notification.apply(this,arguments),1===e&&t===this.FBitmapContainer&&(this.FBitmapContainer=null)},this.CalculateRects=function(t){var e=pas["WEBLib.TMSFNCTypes"].TRectF.$new();e.$assign(t.Rect);var i=this.FLayout.FPosition;if(1===i||2===i){var s=this.FTabAppearance.FShape;0===s?t.ContentRect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left+this.FTabAppearance.FShapeOverlap,e.Top,e.Right,e.Bottom)):1===s?t.ContentRect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left+this.FTabAppearance.FShapeSlope,e.Top,e.Right,e.Bottom)):2===s?t.First||this.FActiveTab===t.Tab?t.ContentRect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left,e.Top,e.Right-this.FTabAppearance.FShapeSlope,e.Bottom)):t.ContentRect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left+this.FTabAppearance.FShapeSlope/2,e.Top,e.Right-this.FTabAppearance.FShapeSlope,e.Bottom)):3===s?t.ContentRect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left+this.FTabAppearance.FShapeSlope,e.Top,e.Right-this.FTabAppearance.FShapeSlope,e.Bottom)):4===s?t.ContentRect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left+this.FTabAppearance.FShapeSlope/2,e.Top,e.Right,e.Bottom)):5===s?t.First||this.FActiveTab===t.Tab?t.ContentRect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left,e.Top,e.Right-this.FTabAppearance.FShapeSlope/2,e.Bottom)):t.ContentRect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left+this.FTabAppearance.FShapeSlope/2,e.Top,e.Right-this.FTabAppearance.FShapeSlope/2,e.Bottom)):6===s&&t.ContentRect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left+this.FTabAppearance.FShapeSlope/2,e.Top,e.Right-this.FTabAppearance.FShapeSlope/2,e.Bottom))}else if(0===i||3===i){var o=this.FTabAppearance.FShape;0===o?t.ContentRect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left,e.Top+this.FTabAppearance.FShapeOverlap,e.Right,e.Bottom)):1===o?t.ContentRect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left,e.Top+this.FTabAppearance.FShapeSlope,e.Right,e.Bottom)):2===o?t.First||this.FActiveTab===t.Tab?t.ContentRect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left,e.Top,e.Right,e.Bottom-this.FTabAppearance.FShapeSlope)):t.ContentRect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left,e.Top+this.FTabAppearance.FShapeSlope/2,e.Right,e.Bottom-this.FTabAppearance.FShapeSlope)):3===o?t.ContentRect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left,e.Top+this.FTabAppearance.FShapeSlope,e.Right,e.Bottom-this.FTabAppearance.FShapeSlope)):4===o?t.ContentRect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left,e.Top+this.FTabAppearance.FShapeSlope/2,e.Right,e.Bottom)):5===o?t.First||this.FActiveTab===t.Tab?t.ContentRect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left,e.Top,e.Right,e.Bottom-this.FTabAppearance.FShapeSlope/2)):t.ContentRect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left,e.Top+this.FTabAppearance.FShapeSlope/2,e.Right,e.Bottom-this.FTabAppearance.FShapeSlope/2)):6===o&&t.ContentRect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left,e.Top+this.FTabAppearance.FShapeSlope/2,e.Right,e.Bottom-this.FTabAppearance.FShapeSlope/2))}t.ProgressRect.$assign(t.Tab.GetProgressRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t.ContentRect))),t.BitmapRect.$assign(t.Tab.GetBitmapRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t.ContentRect))),t.TextRect.$assign(t.Tab.GetTextRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t.ContentRect))),t.CloseButtonRect.$assign(t.Tab.GetCloseButtonRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t.ContentRect)))},this.FixStartTab=function(){var e=t.TTMSFNCTabSetDisplayTab.$new(),i=t.TTMSFNCTabSetDisplayTab.$new(),s=0,o=0,n=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),a=0,r=0;if(this.FDisplayList.GetCount()>0&&this.FStartTab>0&&2!==this.FTabSize.FMode&&this.FAllowScrolling&&0===this.FLayout.FMultiline&&this.FScrollCount>0&&this.FLastTabIndex===this.GetLastScrollableTabIndex()&&(i.$assign(this.FDisplayList.GetItem(this.FDisplayList.GetCount()-1)),e.$assign(this.FDisplayList.GetItem(0)),null!=i.Tab&&null!=e.Tab&&(a=this.GetPreviousTab(e.Tab.GetIndex()))>=0&&a<=this.FTabs.GetCount()-1)){n.$assign(this.GetTabRect()),o=this.GetTabSize(a);var l=this.FLayout.FPosition;1===l||2===l?(s=i.Rect.Right+o+this.FTabSize.FSpacing-this.FTabAppearance.FShapeOverlap,1===this.FOptions.FInsertMode?s+=this.GetAdditionalTabSpacing():s+=5,r=n.Right):0===l||3===l?(s=i.Rect.Bottom+o+this.FTabSize.FSpacing-this.FTabAppearance.FShapeOverlap,1===this.FOptions.FInsertMode?s+=this.GetAdditionalTabSpacing():s+=5,r=n.Bottom):(s=0,r=0),s<r&&(this.FStartTab-=1,this.FStartTab=Math.max(0,this.FStartTab),this.UpdateTabs(!1,!1))}},this.UpdateTabs=function(e,i){var s,o,n=0,a=t.TTMSFNCTabSetDisplayTab.$new(),r=t.TTMSFNCTabSetDisplayTab.$new(),l=0,h=0,F=0,p=0,C=0,u=0,d=0,c=0,S=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),T=0,m=0,g=0,M=0,f=0,b=0,y=0,B=0,E=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(!this.FTabChanging&&(this.FDisplayList.Clear(),this.FInvisibleTabList.Clear(),i||!(this.FUpdateCount$1>0||3 in this.FComponentState)))if(this.FShowMenu=!1,e||(this.FShowScrollButtons=!1),this.InitializeMenu(),0!==this.FTabs.GetCount()){S.$assign(this.GetTabRect()),l=S.Left,h=S.Top,T=0,b=0;var L=this.FLayout.FPosition;1===L||2===L?(C=this.FTabSize.FWidth,u=S.Bottom-S.Top):0===L||3===L?(C=S.Right-S.Left,u=this.FTabSize.FWidth):(C=0,u=0),s=this.GetVisibleTabCount();var D=this.FTabSize.FMode;if(0===D){var N=this.FLayout.FPosition;if(1===N||2===N){if((F=s>0?(S.Right-S.Left+(s-1)*this.FTabAppearance.FShapeOverlap-(s-1)*this.FTabSize.FSpacing-this.GetAdditionalTabSpacing())/s:0)>0)for(var A=0,G=this.FTabs.GetCount()-1;A<=G;A++)n=A,this.IsTabVisible(n)&&(a.First=!1,a.Last=!1,a.Tab=this.FTabs.GetTab(n),a.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(l,h,l+F,h+u)),a.Row=0,this.FDisplayList.Add(t.TTMSFNCTabSetDisplayTab.$clone(a)),l=l+F+this.FTabSize.FSpacing-this.FTabAppearance.FShapeOverlap);1===this.FOptions.FInsertMode&&(r.Tab=this.FInsertTab,r.TabKind=1,r.First=!1,r.Last=!1,r.Row=0,this.FDisplayList.GetCount()>0?r.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(l+5+this.FTabAppearance.FShapeOverlap,h,l+5+this.FTabAppearance.FShapeOverlap+this.FTabAppearance.FInsertSize,h+u)):r.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(l+5,h,l+5+this.FTabAppearance.FInsertSize,h+u)),this.FDisplayList.Add(t.TTMSFNCTabSetDisplayTab.$clone(r)))}else if(0===N||3===N){if((p=s>0?(S.Bottom-S.Top+(s-1)*this.FTabAppearance.FShapeOverlap-(s-1)*this.FTabSize.FSpacing-this.GetAdditionalTabSpacing())/s:0)>0)for(var P=0,R=this.FTabs.GetCount()-1;P<=R;P++)n=P,this.IsTabVisible(n)&&(a.First=!1,a.Last=!1,a.Tab=this.FTabs.GetTab(n),a.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(l,h,l+C,h+p)),a.Row=0,this.FDisplayList.Add(t.TTMSFNCTabSetDisplayTab.$clone(a)),h=h+p+this.FTabSize.FSpacing-this.FTabAppearance.FShapeOverlap);1===this.FOptions.FInsertMode&&(r.Tab=this.FInsertTab,r.TabKind=1,r.First=!1,r.Last=!1,r.Row=0,this.FDisplayList.GetCount()>0?r.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(l,h+5+this.FTabAppearance.FShapeOverlap,l+C,h+5+this.FTabAppearance.FShapeOverlap+this.FTabAppearance.FInsertSize)):r.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(l,h+5,l+C,h+5+this.FTabAppearance.FInsertSize)),this.FDisplayList.Add(t.TTMSFNCTabSetDisplayTab.$clone(r)))}}else if(1===D||2===D||3===D){c=0,2!==this.FTabSize.FMode&&this.FAllowScrolling&&0===this.FLayout.FMultiline&&(c=this.FStartTab),y=this.FTabs.GetCount(),1===this.FOptions.FInsertMode&&(y+=1);for(var W=c,v=y-1;W<=v;W++)if((n=W)<=this.FTabs.GetCount()-1&&this.IsTabVisible(n)||n>this.FTabs.GetCount()-1){var I=this.FLayout.FPosition;if(1===I||2===I){if((F=this.GetTabSize(n))>0)if(n===y-1&&1===this.FOptions.FInsertMode?(a.Tab=this.FInsertTab,a.TabKind=1,a.First=!1,a.Last=!1,a.Row=T,this.FDisplayList.GetCount()>0?(a.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(l+5+this.FTabAppearance.FShapeOverlap,h,l+5+this.FTabAppearance.FShapeOverlap+F,h+u)),m=l+F+5+this.FTabAppearance.FShapeOverlap):(a.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(l+5,h,l+5+F,h+u)),m=l+F+5),this.FDisplayList.Add(t.TTMSFNCTabSetDisplayTab.$clone(a))):(a.First=0===this.FDisplayList.GetCount(),a.Last=!1,a.Tab=this.FTabs.GetTab(n),a.Row=T,a.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(l,h,l+F,h+u)),n===this.GetActiveTabIndex()&&(b=T),this.FDisplayList.Add(t.TTMSFNCTabSetDisplayTab.$clone(a)),m=l+F+this.FTabSize.FSpacing,1===this.FOptions.FInsertMode&&n===y-2&&(m=m+this.FTabAppearance.FInsertSize+5)),M=S.Right,1===this.FOptions.FInsertMode?M-=this.GetAdditionalTabSpacing():M-=5,m>M&&this.FAllowScrolling&&this.FDisplayList.GetCount()>1&&(n<y-1&&1===this.FOptions.FInsertMode||1!==this.FOptions.FInsertMode)){if(T+=1,2===this.FTabSize.FMode||0===this.FLayout.FMultiline){this.FDisplayList.Remove(t.TTMSFNCTabSetDisplayTab.$clone(a));break}l=S.Left;var w=this.FLayout.FPosition;1===w?h+=u:2===w&&(h-=u),a.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(l,h,l+F,h+u)),a.First=!0,a.Row=T,n===this.GetActiveTabIndex()&&(b=T),this.FDisplayList.SetItem(this.FDisplayList.GetCount()-1,a),this.FDisplayList.GetCount()>1&&(a.$assign(this.FDisplayList.GetItem(this.FDisplayList.GetCount()-2)),a.Last=!0,this.FDisplayList.SetItem(this.FDisplayList.GetCount()-2,a)),l=m=l+F+this.FTabSize.FSpacing-this.FTabAppearance.FShapeOverlap}else 1===this.FOptions.FInsertMode&&n===y-2&&(m=m-this.FTabAppearance.FInsertSize-5),l=m-this.FTabAppearance.FShapeOverlap}else if((0===I||3===I)&&(p=this.GetTabSize(n))>0)if(n===y-1&&1===this.FOptions.FInsertMode?(a.Tab=this.FInsertTab,a.TabKind=1,a.First=!1,a.Last=!1,a.Row=T,this.FDisplayList.GetCount()>0?(a.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(l,h+5+this.FTabAppearance.FShapeOverlap,l+C,h+5+this.FTabAppearance.FShapeOverlap+p)),g=h+p+5+this.FTabAppearance.FShapeOverlap):(a.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(l,h+5,l+C,h+5+p)),g=h+p+5),this.FDisplayList.Add(t.TTMSFNCTabSetDisplayTab.$clone(a))):(a.First=0===this.FDisplayList.GetCount(),a.Last=!1,a.Tab=this.FTabs.GetTab(n),a.Row=T,a.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(l,h,l+C,h+p)),n===this.GetActiveTabIndex()&&(b=T),this.FDisplayList.Add(t.TTMSFNCTabSetDisplayTab.$clone(a)),g=h+p+this.FTabSize.FSpacing,1===this.FOptions.FInsertMode&&n===y-2&&(g=g+this.FTabAppearance.FInsertSize+5)),f=S.Bottom,1===this.FOptions.FInsertMode?f-=this.GetAdditionalTabSpacing():f-=5,g>f&&this.FAllowScrolling&&this.FDisplayList.GetCount()>1&&(n<y-1&&1===this.FOptions.FInsertMode||1!==this.FOptions.FInsertMode)){if(T+=1,2===this.FTabSize.FMode||0===this.FLayout.FMultiline){this.FDisplayList.Remove(t.TTMSFNCTabSetDisplayTab.$clone(a));break}h=S.Top;var O=this.FLayout.FPosition;0===O?l+=C:3===O&&(l-=C),a.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(l,h,l+C,h+p)),a.First=!0,a.Row=T,n===this.GetActiveTabIndex()&&(b=T),this.FDisplayList.SetItem(this.FDisplayList.GetCount()-1,a),this.FDisplayList.GetCount()>1&&(a.$assign(this.FDisplayList.GetItem(this.FDisplayList.GetCount()-2)),a.Last=!0,this.FDisplayList.SetItem(this.FDisplayList.GetCount()-2,a)),h=g=h+p+this.FTabSize.FSpacing-this.FTabAppearance.FShapeOverlap}else 1===this.FOptions.FInsertMode&&n===y-2&&(g=g-this.FTabAppearance.FInsertSize-5),h=g-this.FTabAppearance.FShapeOverlap}if(T+this.FStartTab>0&&this.GetDisplayCount()>0)if(2===this.FTabSize.FMode){l=S.Left,h=S.Top,this.FDisplayList.Clear();var $=this.FLayout.FPosition;if(1===$||2===$){if((F=s>0?(S.Right-S.Left+(s-1)*this.FTabAppearance.FShapeOverlap-(s-1)*this.FTabSize.FSpacing-this.GetAdditionalTabSpacing())/s:0)>0)for(var x=0,k=this.FTabs.GetCount()-1;x<=k;x++)n=x,this.IsTabVisible(n)&&(a.First=!1,a.Last=!1,a.Tab=this.FTabs.GetTab(n),a.Row=0,a.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(l,h,l+F,h+u)),this.FDisplayList.Add(t.TTMSFNCTabSetDisplayTab.$clone(a)),l=l+F+this.FTabSize.FSpacing-this.FTabAppearance.FShapeOverlap);1===this.FOptions.FInsertMode&&(r.Tab=this.FInsertTab,r.TabKind=1,r.First=!1,r.Last=!1,r.Row=0,this.FDisplayList.GetCount()>0?r.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(l+5+this.FTabAppearance.FShapeOverlap,h,l+5+this.FTabAppearance.FShapeOverlap+this.FTabAppearance.FInsertSize,h+u)):r.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(l+5,h,l+5+this.FTabAppearance.FInsertSize,h+u)),this.FDisplayList.Add(t.TTMSFNCTabSetDisplayTab.$clone(r)))}else if(0===$||3===$){if((p=s>0?(S.Bottom-S.Top+(s-1)*this.FTabAppearance.FShapeOverlap-(s-1)*this.FTabSize.FSpacing-this.GetAdditionalTabSpacing())/s:0)>0)for(var _=0,H=this.FTabs.GetCount()-1;_<=H;_++)n=_,this.IsTabVisible(n)&&(a.First=!1,a.Last=!1,a.Tab=this.FTabs.GetTab(n),a.Row=0,a.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(l,h,l+C,h+p)),this.FDisplayList.Add(t.TTMSFNCTabSetDisplayTab.$clone(a)),h=h+p+this.FTabSize.FSpacing-this.FTabAppearance.FShapeOverlap);1===this.FOptions.FInsertMode&&(r.Tab=this.FInsertTab,r.TabKind=1,r.First=!1,r.Last=!1,r.Row=0,this.FDisplayList.GetCount()>0?r.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(l,h+5+this.FTabAppearance.FShapeOverlap,l+C,h+5+this.FTabAppearance.FShapeOverlap+this.FTabAppearance.FInsertSize)):r.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(l,h+5,l+C,h+5+this.FTabAppearance.FInsertSize)),this.FDisplayList.Add(t.TTMSFNCTabSetDisplayTab.$clone(r)))}}else if(0===this.FLayout.FMultiline)if(!this.FShowScrollButtons&&this.FAllowScrolling)this.FShowScrollButtons=!0,this.UpdateTabs(!0,i);else if(1===this.FOptions.FInsertMode&&T>0){var U=this.FLayout.FPosition;1===U||2===U?(r.Tab=this.FInsertTab,r.TabKind=1,r.First=!1,r.Last=!1,r.Row=T,a.$assign(this.FDisplayList.GetItem(this.FDisplayList.GetCount()-1)),r.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(a.Rect.Right+5,a.Rect.Top,a.Rect.Right+5+this.FTabAppearance.FInsertSize,a.Rect.Top+u)),this.FDisplayList.Add(t.TTMSFNCTabSetDisplayTab.$clone(r))):0!==U&&3!==U||(r.Tab=this.FInsertTab,r.TabKind=1,r.First=!1,r.Last=!1,r.Row=T,a.$assign(this.FDisplayList.GetItem(this.FDisplayList.GetCount()-1)),r.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(a.Rect.Left,a.Rect.Bottom+5,a.Rect.Left+C,a.Rect.Bottom+5+this.FTabAppearance.FInsertSize)),this.FDisplayList.Add(t.TTMSFNCTabSetDisplayTab.$clone(r)))}}o=T>0&&2===this.FLayout.FMultiline&&-1!==this.GetActiveTabIndex()&&(1===this.FTabSize.FMode||3===this.FTabSize.FMode);for(var V=0,z=this.GetNormalDisplayCount()-1;V<=z;V++){if(n=V,a.$assign(this.FDisplayList.GetItem(n)),a.Index=n,a.TabKind=0,0===n&&(a.First=!0,null!=a.Tab&&(this.FFirstTabIndex=a.Tab.GetIndex())),n===this.GetNormalDisplayCount()-1&&(a.Last=!0,null!=a.Tab&&(this.FLastTabIndex=a.Tab.GetIndex())),o){B=0;var K=this.FLayout.FPosition;d=0===K||3===K?C:1===K||2===K?u:0,a.Row===b?B=(T-b)*d:a.Row>b&&(B=-d);var j=this.FLayout.FPosition;0===j?a.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(a.Rect.Left+B,a.Rect.Top,a.Rect.Right+B,a.Rect.Bottom)):1===j?a.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(a.Rect.Left,a.Rect.Top+B,a.Rect.Right,a.Rect.Bottom+B)):2===j?a.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(a.Rect.Left,a.Rect.Top-B,a.Rect.Right,a.Rect.Bottom-B)):3===j&&a.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(a.Rect.Left-B,a.Rect.Top,a.Rect.Right-B,a.Rect.Bottom))}this.CalculateRects(a),this.FDisplayList.SetItem(n,a)}if(1===this.FOptions.FInsertMode&&this.FDisplayList.GetCount()>0&&(r.$assign(this.FDisplayList.GetItem(this.FDisplayList.GetCount()-1)),null!=r.Tab)){E.$assign(r.Rect);var Y=this.FLayout.FPosition;if(0===Y||3===Y?r.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(E.Left+(E.Right-E.Left-this.FTabAppearance.FInsertSize)/2,E.Top,E.Left+(E.Right-E.Left-this.FTabAppearance.FInsertSize)/2+this.FTabAppearance.FInsertSize,E.Bottom)):1!==Y&&2!==Y||r.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(E.Left,E.Top+(E.Bottom-E.Top-this.FTabAppearance.FInsertSize)/2,E.Right,E.Top+(E.Bottom-E.Top-this.FTabAppearance.FInsertSize)/2+this.FTabAppearance.FInsertSize)),o){B=0;var q=this.FLayout.FPosition;d=0===q||3===q?C:1===q||2===q?u:0,a.Row===b?B=(T-b)*d:a.Row>b&&(B=-d);var X=this.FLayout.FPosition;0===X?r.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(r.Rect.Left+B,r.Rect.Top,r.Rect.Right+B,r.Rect.Bottom)):1===X?r.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(r.Rect.Left,r.Rect.Top+B,r.Rect.Right,r.Rect.Bottom+B)):2===X?r.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(r.Rect.Left,r.Rect.Top-B,r.Rect.Right,r.Rect.Bottom-B)):3===X&&r.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(r.Rect.Left-B,r.Rect.Top,r.Rect.Right-B,r.Rect.Bottom))}E.$assign(r.Rect),r.BitmapRect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.Math.Floor(E.Left),pas.Math.Floor(E.Top),pas.Math.Floor(E.Right),pas.Math.Floor(E.Bottom))),this.FDisplayList.SetItem(this.FDisplayList.GetCount()-1,r)}this.FActiveTabIndex>=0&&this.FActiveTabIndex<=this.FTabs.GetCount()-1?this.FActiveTab=this.FTabs.GetTab(this.FActiveTabIndex):this.FActiveTab=null,this.FScrollCount=0,2!==this.FTabSize.FMode&&0===this.FLayout.FMultiline&&this.FAllowScrolling&&(this.FScrollCount=this.FTabs.GetCount()-this.GetNormalDisplayCount()-this.GetInvisibleTabCountForScrolling()),this.InitializeScrollButtonState(),this.InitializeInvisibleTabs(),this.StartProgressAnimationTimer(),this.FixStartTab(),0!==this.FLayout.FMultiline&&this.FTabSize.FMode in rtl.createSet(1,3)?this.FTotalTabHeight=(T+1)*this.FTabSize.FHeight:this.FTotalTabHeight=this.FTabSize.FHeight,this.Invalidate()}else this.Invalidate()},this.DoBeforeDrawMenuButton=function(t,e,i,s,o){null!=this.FOnBeforeDrawMenuButton&&this.FOnBeforeDrawMenuButton(this,t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i,s,o)},this.DoAfterDrawMenuButton=function(t,e,i,s){null!=this.FOnAfterDrawMenuButton&&this.FOnAfterDrawMenuButton(this,t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i,s)},this.DoBeforeDrawTabBackground=function(t,e,i,s,o){null!=this.FOnBeforeDrawTabBackground&&this.FOnBeforeDrawTabBackground(this,t,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),s,o)},this.DoBeforeDrawTabProgress=function(t,e,i,s,o,n,a,r,l,h){null!=this.FOnBeforeDrawTabProgress&&this.FOnBeforeDrawTabProgress(this,t,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),s,o,n,a,r,l,h)},this.DoBeforeDrawTabBadge=function(t,e,i,s,o){null!=this.FOnBeforeDrawTabBadge&&this.FOnBeforeDrawTabBadge(this,t,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),s,o)},this.DoBeforeDrawTabText=function(t,e,i,s,o){null!=this.FOnBeforeDrawTabText&&this.FOnBeforeDrawTabText(this,t,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),s,o)},this.DoBeforeDrawTabCloseButton=function(t,e,i,s,o){null!=this.FOnBeforeDrawTabCloseButton&&this.FOnBeforeDrawTabCloseButton(this,t,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),s,o)},this.DoBeforeDrawTabBitmap=function(t,e,i,s){null!=this.FOnBeforeDrawTabBitmap&&this.FOnBeforeDrawTabBitmap(this,t,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),s)},this.DoAfterDrawTabBackground=function(t,e,i,s){null!=this.FOnAfterDrawTabBackground&&this.FOnAfterDrawTabBackground(this,t,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),s)},this.DoAfterDrawTabProgress=function(t,e,i,s,o,n,a,r,l){null!=this.FOnAfterDrawTabProgress&&this.FOnAfterDrawTabProgress(this,t,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),s,o,n,a,r,l)},this.DoAfterDrawTabBadge=function(t,e,i,s){null!=this.FOnAfterDrawTabBadge&&this.FOnAfterDrawTabBadge(this,t,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),s)},this.DoAfterDrawTabText=function(t,e,i,s){null!=this.FOnAfterDrawTabText&&this.FOnAfterDrawTabText(this,t,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),s)},this.DoAfterDrawTabCloseButton=function(t,e,i,s){null!=this.FOnAfterDrawTabCloseButton&&this.FOnAfterDrawTabCloseButton(this,t,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),s)},this.DoAfterDrawTabBitmap=function(t,e,i){null!=this.FOnAfterDrawTabBitmap&&this.FOnAfterDrawTabBitmap(this,t,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i))},this.DoBeforeChangeTab=function(t,e,i){null!=this.FOnBeforeChangeTab&&this.FOnBeforeChangeTab(this,t,e,i)},this.DoChangeTab=function(t,e){null!=this.FOnChangeTab&&this.FOnChangeTab(this,t,e)},this.DoBeforeReorderTab=function(t,e,i){null!=this.FOnBeforeReorderTab&&this.FOnBeforeReorderTab(this,t,e,i)},this.DoReorderTab=function(t,e){null!=this.FOnReorderTab&&this.FOnReorderTab(this,t,e)},this.DoBeforeCloseTab=function(t,e){null!=this.FOnBeforeCloseTab&&this.FOnBeforeCloseTab(this,t,e)},this.DoCloseTab=function(t,e){null!=this.FOnCloseTab&&this.FOnCloseTab(this,t,e)},this.DoBeforeInsertTab=function(t,e){null!=this.FOnBeforeInsertTab&&this.FOnBeforeInsertTab(this,t,e)},this.DoInsertTab=function(t){null!=this.FOnInsertTab&&this.FOnInsertTab(this,t)},this.DoAnchorTabClick=function(t,e){this.FInteraction.FAutoOpenURL?pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.OpenURL(e):null!=this.FOnAnchorTabClick&&this.FOnAnchorTabClick(this,t,e)},this.Draw=function(t,e){var i=null,s=pas["WEBLib.TMSFNCTypes"].TRectF.$new();pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Draw.apply(this,arguments),i=t.SaveState(!1),this.DrawCustom(t),s.$assign(this.GetLocalRect()),pas["WEBLib.TMSFNCTypes"].InflateRectEx(s,-1,-1),t.ClipRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s)),t.FBitmapContainer=this.GetBitmapContainer(),this.DrawTabs(t),this.DrawBadges(t),this.DrawMenu(t),t.RestoreState(i,!1)},this.DrawTabs=function(i){var s=0,o=t.TTMSFNCTabSetDisplayTab.$new(),n=t.TTMSFNCTabSetDisplayTab.$new(),a=null;n.$assign(e.EmptyDisplayTab());for(var r=this.GetDisplayCount()-1;r>=0;r--)if(s=r,o.$assign(this.FDisplayList.GetItem(s)),null!=(a=o.Tab))if(a===this.FActiveTab)n.$assign(o);else{if(a===this.FDragTab)continue;a.Draw(i,t.TTMSFNCTabSetDisplayTab.$clone(o))}null!=this.FActiveTab&&this.FActiveTab!==this.FDragTab&&null!=n.Tab&&this.FActiveTab.Draw(i,t.TTMSFNCTabSetDisplayTab.$clone(n)),null!=this.FDragTab&&null!=this.FDragTabDisplay.Tab&&this.FDragTab.Draw(i,t.TTMSFNCTabSetDisplayTab.$clone(this.FDragTabDisplay))},this.DrawCustom=function(t){},this.DrawBadges=function(e){for(var i=0,s=t.TTMSFNCTabSetDisplayTab.$new(),o=null,n=this.GetDisplayCount()-1;n>=0;n--)i=n,s.$assign(this.FDisplayList.GetItem(i)),null!=(o=s.Tab)&&o.DrawBadge(e,t.TTMSFNCTabSetDisplayTab.$clone(s))},this.DrawMenu=function(t){var e=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),i=null,s=!1;if(this.FShowTabListButton){var o=this.FTabListButtonState;0===o?(t.FFill.Assign(this.FButtonAppearance.FFill),t.FStroke.Assign(this.FButtonAppearance.FStroke)):1===o?(t.FFill.Assign(this.FButtonAppearance.FHoverFill),t.FStroke.Assign(this.FButtonAppearance.FHoverStroke)):2===o&&(t.FFill.Assign(this.FButtonAppearance.FDownFill),t.FStroke.Assign(this.FButtonAppearance.FDownStroke)),e.$assign(this.GetTabListButtonRect()),s=!0,this.DoBeforeDrawMenuButton(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),2,this.FTabListButtonState,{get:function(){return s},set:function(t){s=t}}),s&&(t.DrawRoundRectangle$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),this.FButtonAppearance.FRounding,rtl.createSet(0,1,2,3),2),null!=(i=this.FButtonAppearance.FTabListIcon)&&t.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i,!0,!1,!0,!1),this.DoAfterDrawMenuButton(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),2,this.FTabListButtonState))}if(this.FShowCloseButton){var n=this.FCloseButtonState;0===n?(t.FFill.Assign(this.FButtonAppearance.FFill),t.FStroke.Assign(this.FButtonAppearance.FStroke)):1===n?(t.FFill.Assign(this.FButtonAppearance.FHoverFill),t.FStroke.Assign(this.FButtonAppearance.FHoverStroke)):2===n&&(t.FFill.Assign(this.FButtonAppearance.FDownFill),t.FStroke.Assign(this.FButtonAppearance.FDownStroke)),e.$assign(this.GetCloseButtonRect()),s=!0,this.DoBeforeDrawMenuButton(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),0,this.FCloseButtonState,{get:function(){return s},set:function(t){s=t}}),s&&(t.DrawRoundRectangle$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),this.FButtonAppearance.FRounding,rtl.createSet(0,1,2,3),2),null!=(i=this.FButtonAppearance.FCloseIcon)&&t.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i,!0,!1,!0,!1),this.DoAfterDrawMenuButton(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),0,this.FCloseButtonState))}if(this.FShowInsertButton){var a=this.FInsertButtonState;0===a?(t.FFill.Assign(this.FButtonAppearance.FFill),t.FStroke.Assign(this.FButtonAppearance.FStroke)):1===a?(t.FFill.Assign(this.FButtonAppearance.FHoverFill),t.FStroke.Assign(this.FButtonAppearance.FHoverStroke)):2===a&&(t.FFill.Assign(this.FButtonAppearance.FDownFill),t.FStroke.Assign(this.FButtonAppearance.FDownStroke)),e.$assign(this.GetInsertButtonRect()),s=!0,this.DoBeforeDrawMenuButton(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),1,this.FInsertButtonState,{get:function(){return s},set:function(t){s=t}}),s&&(t.DrawRoundRectangle$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),this.FButtonAppearance.FRounding,rtl.createSet(0,1,2,3),2),null!=(i=this.FButtonAppearance.FInsertIcon)&&t.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i,!0,!1,!0,!1),this.DoAfterDrawMenuButton(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),1,this.FInsertButtonState))}if(this.FShowScrollButtons){if(this.FScrollButtonPreviousDisabled)t.FFill.Assign(this.FButtonAppearance.FDisabledFill),t.FStroke.Assign(this.FButtonAppearance.FDisabledStroke);else{var r=this.FScrollButtonPreviousState;0===r?(t.FFill.Assign(this.FButtonAppearance.FFill),t.FStroke.Assign(this.FButtonAppearance.FStroke)):1===r?(t.FFill.Assign(this.FButtonAppearance.FHoverFill),t.FStroke.Assign(this.FButtonAppearance.FHoverStroke)):2===r&&(t.FFill.Assign(this.FButtonAppearance.FDownFill),t.FStroke.Assign(this.FButtonAppearance.FDownStroke))}if(e.$assign(this.GetScrollButtonPreviousRect()),s=!0,this.FScrollButtonPreviousDisabled?this.DoBeforeDrawMenuButton(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),3,3,{get:function(){return s},set:function(t){s=t}}):this.DoBeforeDrawMenuButton(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),3,this.FScrollButtonPreviousState,{get:function(){return s},set:function(t){s=t}}),s&&(t.DrawRoundRectangle$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),this.FButtonAppearance.FRounding,rtl.createSet(0,1,2,3),2),null!=(i=this.FButtonAppearance.FScrollPreviousIcon)&&t.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i,!0,!1,!0,!1),this.FScrollButtonPreviousDisabled?this.DoAfterDrawMenuButton(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),3,3):this.DoAfterDrawMenuButton(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),3,this.FScrollButtonPreviousState)),this.FScrollButtonNextDisabled)t.FFill.Assign(this.FButtonAppearance.FDisabledFill),t.FStroke.Assign(this.FButtonAppearance.FDisabledStroke);else{var l=this.FScrollButtonNextState;0===l?(t.FFill.Assign(this.FButtonAppearance.FFill),t.FStroke.Assign(this.FButtonAppearance.FStroke)):1===l?(t.FFill.Assign(this.FButtonAppearance.FHoverFill),t.FStroke.Assign(this.FButtonAppearance.FHoverStroke)):2===l&&(t.FFill.Assign(this.FButtonAppearance.FDownFill),t.FStroke.Assign(this.FButtonAppearance.FDownStroke))}e.$assign(this.GetScrollButtonNextRect()),s=!0,this.FScrollButtonNextDisabled?this.DoBeforeDrawMenuButton(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),4,3,{get:function(){return s},set:function(t){s=t}}):this.DoBeforeDrawMenuButton(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),4,this.FScrollButtonNextState,{get:function(){return s},set:function(t){s=t}}),s&&(t.DrawRoundRectangle$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),this.FButtonAppearance.FRounding,rtl.createSet(0,1,2,3),2),null!=(i=this.FButtonAppearance.FScrollNextIcon)&&t.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i,!0,!1,!0,!1),this.FScrollButtonNextDisabled?this.DoAfterDrawMenuButton(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),4,3):this.DoAfterDrawMenuButton(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),4,this.FScrollButtonNextState))}},this.HandleMouseDown=function(e,i,s,o){var n=t.TTMSFNCTabSetDisplayTab.$new(),a=t.TTMSFNCTabSetDisplayTab.$new();pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseDown.apply(this,arguments),1!==e&&(this.FDownX=s,this.FDownY=o,this.FDownCount=0,this.FDragDownX=s,this.FDragDownY=o,this.CaptureEx(),!this.FDblClicked&&(this.CanFocus()&&this.SetFocus(),this.FInplaceEditorActive&&(this.CloseInplaceEditor(!1),this.FInplaceEditorActive))||(this.FDblClicked=!1,n.$assign(this.XYToTab(s,o,null)),a.$assign(this.XYToCloseTab(s,o)),null!=a.Tab?this.FDownCloseTab=a.Tab:null==n.Tab||this.XYToScrollNextButton(s,o)||this.XYToScrollPreviousButton(s,o)?(this.SaveButtonState(),this.ClearButtonState(),this.HandleButtonDownState(s,o),this.IsButtonStateDown()&&this.StartDownTimer()):(this.FTabAnchor=this.XYToAnchor(t.TTMSFNCTabSetDisplayTab.$clone(n),s,o),""===this.FTabAnchor&&n.Tab.FEnabled&&(this.FDownTab=n.Tab,this.FDragTabDisplay.$assign(this.GetDisplayTab(this.FDownTab.GetIndex())),this.FOrigRect$1.$assign(this.FDragTabDisplay.Rect))),this.Invalidate()))},this.HandleMouseMove=function(e,i,s){var o=t.TTMSFNCTabSetDisplayTab.$new(),n=t.TTMSFNCTabSetDisplayTab.$new(),a=0,r=!1,l=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseMove.apply(this,arguments),null==this.FDownTab&&null==this.FDownCloseTab)o.$assign(this.XYToTab(i,s,null)),this.FPrevHoverTab=this.FHoverTab,this.FHoverTab=o.Tab,null==this.FHoverTab||this.XYToScrollNextButton(i,s)||this.XYToScrollPreviousButton(i,s)?this.IsButtonStateDown()||(this.SetControlCursor(0),this.FPrevHoverCloseTab=null,this.FHoverCloseTab=null,this.SaveButtonState(),this.ClearButtonState(),this.HandleButtonHoverState(i,s)):(n.$assign(this.XYToCloseTab(i,s)),this.FPrevHoverCloseTab=this.FHoverCloseTab,this.FHoverCloseTab=n.Tab,null==this.FHoverCloseTab&&(""!==this.XYToAnchor(t.TTMSFNCTabSetDisplayTab.$clone(o),i,s)&&this.FHoverTab.IsHTML()?this.SetControlCursor(21):this.SetControlCursor(0))),this.FHoverTab!==this.FPrevHoverTab&&this.CancelHint(),(this.FHoverTab!==this.FPrevHoverTab||this.FPrevHoverCloseTab!==this.FHoverCloseTab||this.IsButtonStateChanged()&&!this.IsButtonStateDown())&&this.Invalidate();else if(null==this.FDownCloseTab&&this.FInteraction.FReorder&&(Math.abs(this.FDownX-i)>3||Math.abs(this.FDownY-s)>3)){this.FDragTab=this.FDownTab,l.$assign(this.GetTabRect());var h=this.FLayout.FPosition;1===h||2===h?(a=i-this.FDragDownX,this.FOrigRect$1.Left+a<l.Left?a=l.Left-this.FOrigRect$1.Left:this.FOrigRect$1.Right+a>l.Right&&(a=l.Right-this.FOrigRect$1.Right),this.FDragTabDisplay.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(this.FOrigRect$1.Left+a,this.FOrigRect$1.Top,this.FOrigRect$1.Right+a,this.FOrigRect$1.Bottom))):0!==h&&3!==h||(a=s-this.FDragDownY,this.FOrigRect$1.Top+a<l.Top?a=l.Top-this.FOrigRect$1.Top:this.FOrigRect$1.Bottom+a>l.Bottom&&(a=l.Bottom-this.FOrigRect$1.Bottom),this.FDragTabDisplay.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(this.FOrigRect$1.Left,this.FOrigRect$1.Top+a,this.FOrigRect$1.Right,this.FOrigRect$1.Bottom+a))),this.CalculateRects(this.FDragTabDisplay),r=!1;var F=this.FLayout.FPosition;1===F||2===F?(this.FDownX=i,i>l.Right-10&&this.HandleScrollNext({get:function(){return r},set:function(t){r=t}},!1),i<l.Left+10&&this.HandleScrollPrevious({get:function(){return r},set:function(t){r=t}},!1)):0!==F&&3!==F||(this.FDownY=s,s<l.Top+10&&this.HandleScrollNext({get:function(){return r},set:function(t){r=t}},!1),s>l.Bottom-10&&this.HandleScrollPrevious({get:function(){return r},set:function(t){r=t}},!1)),r?this.UpdateTabs(!1,!1):(this.Invalidate(),this.DoInvalidate())}},this.HandleDblClick=function(t,e){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleDblClick.apply(this,arguments),this.FDblClicked=!0},this.HandleMouseUp=function(i,s,o,n){var a=t.TTMSFNCTabSetDisplayTab.$new(),r=t.TTMSFNCTabSetDisplayTab.$new(),l=null,h=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),F=!1,p=null;if(pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseUp.apply(this,arguments),l=null,F=!1,null!=this.FDragTab){var C=this.FLayout.FPosition;1===C||2===C?a.$assign(this.XYToTab(o,this.FDragTabDisplay.Rect.Top+(this.FDragTabDisplay.Rect.Bottom-this.FDragTabDisplay.Rect.Top)/2,this.FDragTab)):0!==C&&3!==C||a.$assign(this.XYToTab(this.FDragTabDisplay.Rect.Left+(this.FDragTabDisplay.Rect.Right-this.FDragTabDisplay.Rect.Left)/2,n,this.FDragTab))}else a.$assign(this.XYToTab(o,n,null)),r.$assign(this.XYToCloseTab(o,n));this.ReleaseCaptureEx(),null!=this.FDragTab?(this.HandleDragTab(this.FDragTab,a.Tab),F=!0):""!==this.FTabAnchor&&null!=a.Tab&&""!==this.XYToAnchor(t.TTMSFNCTabSetDisplayTab.$clone(a),o,n)?this.DoAnchorTabClick(a.Tab.GetIndex(),this.FTabAnchor):(this.FUpdateCount$1+=1,null!=this.FDownCloseTab&&this.FDownCloseTab===r.Tab?this.HandleCloseTab(this.FDownCloseTab,{get:function(){return F},set:function(t){F=t}}):null!=this.FDownTab&&this.FDownTab===this.FInsertTab?l=this.HandleInsertTab({get:function(){return F},set:function(t){F=t}}):null!=this.FDownTab&&this.FDownTab===a.Tab?(p=this.FActiveTab)===this.FDownTab&&this.FInteraction.FEditing?this.HandleTabEditing(t.TTMSFNCTabSetDisplayTab.$clone(a)):(this.FFocusedTab=this.FDownTab,this.HandleChangeTab(this.FDownTab),F=2===this.FLayout.FMultiline&&p!==this.FActiveTab&&-1!==this.GetActiveTabIndex()):2===this.FTabListButtonState&&this.XYToTabListButton(o,n)?(this.FillTabList(),h.$assign(this.GetTabListButtonRect()),this.FTabListPopup.SetPlacementControl(this),this.FTabListPopup.FPlacementRectangle.SetLeft(h.Left),this.FTabListPopup.FPlacementRectangle.SetTop(h.Top),this.FTabListPopup.FPlacementRectangle.SetRight(h.Right),this.FTabListPopup.FPlacementRectangle.SetBottom(h.Bottom),this.FTabListPopup.Popup(!1)):2===this.FCloseButtonState&&this.XYToCloseButton(o,n)?this.HandleCloseTab(this.FActiveTab,{get:function(){return F},set:function(t){F=t}}):2===this.FInsertButtonState&&this.XYToInsertButton(o,n)?l=this.HandleInsertTab({get:function(){return F},set:function(t){F=t}}):2===this.FScrollButtonPreviousState&&this.XYToScrollPreviousButton(o,n)?this.HandleScrollPrevious({get:function(){return F},set:function(t){F=t}},!0):2===this.FScrollButtonNextState&&this.XYToScrollNextButton(o,n)&&this.HandleScrollNext({get:function(){return F},set:function(t){F=t}},!0)),this.StopDownTimer(),this.FTabAnchor="",this.FDragTab=null,this.FDragTabDisplay.$assign(e.EmptyDisplayTab()),this.FDownTab=null,this.FHoverTab=null,this.FDownCloseTab=null,this.FHoverCloseTab=null,this.ClearButtonState(),this.FUpdateCount$1-=1,F&&this.UpdateTabs(!1,!1),null!=l&&this.FInteraction.FSelectTabOnInsert?this.HandleChangeTab(l):F||this.Invalidate()},this.HandleMouseEnter=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseEnter.call(this),this.Invalidate()},this.HandleMouseLeave=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseLeave.call(this),this.ClearButtonState(),this.FHoverTab=null,this.FDownTab=null,this.FHoverCloseTab=null,this.FDownCloseTab=null,this.Invalidate()},this.DoExit=function(){pas["WEBLib.Controls"].TControl.DoExit.call(this),this.FInplaceEditorActive&&this.CloseInplaceEditor(!1),this.Invalidate()},this.DoEnter=function(){pas["WEBLib.Controls"].TControl.DoEnter.call(this),this.Invalidate()},this.UpdateControlAfterResize=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.UpdateControlAfterResize.call(this),this.UpdateTabs(!1,!1)},this.StartDownTimer=function(){this.FDownTimer.SetEnabled(!this.IsDesignTime())},this.StopDownTimer=function(){this.FDownTimer.SetEnabled(!1)},this.HandleKeyDown=function(t,e){var i=0;if(pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleKeyDown.apply(this,arguments),!this.FInplaceEditorClosed){var s=t.get();37===s||38===s?this.FocusPreviousTab(this.FInteraction.FSelectTabOnFocus):39===s||40===s?this.FocusNextTab(this.FInteraction.FSelectTabOnFocus):36===s?(i=this.GetFirstScrollableTabIndex(),this.IsTabVisible(i)&&this.IsTabEnabled(i)?this.FocusTab(i,this.FInteraction.FSelectTabOnFocus):(i>=0&&i<this.FTabs.GetCount()-1&&(this.FFocusedTab=this.FTabs.GetTab(i)),this.FocusNextTab(this.FInteraction.FSelectTabOnFocus))):35===s&&(i=this.GetLastScrollableTabIndex(),this.IsTabVisible(i)&&this.IsTabEnabled(i)?this.FocusTab(i,this.FInteraction.FSelectTabOnFocus):(i>=0&&i<this.FTabs.GetCount()-1&&(this.FFocusedTab=this.FTabs.GetTab(i)),this.FocusPreviousTab(this.FInteraction.FSelectTabOnFocus)))}},this.HandleDialogKey=function(t,e){this.FInplaceEditorClosed||null!=this.FInplaceEditor&&this.FInplaceEditorActive&&(27===t.get()||9===t.get()||113===t.get()||pas["WEBLib.StdCtrls"].TEdit.isPrototypeOf(this.FInplaceEditor)&&13===t.get())&&(this.FCloseWithDialogKey=!0,this.CloseInplaceEditor(27===t.get())),pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleDialogKey.apply(this,arguments)},this.HandleKeyUp=function(e,i){var s=t.TTMSFNCTabSetDisplayTab.$new(),o=!1,n=!1,a=null;if(pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleKeyUp.apply(this,arguments),this.FInplaceEditorClosed)this.FInplaceEditorClosed=!1;else if(this.FCloseWithDialogKey)this.FCloseWithDialogKey=!1;else{n=!1,o=!1,a=null;var r=e.get();if(13===r||32===r?this.FInteraction.FSelectTabOnFocus||null==this.FFocusedTab||this.FFocusedTab===this.FActiveTab||(this.HandleChangeTab(this.FFocusedTab),o=!0):45===r&&this.FInteraction.FInsertTabWithKeyboard&&(a=this.HandleInsertTab({get:function(){return n},set:function(t){n=t}})),null!=this.FFocusedTab&&!o){var l=e.get();46===l?this.FInteraction.FCloseTabWithKeyboard&&this.HandleCloseTab(this.FFocusedTab,{get:function(){return n},set:function(t){n=t}}):113!==l&&13!==l||this.IsTabEnabled(this.FFocusedTab.GetIndex())&&this.FInteraction.FEditing&&(s.$assign(this.GetDisplayTab(this.FFocusedTab.GetIndex())),this.HandleTabEditing(t.TTMSFNCTabSetDisplayTab.$clone(s)))}n&&this.UpdateTabs(!1,!1),null!=a&&this.FInteraction.FSelectTabOnInsert?this.HandleChangeTab(a):n||this.Invalidate()}},this.HandleMouseWheel=function(t,e,i){var s=!1;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.HandleMouseWheel.apply(this,arguments),this.IsFocused()&&(s=!1,e>0?this.HandleScrollNext({get:function(){return s},set:function(t){s=t}},!0):this.HandleScrollPrevious({get:function(){return s},set:function(t){s=t}},!0),s&&this.UpdateTabs(!1,!1))},this.HandleCloseTab=function(t,e){var i,s=0,o=0,n=!1,a=!1,r=null;if(null!=t&&(s=this.FOptions.FCloseAction,i=t.GetIndex(),this.DoBeforeCloseTab(t.GetIndex(),{get:function(){return s},set:function(t){s=t}}),0!==s)){var l=s;1===l?(n=(o=t.GetIndex())===this.FActiveTabIndex,this.FUpdateCount$1+=1,t=rtl.freeLoc(t),e.set(!0),this.FUpdateCount$1-=1,o<=this.FActiveTabIndex&&(this.FActiveTabIndex=Math.max(0,this.FActiveTabIndex-1)),this.FActiveTabIndex>=0&&this.FActiveTabIndex<=this.FTabs.GetCount()-1?this.IsTabEnabled(this.FActiveTabIndex)&&this.IsTabVisible(this.FActiveTabIndex)||this.SelectNextSequentialTab():(this.FActiveTabIndex=-1,this.FActiveTab=null,this.FFocusedTab=null),n&&(a=!0,this.FActiveTabIndex>=0&&this.FActiveTabIndex<=this.FTabs.GetCount()-1&&((r=this.FTabs.GetTab(this.FActiveTabIndex)).FEnabled&&r.FVisible?(this.DoBeforeChangeTab(o,r.GetIndex(),{get:function(){return a},set:function(t){a=t}}),a&&(this.FActiveTab=r,this.FActiveTabIndex=this.FActiveTab.GetIndex(),this.FFocusedTab=this.FActiveTab,this.FTabChanging=!0,this.DoChangeTab(o,this.FActiveTab.GetIndex()),this.FTabChanging=!1)):(this.FTabChanging=!0,this.DoChangeTab(o,this.FActiveTabIndex),this.FTabChanging=!1)))):2===l&&(t.SetVisible(!1),this.FActiveTabIndex===t.GetIndex()&&(this.SelectNextSequentialTab(),this.FActiveTabIndex>=0&&this.FActiveTabIndex<=this.FTabs.GetCount()-1&&this.GetNormalDisplayCount()>0?this.HandleChangeTab(this.FTabs.GetTab(this.FActiveTabIndex)):this.HandleChangeTab(null)),e.set(!0)),this.DoCloseTab(i,s)}},this.HandleDragTab=function(t,e){var i=!1,s=0;null!=t&&null!=e&&(i=!0,this.DoBeforeReorderTab(t.GetIndex(),e.GetIndex(),{get:function(){return i},set:function(t){i=t}}),i&&(s=this.FDragTab.GetIndex(),t.SetIndex(e.GetIndex()),null!=this.FActiveTab&&(this.FActiveTabIndex=this.FActiveTab.GetIndex()),this.DoReorderTab(s,t.GetIndex())))},this.HandleChangeTab=function(t){var e=!1,i=0,s=0;this.FPrevTab=this.FActiveTab,this.FPrevTab!==t&&(null!=t&&this.IsTabVisible(t.GetIndex())&&this.IsTabEnabled(t.GetIndex())||null==t)&&(i=null!=this.FPrevTab?this.FPrevTab.GetIndex():-1,s=null!=t?t.GetIndex():-1,e=!0,this.DoBeforeChangeTab(i,s,{get:function(){return e},set:function(t){e=t}}),e&&(this.FActiveTab=t,this.FFocusedTab=t,this.FActiveTabIndex=s,this.FTabChanging=!0,this.DoChangeTab(i,s),this.FTabChanging=!1,2===this.FLayout.FMultiline&&-1!==this.GetActiveTabIndex()?this.UpdateTabs(!1,!1):this.ScrollToTab(this.FActiveTabIndex)))},this.HandleTabEditing=function(e){var i=!1,s=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),o=pas.Types.TRect.$new();if(null!=e.Tab&&(this.FInplaceEditorClass=t.TTMSFNCTabSetEdit,i=!0,this.DoBeforeOpenInplaceEditor(e.Index,{get:function(){return i},set:function(t){i=t}}),i)){if(this.DoGetInplaceEditor(e.Tab.GetIndex(),{p:this,get:function(){return this.p.FInplaceEditorClass},set:function(t){this.p.FInplaceEditorClass=t}}),null!=this.FInplaceEditor&&(rtl.free(this,"FInplaceEditor"),this.FInplaceEditor=null),null!=this.FInplaceEditorClass?this.FInplaceEditor=this.FInplaceEditorClass.$create("Create$1",[this]):this.FInplaceEditor=t.TTMSFNCTabSetEdit.$create("Create$1",[this]),s.$assign(this.GetInplaceEditorRect(t.TTMSFNCTabSetDisplayTab.$clone(e))),null!=this.FInplaceEditor){this.FUpdateTab.$assign(e),this.FInplaceEditor.SetShowFocus(!1),this.FInplaceEditor.SetParent(this),this.FInplaceEditor.SetVisible(!1),o.$assign(pas.Types.Rect(Math.round(s.Left),Math.round(s.Top),Math.round(s.Right),Math.round(s.Bottom))),this.FInplaceEditor.SetBoundsRect(o),this.FInplaceEditor.SetBoundsRect(pas.Types.Rect(o.Left,o.Top+rtl.trunc((o.Bottom-o.Top-this.FInplaceEditor.GetHeight())/2),o.Right,o.Top+rtl.trunc((o.Bottom-o.Top-this.FInplaceEditor.GetHeight())/2)+this.FInplaceEditor.GetHeight())),this.FInplaceEditor.SetVisible(!0),this.CustomizeInplaceEditor(this.FInplaceEditor,t.TTMSFNCTabSetDisplayTab.$clone(e));try{e.Tab.FText}finally{}this.FInplaceEditor.CanFocus()&&this.FInplaceEditor.SetFocus(),pas["WEBLib.StdCtrls"].TEdit.isPrototypeOf(this.FInplaceEditor)&&rtl.as(this.FInplaceEditor,pas["WEBLib.StdCtrls"].TEdit).SetSelStart(rtl.as(this.FInplaceEditor,pas["WEBLib.StdCtrls"].TEdit).GetText().length),this.FInplaceEditorActive=!0,this.Invalidate()}this.DoOpenInplaceEditor(e.Tab.GetIndex(),this.FInplaceEditor,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s))}},this.CustomizeInplaceEditor=function(t,e){null!=e.Tab&&null!=t&&null!=this.FOnCustomizeInplaceEditor&&this.FOnCustomizeInplaceEditor(this,e.Tab.GetIndex(),this.FInplaceEditor)},this.SelectNextSequentialTab=function(){var t=0,e=0,i=!1;if(!(this.FActiveTabIndex<0)){for(i=!1,t=this.FActiveTabIndex,e=1;e<this.FTabs.GetCount()&&!((t+=1)>=this.FTabs.GetCount());){if(this.FActiveTabIndex!==t&&this.IsTabVisible(t)&&this.IsTabEnabled(t)){this.FActiveTabIndex=t,i=!0;break}e+=1}if(!i)for(t=this.FActiveTabIndex,e=1;e<this.FTabs.GetCount()&&!((t-=1)>=this.FTabs.GetCount())&&!(t<0);){if(this.FActiveTabIndex!==t&&this.IsTabVisible(t)&&this.IsTabEnabled(t)){this.FActiveTabIndex=t;break}e+=1}}},this.AnimateTimerChanged=function(e){var i=0,s=t.TTMSFNCTabSetDisplayTab.$new(),o=!1;o=!1;for(var n=0,a=this.GetDisplayCount()-1;n<=a;n++)i=n,s.$assign(this.FDisplayList.GetItem(i)),null!=s.Tab&&(o||1!==s.Tab.FProgressMode||0===s.Tab.FProgressKind||(o=!0),s.Tab.FAnimMarqueeSwitch?(s.Tab.FAnimMarqueeStartAngle=s.Tab.FAnimMarqueeStartAngle+5,s.Tab.FAnimMarqueeSweepAngle=s.Tab.FAnimMarqueeSweepAngle-5):s.Tab.FAnimMarqueeSweepAngle=s.Tab.FAnimMarqueeSweepAngle+5,360===s.Tab.FAnimMarqueeSweepAngle&&0===s.Tab.FAnimMarqueeStartAngle?s.Tab.FAnimMarqueeSwitch=!0:360===s.Tab.FAnimMarqueeStartAngle&&0===s.Tab.FAnimMarqueeSweepAngle&&(s.Tab.FAnimMarqueeSwitch=!1,s.Tab.FAnimMarqueeStartAngle=0));o&&this.Invalidate(),this.FAnimTimer.SetEnabled(o)},this.DownTimerChanged=function(t){var e=!1;this.FDownCount+=1,this.FDownCount>3&&(e=!1,2!==this.FScrollButtonNextState||this.FScrollButtonNextDisabled||this.HandleScrollNext({get:function(){return e},set:function(t){e=t}},!0),2!==this.FScrollButtonPreviousState||this.FScrollButtonPreviousDisabled||this.HandleScrollPrevious({get:function(){return e},set:function(t){e=t}},!0),e&&this.UpdateTabs(!1,!1))},this.HandleScrollNext=function(t,e){var i=0;this.FInteraction.FSelectTabOnScroll&&e?this.SelectNextTab():(i=this.FStartTab,this.FStartTab<this.FScrollCount&&(this.FStartTab+=1),!this.IsTabVisible(this.FStartTab)&&this.FStartTab<this.GetLastScrollableTabIndex()&&(this.FStartTab=this.GetNextTab(this.FStartTab)),t.set(i!==this.FStartTab))},this.HandleScrollPrevious=function(t,e){var i=0;this.FInteraction.FSelectTabOnScroll&&e?this.SelectPreviousTab():(i=this.FStartTab,this.FStartTab>0&&(this.FStartTab-=1),!this.IsTabVisible(this.FStartTab)&&this.FStartTab>this.GetFirstScrollableTabIndex()&&(this.FStartTab=this.GetPreviousTab(this.FStartTab)),t.set(i!==this.FStartTab))},this.DoBeforeOpenInplaceEditor=function(t,e){null!=this.FOnBeforeOpenInplaceEditor&&this.FOnBeforeOpenInplaceEditor(this,t,e)},this.DoOpenInplaceEditor=function(t,e,i){null!=this.FOnOpenInplaceEditor&&this.FOnOpenInplaceEditor(this,t,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i))},this.DoBeforeUpdateTab=function(t,e,i){null!=this.FOnBeforeUpdateTab&&this.FOnBeforeUpdateTab(this,t,e,i)},this.DoUpdateTab=function(t){null!=this.FOnUpdateTab&&this.FOnUpdateTab(this,t)},this.DoCloseInplaceEditor=function(t,e,i,s){null!=this.FOnCloseInplaceEditor&&this.FOnCloseInplaceEditor(this,t,e,i,s)},this.DoGetInplaceEditor=function(t,e){null!=this.FOnGetInplaceEditor&&this.FOnGetInplaceEditor(this,t,e)},this.SetFonts=function(t){var e=0;if(this.BeginUpdate(),this.FGlobalFont.ApplyChange(this.FTabAppearance.FFont,t),this.FGlobalFont.ApplyChange(this.FTabAppearance.FBadgeFont,t),1===t){this.FTabAppearance.SetTextColor(this.FGlobalFont.FColor),this.FTabAppearance.SetHoverTextColor(this.FGlobalFont.FColor),this.FTabAppearance.SetActiveTextColor(this.FGlobalFont.FColor),this.FTabAppearance.SetDownTextColor(this.FGlobalFont.FColor);for(var i=0,s=this.FTabs.GetCount()-1;i<=s;i++)e=i,this.FTabs.GetTab(e).SetTextColor(this.FGlobalFont.FColor),this.FTabs.GetTab(e).SetHoverTextColor(this.FGlobalFont.FColor),this.FTabs.GetTab(e).SetActiveTextColor(this.FGlobalFont.FColor),this.FTabs.GetTab(e).SetDownTextColor(this.FGlobalFont.FColor)}this.EndUpdate()},this.Create$1=function(e){return pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Create$1.apply(this,arguments),this.FInsertTab=t.TTMSFNCTabSetTab.$create("Create$1",[null]),this.FInsertTab.SetCloseButton(!1),this.FInsertTab.SetTextVisible(!1),this.FInsertTab.SetText(""),this.FInsertTab.SetProgressKind(0),this.FActiveTabIndex=0,this.FAnimTimer=pas["WEBLib.ExtCtrls"].TTimer.$create("Create$1",[this]),this.FAnimTimer.SetEnabled(!1),this.FAnimTimer.SetInterval(1),this.FAnimTimer.FOnTimer=rtl.createCallback(this,"AnimateTimerChanged"),this.FDownTimer=pas["WEBLib.ExtCtrls"].TTimer.$create("Create$1",[this]),this.FDownTimer.SetEnabled(!1),this.FDownTimer.SetInterval(100),this.FDownTimer.FOnTimer=rtl.createCallback(this,"DownTimerChanged"),this.FDisplayList=t.TTMSFNCTabSetDisplayList.$create("Create$1"),this.FInvisibleTabList=t.TTMSFNCTabSetInvisibleTabList.$create("Create$1"),this.FTabs=this.CreateTabs(),this.FTabSize=t.TTMSFNCTabSetTabSize.$create("Create$1",[this]),this.FTabAppearance=t.TTMSFNCTabSetTabAppearance.$create("Create$1",[this]),this.FButtonAppearance=t.TTMSFNCTabSetButtonAppearance.$create("Create$1",[this]),this.FInteraction=t.TTMSFNCTabSetInteraction.$create("Create$1",[this]),this.FOptions=t.TTMSFNCTabSetOptions.$create("Create$1",[this]),this.FLayout=t.TTMSFNCTabSetLayout.$create("Create$1",[this]),this.FStartTab=0,this.FAllowScrolling=!0,this.FInsertTab.FBitmaps.AddBitmap(this.FButtonAppearance.FInsertIcon,1),this.FInsertTab.FDisabledBitmaps.AddBitmap(this.FButtonAppearance.FInsertIcon,1),this.FInsertTab.FTabSet=this,this.FTabListPopup=pas["WEBLib.TMSFNCPopup"].TTMSFNCPopup.$create("Create$1",[this]),this.FTabList=pas["WEBLib.StdCtrls"].TListBox.$create("Create$1",[this.FTabList]),this.FTabList.FOnClick=rtl.createCallback(this,"PopupListSelected"),this.FTabListPopup.SetContentControl(this.FTabList),this.FTabListPopup.FFocusedControl=this.FTabList,this.FTabListPopup.SetPlacement(0),this.FTabListPopup.SetDropDownHeight(125),this.FTabListPopup.SetDropDownWidth(100),this.FGlobalFont=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCAppearanceGlobalFont.$create("Create$1",[this]),this},this.Destroy=function(){rtl.free(this,"FGlobalFont"),rtl.free(this,"FAnimTimer"),rtl.free(this,"FTabList"),rtl.free(this,"FTabListPopup"),rtl.free(this,"FInsertTab"),rtl.free(this,"FTabSize"),rtl.free(this,"FTabs"),rtl.free(this,"FTabAppearance"),rtl.free(this,"FButtonAppearance"),rtl.free(this,"FInteraction"),rtl.free(this,"FOptions"),rtl.free(this,"FLayout"),rtl.free(this,"FInvisibleTabList"),rtl.free(this,"FDisplayList"),pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Destroy.call(this)},this.XYToTab=function(i,s,o){var n=t.TTMSFNCTabSetDisplayTab.$new(),a=0,r=t.TTMSFNCTabSetDisplayTab.$new(),l=null,h=!1;h=!1,n.$assign(e.EmptyDisplayTab());for(var F=this.GetDisplayCount()-1;F>=0&&(a=F,r.$assign(this.FDisplayList.GetItem(a)),null==r.Tab||r.Tab===o||(null!=(l=r.Tab===this.FInsertTab?r.Tab.GetInsertShapePath(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(r.Rect)):r.Tab.GetShapePath(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(r.Rect)))&&(pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.PointInPath(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(i,s)),l)&&(n.$assign(r),h=!0),l=rtl.freeLoc(l)),!h));F--);return n},this.XYToCloseTab=function(i,s){var o=t.TTMSFNCTabSetDisplayTab.$new(),n=0,a=t.TTMSFNCTabSetDisplayTab.$new();if(o.$assign(e.EmptyDisplayTab()),1!==this.FOptions.FCloseMode)return o;for(var r=this.GetDisplayCount()-1;r>=0;r--)if(n=r,a.$assign(this.FDisplayList.GetItem(n)),null!=a.Tab&&a.Tab.FCloseButton&&pas["WEBLib.TMSFNCTypes"].PtInRectEx(a.CloseButtonRect,pas["WEBLib.TMSFNCTypes"].PointF(i,s))){o.$assign(a);break}return o},this.XYToScrollNextButton=function(t,e){return this.FShowScrollButtons&&!this.FScrollButtonNextDisabled&&pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetScrollButtonNextRect(),pas["WEBLib.TMSFNCTypes"].PointF(t,e))},this.XYToScrollPreviousButton=function(t,e){return this.FShowScrollButtons&&!this.FScrollButtonPreviousDisabled&&pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetScrollButtonPreviousRect(),pas["WEBLib.TMSFNCTypes"].PointF(t,e))},this.XYToCloseButton=function(t,e){return this.FShowCloseButton&&pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetCloseButtonRect(),pas["WEBLib.TMSFNCTypes"].PointF(t,e))},this.XYToInsertButton=function(t,e){return this.FShowInsertButton&&pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetInsertButtonRect(),pas["WEBLib.TMSFNCTypes"].PointF(t,e))},this.XYToTabListButton=function(t,e){return this.FShowTabListButton&&pas["WEBLib.TMSFNCTypes"].PtInRectEx(this.GetTabListButtonRect(),pas["WEBLib.TMSFNCTypes"].PointF(t,e))},this.IsTabVisible=function(t){var e=!1;return e=!1,t>=0&&t<=this.FTabs.GetCount()-1&&(e=this.FTabs.GetTab(t).FVisible),e},this.IsTabEnabled=function(t){var e=!1;return e=!1,t>=0&&t<=this.FTabs.GetCount()-1&&(e=this.FTabs.GetTab(t).FEnabled),e},this.Assign=function(e){t.TTMSFNCCustomTabSet.isPrototypeOf(e)&&(this.FTabSize.Assign(rtl.as(e,t.TTMSFNCCustomTabSet).FTabSize),this.FTabAppearance.Assign(rtl.as(e,t.TTMSFNCCustomTabSet).FTabAppearance),this.FInteraction.Assign(rtl.as(e,t.TTMSFNCCustomTabSet).FInteraction),this.FOptions.Assign(rtl.as(e,t.TTMSFNCCustomTabSet).FOptions),this.FLayout.Assign(rtl.as(e,t.TTMSFNCCustomTabSet).FLayout),this.FTabs.Assign(rtl.as(e,t.TTMSFNCCustomTabSet).FTabs))},this.BeginUpdate=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBase.BeginUpdate.call(this),this.FUpdateCount$1+=1},this.EndUpdate=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBase.EndUpdate.call(this),this.FUpdateCount$1-=1,0===this.FUpdateCount$1&&this.UpdateTabs(!1,!1)},this.SelectNextTab=function(){var t=0,e=0;if(!(this.FActiveTabIndex<0)){for(t=this.FActiveTabIndex,e=1;e<this.FTabs.GetCount();){if((t+=1)>=this.FTabs.GetCount()&&(t=0),this.FActiveTabIndex!==t&&this.IsTabVisible(t)&&this.IsTabEnabled(t)){this.FActiveTabIndex=t;break}e+=1}this.FActiveTabIndex>=0&&this.FActiveTabIndex<=this.FTabs.GetCount()-1&&(this.HandleChangeTab(this.FTabs.GetTab(this.FActiveTabIndex)),0===this.FUpdateCount$1&&this.Invalidate())}},this.SelectPreviousTab=function(){var t=0,e=0;if(!(this.FActiveTabIndex<0)){for(t=this.FActiveTabIndex,e=1;e<this.FTabs.GetCount();){if((t-=1)>=this.FTabs.GetCount()&&(t=0),t<0&&(t=this.FTabs.GetCount()-1),this.FActiveTabIndex!==t&&this.IsTabVisible(t)&&this.IsTabEnabled(t)){this.FActiveTabIndex=t;break}e+=1}this.FActiveTabIndex>=0&&this.FActiveTabIndex<=this.FTabs.GetCount()-1&&(this.HandleChangeTab(this.FTabs.GetTab(this.FActiveTabIndex)),0===this.FUpdateCount$1&&this.Invalidate())}},this.ScrollToTab=function(t){if(2!==this.FTabSize.FMode&&this.FAllowScrolling&&0===this.FLayout.FMultiline&&this.FScrollCount>0&&t>=0&&t<=this.FTabs.GetCount()-1&&this.IsTabVisible(t))if(t>this.FLastTabIndex||t<this.FFirstTabIndex){if(this.FStartTab=Math.max(0,t-this.GetNormalDisplayCount()-this.GetInvisibleTabCount()),this.UpdateTabs(!1,!0),t>this.FLastTabIndex)for(;this.FLastTabIndex<t;)this.FStartTab+=1,this.IsTabVisible(this.FStartTab)||(this.FStartTab=this.GetNextTab(this.FStartTab)),this.UpdateTabs(!1,!0);else if(t<this.FFirstTabIndex)for(;this.FFirstTabIndex>t;)this.FStartTab-=1,this.IsTabVisible(this.FStartTab)||(this.FStartTab=this.GetPreviousTab(this.FStartTab)),this.UpdateTabs(!1,!0)}else this.InitializeScrollButtonState(),this.Invalidate();else this.Invalidate()},this.CloseInplaceEditor=function(t){var e="",i=!1,s=!1,o="";if(!this.FClosing){if(this.FClosing=!0,null!=this.FUpdateTab.Tab&&null!=this.FInplaceEditor){if(!t)try{o="",pas["WEBLib.StdCtrls"].TEdit.isPrototypeOf(this.FInplaceEditor)&&(e=rtl.as(this.FInplaceEditor,pas["WEBLib.StdCtrls"].TEdit).GetText()),o=e}finally{}s=!0,this.DoCloseInplaceEditor(this.FUpdateTab.Tab.GetIndex(),this.FInplaceEditor,t,{get:function(){return s},set:function(t){s=t}}),s&&(i=!0,this.DoBeforeUpdateTab(this.FUpdateTab.Tab.GetIndex(),{get:function(){return o},set:function(t){o=t}},{get:function(){return i},set:function(t){i=t}}),i&&!t&&(this.FUpdateCount$1+=1,null!=this.FUpdateTab.Tab&&this.FUpdateTab.Tab.SetText(o),this.FUpdateCount$1-=1,this.DoUpdateTab(this.FUpdateTab.Tab.GetIndex())),this.FInplaceEditor.SetParent(null),rtl.free(this,"FInplaceEditor"),this.FInplaceEditor=null,this.FInplaceEditorActive=!1),s&&(this.UpdateTabs(!1,!1),this.CanFocus()&&this.SetFocus())}this.FClosing=!1}},this.FocusNextTab=function(t){var e=0,i=0,s=0;if(null!=this.FFocusedTab){for(e=s=this.FFocusedTab.GetIndex(),i=1;i<this.FTabs.GetCount();){if((e+=1)>=this.FTabs.GetCount()&&(e=0),s!==e&&this.IsTabVisible(e)&&this.IsTabEnabled(e)){s=e;break}i+=1}s>=0&&s<=this.FTabs.GetCount()-1&&(this.FFocusedTab=this.FTabs.GetTab(s),t?this.HandleChangeTab(this.FFocusedTab):this.ScrollToTab(s))}},this.FocusPreviousTab=function(t){var e=0,i=0,s=0;if(null!=this.FFocusedTab){for(e=s=this.FFocusedTab.GetIndex(),i=1;i<this.FTabs.GetCount();){if((e-=1)>=this.FTabs.GetCount()&&(e=0),e<0&&(e=this.FTabs.GetCount()-1),s!==e&&this.IsTabVisible(e)&&this.IsTabEnabled(e)){s=e;break}i+=1}s>=0&&s<=this.FTabs.GetCount()-1&&(this.FFocusedTab=this.FTabs.GetTab(s),t?this.HandleChangeTab(this.FFocusedTab):this.ScrollToTab(s))}},this.FocusTab=function(t,e){t>=0&&t<=this.FTabs.GetCount()-1&&this.IsTabVisible(t)&&(this.FFocusedTab=this.FTabs.GetTab(t),e?this.HandleChangeTab(this.FFocusedTab):this.ScrollToTab(t))},rtl.addIntf(this,pas["WEBLib.TMSFNCGraphicsTypes"].ITMSFNCAppearanceGlobalFont),rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),this.TMSFNCTABSETLIST="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAJCAYAAAD+WDajAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOvwAADr8BOAVTJAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC4zjOaXUAAAACpJREFUKFNjwAvCwsL+48IM///jxvh1YhOEYZz2giVgAKcEDOCUwAQMDAAqj1EKDJG5XAAAAABJRU5ErkJggg==",this.TMSFNCTABSETCLOSE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuOWwzfk4AAABVSURBVDhPYxh+QBSI/0OYWAFIThjCxA5ACmAYHeCTQwHYFGITwwuQNSBjkgBFmkGAIgNAGv5BaZINQdYMA0Qbgk0zDBBlCCiR4FMAkhOCMIcJYGAAAHvVMBv6PIFYAAAAAElFTkSuQmCC",this.TMSFNCTABSETPREVIOUS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAEpJREFUOI3lzKENgEAQAMEJBkkIDdDTSxp6gqMyCkB8IQgMFdwZAutn+U19Bi84MUbxhZrBawSXB+8RDDMaDkyvmQyZyYYuOvh6N24uDUKEV//MAAAAAElFTkSuQmCC",this.TMSFNCTABSETNEXT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAFNJREFUOI3tzzsSQFAQRNFDqSezHUuwYBJLsBuhEomE4/ll3HBq+nY1PxENRrS5xzK4L1jPSiISesxPJcORJJqwU9xthjrX/ko4mpBQocN0tf1rbDeZDIfcSud0AAAAAElFTkSuQmCC",this.TMSFNCTABSETADD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAALEAAACxABrSO9dQAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC45bDN+TgAAAEtJREFUOE/dzEEKACAIRFHvf2nLhZDyI6VVBS9yahJVvYJhB4YdGLq5bJtHvjcYugc/8MJJ6IQhPdwJnXXIqJBh6D74oALDDgzrVAajy7VnCteJXAAAAABJRU5ErkJggg==",t.$implcode=function(){e.EmptyDisplayTab=function(){var e=t.TTMSFNCTabSetDisplayTab.$new();return e.Tab=null,e.ContentRect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,0,0)),e.BitmapRect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,0,0)),e.TextRect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,0,0)),e.ProgressRect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,0,0)),e.CloseButtonRect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,0,0)),e.Rect.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,0,0)),e.First=!1,e.Last=!1,e.Index=-1,e.Row=0,e}},t.$init=function(){pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCTABSETLIST),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCTABSETCLOSE),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCTABSETPREVIOUS),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCTABSETNEXT),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCTABSETADD)}}),["WEBLib.TMSFNCUtils","WEBLib.Forms","WEBLib.Graphics","SysUtils","Math","WEBLib.TMSFNCStyles"]),rtl.module("WEBLib.TMSFNCPageControl",["System","Classes","WEBLib.TMSFNCTabSet","WEBLib.TMSFNCPersistence","WEBLib.TMSFNCTypes","WEBLib.Controls","WEBLib.TMSFNCCustomControl","WEBLib.TMSFNCGraphics","WEBLib.TMSFNCPopup","Types"],(function(){"use strict";var t=this,e=t.$impl;this.MAJ_VER=1,this.MIN_VER=0,this.REL_VER=0,this.BLD_VER=7,rtl.createClass(this,"TTMSFNCPageControlContainer",pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl,(function(){this.$init=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$init.call(this),this.FIsDestroying=!1,this.FPage=null,this.FPageControl=null,this.FPageIndex=0,this.FIsActive=!1},this.$final=function(){this.FPage=void 0,this.FPageControl=void 0,pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$final.call(this)},this.SetPageControl=function(t){this.SetParent(t),this.FPageControl=t},this.SetIsActive=function(t){this.FIsActive=t,this.SetPage()},this.SetPageIndex=function(t){this.FPageIndex=t,this.SetPage()},this.RegisterRuntimeClasses=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.RegisterRuntimeClasses.call(this),pas.Classes.RegisterClass(t.TTMSFNCPageControlContainer)},this.SetPage=function(){var e=null;null!=this.FPageControl&&(this.FPageIndex>=0&&this.FPageIndex<=this.FPageControl.GetPages().GetCount()-1&&((e=rtl.as(this.FPageControl.GetPages().GetTab(this.FPageIndex),t.TTMSFNCPageControlPage)).FContainer=this,this.FPage=e),this.FIsActive&&this.FPageControl.SetActivePageIndex(Math.max(0,Math.min(this.FPageIndex,this.FPageControl.GetPages().GetCount()-1))),this.FPageControl.UpdatePages())},this.SetParent=function(e){t.TTMSFNCCustomPageControl.isPrototypeOf(e)&&(this.FPageControl=rtl.as(e,t.TTMSFNCCustomPageControl)),pas["WEBLib.Controls"].TControl.SetParent.apply(this,arguments)},this.Create$1=function(t){return this.Create$8(t,null),this},this.Create$8=function(t,e){return pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Create$1.call(this,t),this.FPage=e,null!=this.FPage&&null!=this.FPage.FPageControl&&(this.FTransparent=this.FPage.FPageControl.FTransparent,this.FBufferedPainting=this.FPage.FPageControl.FBufferedPainting),this},this.Destroy=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Destroy.call(this),this.FPage=null},this.Draw=function(t,e){var i=null,s=pas["WEBLib.TMSFNCTabSet"].TTMSFNCTabSetDisplayTab.$new(),o=null,n=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),a=0;if(pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Draw.apply(this,arguments),!(3 in this.FComponentState)&&null!=this.FPage&&null!=this.FPage.FContainer&&this.FPage.FContainer===this&&(this.IsDesignTime()&&(t.FFont.SetHeight(this.ScalePaintValue(t.FFont.FHeight)),t.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(this.GetLocalRect()),this.FPage.GetFriendlyName(),!1,0,0,0,0,-1,-1,!0,!1,-1,-1)),null!=(i=this.FPage.PageControl())&&i.GetActivePage()===this.FPage&&(s.$assign(i.GetDisplayTab(this.FPage.GetIndex())),null!=s.Tab&&s.Tab===this.FPage))){if(o=s.Tab,null!=i.DragTabDisplay().Tab&&i.DragTabDisplay().Tab===this.FPage?n.$assign(o.GetFixedRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i.DragTabDisplay().Rect),pas["WEBLib.TMSFNCTabSet"].TTMSFNCTabSetDisplayTab.$clone(i.DragTabDisplay()))):n.$assign(o.GetFixedRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s.Rect),pas["WEBLib.TMSFNCTabSet"].TTMSFNCTabSetDisplayTab.$clone(s))),n.Right-n.Left<=0||n.Bottom-n.Top<=0)return;2===i.FTabAppearance.FActiveFill.FKind?t.FStroke.SetColor(i.FTabAppearance.FActiveFill.FColorTo):o.FUseDefaultAppearance?t.FStroke.SetColor(i.FTabAppearance.FActiveFill.FColor):t.FStroke.SetColor(o.FActiveColor),t.FStroke.SetWidth(t.FStroke.FWidth*pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.GetDPIScale(null,-1));var r=i.FLayout.FPosition;if(0===r||3===r){if(n.Top=n.Top+t.FStroke.FWidth,n.Bottom=n.Bottom-t.FStroke.FWidth,i.FCollapsed){var l=i.FLayout.FPosition;0===l?(n.Left=.5,n.Right=.5):3===l&&(n.Left=this.GetWidth()-.5,n.Right=this.GetWidth()-.5)}}else if((1===r||2===r)&&(n.Left=n.Left+t.FStroke.FWidth,n.Right=n.Right-t.FStroke.FWidth,i.FCollapsed)){var h=i.FLayout.FPosition;1===h?(n.Top=.5,n.Bottom=.5):2===h&&(n.Top=this.GetHeight()-.5,n.Bottom=this.GetHeight()-.5)}a=Math.round(4*pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.GetDPIScale(null,-1));var F=i.FLayout.FPosition;if(3===F){var p=o.GetShape();1===p?n.Top=n.Top+a:2===p?n.Bottom=n.Bottom-a:3===p&&(n.Top=n.Top+a,n.Bottom=n.Bottom-a),t.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n.Left-this.GetLeft(),n.Top-this.GetTop())),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n.Left-this.GetLeft(),n.Bottom-this.GetTop())),0,0)}else if(0===F){var C=o.GetShape();1===C?n.Bottom=n.Bottom-a:2===C?n.Top=n.Top+a:3===C&&(n.Top=n.Top+a,n.Bottom=n.Bottom-a),t.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n.Right-this.GetLeft(),n.Top-this.GetTop())),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n.Right-this.GetLeft(),n.Bottom-this.GetTop())),0,0)}else if(1===F||2===F){var u=o.GetShape();1===u?n.Left=n.Left+a:2===u?n.Right=n.Right-a:3===u&&(n.Left=n.Left+a,n.Right=n.Right-a);var d=i.FLayout.FPosition;1===d?t.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n.Left-this.GetLeft(),n.Bottom-this.GetTop())),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n.Right-this.GetLeft(),n.Bottom-this.GetTop())),0,0):2===d&&t.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n.Left-this.GetLeft(),n.Top-this.GetTop())),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n.Right-this.GetLeft(),n.Top-this.GetTop())),0,0)}}},rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]]),e.addMethod("Create$8",2,[["AOwner",pas.Classes.$rtti.TComponent],["APage",t.$rtti.TTMSFNCPageControlPage]]),e.addProperty("Fill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FFill","SetFill"),e.addProperty("Stroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FStroke","SetStroke")})),rtl.createClass(this,"TTMSFNCPageControlPage",pas["WEBLib.TMSFNCTabSet"].TTMSFNCTabSetTab,(function(){this.$init=function(){pas["WEBLib.TMSFNCTabSet"].TTMSFNCTabSetTab.$init.call(this),this.FContainer=null,this.FPageControl=null},this.$final=function(){this.FContainer=void 0,this.FPageControl=void 0,pas["WEBLib.TMSFNCTabSet"].TTMSFNCTabSetTab.$final.call(this)},this.UpdatePage=function(){null!=this.FPageControl&&this.FPageControl.UpdatePages()},this.GetFriendlyName=function(){var t="";return""===(t=this.GetStrippedHTMLText())&&(t="Page "+pas.SysUtils.IntToStr(this.GetIndex())),t},this.Create$1=function(e){var i=this,s=null;return pas["WEBLib.TMSFNCTabSet"].TTMSFNCTabSetTab.Create$1.apply(this,arguments),null!=this.FCollection&&(this.FPageControl=rtl.as(this.FCollection,t.TTMSFNCPageControlPages).PageControl(),null==(s=this.PageControl())||s.IsReading()||s.IsLoading()||0 in s.FComponentState||(this.FContainer=s.GetContainerClass().$create("Create$8",[s.FOwner,i]),this.FContainer.SetPageControl(s),this.FContainer.SetAdaptToStyle(s.GetAdaptToStyle()),this.FContainer.SetTabStop(!1),s.IsDesigning()&&this.FContainer.SetName(s.FName+"Page"+pas.SysUtils.IntToStr(this.GetIndex())),this.FContainer.SetAlignWithMargins(!0),this.FContainer.SetAlign(5),this.FContainer.SetVisible(!1),s.UpdateMargins(this.FContainer),this.SetText(this.GetFriendlyName()))),null!=this.FPageControl&&(this.FPageControl.FUpdateMargins=!0,null!=this.FPageControl.FOnInternalInsertPage&&this.FPageControl.FOnInternalInsertPage(i)),this.UpdatePage(),this},this.Destroy=function(){null!=this.FContainer&&(this.FContainer.FIsDestroying=!0,null!=this.FPageControl&&this.FPageControl.FPrevActivePageContainer===this.FContainer&&(this.FPageControl.FPrevActivePageContainer=null),null==this.FContainer.FParent||null==this.FPageControl||this.FPageControl.IsDestroying()||rtl.free(this,"FContainer"),this.FContainer=null),pas["WEBLib.TMSFNCTabSet"].TTMSFNCTabSetTab.Destroy.call(this),null!=this.FPageControl&&(this.FPageControl.FUpdateMargins=!0),this.UpdatePage()},this.PageControl=function(){return this.FPageControl},this.$rtti.addMethod("Create$1",2,[["ACollection",pas.Classes.$rtti.TCollection]])})),rtl.createClass(this,"TTMSFNCPageControlPages",pas["WEBLib.TMSFNCTabSet"].TTMSFNCTabSetTabs,(function(){this.$init=function(){pas["WEBLib.TMSFNCTabSet"].TTMSFNCTabSetTabs.$init.call(this),this.FPageControl=null},this.$final=function(){this.FPageControl=void 0,pas["WEBLib.TMSFNCTabSet"].TTMSFNCTabSetTabs.$final.call(this)},this.GetTabClass=function(){return t.TTMSFNCPageControlPage},this.PageControl=function(){return this.FPageControl},this.Create$3=function(e){return pas["WEBLib.TMSFNCTabSet"].TTMSFNCTabSetTabs.Create$3.apply(this,arguments),this.FPageControl=rtl.as(e,t.TTMSFNCCustomPageControl),this},this.Clear$1=function(){null!=this.FPageControl&&(this.FPageControl.FPrevActivePageContainer=null,this.FPageControl.BeginUpdate()),pas["WEBLib.TMSFNCTabSet"].TTMSFNCTabSetTabs.Clear$1.call(this),null!=this.FPageControl&&this.FPageControl.EndUpdate()},this.Add$2=function(){return pas["WEBLib.TMSFNCTabSet"].TTMSFNCTabSetTabs.Add$1.call(this)},this.$rtti.addMethod("Create$3",2,[["ATabSet",pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCCustomTabSet]])})),this.TTMSFNCPageControlPageCloseAction={0:"ttcaNone",ttcaNone:0,1:"ttcaFree",ttcaFree:1,2:"ttcaHide",ttcaHide:2},this.$rtti.$Enum("TTMSFNCPageControlPageCloseAction",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TTMSFNCPageControlPageCloseAction}),this.$rtti.$MethodVar("TTMSFNCPageControlBeforeReorderPageEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACurrentPageIndex",rtl.longint],["ANewPageIndex",rtl.longint],["ACanReorder",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCPageControlBeforeChangePageEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ACurrentPageIndex",rtl.longint],["ANewPageIndex",rtl.longint],["ACanChange",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCPageControlChangePageEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["APreviousPageIndex",rtl.longint],["ACurrentPageIndex",rtl.longint]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCPageControlReorderPageEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["APreviousPageIndex",rtl.longint],["ACurrentPageIndex",rtl.longint]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCPageControlBeforeClosePageEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["APageIndex",rtl.longint],["ACloseAction",this.$rtti.TTMSFNCPageControlPageCloseAction,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCPageControlClosePageEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["APageIndex",rtl.longint],["ACloseAction",this.$rtti.TTMSFNCPageControlPageCloseAction]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCPageControlBeforeInsertPageEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ANewPageIndex",rtl.longint,1],["ACanInsert",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCPageControlInsertPageEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ANewPageIndex",rtl.longint]]),methodkind:0}),rtl.createClass(this,"TTMSFNCPageControlPopupForm",pas["WEBLib.TMSFNCPopup"].TTMSFNCCustomPopupForm,(function(){rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TTMSFNCPageControlPopup",pas["WEBLib.TMSFNCPopup"].TTMSFNCNonFocusablePopup,(function(){this.GetPopupFormClass=function(){return t.TTMSFNCPageControlPopupForm},rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TTMSFNCCustomPageControl",pas["WEBLib.TMSFNCTabSet"].TTMSFNCCustomTabSet,(function(){this.$init=function(){pas["WEBLib.TMSFNCTabSet"].TTMSFNCCustomTabSet.$init.call(this),this.FBlockAssign=!1,this.FSaveActivePage=null,this.FPopup=null,this.FSaveHeight=0,this.FSaveWidth=0,this.FUpdateMargins=!1,this.FUpdateVisibility=!1,this.FPrevActivePageContainer=null,this.FUpdateCount$2=0,this.FOnInsertPage=null,this.FOnBeforeClosePage=null,this.FOnBeforeInsertPage=null,this.FOnChangePage=null,this.FOnReorderPage=null,this.FOnClosePage=null,this.FOnBeforeChangePage=null,this.FOnBeforeReorderPage=null,this.FOnInternalInsertPage=null,this.FCollapsed=!1},this.$final=function(){this.FSaveActivePage=void 0,this.FPopup=void 0,this.FPrevActivePageContainer=void 0,this.FOnInsertPage=void 0,this.FOnBeforeClosePage=void 0,this.FOnBeforeInsertPage=void 0,this.FOnChangePage=void 0,this.FOnReorderPage=void 0,this.FOnClosePage=void 0,this.FOnBeforeChangePage=void 0,this.FOnBeforeReorderPage=void 0,this.FOnInternalInsertPage=void 0,pas["WEBLib.TMSFNCTabSet"].TTMSFNCCustomTabSet.$final.call(this)},this.GetActivePageIndex=function(){return this.GetActiveTabIndex()},this.SetActivePageIndex=function(t){this.SetActiveTabIndex(t)},this.SetPages=function(t){this.FTabs.Assign(t)},this.GetActivePage=function(){return rtl.as(this.GetActiveTab(),t.TTMSFNCPageControlPage)},this.SetActivePage=function(t){this.SetActiveTab(t)},this.GetVersion=function(){return this.$class.GetVersionNumber(1,0,0,7)},this.CreateTabs=function(){return t.TTMSFNCPageControlPages.$create("Create$3",[this])},this.GetContainerClass=function(){return t.TTMSFNCPageControlContainer},this.GetPages=function(){return rtl.as(this.FTabs,t.TTMSFNCPageControlPages)},this.Loaded=function(){var e=0,i=null;pas["WEBLib.Controls"].TCustomControl.Loaded.call(this);for(var s=0,o=this.GetPages().GetCount()-1;s<=o;s++)e=s,null!=(i=rtl.as(this.GetPages().GetTab(e),t.TTMSFNCPageControlPage).FContainer)&&i.SetVisible(!0);this.UpdatePages();for(var n=0,a=this.GetPages().GetCount()-1;n<=a;n++)e=n,null!=(i=rtl.as(this.GetPages().GetTab(e),t.TTMSFNCPageControlPage).FContainer)&&i.SetVisible(i.FIsActive)},this.SetCollapsed=function(t){if(this.FCollapsed!==t){this.FCollapsed=t,this.FBlockAssign=!this.FCollapsed,this.FPopup.Deactivate(),this.FBlockAssign=!1;var e=this.FLayout.FPosition;0===e||3===e?this.FCollapsed&&-1===this.FSaveWidth&&(this.FSaveWidth=this.GetWidth()):1!==e&&2!==e||this.FCollapsed&&-1===this.FSaveHeight&&(this.FSaveHeight=Math.round(this.GetHeight())),this.FCollapsed?(this.FSaveActivePage=this.GetActivePage(),this.SetActivePage(null),this.FUpdateVisibility=!0,this.FUpdateMargins=!0,this.UpdatePages()):null!=this.FSaveActivePage&&this.SetActivePage(this.FSaveActivePage);var i=this.FLayout.FPosition;0===i||3===i?this.FCollapsed?(0===this.FLayout.FPosition?this.SetWidth(Math.round(this.FTabSize.FHeight+this.FTabSize.FMargins.FLeft)):this.SetWidth(Math.round(this.FTabSize.FHeight+this.FTabSize.FMargins.FRight)),3===this.FLayout.FPosition&&this.SetLeft(this.GetLeft()+Math.round(this.FSaveWidth-this.GetWidth()))):(3===this.FLayout.FPosition&&this.SetLeft(this.GetLeft()-Math.round(this.FSaveWidth-this.GetWidth())),this.SetWidth(Math.round(this.FSaveWidth))):1!==i&&2!==i||(this.FCollapsed?(1===this.FLayout.FPosition?this.SetHeight(Math.round(this.FTabSize.FHeight+this.FTabSize.FMargins.FTop)):this.SetHeight(Math.round(this.FTabSize.FHeight+this.FTabSize.FMargins.FBottom)),2===this.FLayout.FPosition&&this.SetTop(this.GetTop()+Math.round(this.FSaveHeight-this.GetHeight()))):(2===this.FLayout.FPosition&&this.SetTop(this.GetTop()-Math.round(this.FSaveHeight-this.GetHeight())),this.SetHeight(Math.round(this.FSaveHeight)))),this.FCollapsed||(this.FUpdateVisibility=!0,this.FUpdateMargins=!0,this.UpdatePages())}},this.DoClosePopup=function(t){this.FBlockAssign||this.SetActivePage(null)},this.SetAdaptToStyle=function(e){var i=0,s=null;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.SetAdaptToStyle.apply(this,arguments);for(var o=0,n=this.GetPages().GetCount()-1;o<=n;o++)i=o,null!=(s=rtl.as(this.GetPages().GetTab(i),t.TTMSFNCPageControlPage).FContainer)&&s.SetAdaptToStyle(this.GetAdaptToStyle())},this.UpdateAllPages=function(t){this.FUpdateMargins=!0},this.Notification=function(e,i){var s=null;!(3 in this.FComponentState)&&1===i&&t.TTMSFNCPageControlContainer.isPrototypeOf(e)&&((s=rtl.as(e,t.TTMSFNCPageControlContainer)).FIsDestroying||null==s.FPage||(this.FPrevActivePageContainer===s.FPage.FContainer&&(this.FPrevActivePageContainer=null),s.FPage.FContainer=null,rtl.free(s,"FPage"),s.FPage=null,this.SetActivePageIndex(Math.max(0,Math.min(this.GetActivePageIndex(),this.GetPages().GetCount()-1))))),pas["WEBLib.TMSFNCTabSet"].TTMSFNCCustomTabSet.Notification.apply(this,arguments)},this.UpdatePages=function(){var e,i=null;this.FUpdateCount$2>0||3 in this.FComponentState||(!0,this.UpdatePageIndexes(),this.UpdateVisibility(),(e=this.GetActivePageIndex())>=0&&e<=this.GetPages().GetCount()-1?null!=(i=rtl.as(this.GetPages().GetTab(e),t.TTMSFNCPageControlPage).FContainer)&&(this.UpdateMargins(i),i.SetVisible(!this.FCollapsed),null!=i.FParent&&i.BringToFront(),i.Invalidate(),null!=this.FPrevActivePageContainer&&this.FPrevActivePageContainer!==i&&this.FPrevActivePageContainer.SetVisible(!1),this.FPrevActivePageContainer=i):null!=this.FPrevActivePageContainer&&(this.FPrevActivePageContainer.SetVisible(!1),this.FPrevActivePageContainer.SendToBack()))},this.UpdateTabs=function(t,e){pas["WEBLib.TMSFNCTabSet"].TTMSFNCCustomTabSet.UpdateTabs.apply(this,arguments),this.UpdatePages()},this.UpdateMargins=function(t){var e;if(e=this.GetTotalTabHeight(),this.FCollapsed||e<=0){var i=this.FLayout.FPosition;0===i||3===i?(t.SetWidth(Math.round(this.FSaveWidth)),t.SetHeight(Math.round(this.GetHeight()))):1!==i&&2!==i||(t.SetWidth(Math.round(this.GetWidth())),t.SetHeight(Math.round(this.FSaveHeight)));var s=this.FLayout.FPosition;0===s?t.SetWidth(t.GetWidth()-Math.round(this.FTabSize.FHeight-this.FTabSize.FMargins.FLeft+1)):1===s?t.SetHeight(t.GetHeight()-Math.round(this.FTabSize.FHeight-this.FTabSize.FMargins.FTop+1)):2===s?t.SetHeight(t.GetHeight()-Math.round(this.FTabSize.FHeight-this.FTabSize.FMargins.FBottom+1)):3===s&&t.SetWidth(t.GetWidth()-Math.round(this.FTabSize.FHeight-this.FTabSize.FMargins.FRight+1)),t.FMargins.SetTop(0),t.FMargins.SetLeft(0),t.FMargins.SetRight(0),t.FMargins.SetBottom(0)}else{var o=this.FLayout.FPosition;0===o?(t.FMargins.SetTop(0),t.FMargins.SetLeft(Math.round(e+this.FTabSize.FMargins.FLeft-1)),t.FMargins.SetRight(0),t.FMargins.SetBottom(0)):1===o?(t.FMargins.SetTop(Math.round(e+this.FTabSize.FMargins.FTop-1)),t.FMargins.SetLeft(0),t.FMargins.SetRight(0),t.FMargins.SetBottom(0)):2===o?(t.FMargins.SetTop(0),t.FMargins.SetLeft(0),t.FMargins.SetRight(0),t.FMargins.SetBottom(Math.round(this.FTabSize.FMargins.FBottom+e-1))):3===o&&(t.FMargins.SetTop(0),t.FMargins.SetLeft(0),t.FMargins.SetRight(Math.round(this.FTabSize.FMargins.FRight+e-1)),t.FMargins.SetBottom(0))}},this.UpdatePageIndexes=function(){for(var e=null,i=0,s=0,o=this.GetPages().GetCount()-1;s<=o;s++)i=s,null!=(e=rtl.as(this.GetPages().GetTab(i),t.TTMSFNCPageControlPage).FContainer)&&(e.FPageIndex=i,e.FIsActive=e.FPageIndex===this.GetActivePageIndex(),this.FUpdateMargins&&this.UpdateMargins(e));this.FUpdateMargins=!1},this.UpdateVisibility=function(){var e=null,i=0;if(this.FUpdateVisibility&&this.FCollapsed)for(var s=0,o=this.GetPages().GetCount()-1;s<=o;s++)i=s,null!=(e=rtl.as(this.GetPages().GetTab(i),t.TTMSFNCPageControlPage).FContainer)&&e.SetVisible(!this.FCollapsed)},this.DoInvalidate=function(){var t=null;pas["WEBLib.TMSFNCTabSet"].TTMSFNCCustomTabSet.DoInvalidate.call(this),null!=this.GetActivePage()&&null!=(t=this.GetActivePage().FContainer)&&t.Invalidate()},this.Draw=function(t,e){pas["WEBLib.TMSFNCTabSet"].TTMSFNCCustomTabSet.Draw.apply(this,arguments),4 in this.FComponentState&&0===this.GetPages().GetCount()&&(t.DrawFocusRectangle$3(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),0,2),t.FFont.SetHeight(this.ScalePaintValue(t.FFont.FHeight)),t.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),'Please add pages by clicking "New Page" in the context menu',!1,0,0,0,0,-1,-1,!0,!1,-1,-1))},this.DoBeforeChangeTab=function(t,e,i){pas["WEBLib.TMSFNCTabSet"].TTMSFNCCustomTabSet.DoBeforeChangeTab.apply(this,arguments),this.DoBeforeChangePage(t,e,i)},this.DoChangeTab=function(t,e){var i=null;if(pas["WEBLib.TMSFNCTabSet"].TTMSFNCCustomTabSet.DoChangeTab.apply(this,arguments),this.UpdatePages(),this.DoChangePage(t,e),this.FCollapsed&&null!=this.GetActivePage()){this.FSaveActivePage=this.GetActivePage(),this.FBlockAssign=!0,this.FPopup.Deactivate(),this.FBlockAssign=!1,i=this.GetActivePage().FContainer,this.FPopup.SetContentControl(i),this.FPopup.SetPlacementControl(this);var s=this.FLayout.FPosition;0===s?(this.FPopup.SetDropDownWidth(this.FSaveWidth-Math.round(this.FTabSize.FHeight+this.FTabSize.FMargins.FTop+1)),this.FPopup.SetDropDownHeight(this.GetHeight())):3===s?(this.FPopup.SetDropDownWidth(this.FSaveWidth-Math.round(this.FTabSize.FHeight+this.FTabSize.FMargins.FRight+1)),this.FPopup.SetDropDownHeight(this.GetHeight())):1===s?(this.FPopup.SetDropDownWidth(this.GetWidth()),this.FPopup.SetDropDownHeight(this.FSaveHeight-Math.round(this.FTabSize.FHeight+this.FTabSize.FMargins.FTop+1))):2===s&&(this.FPopup.SetDropDownWidth(this.GetWidth()),this.FPopup.SetDropDownHeight(this.FSaveHeight-Math.round(this.FTabSize.FHeight+this.FTabSize.FMargins.FBottom+1)));var o=this.FLayout.FPosition;0===o||3===o?(this.FPopup.FHorizontalOffset=-1,this.FPopup.FVerticalOffset=0,this.FPopup.SetDropDownWidth(this.FPopup.FDropDownWidth+2)):1!==o&&2!==o||(this.FPopup.FVerticalOffset=-1,this.FPopup.FHorizontalOffset=0,this.FPopup.SetDropDownHeight(this.FPopup.FDropDownHeight+2));var n=this.FLayout.FPosition;0===n?this.FPopup.SetPlacement(3):1===n?this.FPopup.SetPlacement(0):2===n?this.FPopup.SetPlacement(1):3===n&&this.FPopup.SetPlacement(2),this.FPopup.Activate()}},this.DoBeforeReorderTab=function(t,e,i){pas["WEBLib.TMSFNCTabSet"].TTMSFNCCustomTabSet.DoBeforeReorderTab.apply(this,arguments),this.DoBeforeReorderPage(t,e,i)},this.DoReorderTab=function(t,e){pas["WEBLib.TMSFNCTabSet"].TTMSFNCCustomTabSet.DoReorderTab.apply(this,arguments),this.DoReorderPage(t,e),this.FUpdateMargins=!0},this.DoBeforeCloseTab=function(t,e){var i=0,s=0;pas["WEBLib.TMSFNCTabSet"].TTMSFNCCustomTabSet.DoBeforeCloseTab.apply(this,arguments),s=e.get(),i=s,this.DoBeforeClosePage(t,{get:function(){return i},set:function(t){i=t}}),s=i,e.set(s)},this.DoCloseTab=function(t,e){var i=0;pas["WEBLib.TMSFNCTabSet"].TTMSFNCCustomTabSet.DoCloseTab.apply(this,arguments),i=e,this.DoClosePage(t,i),this.FUpdateMargins=!0},this.DoBeforeInsertTab=function(t,e){pas["WEBLib.TMSFNCTabSet"].TTMSFNCCustomTabSet.DoBeforeInsertTab.apply(this,arguments),this.DoBeforeInsertPage(t,e)},this.DoInsertTab=function(t){pas["WEBLib.TMSFNCTabSet"].TTMSFNCCustomTabSet.DoInsertTab.apply(this,arguments),this.DoInsertPage(t),this.FUpdateMargins=!0},this.DoBeforeChangePage=function(t,e,i){null!=this.FOnBeforeChangePage&&this.FOnBeforeChangePage(this,t,e,i)},this.DoChangePage=function(t,e){null!=this.FOnChangePage&&this.FOnChangePage(this,t,e)},this.DoBeforeReorderPage=function(t,e,i){null!=this.FOnBeforeReorderPage&&this.FOnBeforeReorderPage(this,t,e,i)},this.DoReorderPage=function(t,e){null!=this.FOnReorderPage&&this.FOnReorderPage(this,t,e)},this.DoBeforeClosePage=function(t,e){null!=this.FOnBeforeClosePage&&this.FOnBeforeClosePage(this,t,e)},this.DoClosePage=function(t,e){null!=this.FOnClosePage&&this.FOnClosePage(this,t,e)},this.DoBeforeInsertPage=function(t,e){null!=this.FOnBeforeInsertPage&&this.FOnBeforeInsertPage(this,t,e)},this.DoInsertPage=function(t){null!=this.FOnInsertPage&&this.FOnInsertPage(this,t)},this.Create$1=function(e){return pas["WEBLib.TMSFNCTabSet"].TTMSFNCCustomTabSet.Create$1.apply(this,arguments),this.FPopup=t.TTMSFNCPageControlPopup.$create("Create$1",[this]),this.FPopup.FOnClosePopup=rtl.createCallback(this,"DoClosePopup"),this.IsDesignTime()&&this.DisableBackground(),this.FTabSize.FOnChange=rtl.createCallback(this,"UpdateAllPages"),this.FLayout.FOnChange=rtl.createCallback(this,"UpdateAllPages"),this.FSaveWidth=-1,this.FSaveHeight=-1,this},this.Destroy=function(){rtl.free(this,"FPopup"),pas["WEBLib.TMSFNCTabSet"].TTMSFNCCustomTabSet.Destroy.call(this)},this.AddPage=function(t){var e=null;return(e=this.GetPages().Add$2()).SetText(t),null!=this.FOnInternalInsertPage&&this.FOnInternalInsertPage(e),e},this.BeginUpdate=function(){pas["WEBLib.TMSFNCTabSet"].TTMSFNCCustomTabSet.BeginUpdate.call(this),this.FUpdateCount$2+=1},this.EndUpdate=function(){pas["WEBLib.TMSFNCTabSet"].TTMSFNCCustomTabSet.EndUpdate.call(this),this.FUpdateCount$2-=1,0===this.FUpdateCount$2&&this.UpdatePages()},this.UpdateControlAfterResize=function(){this.FUpdateMargins=!0,pas["WEBLib.TMSFNCTabSet"].TTMSFNCCustomTabSet.UpdateControlAfterResize.call(this)},rtl.addIntf(this,pas["WEBLib.TMSFNCGraphicsTypes"].ITMSFNCAppearanceGlobalFont),rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]])})),rtl.createClass(this,"TTMSFNCPageControl",this.TTMSFNCCustomPageControl,(function(){this.$init=function(){t.TTMSFNCCustomPageControl.$init.call(this),this.FInitialize=!1},this.RegisterRuntimeClasses=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.RegisterRuntimeClasses.call(this),pas.Classes.RegisterClasses([t.TTMSFNCPageControl,t.TTMSFNCPageControlPage])},this.SetName=function(t){pas["WEBLib.Controls"].TCustomControl.SetName.apply(this,arguments),this.FInitialize&&(this.InitSample$1(),this.FInitialize=!1)},this.Create$1=function(e){return t.TTMSFNCCustomPageControl.Create$1.apply(this,arguments),this.SetWidth(500),this.SetHeight(500),this.FInitialize=this.IsDesignTime(),this},this.InitSample$1=function(){this.BeginUpdate(),this.ResetToDefaultStyle(),this.GetPages().Clear$1(),this.AddPage("Page 1").SetUseDefaultAppearance(!0),this.AddPage("Page 2").SetUseDefaultAppearance(!0),this.AddPage("Page 3").SetUseDefaultAppearance(!0),this.EndUpdate()},rtl.addIntf(this,pas["WEBLib.TMSFNCGraphicsTypes"].ITMSFNCAppearanceGlobalFont),rtl.addIntf(this,pas["WEBLib.TMSFNCStyles"].ITMSFNCAdaptToStyle),rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addMethod("Create$1",2,[["AOwner",pas.Classes.$rtti.TComponent]]),e.addProperty("ActivePageIndex",3,rtl.longint,"GetActivePageIndex","SetActivePageIndex",{Default:0}),e.addProperty("Collapsed",2,rtl.boolean,"FCollapsed","SetCollapsed",{Default:!1}),e.addProperty("Fill",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFill,"FFill","SetFill"),e.addProperty("Stroke",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsStroke,"FStroke","SetStroke"),e.addProperty("TabAppearance",2,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetTabAppearance,"FTabAppearance","SetTabAppearance"),e.addProperty("ButtonAppearance",2,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetButtonAppearance,"FButtonAppearance","SetButtonAppearance"),e.addProperty("BitmapContainer",3,pas["WEBLib.TMSFNCBitmapContainer"].$rtti.TTMSFNCBitmapContainer,"GetBitmapContainer","SetBitmapContainer"),e.addProperty("Interaction",2,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetInteraction,"FInteraction","SetInteraction"),e.addProperty("Options",2,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetOptions,"FOptions","SetOptions"),e.addProperty("TabSize",2,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetTabSize,"FTabSize","SetTabSize"),e.addProperty("Layout",2,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetLayout,"FLayout","SetLayout"),e.addProperty("Version",1,rtl.string,"GetVersion",""),e.addProperty("Pages",3,t.$rtti.TTMSFNCPageControlPages,"GetPages","SetPages"),e.addProperty("OnBeforeClosePage",0,t.$rtti.TTMSFNCPageControlBeforeClosePageEvent,"FOnBeforeClosePage","FOnBeforeClosePage"),e.addProperty("OnBeforeChangePage",0,t.$rtti.TTMSFNCPageControlBeforeChangePageEvent,"FOnBeforeChangePage","FOnBeforeChangePage"),e.addProperty("OnClosePage",0,t.$rtti.TTMSFNCPageControlClosePageEvent,"FOnClosePage","FOnClosePage"),e.addProperty("OnChangePage",0,t.$rtti.TTMSFNCPageControlChangePageEvent,"FOnChangePage","FOnChangePage"),e.addProperty("OnAnchorTabClick",0,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetAnchorTabClickEvent,"FOnAnchorTabClick","FOnAnchorTabClick"),e.addProperty("OnBeforeInsertPage",0,t.$rtti.TTMSFNCPageControlBeforeInsertPageEvent,"FOnBeforeInsertPage","FOnBeforeInsertPage"),e.addProperty("OnInsertPage",0,t.$rtti.TTMSFNCPageControlInsertPageEvent,"FOnInsertPage","FOnInsertPage"),e.addProperty("OnBeforeUpdateTab",0,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetBeforeUpdateTabEvent,"FOnBeforeUpdateTab","FOnBeforeUpdateTab"),e.addProperty("OnUpdateTab",0,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetUpdateTabEvent,"FOnUpdateTab","FOnUpdateTab"),e.addProperty("OnBeforeOpenInplaceEditor",0,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetBeforeOpenInplaceEditorEvent,"FOnBeforeOpenInplaceEditor","FOnBeforeOpenInplaceEditor"),e.addProperty("OnCloseInplaceEditor",0,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetCloseInplaceEditorEvent,"FOnCloseInplaceEditor","FOnCloseInplaceEditor"),e.addProperty("OnOpenInplaceEditor",0,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetOpenInplaceEditorEvent,"FOnOpenInplaceEditor","FOnOpenInplaceEditor"),e.addProperty("OnGetInplaceEditor",0,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetGetInplaceEditorEvent,"FOnGetInplaceEditor","FOnGetInplaceEditor"),e.addProperty("OnCustomizeInplaceEditor",0,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetCustomizeInplaceEditorEvent,"FOnCustomizeInplaceEditor","FOnCustomizeInplaceEditor"),e.addProperty("OnGetInplaceEditorRect",0,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetGetInplaceEditorRectEvent,"FOnGetInplaceEditorRect","FOnGetInplaceEditorRect"),e.addProperty("OnBeforeReorderPage",0,t.$rtti.TTMSFNCPageControlBeforeReorderPageEvent,"FOnBeforeReorderPage","FOnBeforeReorderPage"),e.addProperty("OnReorderPage",0,t.$rtti.TTMSFNCPageControlReorderPageEvent,"FOnReorderPage","FOnReorderPage"),e.addProperty("OnBeforeDrawTabBackground",0,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetBeforeDrawTabBackgroundEvent,"FOnBeforeDrawTabBackground","FOnBeforeDrawTabBackground"),e.addProperty("OnBeforeDrawTabProgress",0,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetBeforeDrawTabProgressEvent,"FOnBeforeDrawTabProgress","FOnBeforeDrawTabProgress"),e.addProperty("OnBeforeDrawTabBadge",0,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetBeforeDrawTabBadgeEvent,"FOnBeforeDrawTabBadge","FOnBeforeDrawTabBadge"),e.addProperty("OnBeforeDrawTabText",0,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetBeforeDrawTabTextEvent,"FOnBeforeDrawTabText","FOnBeforeDrawTabText"),e.addProperty("OnBeforeDrawTabCloseButton",0,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetBeforeDrawTabCloseButtonEvent,"FOnBeforeDrawTabCloseButton","FOnBeforeDrawTabCloseButton"),e.addProperty("OnBeforeDrawTabBitmap",0,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetBeforeDrawTabBitmapEvent,"FOnBeforeDrawTabBitmap","FOnBeforeDrawTabBitmap"),e.addProperty("OnAfterDrawTabBackground",0,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetAfterDrawTabBackgroundEvent,"FOnAfterDrawTabBackground","FOnAfterDrawTabBackground"),e.addProperty("OnAfterDrawTabProgress",0,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetAfterDrawTabProgressEvent,"FOnAfterDrawTabProgress","FOnAfterDrawTabProgress"),e.addProperty("OnAfterDrawTabBadge",0,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetAfterDrawTabBadgeEvent,"FOnAfterDrawTabBadge","FOnAfterDrawTabBadge"),e.addProperty("OnAfterDrawTabText",0,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetAfterDrawTabTextEvent,"FOnAfterDrawTabText","FOnAfterDrawTabText"),e.addProperty("OnAfterDrawTabCloseButton",0,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetAfterDrawTabCloseButtonEvent,"FOnAfterDrawTabCloseButton","FOnAfterDrawTabCloseButton"),e.addProperty("OnAfterDrawTabBitmap",0,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetAfterDrawTabBitmapEvent,"FOnAfterDrawTabBitmap","FOnAfterDrawTabBitmap"),e.addProperty("OnBeforeDrawMenuButton",0,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetBeforeDrawMenuButton,"FOnBeforeDrawMenuButton","FOnBeforeDrawMenuButton"),e.addProperty("OnAfterDrawMenuButton",0,pas["WEBLib.TMSFNCTabSet"].$rtti.TTMSFNCTabSetAfterDrawMenuButton,"FOnAfterDrawMenuButton","FOnAfterDrawMenuButton"),e.attr=[pas.Classes.ComponentPlatformsAttribute,"Create$1",[0]]})),t.$implcode=function(){rtl.createClass(e,"TTMSFNCTabSetTabOpen",pas["WEBLib.TMSFNCTabSet"].TTMSFNCTabSetTab,(function(){}))},t.$init=function(){pas.Classes.RegisterClass(t.TTMSFNCPageControlContainer)}}),["WEBLib.TMSFNCUtils","WEBLib.Graphics","SysUtils","Math","WEBLib.TMSFNCGraphicsTypes"]),rtl.module("uMOLDPIA",["System","SysUtils","Classes","JS","Web","WEBLib.Graphics","WEBLib.Controls","WEBLib.Forms","WEBLib.Dialogs","WEBLib.StdCtrls","WEBLib.ExtCtrls","uDefine","uUtils","uApiProtocols","WEBLib.Controls","WEBLib.StdCtrls","WEBLib.Imaging.gifimg","WEBLib.TMSFNCTypes","WEBLib.TMSFNCUtils","WEBLib.TMSFNCGraphics","WEBLib.TMSFNCGraphicsTypes","WEBLib.TMSFNCToolBar","WEBLib.TMSFNCCustomControl","WEBLib.TMSFNCPanel","WEBLib.TMSFNCGridCell","WEBLib.TMSFNCGridOptions","WEBLib.TMSFNCCustomScrollControl","WEBLib.TMSFNCGridData","WEBLib.TMSFNCCustomGrid","WEBLib.TMSFNCGrid","WEBLib.TMSFNCPageControl","WEBLib.TMSFNCTabSet","WEBLib.TMSFNCEdit"],(function(){"use strict";rtl.createClass(this,"TfMOLDPIA",pas["WEBLib.Forms"].TForm,(function(){this.$init=function(){pas["WEBLib.Forms"].TForm.$init.call(this),this.pnl_header=null,this.lbl_user_name=null,this.btn_login=null,this.page_ctr=null,this.pg_magam=null,this.pg_nabpum=null,this.grd_nabpum_02=null,this.edt_pw=null,this.edt_id=null,this.pnl_nabpum_top=null,this.pnl_search_nabpum=null,this.btn_search_nabpum=null,this.lbl_nampum_01=null,this.cb_nabpum_01=null,this.lbl_nampum_02=null,this.dtp_nabpum_01=null,this.dtp_nabpum_02=null,this.pnl_magam_top=null,this.pnl_search_magam=null,this.btn_search_magam=null,this.lbl_magam_01=null,this.cb_magam_01=null,this.lbl_magam_02=null,this.ck_magam_01=null,this.ck_magam_02=null,this.cb_magam_02=null,this.dtp_magam_01=null,this.dtp_magam_02=null,this.grd_magam_02=null,this.grd_magam_01=null,this.grd_nabpum_01=null,this.wbwtmsg=null,this.m_stLogin=pas.uApiProtocols.ST_RES_LOGIN.$new(),this.m_stComp=pas.uApiProtocols.ST_RES_CM_SET.$new(),this.m_stMagam=pas.uApiProtocols.ST_RES_MG_SET.$new(),this.m_stNabpum=pas.uApiProtocols.ST_RES_NP_SET.$new()},this.$final=function(){this.pnl_header=void 0,this.lbl_user_name=void 0,this.btn_login=void 0,this.page_ctr=void 0,this.pg_magam=void 0,this.pg_nabpum=void 0,this.grd_nabpum_02=void 0,this.edt_pw=void 0,this.edt_id=void 0,this.pnl_nabpum_top=void 0,this.pnl_search_nabpum=void 0,this.btn_search_nabpum=void 0,this.lbl_nampum_01=void 0,this.cb_nabpum_01=void 0,this.lbl_nampum_02=void 0,this.dtp_nabpum_01=void 0,this.dtp_nabpum_02=void 0,this.pnl_magam_top=void 0,this.pnl_search_magam=void 0,this.btn_search_magam=void 0,this.lbl_magam_01=void 0,this.cb_magam_01=void 0,this.lbl_magam_02=void 0,this.ck_magam_01=void 0,this.ck_magam_02=void 0,this.cb_magam_02=void 0,this.dtp_magam_01=void 0,this.dtp_magam_02=void 0,this.grd_magam_02=void 0,this.grd_magam_01=void 0,this.grd_nabpum_01=void 0,this.wbwtmsg=void 0,this.m_stLogin=void 0,this.m_stComp=void 0,this.m_stMagam=void 0,this.m_stNabpum=void 0,pas["WEBLib.Forms"].TForm.$final.call(this)},this.WebFormShow=function(t){this.dtp_magam_01.SetDateTime(pas.uUtils.fGetFirstDayOfCurrentMonth()),this.dtp_magam_02.SetDateTime(pas.SysUtils.Now()),this.dtp_nabpum_01.SetDateTime(pas.uUtils.fGetFirstDayOfCurrentMonth()),this.dtp_nabpum_02.SetDateTime(pas.SysUtils.Now()),this.set_header_grd_magam_01(),this.set_header_grd_magam_02(),this.set_header_grd_nabpum_01(),this.set_header_grd_nabpum_02()},this.btn_search_magamClick=async function(t){var e,i=pas.uApiProtocols.ST_REQ_COMMON.$new();e=pas.SysUtils.Trim(this.cb_magam_01.GetText()),i.sCompCode=this.get_code_by_comp_name(e),this.grd_magam_01.BeginUpdate(),this.grd_magam_01.SetRowCount(1),this.grd_magam_01.EndUpdate(),this.grd_magam_02.BeginUpdate(),this.grd_magam_02.SetRowCount(1),this.grd_magam_02.EndUpdate(),""!==i.sCompCode&&(i.sID=this.m_stLogin.s_USER_ID,i.sPeriodType=pas.SysUtils.Trim(this.cb_magam_02.GetText()),i.sPeriodS=pas.SysUtils.Trim(this.dtp_magam_01.GetText()),i.sPeriodE=pas.SysUtils.Trim(this.dtp_magam_02.GetText()),i.bMagamBefore=this.ck_magam_01.GetChecked(),i.bMagamAfter=this.ck_magam_02.GetChecked(),this.call_api_magam_info(pas.uApiProtocols.ST_REQ_COMMON.$clone(i)))},this.btn_search_nabpumClick=async function(t){var e,i=pas.uApiProtocols.ST_REQ_COMMON.$new();e=pas.SysUtils.Trim(this.cb_nabpum_01.GetText()),i.sCompCode=this.get_code_by_comp_name(e),this.grd_nabpum_01.BeginUpdate(),this.grd_nabpum_01.SetRowCount(1),this.grd_nabpum_01.EndUpdate(),this.grd_nabpum_02.BeginUpdate(),this.grd_nabpum_02.SetRowCount(1),this.grd_nabpum_02.EndUpdate(),""!==i.sCompCode&&(i.sID=this.m_stLogin.s_USER_ID,i.sPeriodType="납품기간",i.sPeriodS=pas.SysUtils.Trim(this.dtp_nabpum_01.GetText()),i.sPeriodE=pas.SysUtils.Trim(this.dtp_nabpum_02.GetText()),i.bMagamBefore=!1,i.bMagamAfter=!1,this.call_api_nabpum_info(pas.uApiProtocols.ST_REQ_COMMON.$clone(i)))},this.grd_magam_02CellClick=function(t,e,i){var s;s=pas.SysUtils.Format("** Col[%d], Row[%d]",pas.System.VarRecs(0,e,0,i)),window.console.log(s)},this.btn_loginClick=async function(t){var e=pas.uApiProtocols.ST_REQ_COMMON.$new();"로그인"===this.btn_login.GetText()?(e.sID=pas.SysUtils.Trim(this.edt_id.GetT()),e.sPW=pas.SysUtils.Trim(this.edt_pw.GetT()),""!==e.sID&&""!==e.sPW&&(this.m_stLogin.s_USER_ID="",this.m_stLogin.s_USER_NAME="",await this.call_api_check_id_pw(pas.uApiProtocols.ST_REQ_COMMON.$clone(e)),""!==this.m_stLogin.s_USER_ID&&this.call_api_comp_info(this.m_stLogin.s_USER_ID),this.edt_id.SetT(""),this.edt_pw.SetT(""))):(this.btn_login.SetText("로그인"),this.m_stLogin.s_USER_ID="",this.m_stLogin.s_USER_NAME="",this.lbl_user_name.SetCaption(""),this.cb_magam_01.FItems.Clear(),this.cb_nabpum_01.FItems.Clear(),this.grd_magam_01.SetRowCount(1),this.grd_magam_02.SetRowCount(1),this.grd_nabpum_01.SetRowCount(1),this.grd_nabpum_02.SetRowCount(1))},this.cb_magam_02Change=function(t){"주문기간"===this.cb_magam_02.GetText()?this.ck_magam_01.SetEnabled(!0):this.ck_magam_01.SetEnabled(!1)},this.set_header_grd_magam_01=function(){var t=0,e=pas.uDefine.ST_GRID_SET.$new();e.$assign(pas.uDefine.Get_header_grd_magam_01()),this.grd_magam_01.SetColumnCount(e.nCount),this.grd_magam_01.BeginUpdate(),this.grd_magam_01.SetDefaultColumnWidth(80),this.grd_magam_01.FOptions.FSorting.SetMode(0),this.grd_magam_01.FOptions.FMouse.FFixedColumnSizing=!0,this.grd_magam_01.FOptions.FEditing.FEnabled=!1,this.grd_magam_01.FGlobalFont.SetSize(7);for(var i=0,s=e.nCount-1;i<=s;i++)t=i,this.grd_magam_01.SetCells(t,0,e.DATA[t].sTitle),this.grd_magam_01.FColumns.GetItem$1(t).SetWidth(e.DATA[t].nWidth),this.grd_magam_01.FColumns.GetItem$1(t).SetHorzAlignment(e.DATA[t].taHorzAlignment);for(var o=0,n=this.grd_magam_01.GetColumnCount();o<=n;o++)t=o,this.grd_magam_01.SetHorzAlignments(t,0,0);this.grd_magam_01.FColumns.GetItem$1(1).SetHorzAlignment(2),this.grd_magam_01.FColumns.GetItem$1(2).SetHorzAlignment(2),this.grd_magam_01.FColumns.GetItem$1(5).SetHorzAlignment(2),this.grd_magam_01.FColumns.GetItem$1(6).SetHorzAlignment(2),this.grd_magam_01.EndUpdate()},this.set_header_grd_magam_02=function(){var t=0,e=pas.uDefine.ST_GRID_SET.$new();try{this.grd_magam_02.BeginUpdate(),e.$assign(pas.uDefine.Get_header_grd_magam_02()),this.grd_magam_02.SetColumnCount(e.nCount),this.grd_magam_02.SetDefaultColumnWidth(80),this.grd_magam_02.FOptions.FSorting.SetMode(1),this.grd_magam_02.FOptions.FMouse.FFixedColumnSizing=!0,this.grd_magam_02.FOptions.FEditing.FEnabled=!1,this.grd_magam_02.FGlobalFont.SetSize(7);for(var i=0,s=e.nCount-1;i<=s;i++)t=i,this.grd_magam_02.SetCells(t,0,e.DATA[t].sTitle),this.grd_magam_02.FColumns.GetItem$1(t).SetWidth(e.DATA[t].nWidth),this.grd_magam_02.FColumns.GetItem$1(t).SetHorzAlignment(e.DATA[t].taHorzAlignment);for(var o=0,n=this.grd_magam_02.GetColumnCount()-1;o<=n;o++)t=o,this.grd_magam_02.SetHorzAlignments(t,0,0);this.grd_magam_02.FColumns.GetItem$1(0).SetHorzAlignment(0),this.grd_magam_02.FColumns.GetItem$1(1).SetHorzAlignment(0),this.grd_magam_02.FColumns.GetItem$1(2).SetHorzAlignment(0),this.grd_magam_02.FColumns.GetItem$1(3).SetHorzAlignment(0),this.grd_magam_02.FColumns.GetItem$1(4).SetHorzAlignment(1),this.grd_magam_02.FColumns.GetItem$1(5).SetHorzAlignment(1),this.grd_magam_02.FColumns.GetItem$1(6).SetHorzAlignment(1),this.grd_magam_02.FColumns.GetItem$1(7).SetHorzAlignment(1),this.grd_magam_02.FColumns.GetItem$1(8).SetHorzAlignment(1),this.grd_magam_02.FColumns.GetItem$1(9).SetHorzAlignment(0),this.grd_magam_02.FColumns.GetItem$1(10).SetHorzAlignment(1),this.grd_magam_02.FColumns.GetItem$1(11).SetHorzAlignment(1),this.grd_magam_02.FColumns.GetItem$1(12).SetHorzAlignment(1),this.grd_magam_02.FColumns.GetItem$1(13).SetHorzAlignment(1),this.grd_magam_02.FColumns.GetItem$1(14).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(15).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(16).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(17).SetHorzAlignment(0),this.grd_magam_02.FColumns.GetItem$1(18).SetHorzAlignment(0),this.grd_magam_02.FColumns.GetItem$1(19).SetHorzAlignment(0),this.grd_magam_02.FColumns.GetItem$1(20).SetHorzAlignment(1),this.grd_magam_02.FColumns.GetItem$1(21).SetHorzAlignment(1),this.grd_magam_02.FColumns.GetItem$1(22).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(23).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(24).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(25).SetHorzAlignment(0),this.grd_magam_02.FColumns.GetItem$1(26).SetHorzAlignment(0),this.grd_magam_02.FColumns.GetItem$1(27).SetHorzAlignment(0),this.grd_magam_02.FColumns.GetItem$1(28).SetHorzAlignment(0),this.grd_magam_02.FColumns.GetItem$1(29).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(30).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(31).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(32).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(33).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(34).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(35).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(36).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(37).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(38).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(39).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(40).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(41).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(42).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(43).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(44).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(45).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(46).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(47).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(48).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(49).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(50).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(51).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(52).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(53).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(54).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(55).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(56).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(57).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(58).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(59).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(60).SetHorzAlignment(2),this.grd_magam_02.FColumns.GetItem$1(61).SetHorzAlignment(0),this.grd_magam_02.FColumns.GetItem$1(62).SetHorzAlignment(0),this.grd_magam_02.FColumns.GetItem$1(63).SetHorzAlignment(0),this.grd_magam_02.FColumns.GetItem$1(64).SetHorzAlignment(0),this.grd_magam_02.FColumns.GetItem$1(65).SetHorzAlignment(0),this.grd_magam_02.FColumns.GetItem$1(66).SetHorzAlignment(0),this.grd_magam_02.FColumns.GetItem$1(67).SetHorzAlignment(1),this.grd_magam_02.FColumns.GetItem$1(68).SetHorzAlignment(1),this.grd_magam_02.FColumns.GetItem$1(69).SetHorzAlignment(1),this.grd_magam_02.FColumns.GetItem$1(70).SetHorzAlignment(1),this.grd_magam_02.FColumns.GetItem$1(71).SetHorzAlignment(1),this.grd_magam_02.FColumns.GetItem$1(72).SetHorzAlignment(1),this.grd_magam_02.FColumns.GetItem$1(73).SetHorzAlignment(1),this.grd_magam_02.FColumns.GetItem$1(74).SetHorzAlignment(1),this.grd_magam_02.FColumns.GetItem$1(75).SetHorzAlignment(1),this.grd_magam_02.FColumns.GetItem$1(76).SetHorzAlignment(1),this.grd_magam_02.FColumns.GetItem$1(77).SetHorzAlignment(1),this.grd_magam_02.FColumns.GetItem$1(78).SetHorzAlignment(1),this.grd_magam_02.FColumns.GetItem$1(79).SetHorzAlignment(1)}finally{this.grd_magam_02.EndUpdate()}},this.set_header_grd_nabpum_01=function(){var t=0,e=pas.uDefine.ST_GRID_SET.$new();e.$assign(pas.uDefine.Get_header_grd_nabpum_01()),this.grd_nabpum_01.SetColumnCount(e.nCount),this.grd_nabpum_01.BeginUpdate(),this.grd_nabpum_01.SetDefaultColumnWidth(80),this.grd_nabpum_01.FOptions.FSorting.SetMode(1),this.grd_nabpum_01.FOptions.FMouse.FFixedColumnSizing=!0,this.grd_nabpum_01.FOptions.FEditing.FEnabled=!1,this.grd_nabpum_01.FGlobalFont.SetSize(7);for(var i=0,s=e.nCount-1;i<=s;i++)t=i,this.grd_nabpum_01.SetCells(t,0,e.DATA[t].sTitle),this.grd_nabpum_01.FColumns.GetItem$1(t).SetWidth(e.DATA[t].nWidth),this.grd_nabpum_01.FColumns.GetItem$1(t).SetHorzAlignment(e.DATA[t].taHorzAlignment);for(var o=0,n=this.grd_nabpum_01.GetColumnCount();o<=n;o++)t=o,this.grd_nabpum_01.SetHorzAlignments(t,0,0);this.grd_nabpum_01.EndUpdate()},this.set_header_grd_nabpum_02=function(){var t=0,e=pas.uDefine.ST_GRID_SET.$new();try{e.$assign(pas.uDefine.Get_header_grd_nabpum_02()),this.grd_nabpum_02.SetColumnCount(e.nCount),this.grd_nabpum_02.BeginUpdate(),this.grd_nabpum_02.SetDefaultColumnWidth(80),this.grd_nabpum_02.FOptions.FSorting.SetMode(1),this.grd_nabpum_02.FOptions.FMouse.FFixedColumnSizing=!0,this.grd_nabpum_02.FOptions.FEditing.FEnabled=!1,this.grd_nabpum_02.FGlobalFont.SetSize(7);for(var i=0,s=e.nCount-1;i<=s;i++)t=i,this.grd_nabpum_02.SetCells(t,0,e.DATA[t].sTitle),this.grd_nabpum_02.FColumns.GetItem$1(t).SetWidth(e.DATA[t].nWidth),this.grd_nabpum_02.FColumns.GetItem$1(t).SetHorzAlignment(e.DATA[t].taHorzAlignment);for(var o=0,n=this.grd_nabpum_02.GetColumnCount();o<=n;o++)t=o,this.grd_nabpum_02.SetHorzAlignments(t,0,0);for(var a=0,r=this.grd_nabpum_02.GetColumnCount()-1;a<=r;a++)t=a,this.grd_nabpum_02.SetHorzAlignments(t,0,0);this.grd_nabpum_02.FColumns.GetItem$1(0).SetHorzAlignment(0),this.grd_nabpum_02.FColumns.GetItem$1(1).SetHorzAlignment(0),this.grd_nabpum_02.FColumns.GetItem$1(2).SetHorzAlignment(0),this.grd_nabpum_02.FColumns.GetItem$1(3).SetHorzAlignment(0),this.grd_nabpum_02.FColumns.GetItem$1(4).SetHorzAlignment(0),this.grd_nabpum_02.FColumns.GetItem$1(5).SetHorzAlignment(1),this.grd_nabpum_02.FColumns.GetItem$1(6).SetHorzAlignment(1),this.grd_nabpum_02.FColumns.GetItem$1(7).SetHorzAlignment(1),this.grd_nabpum_02.FColumns.GetItem$1(8).SetHorzAlignment(1),this.grd_nabpum_02.FColumns.GetItem$1(9).SetHorzAlignment(1),this.grd_nabpum_02.FColumns.GetItem$1(10).SetHorzAlignment(1),this.grd_nabpum_02.FColumns.GetItem$1(11).SetHorzAlignment(0),this.grd_nabpum_02.FColumns.GetItem$1(12).SetHorzAlignment(1),this.grd_nabpum_02.FColumns.GetItem$1(13).SetHorzAlignment(1),this.grd_nabpum_02.FColumns.GetItem$1(14).SetHorzAlignment(1),this.grd_nabpum_02.FColumns.GetItem$1(15).SetHorzAlignment(1),this.grd_nabpum_02.FColumns.GetItem$1(16).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(17).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(18).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(19).SetHorzAlignment(0),this.grd_nabpum_02.FColumns.GetItem$1(20).SetHorzAlignment(0),this.grd_nabpum_02.FColumns.GetItem$1(21).SetHorzAlignment(0),this.grd_nabpum_02.FColumns.GetItem$1(22).SetHorzAlignment(1),this.grd_nabpum_02.FColumns.GetItem$1(23).SetHorzAlignment(1),this.grd_nabpum_02.FColumns.GetItem$1(24).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(25).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(26).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(27).SetHorzAlignment(0),this.grd_nabpum_02.FColumns.GetItem$1(28).SetHorzAlignment(0),this.grd_nabpum_02.FColumns.GetItem$1(29).SetHorzAlignment(0),this.grd_nabpum_02.FColumns.GetItem$1(30).SetHorzAlignment(0),this.grd_nabpum_02.FColumns.GetItem$1(31).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(32).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(33).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(34).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(35).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(36).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(37).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(38).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(39).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(40).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(41).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(42).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(43).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(44).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(45).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(46).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(47).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(48).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(49).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(50).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(51).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(52).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(53).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(54).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(55).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(56).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(57).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(58).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(59).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(60).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(61).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(62).SetHorzAlignment(2),this.grd_nabpum_02.FColumns.GetItem$1(63).SetHorzAlignment(0),this.grd_nabpum_02.FColumns.GetItem$1(64).SetHorzAlignment(0),this.grd_nabpum_02.FColumns.GetItem$1(65).SetHorzAlignment(0),this.grd_nabpum_02.FColumns.GetItem$1(66).SetHorzAlignment(0),this.grd_nabpum_02.FColumns.GetItem$1(67).SetHorzAlignment(1)}finally{this.grd_nabpum_02.EndUpdate()}},this.get_code_by_comp_name=function(t){var e="",i=0;if(e="",this.m_stComp.n_count>0)for(var s=0,o=this.m_stComp.n_count-1;s<=o;s++)if(i=s,this.m_stComp.ITEM[i].s_CM_NAME===t){e=this.m_stComp.ITEM[i].s_CM_CODE;break}return e},this.update_grd_magam_02=function(t){var e=rtl.arraySetLength(null,0,2),i=0,s=rtl.arraySetLength(null,0,21),o=rtl.arraySetLength(null,0,21),n=0,a=0,r=0,l=0,h=0;if(""===t.sException){if(this.grd_magam_02.BeginUpdate(),this.grd_magam_02.SetRowCount(1),t.n_count>0){this.grd_magam_02.SetRowCount(t.n_count+1+1),this.grd_magam_02.SetFixedFooterRows(1);for(var F=0,p=t.n_count-1;F<=p;F++)l=F,this.grd_magam_02.SetCells(0,l+1,t.ITEM[l].s_MGDATE),this.grd_magam_02.SetCells(1,l+1,t.ITEM[l].s_OD_CODE),this.grd_magam_02.SetCells(2,l+1,t.ITEM[l].s_ODDATE),this.grd_magam_02.SetCells(3,l+1,t.ITEM[l].s_CMCODE),this.grd_magam_02.SetCells(4,l+1,t.ITEM[l].s_CM_NAME),this.grd_magam_02.SetCells(5,l+1,t.ITEM[l].s_O_TRCODE),this.grd_magam_02.SetCells(6,l+1,t.ITEM[l].s_TRNAME),this.grd_magam_02.SetCells(7,l+1,t.ITEM[l].s_EPCODE),this.grd_magam_02.SetCells(8,l+1,t.ITEM[l].s_EPNAME),this.grd_magam_02.SetCells(9,l+1,t.ITEM[l].s_LTNO),this.grd_magam_02.SetCells(10,l+1,t.ITEM[l].s_STCODE),this.grd_magam_02.SetCells(11,l+1,t.ITEM[l].s_STNAME),this.grd_magam_02.SetCells(12,l+1,t.ITEM[l].s_USSTCODE),this.grd_magam_02.SetCells(13,l+1,t.ITEM[l].s_USSTNAME),this.grd_magam_02.SetCells(14,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_ST)),this.grd_magam_02.SetCells(15,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_SW)),this.grd_magam_02.SetCells(16,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_SL)),this.grd_magam_02.SetCells(17,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_QTY)),this.grd_magam_02.SetCells(18,l+1,t.ITEM[l].s_WKCODE),this.grd_magam_02.SetCells(19,l+1,t.ITEM[l].s_CCCODE),this.grd_magam_02.SetCells(20,l+1,t.ITEM[l].s_CHARTNO),this.grd_magam_02.SetCells(21,l+1,t.ITEM[l].s_POOMNO),this.grd_magam_02.SetCells(22,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_CT)),this.grd_magam_02.SetCells(23,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_CW)),this.grd_magam_02.SetCells(24,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_CL)),this.grd_magam_02.SetCells(25,l+1,t.ITEM[l].s_MYUN),this.grd_magam_02.SetCells(26,l+1,t.ITEM[l].s_FCCODE),this.grd_magam_02.SetCells(27,l+1,pas.SysUtils.IntToStr(t.ITEM[l].n_KGDIV)),this.grd_magam_02.SetCells(28,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_KG)),this.grd_magam_02.SetCells(29,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_PRC1)),this.grd_magam_02.SetCells(30,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_MONEY1)),this.grd_magam_02.SetCells(31,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_TAX1)),this.grd_magam_02.SetCells(32,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_PRC2)),this.grd_magam_02.SetCells(33,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_MONEY2)),this.grd_magam_02.SetCells(34,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_TAX2)),this.grd_magam_02.SetCells(35,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_PRC3)),this.grd_magam_02.SetCells(36,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_MONEY3)),this.grd_magam_02.SetCells(37,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_TAX3)),this.grd_magam_02.SetCells(38,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_PRC4)),this.grd_magam_02.SetCells(39,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_MONEY4)),this.grd_magam_02.SetCells(40,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_TAX4)),this.grd_magam_02.SetCells(41,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_PRC5)),this.grd_magam_02.SetCells(42,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_MONEY5)),this.grd_magam_02.SetCells(43,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_TAX5)),this.grd_magam_02.SetCells(44,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_PRC6)),this.grd_magam_02.SetCells(45,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_MONEY6)),this.grd_magam_02.SetCells(46,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_TAX6)),this.grd_magam_02.SetCells(47,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_PRC7)),this.grd_magam_02.SetCells(48,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_MONEY7)),this.grd_magam_02.SetCells(49,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_TAX7)),this.grd_magam_02.SetCells(50,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_PRC8)),this.grd_magam_02.SetCells(51,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_MONEY8)),this.grd_magam_02.SetCells(52,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_TAX8)),this.grd_magam_02.SetCells(53,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_PRC9)),this.grd_magam_02.SetCells(54,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_MONEY9)),this.grd_magam_02.SetCells(55,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_TAX9)),this.grd_magam_02.SetCells(56,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_PRC10)),this.grd_magam_02.SetCells(57,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_MONEY10)),this.grd_magam_02.SetCells(58,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_TAX10)),this.grd_magam_02.SetCells(59,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_MONEYSUM)),this.grd_magam_02.SetCells(60,l+1,pas.SysUtils.FloatToStr(t.ITEM[l].f_TAXSUM)),this.grd_magam_02.SetCells(61,l+1,t.ITEM[l].s_PRDATE),this.grd_magam_02.SetCells(62,l+1,t.ITEM[l].s_KJ_CODE),this.grd_magam_02.SetCells(63,l+1,t.ITEM[l].s_NP_CODE),this.grd_magam_02.SetCells(64,l+1,t.ITEM[l].s_NPDATE),this.grd_magam_02.SetCells(65,l+1,t.ITEM[l].s_TX_CODE),this.grd_magam_02.SetCells(66,l+1,t.ITEM[l].s_TXDATE),this.grd_magam_02.SetCells(67,l+1,t.ITEM[l].s_REM),this.grd_magam_02.SetCells(68,l+1,t.ITEM[l].s_S_TRCODE),this.grd_magam_02.SetCells(69,l+1,pas.SysUtils.IntToStr(t.ITEM[l].n_STWL)),this.grd_magam_02.SetCells(70,l+1,pas.SysUtils.IntToStr(t.ITEM[l].n_MYUN)),this.grd_magam_02.SetCells(71,l+1,pas.SysUtils.IntToStr(t.ITEM[l].n_KGPR)),this.grd_magam_02.SetCells(72,l+1,pas.SysUtils.IntToStr(t.ITEM[l].n_SPCODE)),this.grd_magam_02.SetCells(73,l+1,pas.SysUtils.IntToStr(t.ITEM[l].n_TW)),this.grd_magam_02.SetCells(74,l+1,pas.SysUtils.IntToStr(t.ITEM[l].n_TWCNT)),this.grd_magam_02.SetCells(75,l+1,pas.SysUtils.IntToStr(t.ITEM[l].n_L)),this.grd_magam_02.SetCells(76,l+1,pas.SysUtils.IntToStr(t.ITEM[l].n_LCNT)),this.grd_magam_02.SetCells(77,l+1,t.ITEM[l].s_PRC),this.grd_magam_02.SetCells(78,l+1,pas.SysUtils.IntToStr(t.ITEM[l].n_HEAT)),this.grd_magam_02.SetCells(79,l+1,t.ITEM[l].s_WKDATE)}if(this.grd_magam_02.SetFixedColumns(1),this.grd_magam_02.SetScrollMode(0),this.grd_magam_02.SetColumnCalculation(0,3),this.grd_magam_02.SetColumnCalculation(17,1),this.grd_magam_02.SetColumnCalculation(28,1),this.grd_magam_02.SetColumnCalculation(30,1),this.grd_magam_02.SetColumnCalculation(33,1),this.grd_magam_02.SetColumnCalculation(36,1),this.grd_magam_02.SetColumnCalculation(39,1),this.grd_magam_02.SetColumnCalculation(42,1),this.grd_magam_02.SetColumnCalculation(45,1),this.grd_magam_02.SetColumnCalculation(48,1),this.grd_magam_02.SetColumnCalculation(51,1),this.grd_magam_02.SetColumnCalculation(54,1),this.grd_magam_02.SetColumnCalculation(57,1),this.grd_magam_02.SetColumnCalculation(59,1),this.grd_magam_02.UpdateCalculations(),this.grd_magam_02.SetFocusedCell(pas["WEBLib.TMSFNCGridData"].MakeCell(0,1)),this.grd_magam_02.EndUpdate(),t.n_count>0){for(e[0]=0,e[1]=0,i=0,r=0;r<=20;r++)s[r]=0,o[r]=0;for(var C=0,u=t.n_count-1;C<=u;C++){for(r=C,r,n=0,0===(n=""===t.ITEM[r].s_MGDATE||"마감전저장"===t.ITEM[r].s_MGDATE?0:1)&&(n=n),a=0;a<=9;a++)if(a in rtl.createSet(0,null,3,9)){var d=a;0===d?h=t.ITEM[r].f_MONEY1:3===d?h=t.ITEM[r].f_MONEY4:4===d?h=t.ITEM[r].f_MONEY5:5===d?h=t.ITEM[r].f_MONEY6:6===d?h=t.ITEM[r].f_MONEY7:7===d?h=t.ITEM[r].f_MONEY8:8===d?h=t.ITEM[r].f_MONEY9:9===d&&(h=t.ITEM[r].f_MONEY10),0===n?s[a+1]=s[a+1]+h:o[a+1]=o[a+1]+h}t.ITEM[r].f_MONEY2>=t.ITEM[r].f_MONEY3?0===n?s[2]=s[2]+t.ITEM[r].f_MONEY2:o[2]=o[2]+t.ITEM[r].f_MONEY2:0===n?s[3]=s[3]+t.ITEM[r].f_MONEY3:o[3]=o[3]+t.ITEM[r].f_MONEY3,0===n?s[11]=s[11]+t.ITEM[r].f_MONEYSUM:o[11]=o[11]+t.ITEM[r].f_MONEYSUM,e[n]=e[n]+t.ITEM[r].f_KG,i+=t.ITEM[r].f_QTY}}this.grd_magam_01.BeginUpdate(),this.grd_magam_01.SetRowCount(1),t.n_count>0&&(this.grd_magam_01.SetRowCount(7),this.grd_magam_01.SetCells(0,1,"중량금액"),this.grd_magam_01.SetCells(0,2,"면적금액"),this.grd_magam_01.SetCells(0,3,"규격금액"),this.grd_magam_01.SetCells(0,4,"성형밀링금액"),this.grd_magam_01.SetCells(0,5,"성형연마금액"),this.grd_magam_01.SetCells(4,1,"NC가공금액"),this.grd_magam_01.SetCells(4,2,"열처리금액"),this.grd_magam_01.SetCells(4,3,"와이어금액"),this.grd_magam_01.SetCells(4,4,"선반금액"),this.grd_magam_01.SetCells(4,5,"기타금액"),this.grd_magam_01.SetCells(4,6,"금액합계"),this.grd_magam_01.SetCells(1,1,pas.SysUtils.FormatFloat("#,###",s[1])),this.grd_magam_01.SetCells(1,2,pas.SysUtils.FormatFloat("#,###",s[2])),this.grd_magam_01.SetCells(1,3,pas.SysUtils.FormatFloat("#,###",s[3])),this.grd_magam_01.SetCells(1,4,pas.SysUtils.FormatFloat("#,###",s[4])),this.grd_magam_01.SetCells(1,5,pas.SysUtils.FormatFloat("#,###",s[5])),this.grd_magam_01.SetCells(2,1,pas.SysUtils.FormatFloat("#,###",o[1])),this.grd_magam_01.SetCells(2,2,pas.SysUtils.FormatFloat("#,###",o[2])),this.grd_magam_01.SetCells(2,3,pas.SysUtils.FormatFloat("#,###",o[3])),this.grd_magam_01.SetCells(2,4,pas.SysUtils.FormatFloat("#,###",o[4])),this.grd_magam_01.SetCells(2,5,pas.SysUtils.FormatFloat("#,###",o[5])),this.grd_magam_01.SetCells(0,6,pas.SysUtils.FormatFloat("#,##0",i)+" EA"),this.grd_magam_01.SetCells(1,6,pas.SysUtils.FormatFloat("###0.##",e[0])+" KG"),this.grd_magam_01.SetCells(2,6,pas.SysUtils.FormatFloat("###0.##",e[1])+" KG"),this.grd_magam_01.SetCells(5,1,pas.SysUtils.FormatFloat("#,###",s[7])),this.grd_magam_01.SetCells(5,2,pas.SysUtils.FormatFloat("#,###",s[6])),this.grd_magam_01.SetCells(5,3,pas.SysUtils.FormatFloat("#,###",s[8])),this.grd_magam_01.SetCells(5,4,pas.SysUtils.FormatFloat("#,###",s[9])),this.grd_magam_01.SetCells(5,5,pas.SysUtils.FormatFloat("#,###",s[10])),this.grd_magam_01.SetCells(5,6,pas.SysUtils.FormatFloat("#,###",s[11])),this.grd_magam_01.SetCells(6,1,pas.SysUtils.FormatFloat("#,###",o[7])),this.grd_magam_01.SetCells(6,2,pas.SysUtils.FormatFloat("#,###",o[6])),this.grd_magam_01.SetCells(6,3,pas.SysUtils.FormatFloat("#,###",o[8])),this.grd_magam_01.SetCells(6,4,pas.SysUtils.FormatFloat("#,###",o[9])),this.grd_magam_01.SetCells(6,5,pas.SysUtils.FormatFloat("#,###",o[10])),this.grd_magam_01.SetCells(6,6,pas.SysUtils.FormatFloat("#,###",o[11]))),this.grd_magam_01.SetFocusedCell(pas["WEBLib.TMSFNCGridData"].MakeCell(0,1)),this.grd_magam_01.EndUpdate()}},this.update_grd_nabpum_02=function(t){var e=0;if(""===t.sException){if(this.grd_nabpum_02.BeginUpdate(),this.grd_nabpum_02.SetRowCount(1),t.n_count>0){this.grd_nabpum_02.SetRowCount(t.n_count+1+1),this.grd_nabpum_02.SetFixedFooterRows(1);for(var i=0,s=t.n_count-1;i<=s;i++)e=i,this.grd_nabpum_02.SetCells(0,e+1,t.ITEM[e].s_O_NP_CODE),this.grd_nabpum_02.SetCells(1,e+1,t.ITEM[e].s_O_NPDATE),this.grd_nabpum_02.SetCells(2,e+1,t.ITEM[e].s_O_PRDATE),this.grd_nabpum_02.SetCells(3,e+1,t.ITEM[e].s_O_OD_CODE),this.grd_nabpum_02.SetCells(4,e+1,t.ITEM[e].s_O_ODDATE),this.grd_nabpum_02.SetCells(5,e+1,t.ITEM[e].s_O_CMCODE),this.grd_nabpum_02.SetCells(6,e+1,t.ITEM[e].s_C_CM_NAME),this.grd_nabpum_02.SetCells(7,e+1,t.ITEM[e].s_O_TRCODE),this.grd_nabpum_02.SetCells(8,e+1,t.ITEM[e].s_T_TRNAME),this.grd_nabpum_02.SetCells(9,e+1,t.ITEM[e].s_O_EPCODE),this.grd_nabpum_02.SetCells(10,e+1,t.ITEM[e].s_E_EPNAME),this.grd_nabpum_02.SetCells(11,e+1,t.ITEM[e].s_D_LTNO),this.grd_nabpum_02.SetCells(12,e+1,t.ITEM[e].s_D_STCODE),this.grd_nabpum_02.SetCells(13,e+1,t.ITEM[e].s_D_STNAME),this.grd_nabpum_02.SetCells(14,e+1,t.ITEM[e].s_D_USSTCODE),this.grd_nabpum_02.SetCells(15,e+1,t.ITEM[e].s_D_USSTNAME),this.grd_nabpum_02.SetCells(16,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_D_ST)),this.grd_nabpum_02.SetCells(17,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_D_SW)),this.grd_nabpum_02.SetCells(18,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_D_SL)),this.grd_nabpum_02.SetCells(19,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_D_QTY)),this.grd_nabpum_02.SetCells(20,e+1,t.ITEM[e].s_D_WKCODE),this.grd_nabpum_02.SetCells(21,e+1,t.ITEM[e].s_D_CCCODE),this.grd_nabpum_02.SetCells(22,e+1,t.ITEM[e].s_D_CHARTNO),this.grd_nabpum_02.SetCells(23,e+1,t.ITEM[e].s_D_POOMNO),this.grd_nabpum_02.SetCells(24,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_D_CT)),this.grd_nabpum_02.SetCells(25,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_D_CW)),this.grd_nabpum_02.SetCells(26,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_D_CL)),this.grd_nabpum_02.SetCells(27,e+1,t.ITEM[e].s_D_MYUN),this.grd_nabpum_02.SetCells(28,e+1,t.ITEM[e].s_D_FCCODE),this.grd_nabpum_02.SetCells(29,e+1,pas.SysUtils.IntToStr(t.ITEM[e].n_M_KGDIV)),this.grd_nabpum_02.SetCells(30,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_KG)),this.grd_nabpum_02.SetCells(31,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_PRC1)),this.grd_nabpum_02.SetCells(32,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_MONEY1)),this.grd_nabpum_02.SetCells(33,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_TAX1)),this.grd_nabpum_02.SetCells(34,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_PRC2)),this.grd_nabpum_02.SetCells(35,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_MONEY2)),this.grd_nabpum_02.SetCells(36,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_TAX2)),this.grd_nabpum_02.SetCells(37,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_PRC3)),this.grd_nabpum_02.SetCells(38,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_MONEY3)),this.grd_nabpum_02.SetCells(39,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_TAX3)),this.grd_nabpum_02.SetCells(40,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_PRC4)),this.grd_nabpum_02.SetCells(41,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_MONEY4)),this.grd_nabpum_02.SetCells(42,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_TAX4)),this.grd_nabpum_02.SetCells(43,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_PRC5)),this.grd_nabpum_02.SetCells(44,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_MONEY5)),this.grd_nabpum_02.SetCells(45,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_TAX5)),this.grd_nabpum_02.SetCells(46,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_PRC6)),this.grd_nabpum_02.SetCells(47,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_MONEY6)),this.grd_nabpum_02.SetCells(48,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_TAX6)),this.grd_nabpum_02.SetCells(49,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_PRC7)),this.grd_nabpum_02.SetCells(50,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_MONEY7)),this.grd_nabpum_02.SetCells(51,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_TAX7)),this.grd_nabpum_02.SetCells(52,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_PRC8)),this.grd_nabpum_02.SetCells(53,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_MONEY8)),this.grd_nabpum_02.SetCells(54,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_TAX8)),this.grd_nabpum_02.SetCells(55,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_PRC9)),this.grd_nabpum_02.SetCells(56,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_MONEY9)),this.grd_nabpum_02.SetCells(57,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_TAX9)),this.grd_nabpum_02.SetCells(58,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_PRC10)),this.grd_nabpum_02.SetCells(59,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_MONEY10)),this.grd_nabpum_02.SetCells(60,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_TAX10)),this.grd_nabpum_02.SetCells(61,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_MONEYSUM)),this.grd_nabpum_02.SetCells(62,e+1,pas.SysUtils.FloatToStr(t.ITEM[e].f_M_TAXSUM)),this.grd_nabpum_02.SetCells(63,e+1,t.ITEM[e].s_O_MGDATE),this.grd_nabpum_02.SetCells(64,e+1,t.ITEM[e].s_O_KJ_CODE),this.grd_nabpum_02.SetCells(65,e+1,t.ITEM[e].s_O_TX_CODE),this.grd_nabpum_02.SetCells(66,e+1,t.ITEM[e].s_O_TXDATE),this.grd_nabpum_02.SetCells(67,e+1,t.ITEM[e].s_O_REM)}this.grd_nabpum_02.SetFixedColumns(1),this.grd_nabpum_02.SetScrollMode(0),this.grd_nabpum_02.SetColumnCalculation(0,3),this.grd_nabpum_02.SetColumnCalculation(19,1),this.grd_nabpum_02.SetColumnCalculation(30,1),this.grd_nabpum_02.SetColumnCalculation(32,1),this.grd_nabpum_02.SetColumnCalculation(35,1),this.grd_nabpum_02.SetColumnCalculation(38,1),this.grd_nabpum_02.SetColumnCalculation(41,1),this.grd_nabpum_02.SetColumnCalculation(44,1),this.grd_nabpum_02.SetColumnCalculation(47,1),this.grd_nabpum_02.SetColumnCalculation(50,1),this.grd_nabpum_02.SetColumnCalculation(53,1),this.grd_nabpum_02.SetColumnCalculation(56,1),this.grd_nabpum_02.SetColumnCalculation(59,1),this.grd_nabpum_02.SetColumnCalculation(61,1),this.grd_nabpum_02.UpdateCalculations(),this.grd_nabpum_02.SetFocusedCell(pas["WEBLib.TMSFNCGridData"].MakeCell(0,1)),this.grd_nabpum_02.EndUpdate()}},this.update_combo_companys=function(t){var e=0;this.cb_magam_01.FItems.Clear(),this.cb_nabpum_01.FItems.Clear(),this.cb_magam_01.FItems.Add("  "),this.cb_nabpum_01.FItems.Add("  ");for(var i=0,s=t.n_count-1;i<=s;i++)e=i,this.cb_magam_01.FItems.Add(t.ITEM[e].s_CM_NAME),this.cb_nabpum_01.FItems.Add(t.ITEM[e].s_CM_NAME);this.cb_magam_01.SetItemIndex(0),this.cb_nabpum_01.SetItemIndex(0)},this.call_api_comp_info=async function(t){var e="",i="",s=void 0,o=pas.uApiProtocols.ST_RES_CM_SET.$new();try{this.ShowWaitMsg(),i="",e=pas.uDefine.g_sApiUrl;var n=t,a=e;await axios.get(a+"/fix/CommonService/select_comp_info?sUserID="+n,{headers:{"Content-Type":"application/json"}}).then(t=>{200===t.status&&(i=JSON.stringify(t.data),s=JSON.parse(i),s=JSON.parse(s.value))}).catch(t=>console.error("Error:",t)),""!==i&&(o.$assign(rtl.getObject(s)),this.m_stComp.$assign(o),this.update_combo_companys(o))}finally{this.HideWaitMsg()}},this.call_api_magam_info=async function(t){var e="",i="",s="",o=void 0,n=pas.uApiProtocols.ST_RES_MG_SET.$new();try{this.ShowWaitMsg(),s="",e=pas.uDefine.g_sApiUrl;var a=JSON.stringify(t),r=e;await axios.get(r+"/fix/CommonService/select_magam_info?sReqJson="+a,{headers:{"Content-Type":"application/json"}}).then(t=>{200===t.status&&(s=JSON.stringify(t.data),o=JSON.parse(s),o=JSON.parse(o.value))}).catch(t=>console.error("Error:",t)),i=a,""!==s&&(n.$assign(rtl.getObject(o)),this.m_stMagam.$assign(n),window.console.log(i),this.update_grd_magam_02(n))}finally{this.HideWaitMsg()}},this.call_api_nabpum_info=async function(t){var e="",i="",s="",o=void 0,n=pas.uApiProtocols.ST_RES_NP_SET.$new();try{this.ShowWaitMsg(),s="",e=pas.uDefine.g_sApiUrl;var a=JSON.stringify(t),r=e;await axios.get(r+"/fix/CommonService/select_napum_info?sReqJson="+a,{headers:{"Content-Type":"application/json"}}).then(t=>{200===t.status&&(s=JSON.stringify(t.data),o=JSON.parse(s),o=JSON.parse(o.value))}).catch(t=>console.error("Error:",t)),i=a,""!==s&&(n.$assign(rtl.getObject(o)),this.m_stNabpum.$assign(n),window.console.log(i),this.update_grd_nabpum_02(n))}finally{this.HideWaitMsg()}},this.call_api_check_id_pw=async function(t){var e="",i="",s="",o=void 0,n=pas.uApiProtocols.ST_RES_LOGIN.$new();try{this.ShowWaitMsg(),s="",e=pas.uDefine.g_sApiUrl;var a=JSON.stringify(t),r=e;await axios.get(r+"/fix/CommonService/check_id_pw?sReqJson="+a,{headers:{"Content-Type":"application/json"}}).then(t=>{200===t.status&&(s=JSON.stringify(t.data),o=JSON.parse(s),o=JSON.parse(o.value))}).catch(t=>console.error("Error:",t)),i=a,""!==s&&(n.$assign(rtl.getObject(o)),this.m_stLogin.$assign(n),window.console.log(i),""!==n.s_USER_ID&&(this.btn_login.SetText("로그아웃"),this.lbl_user_name.SetCaption(n.s_USER_NAME)))}finally{this.HideWaitMsg()}},this.ShowWaitMsg=function(){0===this.wbwtmsg.FTag$1&&(this.wbwtmsg.FTag$1=1,this.wbwtmsg.Show$1())},this.HideWaitMsg=function(){1===this.wbwtmsg.FTag$1&&(this.wbwtmsg.FTag$1=0,this.wbwtmsg.Hide$1())},this.LoadDFMValues=function(){pas["WEBLib.Forms"].TCustomForm.LoadDFMValues.call(this),this.pnl_header=pas["WEBLib.TMSFNCPanel"].TTMSFNCPanel.$create("Create$1",[this]),this.lbl_user_name=pas["WEBLib.StdCtrls"].TLabel.$create("Create$1",[this]),this.btn_login=pas["WEBLib.TMSFNCToolBar"].TTMSFNCToolBarButton.$create("Create$1",[this]),this.edt_pw=pas["WEBLib.TMSFNCEdit"].TTMSFNCEdit.$create("Create$1",[this]),this.edt_id=pas["WEBLib.TMSFNCEdit"].TTMSFNCEdit.$create("Create$1",[this]),this.page_ctr=pas["WEBLib.TMSFNCPageControl"].TTMSFNCPageControl.$create("Create$1",[this]),this.pg_magam=pas["WEBLib.TMSFNCPageControl"].TTMSFNCPageControlContainer.$create("Create$1",[this]),this.pnl_magam_top=pas["WEBLib.TMSFNCPanel"].TTMSFNCPanel.$create("Create$1",[this]),this.pnl_search_magam=pas["WEBLib.TMSFNCPanel"].TTMSFNCPanel.$create("Create$1",[this]),this.btn_search_magam=pas["WEBLib.TMSFNCToolBar"].TTMSFNCToolBarButton.$create("Create$1",[this]),this.lbl_magam_01=pas["WEBLib.ExtCtrls"].TPanel.$create("Create$1",[this]),this.cb_magam_01=pas["WEBLib.StdCtrls"].TComboBox.$create("Create$1",[this]),this.lbl_magam_02=pas["WEBLib.ExtCtrls"].TPanel.$create("Create$1",[this]),this.ck_magam_01=pas["WEBLib.StdCtrls"].TCheckBox.$create("Create$1",[this]),this.ck_magam_02=pas["WEBLib.StdCtrls"].TCheckBox.$create("Create$1",[this]),this.cb_magam_02=pas["WEBLib.StdCtrls"].TComboBox.$create("Create$1",[this]),this.dtp_magam_01=pas["WEBLib.StdCtrls"].TDateTimePicker.$create("Create$1",[this]),this.dtp_magam_02=pas["WEBLib.StdCtrls"].TDateTimePicker.$create("Create$1",[this]),this.wbwtmsg=pas["WEBLib.Dialogs"].TWaitMessage.$create("Create$1",[this]),this.grd_magam_02=pas["WEBLib.TMSFNCGrid"].TTMSFNCGrid.$create("Create$1",[this]),this.grd_magam_01=pas["WEBLib.TMSFNCGrid"].TTMSFNCGrid.$create("Create$1",[this]),this.pg_nabpum=pas["WEBLib.TMSFNCPageControl"].TTMSFNCPageControlContainer.$create("Create$1",[this]),this.grd_nabpum_02=pas["WEBLib.TMSFNCGrid"].TTMSFNCGrid.$create("Create$1",[this]),this.pnl_nabpum_top=pas["WEBLib.TMSFNCPanel"].TTMSFNCPanel.$create("Create$1",[this]),this.pnl_search_nabpum=pas["WEBLib.TMSFNCPanel"].TTMSFNCPanel.$create("Create$1",[this]),this.btn_search_nabpum=pas["WEBLib.TMSFNCToolBar"].TTMSFNCToolBarButton.$create("Create$1",[this]),this.lbl_nampum_01=pas["WEBLib.ExtCtrls"].TPanel.$create("Create$1",[this]),this.cb_nabpum_01=pas["WEBLib.StdCtrls"].TComboBox.$create("Create$1",[this]),this.lbl_nampum_02=pas["WEBLib.ExtCtrls"].TPanel.$create("Create$1",[this]),this.dtp_nabpum_01=pas["WEBLib.StdCtrls"].TDateTimePicker.$create("Create$1",[this]),this.dtp_nabpum_02=pas["WEBLib.StdCtrls"].TDateTimePicker.$create("Create$1",[this]),this.grd_nabpum_01=pas["WEBLib.TMSFNCGrid"].TTMSFNCGrid.$create("Create$1",[this]),this.pnl_header.BeforeLoadDFMValues(),this.lbl_user_name.BeforeLoadDFMValues(),this.btn_login.BeforeLoadDFMValues(),this.edt_pw.BeforeLoadDFMValues(),this.edt_id.BeforeLoadDFMValues(),this.page_ctr.BeforeLoadDFMValues(),this.pg_magam.BeforeLoadDFMValues(),this.pnl_magam_top.BeforeLoadDFMValues(),this.pnl_search_magam.BeforeLoadDFMValues(),this.btn_search_magam.BeforeLoadDFMValues(),this.lbl_magam_01.BeforeLoadDFMValues(),this.cb_magam_01.BeforeLoadDFMValues(),this.lbl_magam_02.BeforeLoadDFMValues(),this.ck_magam_01.BeforeLoadDFMValues(),this.ck_magam_02.BeforeLoadDFMValues(),this.cb_magam_02.BeforeLoadDFMValues(),this.dtp_magam_01.BeforeLoadDFMValues(),this.dtp_magam_02.BeforeLoadDFMValues(),this.wbwtmsg.BeforeLoadDFMValues(),this.grd_magam_02.BeforeLoadDFMValues(),this.grd_magam_01.BeforeLoadDFMValues(),this.pg_nabpum.BeforeLoadDFMValues(),this.grd_nabpum_02.BeforeLoadDFMValues(),this.pnl_nabpum_top.BeforeLoadDFMValues(),this.pnl_search_nabpum.BeforeLoadDFMValues(),this.btn_search_nabpum.BeforeLoadDFMValues(),this.lbl_nampum_01.BeforeLoadDFMValues(),this.cb_nabpum_01.BeforeLoadDFMValues(),this.lbl_nampum_02.BeforeLoadDFMValues(),this.dtp_nabpum_01.BeforeLoadDFMValues(),this.dtp_nabpum_02.BeforeLoadDFMValues(),this.grd_nabpum_01.BeforeLoadDFMValues();try{this.SetName("fMOLDPIA"),this.SetWidth(1008),this.SetHeight(615),this.SetEvent(this,"OnShow","WebFormShow"),this.pnl_header.SetParentComponent(this),this.pnl_header.SetName("pnl_header"),this.pnl_header.SetLeft(0),this.pnl_header.SetTop(0),this.pnl_header.SetWidth(1008),this.pnl_header.SetHeight(32),this.pnl_header.SetAlign(1),this.pnl_header.FParentDoubleBuffered=!1,this.pnl_header.SetColor(15790320),this.pnl_header.FDoubleBuffered=!0,this.pnl_header.SetTabOrder(0),this.pnl_header.FSectionsAppearance.FFont.FCharset=1,this.pnl_header.FSectionsAppearance.FFont.SetColor(65793),this.pnl_header.FSectionsAppearance.FFont.SetHeight(-11),this.pnl_header.FSectionsAppearance.FFont.SetName("Segoe UI"),this.pnl_header.FSectionsAppearance.FFont.SetStyle({}),this.pnl_header.FHeader.SetText("Header"),this.pnl_header.FHeader.FFont.FCharset=1,this.pnl_header.FHeader.FFont.SetColor(0),this.pnl_header.FHeader.FFont.SetHeight(-11),this.pnl_header.FHeader.FFont.SetName("Segoe UI"),this.pnl_header.FHeader.FFont.SetStyle({}),this.pnl_header.FHeader.SetVisible(!1),this.pnl_header.FHeader.FFill.SetColor(16380654),this.pnl_header.FHeader.FFill.SetColorTo(16382457),this.pnl_header.FHeader.FStroke.SetKind(0),this.pnl_header.FFooter.SetText("Footer"),this.pnl_header.FFooter.FFont.FCharset=1,this.pnl_header.FFooter.FFont.SetColor(0),this.pnl_header.FFooter.FFont.SetHeight(-11),this.pnl_header.FFooter.FFont.SetName("Segoe UI"),this.pnl_header.FFooter.FFont.SetStyle({}),this.pnl_header.FFooter.FFill.SetColor(16380654),this.pnl_header.FFooter.FFill.SetColorTo(16382457),this.pnl_header.FGlobalFont.SetScale(1),this.pnl_header.FGlobalFont.SetStyle({}),this.lbl_user_name.SetParentComponent(this.pnl_header),this.lbl_user_name.SetName("lbl_user_name"),this.lbl_user_name.SetLeft(828),this.lbl_user_name.SetTop(7),this.lbl_user_name.SetWidth(4),this.lbl_user_name.SetHeight(19),this.lbl_user_name.SetAnchors(rtl.createSet(1,2)),this.lbl_user_name.SetColorEx(15790320),this.lbl_user_name.SetHeightPercent(100),this.lbl_user_name.SetWidthPercent(100),this.btn_login.SetParentComponent(this.pnl_header),this.btn_login.SetName("btn_login"),this.btn_login.SetLeft(875),this.btn_login.SetTop(3),this.btn_login.SetWidth(127),this.btn_login.SetHeight(24),this.btn_login.SetHint("로그아웃 (자동로그아웃시간)"),this.btn_login.FParentDoubleBuffered=!1,this.btn_login.SetAnchors(rtl.createSet(1,2)),this.btn_login.FDoubleBuffered=!0,this.btn_login.FFont$1.FCharset=1,this.btn_login.FFont$1.SetColor(0),this.btn_login.FFont$1.SetHeight(-11),this.btn_login.FFont$1.SetName("Segoe UI"),this.btn_login.FFont$1.SetStyle({}),this.btn_login.SetParentColor(!0),this.btn_login.FParentShowHint=!1,this.btn_login.SetShowHint(!0),this.btn_login.SetTabOrder(0),this.SetEvent$1(this.btn_login,this,"OnClick","btn_loginClick"),this.btn_login.SetText("로그인"),this.btn_login.FBitmaps.Clear(),this.btn_login.FBitmaps.Add$1(1).FBitmap.LoadFromFile("uMOLDPIA.btn_login.Bitmaps.Bitmap.svg",null),this.btn_login.FBitmaps.Add$1(1).FBitmap.LoadFromFile("uMOLDPIA.btn_login.Bitmaps.Bitmap_1.svg",null),this.btn_login.SetBitmapVisible(!0),this.btn_login.SetBitmapSize(20),this.btn_login.FControlIndex=0,this.edt_pw.SetParentComponent(this.pnl_header),this.edt_pw.SetName("edt_pw"),this.edt_pw.SetLeft(655),this.edt_pw.SetTop(3),this.edt_pw.SetWidth(140),this.edt_pw.SetHeight(24),this.edt_pw.SetAnchors(rtl.createSet(1,2)),this.edt_pw.SetAutoSize(!1),this.edt_pw.SetTextHint("PW"),this.edt_pw.SetPasswordChar("*"),this.edt_pw.SetTabOrder(1),this.edt_pw.SetT(""),this.edt_pw.FLookup.FSeparator=";",this.edt_id.SetParentComponent(this.pnl_header),this.edt_id.SetName("edt_id"),this.edt_id.SetLeft(511),this.edt_id.SetTop(3),this.edt_id.SetWidth(140),this.edt_id.SetHeight(24),this.edt_id.SetAnchors(rtl.createSet(1,2)),this.edt_id.SetAutoSize(!1),this.edt_id.SetTextHint("ID"),this.edt_id.SetTabOrder(2),this.edt_id.SetT(""),this.edt_id.FLookup.FSeparator=";",this.page_ctr.SetParentComponent(this),this.page_ctr.SetName("page_ctr"),this.page_ctr.SetLeft(0),this.page_ctr.SetTop(32),this.page_ctr.SetWidth(1008),this.page_ctr.SetHeight(583),this.page_ctr.SetAdaptToStyle(!0),this.page_ctr.SetAlign(5),this.page_ctr.FParentDoubleBuffered=!1,this.page_ctr.SetColor(15790320),this.page_ctr.FDoubleBuffered=!0,this.page_ctr.SetTabOrder(1),this.page_ctr.SetActivePageIndex(1),this.page_ctr.FFill.SetKind(0),this.page_ctr.FStroke.SetKind(0),this.page_ctr.FStroke.SetColor(15987699),this.page_ctr.FTabAppearance.FFont.FCharset=1,this.page_ctr.FTabAppearance.FFont.SetColor(65793),this.page_ctr.FTabAppearance.FFont.SetHeight(-11),this.page_ctr.FTabAppearance.FFont.SetName("Segoe UI"),this.page_ctr.FTabAppearance.FFont.SetStyle({}),this.page_ctr.FTabAppearance.FFill.SetColor(15385233),this.page_ctr.FTabAppearance.FStroke.SetColor(15987699),this.page_ctr.FTabAppearance.FActiveStroke.SetColor(15987699),this.page_ctr.FTabAppearance.FDownFill.SetColor(15119995),this.page_ctr.FTabAppearance.FDownStroke.SetColor(15987699),this.page_ctr.FTabAppearance.FHoverFill.SetColor(15650471),this.page_ctr.FTabAppearance.FHoverStroke.SetColor(15987699),this.page_ctr.FTabAppearance.SetTextSpacing(0),this.page_ctr.FTabAppearance.SetShowFocus(!1),this.page_ctr.FTabAppearance.FCloseStroke.SetWidth(2),this.page_ctr.FTabAppearance.FCloseDownStroke.SetWidth(2),this.page_ctr.FTabAppearance.FCloseHoverStroke.SetWidth(2),this.page_ctr.FTabAppearance.FBadgeFill.SetColor(15385233),this.page_ctr.FTabAppearance.FBadgeFont.FCharset=1,this.page_ctr.FTabAppearance.FBadgeFont.SetColor(139),this.page_ctr.FTabAppearance.FBadgeFont.SetHeight(-11),this.page_ctr.FTabAppearance.FBadgeFont.SetName("Segoe UI"),this.page_ctr.FTabAppearance.FBadgeFont.SetStyle(rtl.createSet(0)),this.page_ctr.FButtonAppearance.FFill.SetColor(15385233),this.page_ctr.FButtonAppearance.FStroke.SetColor(15987699),this.page_ctr.FButtonAppearance.FDownFill.SetColor(15119995),this.page_ctr.FButtonAppearance.FDownStroke.SetColor(15987699),this.page_ctr.FButtonAppearance.FHoverFill.SetColor(15650471),this.page_ctr.FButtonAppearance.FHoverStroke.SetColor(15987699),this.page_ctr.FButtonAppearance.FCloseIcon.LoadFromFile("uMOLDPIA.page_ctr.ButtonAppearance.CloseIcon.svg",null),this.page_ctr.FButtonAppearance.FInsertIcon.LoadFromFile("uMOLDPIA.page_ctr.ButtonAppearance.InsertIcon.svg",null),this.page_ctr.FButtonAppearance.FTabListIcon.LoadFromFile("uMOLDPIA.page_ctr.ButtonAppearance.TabListIcon.svg",null),this.page_ctr.FButtonAppearance.FScrollNextIcon.LoadFromFile("uMOLDPIA.page_ctr.ButtonAppearance.ScrollNextIcon.svg",null),this.page_ctr.FButtonAppearance.FScrollPreviousIcon.LoadFromFile("uMOLDPIA.page_ctr.ButtonAppearance.ScrollPreviousIcon.svg",null),this.page_ctr.FTabSize.FMargins.SetLeft(8),this.page_ctr.FTabSize.FMargins.SetTop(8),this.page_ctr.FTabSize.FMargins.SetRight(8),this.page_ctr.FTabSize.FMargins.SetBottom(8),this.page_ctr.GetPages().Clear$1();var t=this.page_ctr.GetPages().Add$2();t.SetText("마감조회"),t.SetUseDefaultAppearance(!0);var e=this.page_ctr.GetPages().Add$2();e.SetText("납품조회"),e.SetUseDefaultAppearance(!0),this.pg_magam.SetParentComponent(this.page_ctr),this.pg_magam.SetName("pg_magam"),this.pg_magam.SetAlignWithMargins(!0),this.pg_magam.SetLeft(0),this.pg_magam.SetTop(29),this.pg_magam.SetWidth(1008),this.pg_magam.SetHeight(554),this.pg_magam.FMargins.SetLeft(0),this.pg_magam.FMargins.SetTop(29),this.pg_magam.FMargins.SetRight(0),this.pg_magam.FMargins.SetBottom(0),this.pg_magam.SetAdaptToStyle(!0),this.pg_magam.SetAlign(5),this.pg_magam.FParentDoubleBuffered=!1,this.pg_magam.FDoubleBuffered=!0,this.pg_magam.SetTabStop(!1),this.pg_magam.SetTabOrder(0),this.pg_magam.SetVisible(!1),this.pg_magam.FStroke.SetColor(15987699),this.pg_magam.SetPageIndex(0),this.pg_magam.SetIsActive(!1),this.pnl_magam_top.SetParentComponent(this.pg_magam),this.pnl_magam_top.SetName("pnl_magam_top"),this.pnl_magam_top.SetLeft(0),this.pnl_magam_top.SetTop(0),this.pnl_magam_top.SetWidth(1008),this.pnl_magam_top.SetHeight(58),this.pnl_magam_top.SetAdaptToStyle(!0),this.pnl_magam_top.SetAlign(1),this.pnl_magam_top.FParentDoubleBuffered=!1,this.pnl_magam_top.SetColor(15790320),this.pnl_magam_top.FDoubleBuffered=!0,this.pnl_magam_top.SetTabOrder(0),this.pnl_magam_top.FFill.SetKind(0),this.pnl_magam_top.FSectionsAppearance.FFont.FCharset=1,this.pnl_magam_top.FSectionsAppearance.FFont.SetColor(65793),this.pnl_magam_top.FSectionsAppearance.FFont.SetHeight(-11),this.pnl_magam_top.FSectionsAppearance.FFont.SetName("Segoe UI"),this.pnl_magam_top.FSectionsAppearance.FFont.SetStyle({}),this.pnl_magam_top.FStroke.SetColor(15987699),this.pnl_magam_top.FHeader.SetText("Header"),this.pnl_magam_top.FHeader.FFont.FCharset=1,this.pnl_magam_top.FHeader.FFont.SetColor(0),this.pnl_magam_top.FHeader.FFont.SetHeight(-11),this.pnl_magam_top.FHeader.FFont.SetName("Segoe UI"),this.pnl_magam_top.FHeader.FFont.SetStyle({}),this.pnl_magam_top.FHeader.SetVisible(!1),this.pnl_magam_top.FHeader.FFill.SetKind(2),this.pnl_magam_top.FHeader.FFill.SetColor(16382457),this.pnl_magam_top.FHeader.FFill.SetColorTo(16382457),this.pnl_magam_top.FHeader.FStroke.SetKind(0),this.pnl_magam_top.FHeader.FStroke.SetColor(15987699),this.pnl_magam_top.FFooter.SetText("Footer"),this.pnl_magam_top.FFooter.FFont.FCharset=1,this.pnl_magam_top.FFooter.FFont.SetColor(0),this.pnl_magam_top.FFooter.FFont.SetHeight(-11),this.pnl_magam_top.FFooter.FFont.SetName("Segoe UI"),this.pnl_magam_top.FFooter.FFont.SetStyle({}),this.pnl_magam_top.FFooter.FFill.SetKind(2),this.pnl_magam_top.FFooter.FFill.SetColor(16382457),this.pnl_magam_top.FFooter.FFill.SetColorTo(16382457),this.pnl_magam_top.FFooter.FStroke.SetColor(15987699),this.pnl_magam_top.FGlobalFont.SetScale(1),this.pnl_magam_top.FGlobalFont.SetStyle({}),this.pnl_search_magam.SetParentComponent(this.pnl_magam_top),this.pnl_search_magam.SetName("pnl_search_magam"),this.pnl_search_magam.SetLeft(605),this.pnl_search_magam.SetTop(0),this.pnl_search_magam.SetWidth(403),this.pnl_search_magam.SetHeight(58),this.pnl_search_magam.SetAdaptToStyle(!0),this.pnl_search_magam.SetAlign(4),this.pnl_search_magam.FParentDoubleBuffered=!1,this.pnl_search_magam.SetColor(15790320),this.pnl_search_magam.FDoubleBuffered=!0,this.pnl_search_magam.SetTabOrder(0),this.pnl_search_magam.FFill.SetKind(0),this.pnl_search_magam.FSectionsAppearance.FFont.FCharset=1,this.pnl_search_magam.FSectionsAppearance.FFont.SetColor(65793),this.pnl_search_magam.FSectionsAppearance.FFont.SetHeight(-11),this.pnl_search_magam.FSectionsAppearance.FFont.SetName("Segoe UI"),this.pnl_search_magam.FSectionsAppearance.FFont.SetStyle({}),this.pnl_search_magam.FStroke.SetColor(15987699),this.pnl_search_magam.FHeader.SetText("Header"),this.pnl_search_magam.FHeader.FFont.FCharset=1,this.pnl_search_magam.FHeader.FFont.SetColor(0),this.pnl_search_magam.FHeader.FFont.SetHeight(-11),this.pnl_search_magam.FHeader.FFont.SetName("Segoe UI"),this.pnl_search_magam.FHeader.FFont.SetStyle({}),this.pnl_search_magam.FHeader.SetVisible(!1),this.pnl_search_magam.FHeader.FFill.SetKind(2),this.pnl_search_magam.FHeader.FFill.SetColor(16382457),this.pnl_search_magam.FHeader.FFill.SetColorTo(16382457),this.pnl_search_magam.FHeader.FStroke.SetKind(0),this.pnl_search_magam.FHeader.FStroke.SetColor(15987699),this.pnl_search_magam.FFooter.SetText("Footer"),this.pnl_search_magam.FFooter.FFont.FCharset=1,this.pnl_search_magam.FFooter.FFont.SetColor(0),this.pnl_search_magam.FFooter.FFont.SetHeight(-11),this.pnl_search_magam.FFooter.FFont.SetName("Segoe UI"),this.pnl_search_magam.FFooter.FFont.SetStyle({}),this.pnl_search_magam.FFooter.FFill.SetKind(2),this.pnl_search_magam.FFooter.FFill.SetColor(16382457),this.pnl_search_magam.FFooter.FFill.SetColorTo(16382457),this.pnl_search_magam.FFooter.FStroke.SetColor(15987699),this.pnl_search_magam.FGlobalFont.SetScale(1),this.pnl_search_magam.FGlobalFont.SetStyle({}),this.btn_search_magam.SetParentComponent(this.pnl_search_magam),this.btn_search_magam.SetName("btn_search_magam"),this.btn_search_magam.SetLeft(271),this.btn_search_magam.SetTop(31),this.btn_search_magam.SetWidth(127),this.btn_search_magam.SetHeight(21),this.btn_search_magam.FParentDoubleBuffered=!1,this.btn_search_magam.FDoubleBuffered=!0,this.btn_search_magam.FFont$1.FCharset=1,this.btn_search_magam.FFont$1.SetColor(0),this.btn_search_magam.FFont$1.SetHeight(-11),this.btn_search_magam.FFont$1.SetName("Segoe UI"),this.btn_search_magam.FFont$1.SetStyle({}),this.btn_search_magam.SetParentColor(!0),this.btn_search_magam.SetTabOrder(0),this.SetEvent$1(this.btn_search_magam,this,"OnClick","btn_search_magamClick"),this.btn_search_magam.SetText("조회"),this.btn_search_magam.FBitmaps.Clear(),this.btn_search_magam.FBitmaps.Add$1(1).FBitmap.LoadFromFile("uMOLDPIA.btn_search_magam.Bitmaps.Bitmap.svg",null),this.btn_search_magam.SetBitmapVisible(!0),this.btn_search_magam.FControlIndex=0,this.lbl_magam_01.SetParentComponent(this.pnl_search_magam),this.lbl_magam_01.SetName("lbl_magam_01"),this.lbl_magam_01.SetLeft(10),this.lbl_magam_01.SetTop(3),this.lbl_magam_01.SetWidth(75),this.lbl_magam_01.SetHeight(21),this.lbl_magam_01.SetCaption("사업장"),this.lbl_magam_01.SetChildOrderEx(4),this.lbl_magam_01.FFont.FCharset=1,this.lbl_magam_01.FFont.SetColor(65793),this.lbl_magam_01.FFont.SetHeight(-11),this.lbl_magam_01.FFont.SetName("Segoe UI"),this.lbl_magam_01.FFont.SetStyle({}),this.lbl_magam_01.SetParentFont(!1),this.cb_magam_01.SetParentComponent(this.pnl_search_magam),this.cb_magam_01.SetName("cb_magam_01"),this.cb_magam_01.SetLeft(90),this.cb_magam_01.SetTop(3),this.cb_magam_01.SetWidth(175),this.cb_magam_01.SetHeight(21),this.cb_magam_01.FFont.FCharset=1,this.cb_magam_01.FFont.SetColor(65793),this.cb_magam_01.FFont.SetHeight(-11),this.cb_magam_01.FFont.SetName("Segoe UI"),this.cb_magam_01.FFont.SetStyle({}),this.cb_magam_01.SetHeightPercent(100),this.cb_magam_01.SetParentFont(!1),this.cb_magam_01.SetWidthPercent(100),this.cb_magam_01.SetItemIndex(-1),this.cb_magam_01.FItems.BeginUpdate();try{this.cb_magam_01.FItems.Clear(),this.cb_magam_01.FItems.Add("")}finally{this.cb_magam_01.FItems.EndUpdate()}this.lbl_magam_02.SetParentComponent(this.pnl_search_magam),this.lbl_magam_02.SetName("lbl_magam_02"),this.lbl_magam_02.SetLeft(270),this.lbl_magam_02.SetTop(3),this.lbl_magam_02.SetWidth(30),this.lbl_magam_02.SetHeight(21),this.lbl_magam_02.SetCaption("마감"),this.lbl_magam_02.SetChildOrderEx(4),this.lbl_magam_02.FFont.FCharset=1,this.lbl_magam_02.FFont.SetColor(65793),this.lbl_magam_02.FFont.SetHeight(-11),this.lbl_magam_02.FFont.SetName("Segoe UI"),this.lbl_magam_02.FFont.SetStyle({}),this.lbl_magam_02.SetParentFont(!1),this.ck_magam_01.SetParentComponent(this.pnl_search_magam),this.ck_magam_01.SetName("ck_magam_01"),this.ck_magam_01.SetLeft(306),this.ck_magam_01.SetTop(3),this.ck_magam_01.SetWidth(33),this.ck_magam_01.SetHeight(22),this.ck_magam_01.SetCaption("전"),this.ck_magam_01.SetChecked(!0),this.ck_magam_01.SetChildOrderEx(7),this.ck_magam_01.SetEnabled(!1),this.ck_magam_01.FFont.FCharset=1,this.ck_magam_01.FFont.SetColor(65793),this.ck_magam_01.FFont.SetHeight(-11),this.ck_magam_01.FFont.SetName("Segoe UI"),this.ck_magam_01.FFont.SetStyle({}),this.ck_magam_01.SetHeightPercent(100),this.ck_magam_01.SetParentFont(!1),this.ck_magam_01.SetState(0),this.ck_magam_01.SetWidthPercent(100),this.ck_magam_02.SetParentComponent(this.pnl_search_magam),this.ck_magam_02.SetName("ck_magam_02"),this.ck_magam_02.SetLeft(344),this.ck_magam_02.SetTop(3),this.ck_magam_02.SetWidth(35),this.ck_magam_02.SetHeight(22),this.ck_magam_02.SetCaption("후"),this.ck_magam_02.SetChecked(!0),this.ck_magam_02.SetChildOrderEx(7),this.ck_magam_02.FFont.FCharset=1,this.ck_magam_02.FFont.SetColor(65793),this.ck_magam_02.FFont.SetHeight(-11),this.ck_magam_02.FFont.SetName("Segoe UI"),this.ck_magam_02.FFont.SetStyle({}),this.ck_magam_02.SetHeightPercent(100),this.ck_magam_02.SetParentFont(!1),this.ck_magam_02.SetState(0),this.ck_magam_02.SetWidthPercent(100),this.cb_magam_02.SetParentComponent(this.pnl_search_magam),this.cb_magam_02.SetName("cb_magam_02"),this.cb_magam_02.SetLeft(10),this.cb_magam_02.SetTop(30),this.cb_magam_02.SetWidth(75),this.cb_magam_02.SetHeight(21),this.cb_magam_02.FFont.FCharset=1,this.cb_magam_02.FFont.SetColor(65793),this.cb_magam_02.FFont.SetHeight(-11),this.cb_magam_02.FFont.SetName("Segoe UI"),this.cb_magam_02.FFont.SetStyle({}),this.cb_magam_02.SetHeightPercent(100),this.cb_magam_02.SetParentFont(!1),this.cb_magam_02.SetText("마감기간"),this.cb_magam_02.SetWidthPercent(100),this.SetEvent$1(this.cb_magam_02,this,"OnChange","cb_magam_02Change"),this.cb_magam_02.SetItemIndex(0),this.cb_magam_02.FItems.BeginUpdate();try{this.cb_magam_02.FItems.Clear(),this.cb_magam_02.FItems.Add("마감기간"),this.cb_magam_02.FItems.Add("주문기간"),this.cb_magam_02.FItems.Add("작업기간")}finally{this.cb_magam_02.FItems.EndUpdate()}this.dtp_magam_01.SetParentComponent(this.pnl_search_magam),this.dtp_magam_01.SetName("dtp_magam_01"),this.dtp_magam_01.SetLeft(90),this.dtp_magam_01.SetTop(30),this.dtp_magam_01.SetWidth(85),this.dtp_magam_01.SetHeight(22),this.dtp_magam_01.SetBorderStyle(1),this.dtp_magam_01.SetChildOrderEx(10),this.dtp_magam_01.SetColor(16777215),this.dtp_magam_01.SetDate(45370.92087471065),this.dtp_magam_01.FFont.FCharset=1,this.dtp_magam_01.FFont.SetColor(65793),this.dtp_magam_01.FFont.SetHeight(-11),this.dtp_magam_01.FFont.SetName("Segoe UI"),this.dtp_magam_01.FFont.SetStyle({}),this.dtp_magam_01.SetParentFont(!1),this.dtp_magam_01.SetRole(""),this.dtp_magam_01.SetText(""),this.dtp_magam_02.SetParentComponent(this.pnl_search_magam),this.dtp_magam_02.SetName("dtp_magam_02"),this.dtp_magam_02.SetLeft(180),this.dtp_magam_02.SetTop(30),this.dtp_magam_02.SetWidth(85),this.dtp_magam_02.SetHeight(22),this.dtp_magam_02.SetBorderStyle(1),this.dtp_magam_02.SetChildOrderEx(10),this.dtp_magam_02.SetColor(16777215),this.dtp_magam_02.SetDate(45370.92087471065),this.dtp_magam_02.FFont.FCharset=1,this.dtp_magam_02.FFont.SetColor(65793),this.dtp_magam_02.FFont.SetHeight(-11),this.dtp_magam_02.FFont.SetName("Segoe UI"),this.dtp_magam_02.FFont.SetStyle({}),this.dtp_magam_02.SetParentFont(!1),this.dtp_magam_02.SetRole(""),this.dtp_magam_02.SetText(""),this.wbwtmsg.SetParentComponent(this.pnl_magam_top),this.wbwtmsg.SetName("wbwtmsg"),this.wbwtmsg.SetLeft(408),this.wbwtmsg.SetTop(16),this.wbwtmsg.SetWidth(24),this.wbwtmsg.SetHeight(24),this.wbwtmsg.FOpacity=.2,this.wbwtmsg.FPicture.LoadFromFile("uMOLDPIA.pnl_magam_top.wbwtmsg.Picture.gif"),this.grd_magam_02.SetParentComponent(this.pg_magam),this.grd_magam_02.SetName("grd_magam_02"),this.grd_magam_02.SetLeft(0),this.grd_magam_02.SetTop(193),this.grd_magam_02.SetWidth(1008),this.grd_magam_02.SetHeight(361),this.grd_magam_02.SetAlign(5),this.grd_magam_02.FParentDoubleBuffered=!1,this.grd_magam_02.FDoubleBuffered=!0,this.grd_magam_02.SetTabOrder(1),this.grd_magam_02.SetDefaultRowHeight(18),this.grd_magam_02.SetFixedColumns(0),this.grd_magam_02.SetColumnCount(25),this.grd_magam_02.SetRowCount(1),this.grd_magam_02.FOptions.FEditing.FCalcFormat="%g",this.grd_magam_02.FOptions.FGrouping.FCalcFormat="%g",this.grd_magam_02.FOptions.FGrouping.FGroupCountFormat="(%d)",this.grd_magam_02.FOptions.FIO.FXMLEncoding="ISO-8859-1",this.grd_magam_02.FOptions.FMouse.SetClickMargin(0),this.grd_magam_02.FOptions.FMouse.SetColumnSizeMargin(6),this.grd_magam_02.FOptions.FMouse.SetRowSizeMargin(6),this.grd_magam_02.FColumns.Clear();var i=this.grd_magam_02.FColumns.Add$1();i.SetBorderWidth(1),i.FFixedFont.FCharset=1,i.FFixedFont.SetColor(65793),i.FFixedFont.SetHeight(-8),i.FFixedFont.SetName("Segoe UI"),i.FFixedFont.SetStyle(rtl.createSet(0)),i.FFont.FCharset=1,i.FFont.SetColor(65793),i.FFont.SetHeight(-8),i.FFont.SetName("Segoe UI"),i.FFont.SetStyle({}),i.FID$1="",i.SetWidth(68);var s=this.grd_magam_02.FColumns.Add$1();s.SetBorderWidth(1),s.FFixedFont.FCharset=1,s.FFixedFont.SetColor(65793),s.FFixedFont.SetHeight(-8),s.FFixedFont.SetName("Segoe UI"),s.FFixedFont.SetStyle(rtl.createSet(0)),s.FFont.FCharset=1,s.FFont.SetColor(65793),s.FFont.SetHeight(-8),s.FFont.SetName("Segoe UI"),s.FFont.SetStyle({}),s.FID$1="",s.SetWidth(68);var o=this.grd_magam_02.FColumns.Add$1();o.SetBorderWidth(1),o.FFixedFont.FCharset=1,o.FFixedFont.SetColor(65793),o.FFixedFont.SetHeight(-8),o.FFixedFont.SetName("Segoe UI"),o.FFixedFont.SetStyle(rtl.createSet(0)),o.FFont.FCharset=1,o.FFont.SetColor(65793),o.FFont.SetHeight(-8),o.FFont.SetName("Segoe UI"),o.FFont.SetStyle({}),o.FID$1="",o.SetWidth(68);var n=this.grd_magam_02.FColumns.Add$1();n.SetBorderWidth(1),n.FFixedFont.FCharset=1,n.FFixedFont.SetColor(65793),n.FFixedFont.SetHeight(-8),n.FFixedFont.SetName("Segoe UI"),n.FFixedFont.SetStyle(rtl.createSet(0)),n.FFont.FCharset=1,n.FFont.SetColor(65793),n.FFont.SetHeight(-8),n.FFont.SetName("Segoe UI"),n.FFont.SetStyle({}),n.FID$1="",n.SetWidth(68);var a=this.grd_magam_02.FColumns.Add$1();a.SetBorderWidth(1),a.FFixedFont.FCharset=1,a.FFixedFont.SetColor(65793),a.FFixedFont.SetHeight(-8),a.FFixedFont.SetName("Segoe UI"),a.FFixedFont.SetStyle(rtl.createSet(0)),a.FFont.FCharset=1,a.FFont.SetColor(65793),a.FFont.SetHeight(-8),a.FFont.SetName("Segoe UI"),a.FFont.SetStyle({}),a.FID$1="",a.SetWidth(68);var r=this.grd_magam_02.FColumns.Add$1();r.SetBorderWidth(1),r.FFixedFont.FCharset=1,r.FFixedFont.SetColor(65793),r.FFixedFont.SetHeight(-8),r.FFixedFont.SetName("Segoe UI"),r.FFixedFont.SetStyle(rtl.createSet(0)),r.FFont.FCharset=1,r.FFont.SetColor(65793),r.FFont.SetHeight(-8),r.FFont.SetName("Segoe UI"),r.FFont.SetStyle({}),r.FID$1="",r.SetWidth(68);var l=this.grd_magam_02.FColumns.Add$1();l.SetBorderWidth(1),l.FFixedFont.FCharset=1,l.FFixedFont.SetColor(65793),l.FFixedFont.SetHeight(-8),l.FFixedFont.SetName("Segoe UI"),l.FFixedFont.SetStyle(rtl.createSet(0)),l.FFont.FCharset=1,l.FFont.SetColor(65793),l.FFont.SetHeight(-8),l.FFont.SetName("Segoe UI"),l.FFont.SetStyle({}),l.FID$1="",l.SetWidth(68);var h=this.grd_magam_02.FColumns.Add$1();h.SetBorderWidth(1),h.FFixedFont.FCharset=1,h.FFixedFont.SetColor(65793),h.FFixedFont.SetHeight(-8),h.FFixedFont.SetName("Segoe UI"),h.FFixedFont.SetStyle(rtl.createSet(0)),h.FFont.FCharset=1,h.FFont.SetColor(65793),h.FFont.SetHeight(-8),h.FFont.SetName("Segoe UI"),h.FFont.SetStyle({}),h.FID$1="",h.SetWidth(68);var F=this.grd_magam_02.FColumns.Add$1();F.SetBorderWidth(1),F.FFixedFont.FCharset=1,F.FFixedFont.SetColor(65793),F.FFixedFont.SetHeight(-8),F.FFixedFont.SetName("Segoe UI"),F.FFixedFont.SetStyle(rtl.createSet(0)),F.FFont.FCharset=1,F.FFont.SetColor(65793),F.FFont.SetHeight(-8),F.FFont.SetName("Segoe UI"),F.FFont.SetStyle({}),F.FID$1="",F.SetWidth(68);var p=this.grd_magam_02.FColumns.Add$1();p.SetBorderWidth(1),p.FFixedFont.FCharset=1,p.FFixedFont.SetColor(65793),p.FFixedFont.SetHeight(-8),p.FFixedFont.SetName("Segoe UI"),p.FFixedFont.SetStyle(rtl.createSet(0)),p.FFont.FCharset=1,p.FFont.SetColor(65793),p.FFont.SetHeight(-8),p.FFont.SetName("Segoe UI"),p.FFont.SetStyle({}),p.FID$1="",p.SetWidth(68);var C=this.grd_magam_02.FColumns.Add$1();C.SetBorderWidth(1),C.FFixedFont.FCharset=1,C.FFixedFont.SetColor(65793),C.FFixedFont.SetHeight(-8),C.FFixedFont.SetName("Segoe UI"),C.FFixedFont.SetStyle(rtl.createSet(0)),C.FFont.FCharset=1,C.FFont.SetColor(65793),C.FFont.SetHeight(-8),C.FFont.SetName("Segoe UI"),C.FFont.SetStyle({}),C.FID$1="",C.SetWidth(68);var u=this.grd_magam_02.FColumns.Add$1();u.SetBorderWidth(1),u.FFixedFont.FCharset=1,u.FFixedFont.SetColor(65793),u.FFixedFont.SetHeight(-8),u.FFixedFont.SetName("Segoe UI"),u.FFixedFont.SetStyle(rtl.createSet(0)),u.FFont.FCharset=1,u.FFont.SetColor(65793),u.FFont.SetHeight(-8),u.FFont.SetName("Segoe UI"),u.FFont.SetStyle({}),u.FID$1="",u.SetWidth(68);var d=this.grd_magam_02.FColumns.Add$1();d.SetBorderWidth(1),d.FFixedFont.FCharset=1,d.FFixedFont.SetColor(65793),d.FFixedFont.SetHeight(-8),d.FFixedFont.SetName("Segoe UI"),d.FFixedFont.SetStyle(rtl.createSet(0)),d.FFont.FCharset=1,d.FFont.SetColor(65793),d.FFont.SetHeight(-8),d.FFont.SetName("Segoe UI"),d.FFont.SetStyle({}),d.FID$1="",d.SetWidth(68);var c=this.grd_magam_02.FColumns.Add$1();c.SetBorderWidth(1),c.FFixedFont.FCharset=1,c.FFixedFont.SetColor(65793),c.FFixedFont.SetHeight(-8),c.FFixedFont.SetName("Segoe UI"),c.FFixedFont.SetStyle(rtl.createSet(0)),c.FFont.FCharset=1,c.FFont.SetColor(65793),c.FFont.SetHeight(-8),c.FFont.SetName("Segoe UI"),c.FFont.SetStyle({}),c.FID$1="",c.SetWidth(68);var S=this.grd_magam_02.FColumns.Add$1();S.SetBorderWidth(1),S.FFixedFont.FCharset=1,S.FFixedFont.SetColor(65793),S.FFixedFont.SetHeight(-8),S.FFixedFont.SetName("Segoe UI"),S.FFixedFont.SetStyle(rtl.createSet(0)),S.FFont.FCharset=1,S.FFont.SetColor(65793),S.FFont.SetHeight(-8),S.FFont.SetName("Segoe UI"),S.FFont.SetStyle({}),S.FID$1="",S.SetWidth(68);var T=this.grd_magam_02.FColumns.Add$1();T.SetBorderWidth(1),T.FFixedFont.FCharset=1,T.FFixedFont.SetColor(65793),T.FFixedFont.SetHeight(-8),T.FFixedFont.SetName("Segoe UI"),T.FFixedFont.SetStyle(rtl.createSet(0)),T.FFont.FCharset=1,T.FFont.SetColor(65793),T.FFont.SetHeight(-8),T.FFont.SetName("Segoe UI"),T.FFont.SetStyle({}),T.FID$1="",T.SetWidth(68);var m=this.grd_magam_02.FColumns.Add$1();m.SetBorderWidth(1),m.FFixedFont.FCharset=1,m.FFixedFont.SetColor(65793),m.FFixedFont.SetHeight(-8),m.FFixedFont.SetName("Segoe UI"),m.FFixedFont.SetStyle(rtl.createSet(0)),m.FFont.FCharset=1,m.FFont.SetColor(65793),m.FFont.SetHeight(-8),m.FFont.SetName("Segoe UI"),m.FFont.SetStyle({}),m.FID$1="",m.SetWidth(68);var g=this.grd_magam_02.FColumns.Add$1();g.SetBorderWidth(1),g.FFixedFont.FCharset=1,g.FFixedFont.SetColor(65793),g.FFixedFont.SetHeight(-8),g.FFixedFont.SetName("Segoe UI"),g.FFixedFont.SetStyle(rtl.createSet(0)),g.FFont.FCharset=1,g.FFont.SetColor(65793),g.FFont.SetHeight(-8),g.FFont.SetName("Segoe UI"),g.FFont.SetStyle({}),g.FID$1="",g.SetWidth(68);var M=this.grd_magam_02.FColumns.Add$1();M.SetBorderWidth(1),M.FFixedFont.FCharset=1,M.FFixedFont.SetColor(65793),M.FFixedFont.SetHeight(-8),M.FFixedFont.SetName("Segoe UI"),M.FFixedFont.SetStyle(rtl.createSet(0)),M.FFont.FCharset=1,M.FFont.SetColor(65793),M.FFont.SetHeight(-8),M.FFont.SetName("Segoe UI"),M.FFont.SetStyle({}),M.FID$1="",M.SetWidth(68);var f=this.grd_magam_02.FColumns.Add$1();f.SetBorderWidth(1),f.FFixedFont.FCharset=1,f.FFixedFont.SetColor(65793),f.FFixedFont.SetHeight(-8),f.FFixedFont.SetName("Segoe UI"),f.FFixedFont.SetStyle(rtl.createSet(0)),f.FFont.FCharset=1,f.FFont.SetColor(65793),f.FFont.SetHeight(-8),f.FFont.SetName("Segoe UI"),f.FFont.SetStyle({}),f.FID$1="",f.SetWidth(68);var b=this.grd_magam_02.FColumns.Add$1();b.SetBorderWidth(1),b.FFixedFont.FCharset=1,b.FFixedFont.SetColor(65793),b.FFixedFont.SetHeight(-8),b.FFixedFont.SetName("Segoe UI"),b.FFixedFont.SetStyle(rtl.createSet(0)),b.FFont.FCharset=1,b.FFont.SetColor(65793),b.FFont.SetHeight(-8),b.FFont.SetName("Segoe UI"),b.FFont.SetStyle({}),b.FID$1="",b.SetWidth(68);var y=this.grd_magam_02.FColumns.Add$1();y.SetBorderWidth(1),y.FFixedFont.FCharset=1,y.FFixedFont.SetColor(65793),y.FFixedFont.SetHeight(-8),y.FFixedFont.SetName("Segoe UI"),y.FFixedFont.SetStyle(rtl.createSet(0)),y.FFont.FCharset=1,y.FFont.SetColor(65793),y.FFont.SetHeight(-8),y.FFont.SetName("Segoe UI"),y.FFont.SetStyle({}),y.FID$1="",y.SetWidth(68);var B=this.grd_magam_02.FColumns.Add$1();B.SetBorderWidth(1),B.FFixedFont.FCharset=1,B.FFixedFont.SetColor(65793),B.FFixedFont.SetHeight(-8),B.FFixedFont.SetName("Segoe UI"),B.FFixedFont.SetStyle(rtl.createSet(0)),B.FFont.FCharset=1,B.FFont.SetColor(65793),B.FFont.SetHeight(-8),B.FFont.SetName("Segoe UI"),B.FFont.SetStyle({}),B.FID$1="",B.SetWidth(68);var E=this.grd_magam_02.FColumns.Add$1();E.SetBorderWidth(1),E.FFixedFont.FCharset=1,E.FFixedFont.SetColor(65793),E.FFixedFont.SetHeight(-8),E.FFixedFont.SetName("Segoe UI"),E.FFixedFont.SetStyle(rtl.createSet(0)),E.FFont.FCharset=1,E.FFont.SetColor(65793),E.FFont.SetHeight(-8),E.FFont.SetName("Segoe UI"),E.FFont.SetStyle({}),E.FID$1="",E.SetWidth(68);var L=this.grd_magam_02.FColumns.Add$1();L.SetBorderWidth(1),L.FFixedFont.FCharset=1,L.FFixedFont.SetColor(65793),L.FFixedFont.SetHeight(-8),L.FFixedFont.SetName("Segoe UI"),L.FFixedFont.SetStyle(rtl.createSet(0)),L.FFont.FCharset=1,L.FFont.SetColor(65793),L.FFont.SetHeight(-8),L.FFont.SetName("Segoe UI"),L.FFont.SetStyle({}),L.FID$1="",L.SetWidth(68),this.grd_magam_02.FDefaultFont.FCharset=1,this.grd_magam_02.FDefaultFont.SetColor(65793),this.grd_magam_02.FDefaultFont.SetHeight(-11),this.grd_magam_02.FDefaultFont.SetName("Segoe UI"),this.grd_magam_02.FDefaultFont.SetStyle({}),this.grd_magam_02.SetTopRow(1),this.grd_magam_02.FAppearance.FFixedLayout.FFill.SetColor(15132390),this.grd_magam_02.FAppearance.FFixedLayout.FStroke.SetKind(0),this.grd_magam_02.FAppearance.FFixedLayout.FFont.FCharset=1,this.grd_magam_02.FAppearance.FFixedLayout.FFont.SetColor(65793),this.grd_magam_02.FAppearance.FFixedLayout.FFont.SetHeight(-11),this.grd_magam_02.FAppearance.FFixedLayout.FFont.SetName("Segoe UI"),this.grd_magam_02.FAppearance.FFixedLayout.FFont.SetStyle(rtl.createSet(0)),this.grd_magam_02.FAppearance.FNormalLayout.FFill.SetColor(-1),this.grd_magam_02.FAppearance.FNormalLayout.FStroke.SetKind(0),this.grd_magam_02.FAppearance.FNormalLayout.FFont.FCharset=1,this.grd_magam_02.FAppearance.FNormalLayout.FFont.SetColor(65793),this.grd_magam_02.FAppearance.FNormalLayout.FFont.SetHeight(-11),this.grd_magam_02.FAppearance.FNormalLayout.FFont.SetName("Segoe UI"),this.grd_magam_02.FAppearance.FNormalLayout.FFont.SetStyle({}),this.grd_magam_02.FAppearance.FGroupLayout.FFill.SetColor(12817262),this.grd_magam_02.FAppearance.FGroupLayout.FFont.FCharset=1,this.grd_magam_02.FAppearance.FGroupLayout.FFont.SetColor(16777215),this.grd_magam_02.FAppearance.FGroupLayout.FFont.SetHeight(-11),this.grd_magam_02.FAppearance.FGroupLayout.FFont.SetName("Segoe UI"),this.grd_magam_02.FAppearance.FGroupLayout.FFont.SetStyle({}),this.grd_magam_02.FAppearance.FSummaryLayout.FFill.SetColor(14009785),this.grd_magam_02.FAppearance.FSummaryLayout.FFont.FCharset=1,this.grd_magam_02.FAppearance.FSummaryLayout.FFont.SetColor(65793),this.grd_magam_02.FAppearance.FSummaryLayout.FFont.SetHeight(-11),this.grd_magam_02.FAppearance.FSummaryLayout.FFont.SetName("Segoe UI"),this.grd_magam_02.FAppearance.FSummaryLayout.FFont.SetStyle({}),this.grd_magam_02.FAppearance.FSelectedLayout.FFill.SetColor(14599344),this.grd_magam_02.FAppearance.FSelectedLayout.FStroke.SetColor(15702829),this.grd_magam_02.FAppearance.FSelectedLayout.FFont.FCharset=1,this.grd_magam_02.FAppearance.FSelectedLayout.FFont.SetColor(16777215),this.grd_magam_02.FAppearance.FSelectedLayout.FFont.SetHeight(-11),this.grd_magam_02.FAppearance.FSelectedLayout.FFont.SetName("Segoe UI"),this.grd_magam_02.FAppearance.FSelectedLayout.FFont.SetStyle({}),this.grd_magam_02.FAppearance.FFocusedLayout.FFill.SetColor(14599344),this.grd_magam_02.FAppearance.FFocusedLayout.FStroke.SetKind(2),this.grd_magam_02.FAppearance.FFocusedLayout.FStroke.SetColor(15702829),this.grd_magam_02.FAppearance.FFocusedLayout.FFont.FCharset=1,this.grd_magam_02.FAppearance.FFocusedLayout.FFont.SetColor(16777215),this.grd_magam_02.FAppearance.FFocusedLayout.FFont.SetHeight(-11),this.grd_magam_02.FAppearance.FFocusedLayout.FFont.SetName("Segoe UI"),this.grd_magam_02.FAppearance.FFocusedLayout.FFont.SetStyle({}),this.grd_magam_02.FAppearance.FFixedSelectedLayout.FFill.SetColor(14599344),this.grd_magam_02.FAppearance.FFixedSelectedLayout.FFont.FCharset=1,this.grd_magam_02.FAppearance.FFixedSelectedLayout.FFont.SetColor(65793),this.grd_magam_02.FAppearance.FFixedSelectedLayout.FFont.SetHeight(-11),this.grd_magam_02.FAppearance.FFixedSelectedLayout.FFont.SetName("Segoe UI"),this.grd_magam_02.FAppearance.FFixedSelectedLayout.FFont.SetStyle({}),this.grd_magam_02.FAppearance.FBandLayout.FFill.SetColor(14745599),this.grd_magam_02.FAppearance.FBandLayout.FStroke.SetKind(0),this.grd_magam_02.FAppearance.FBandLayout.FFont.FCharset=1,this.grd_magam_02.FAppearance.FBandLayout.FFont.SetColor(65793),this.grd_magam_02.FAppearance.FBandLayout.FFont.SetHeight(-11),this.grd_magam_02.FAppearance.FBandLayout.FFont.SetName("Segoe UI"),this.grd_magam_02.FAppearance.FBandLayout.FFont.SetStyle({}),this.grd_magam_02.FAppearance.FProgressLayout.SetFormat("%.0f%%"),this.grd_magam_02.FAppearance.SetShowFocus(!1),this.grd_magam_02.SetLeftCol(0),this.grd_magam_02.SetScrollMode(1),this.grd_magam_02.FGlobalFont.SetScale(1),this.grd_magam_02.FGlobalFont.SetStyle({}),this.grd_magam_02.SetDesignTimeSampleData(!0),this.SetEvent$1(this.grd_magam_02,this,"OnCellClick","grd_magam_02CellClick"),this.grd_magam_01.SetParentComponent(this.pg_magam),this.grd_magam_01.SetName("grd_magam_01"),this.grd_magam_01.SetLeft(0),this.grd_magam_01.SetTop(58),this.grd_magam_01.SetWidth(1008),this.grd_magam_01.SetHeight(135),this.grd_magam_01.SetAlign(1),this.grd_magam_01.FParentDoubleBuffered=!1,this.grd_magam_01.FDoubleBuffered=!0,this.grd_magam_01.SetTabOrder(2),this.grd_magam_01.SetDefaultRowHeight(18),this.grd_magam_01.SetFixedColumns(0),this.grd_magam_01.SetColumnCount(25),this.grd_magam_01.SetRowCount(1),this.grd_magam_01.FOptions.FEditing.FCalcFormat="%g",this.grd_magam_01.FOptions.FGrouping.FCalcFormat="%g",this.grd_magam_01.FOptions.FGrouping.FGroupCountFormat="(%d)",this.grd_magam_01.FOptions.FIO.FXMLEncoding="ISO-8859-1",this.grd_magam_01.FOptions.FMouse.SetClickMargin(0),this.grd_magam_01.FOptions.FMouse.SetColumnSizeMargin(6),this.grd_magam_01.FOptions.FMouse.SetRowSizeMargin(6),this.grd_magam_01.FColumns.Clear();var D=this.grd_magam_01.FColumns.Add$1();D.SetBorderWidth(1),D.FFixedFont.FCharset=1,D.FFixedFont.SetColor(65793),D.FFixedFont.SetHeight(-8),D.FFixedFont.SetName("Segoe UI"),D.FFixedFont.SetStyle(rtl.createSet(0)),D.FFont.FCharset=1,D.FFont.SetColor(65793),D.FFont.SetHeight(-8),D.FFont.SetName("Segoe UI"),D.FFont.SetStyle({}),D.FID$1="",D.SetWidth(68);var N=this.grd_magam_01.FColumns.Add$1();N.SetBorderWidth(1),N.FFixedFont.FCharset=1,N.FFixedFont.SetColor(65793),N.FFixedFont.SetHeight(-8),N.FFixedFont.SetName("Segoe UI"),N.FFixedFont.SetStyle(rtl.createSet(0)),N.FFont.FCharset=1,N.FFont.SetColor(65793),N.FFont.SetHeight(-8),N.FFont.SetName("Segoe UI"),N.FFont.SetStyle({}),N.FID$1="",N.SetWidth(68);var A=this.grd_magam_01.FColumns.Add$1();A.SetBorderWidth(1),A.FFixedFont.FCharset=1,A.FFixedFont.SetColor(65793),A.FFixedFont.SetHeight(-8),A.FFixedFont.SetName("Segoe UI"),A.FFixedFont.SetStyle(rtl.createSet(0)),A.FFont.FCharset=1,A.FFont.SetColor(65793),A.FFont.SetHeight(-8),A.FFont.SetName("Segoe UI"),A.FFont.SetStyle({}),A.FID$1="",A.SetWidth(68);var G=this.grd_magam_01.FColumns.Add$1();G.SetBorderWidth(1),G.FFixedFont.FCharset=1,G.FFixedFont.SetColor(65793),G.FFixedFont.SetHeight(-8),G.FFixedFont.SetName("Segoe UI"),G.FFixedFont.SetStyle(rtl.createSet(0)),G.FFont.FCharset=1,G.FFont.SetColor(65793),G.FFont.SetHeight(-8),G.FFont.SetName("Segoe UI"),G.FFont.SetStyle({}),G.FID$1="",G.SetWidth(68);var P=this.grd_magam_01.FColumns.Add$1();P.SetBorderWidth(1),P.FFixedFont.FCharset=1,P.FFixedFont.SetColor(65793),P.FFixedFont.SetHeight(-8),P.FFixedFont.SetName("Segoe UI"),P.FFixedFont.SetStyle(rtl.createSet(0)),P.FFont.FCharset=1,P.FFont.SetColor(65793),P.FFont.SetHeight(-8),P.FFont.SetName("Segoe UI"),P.FFont.SetStyle({}),P.FID$1="",P.SetWidth(68);var R=this.grd_magam_01.FColumns.Add$1();R.SetBorderWidth(1),R.FFixedFont.FCharset=1,R.FFixedFont.SetColor(65793),R.FFixedFont.SetHeight(-8),R.FFixedFont.SetName("Segoe UI"),R.FFixedFont.SetStyle(rtl.createSet(0)),R.FFont.FCharset=1,R.FFont.SetColor(65793),R.FFont.SetHeight(-8),R.FFont.SetName("Segoe UI"),R.FFont.SetStyle({}),R.FID$1="",R.SetWidth(68);var W=this.grd_magam_01.FColumns.Add$1();W.SetBorderWidth(1),W.FFixedFont.FCharset=1,W.FFixedFont.SetColor(65793),W.FFixedFont.SetHeight(-8),W.FFixedFont.SetName("Segoe UI"),W.FFixedFont.SetStyle(rtl.createSet(0)),W.FFont.FCharset=1,W.FFont.SetColor(65793),W.FFont.SetHeight(-8),W.FFont.SetName("Segoe UI"),W.FFont.SetStyle({}),W.FID$1="",W.SetWidth(68);var v=this.grd_magam_01.FColumns.Add$1();v.SetBorderWidth(1),v.FFixedFont.FCharset=1,v.FFixedFont.SetColor(65793),v.FFixedFont.SetHeight(-8),v.FFixedFont.SetName("Segoe UI"),v.FFixedFont.SetStyle(rtl.createSet(0)),v.FFont.FCharset=1,v.FFont.SetColor(65793),v.FFont.SetHeight(-8),v.FFont.SetName("Segoe UI"),v.FFont.SetStyle({}),v.FID$1="",v.SetWidth(68);var I=this.grd_magam_01.FColumns.Add$1();I.SetBorderWidth(1),I.FFixedFont.FCharset=1,I.FFixedFont.SetColor(65793),I.FFixedFont.SetHeight(-8),I.FFixedFont.SetName("Segoe UI"),I.FFixedFont.SetStyle(rtl.createSet(0)),I.FFont.FCharset=1,I.FFont.SetColor(65793),I.FFont.SetHeight(-8),I.FFont.SetName("Segoe UI"),I.FFont.SetStyle({}),I.FID$1="",I.SetWidth(68);var w=this.grd_magam_01.FColumns.Add$1();w.SetBorderWidth(1),w.FFixedFont.FCharset=1,w.FFixedFont.SetColor(65793),w.FFixedFont.SetHeight(-8),w.FFixedFont.SetName("Segoe UI"),w.FFixedFont.SetStyle(rtl.createSet(0)),w.FFont.FCharset=1,w.FFont.SetColor(65793),w.FFont.SetHeight(-8),w.FFont.SetName("Segoe UI"),w.FFont.SetStyle({}),w.FID$1="",w.SetWidth(68);var O=this.grd_magam_01.FColumns.Add$1();O.SetBorderWidth(1),O.FFixedFont.FCharset=1,O.FFixedFont.SetColor(65793),O.FFixedFont.SetHeight(-8),O.FFixedFont.SetName("Segoe UI"),O.FFixedFont.SetStyle(rtl.createSet(0)),O.FFont.FCharset=1,O.FFont.SetColor(65793),O.FFont.SetHeight(-8),O.FFont.SetName("Segoe UI"),O.FFont.SetStyle({}),O.FID$1="",O.SetWidth(68);var $=this.grd_magam_01.FColumns.Add$1();$.SetBorderWidth(1),$.FFixedFont.FCharset=1,$.FFixedFont.SetColor(65793),$.FFixedFont.SetHeight(-8),$.FFixedFont.SetName("Segoe UI"),$.FFixedFont.SetStyle(rtl.createSet(0)),$.FFont.FCharset=1,$.FFont.SetColor(65793),$.FFont.SetHeight(-8),$.FFont.SetName("Segoe UI"),$.FFont.SetStyle({}),$.FID$1="",$.SetWidth(68);var x=this.grd_magam_01.FColumns.Add$1();x.SetBorderWidth(1),x.FFixedFont.FCharset=1,x.FFixedFont.SetColor(65793),x.FFixedFont.SetHeight(-8),x.FFixedFont.SetName("Segoe UI"),x.FFixedFont.SetStyle(rtl.createSet(0)),x.FFont.FCharset=1,x.FFont.SetColor(65793),x.FFont.SetHeight(-8),x.FFont.SetName("Segoe UI"),x.FFont.SetStyle({}),x.FID$1="",x.SetWidth(68);var k=this.grd_magam_01.FColumns.Add$1();k.SetBorderWidth(1),k.FFixedFont.FCharset=1,k.FFixedFont.SetColor(65793),k.FFixedFont.SetHeight(-8),k.FFixedFont.SetName("Segoe UI"),k.FFixedFont.SetStyle(rtl.createSet(0)),k.FFont.FCharset=1,k.FFont.SetColor(65793),k.FFont.SetHeight(-8),k.FFont.SetName("Segoe UI"),k.FFont.SetStyle({}),k.FID$1="",k.SetWidth(68);var _=this.grd_magam_01.FColumns.Add$1();_.SetBorderWidth(1),_.FFixedFont.FCharset=1,_.FFixedFont.SetColor(65793),_.FFixedFont.SetHeight(-8),_.FFixedFont.SetName("Segoe UI"),_.FFixedFont.SetStyle(rtl.createSet(0)),_.FFont.FCharset=1,_.FFont.SetColor(65793),_.FFont.SetHeight(-8),_.FFont.SetName("Segoe UI"),_.FFont.SetStyle({}),_.FID$1="",_.SetWidth(68);var H=this.grd_magam_01.FColumns.Add$1();H.SetBorderWidth(1),H.FFixedFont.FCharset=1,H.FFixedFont.SetColor(65793),H.FFixedFont.SetHeight(-8),H.FFixedFont.SetName("Segoe UI"),H.FFixedFont.SetStyle(rtl.createSet(0)),H.FFont.FCharset=1,H.FFont.SetColor(65793),H.FFont.SetHeight(-8),H.FFont.SetName("Segoe UI"),H.FFont.SetStyle({}),H.FID$1="",H.SetWidth(68);var U=this.grd_magam_01.FColumns.Add$1();U.SetBorderWidth(1),U.FFixedFont.FCharset=1,U.FFixedFont.SetColor(65793),U.FFixedFont.SetHeight(-8),U.FFixedFont.SetName("Segoe UI"),U.FFixedFont.SetStyle(rtl.createSet(0)),U.FFont.FCharset=1,U.FFont.SetColor(65793),U.FFont.SetHeight(-8),U.FFont.SetName("Segoe UI"),U.FFont.SetStyle({}),U.FID$1="",U.SetWidth(68);var V=this.grd_magam_01.FColumns.Add$1();V.SetBorderWidth(1),V.FFixedFont.FCharset=1,V.FFixedFont.SetColor(65793),V.FFixedFont.SetHeight(-8),V.FFixedFont.SetName("Segoe UI"),V.FFixedFont.SetStyle(rtl.createSet(0)),V.FFont.FCharset=1,V.FFont.SetColor(65793),V.FFont.SetHeight(-8),V.FFont.SetName("Segoe UI"),V.FFont.SetStyle({}),V.FID$1="",V.SetWidth(68);var z=this.grd_magam_01.FColumns.Add$1();z.SetBorderWidth(1),z.FFixedFont.FCharset=1,z.FFixedFont.SetColor(65793),z.FFixedFont.SetHeight(-8),z.FFixedFont.SetName("Segoe UI"),z.FFixedFont.SetStyle(rtl.createSet(0)),z.FFont.FCharset=1,z.FFont.SetColor(65793),z.FFont.SetHeight(-8),z.FFont.SetName("Segoe UI"),z.FFont.SetStyle({}),z.FID$1="",z.SetWidth(68);var K=this.grd_magam_01.FColumns.Add$1();K.SetBorderWidth(1),K.FFixedFont.FCharset=1,K.FFixedFont.SetColor(65793),K.FFixedFont.SetHeight(-8),K.FFixedFont.SetName("Segoe UI"),K.FFixedFont.SetStyle(rtl.createSet(0)),K.FFont.FCharset=1,K.FFont.SetColor(65793),K.FFont.SetHeight(-8),K.FFont.SetName("Segoe UI"),K.FFont.SetStyle({}),K.FID$1="",K.SetWidth(68);var j=this.grd_magam_01.FColumns.Add$1();j.SetBorderWidth(1),j.FFixedFont.FCharset=1,j.FFixedFont.SetColor(65793),j.FFixedFont.SetHeight(-8),j.FFixedFont.SetName("Segoe UI"),j.FFixedFont.SetStyle(rtl.createSet(0)),j.FFont.FCharset=1,j.FFont.SetColor(65793),j.FFont.SetHeight(-8),j.FFont.SetName("Segoe UI"),j.FFont.SetStyle({}),j.FID$1="",j.SetWidth(68);var Y=this.grd_magam_01.FColumns.Add$1();Y.SetBorderWidth(1),Y.FFixedFont.FCharset=1,Y.FFixedFont.SetColor(65793),Y.FFixedFont.SetHeight(-8),Y.FFixedFont.SetName("Segoe UI"),Y.FFixedFont.SetStyle(rtl.createSet(0)),Y.FFont.FCharset=1,Y.FFont.SetColor(65793),Y.FFont.SetHeight(-8),Y.FFont.SetName("Segoe UI"),Y.FFont.SetStyle({}),Y.FID$1="",Y.SetWidth(68);var q=this.grd_magam_01.FColumns.Add$1();q.SetBorderWidth(1),q.FFixedFont.FCharset=1,q.FFixedFont.SetColor(65793),q.FFixedFont.SetHeight(-8),q.FFixedFont.SetName("Segoe UI"),q.FFixedFont.SetStyle(rtl.createSet(0)),q.FFont.FCharset=1,q.FFont.SetColor(65793),q.FFont.SetHeight(-8),q.FFont.SetName("Segoe UI"),q.FFont.SetStyle({}),q.FID$1="",q.SetWidth(68);var X=this.grd_magam_01.FColumns.Add$1();X.SetBorderWidth(1),X.FFixedFont.FCharset=1,X.FFixedFont.SetColor(65793),X.FFixedFont.SetHeight(-8),X.FFixedFont.SetName("Segoe UI"),X.FFixedFont.SetStyle(rtl.createSet(0)),X.FFont.FCharset=1,X.FFont.SetColor(65793),X.FFont.SetHeight(-8),X.FFont.SetName("Segoe UI"),X.FFont.SetStyle({}),X.FID$1="",X.SetWidth(68);var Q=this.grd_magam_01.FColumns.Add$1();Q.SetBorderWidth(1),Q.FFixedFont.FCharset=1,Q.FFixedFont.SetColor(65793),Q.FFixedFont.SetHeight(-8),Q.FFixedFont.SetName("Segoe UI"),Q.FFixedFont.SetStyle(rtl.createSet(0)),Q.FFont.FCharset=1,Q.FFont.SetColor(65793),Q.FFont.SetHeight(-8),Q.FFont.SetName("Segoe UI"),Q.FFont.SetStyle({}),Q.FID$1="",Q.SetWidth(68),this.grd_magam_01.FDefaultFont.FCharset=1,this.grd_magam_01.FDefaultFont.SetColor(65793),this.grd_magam_01.FDefaultFont.SetHeight(-11),this.grd_magam_01.FDefaultFont.SetName("Segoe UI"),this.grd_magam_01.FDefaultFont.SetStyle({}),this.grd_magam_01.SetTopRow(1),this.grd_magam_01.FAppearance.FFixedLayout.FFill.SetColor(15132390),this.grd_magam_01.FAppearance.FFixedLayout.FStroke.SetKind(0),this.grd_magam_01.FAppearance.FFixedLayout.FFont.FCharset=1,this.grd_magam_01.FAppearance.FFixedLayout.FFont.SetColor(65793),this.grd_magam_01.FAppearance.FFixedLayout.FFont.SetHeight(-11),this.grd_magam_01.FAppearance.FFixedLayout.FFont.SetName("Segoe UI"),this.grd_magam_01.FAppearance.FFixedLayout.FFont.SetStyle(rtl.createSet(0)),this.grd_magam_01.FAppearance.FNormalLayout.FFill.SetColor(-1),this.grd_magam_01.FAppearance.FNormalLayout.FStroke.SetKind(0),this.grd_magam_01.FAppearance.FNormalLayout.FFont.FCharset=1,this.grd_magam_01.FAppearance.FNormalLayout.FFont.SetColor(65793),this.grd_magam_01.FAppearance.FNormalLayout.FFont.SetHeight(-11),this.grd_magam_01.FAppearance.FNormalLayout.FFont.SetName("Segoe UI"),this.grd_magam_01.FAppearance.FNormalLayout.FFont.SetStyle({}),this.grd_magam_01.FAppearance.FGroupLayout.FFill.SetColor(12817262),this.grd_magam_01.FAppearance.FGroupLayout.FFont.FCharset=1,this.grd_magam_01.FAppearance.FGroupLayout.FFont.SetColor(16777215),this.grd_magam_01.FAppearance.FGroupLayout.FFont.SetHeight(-11),this.grd_magam_01.FAppearance.FGroupLayout.FFont.SetName("Segoe UI"),this.grd_magam_01.FAppearance.FGroupLayout.FFont.SetStyle({}),this.grd_magam_01.FAppearance.FSummaryLayout.FFill.SetColor(14009785),this.grd_magam_01.FAppearance.FSummaryLayout.FFont.FCharset=1,this.grd_magam_01.FAppearance.FSummaryLayout.FFont.SetColor(65793),this.grd_magam_01.FAppearance.FSummaryLayout.FFont.SetHeight(-11),this.grd_magam_01.FAppearance.FSummaryLayout.FFont.SetName("Segoe UI"),this.grd_magam_01.FAppearance.FSummaryLayout.FFont.SetStyle({}),this.grd_magam_01.FAppearance.FSelectedLayout.FFill.SetColor(14599344),this.grd_magam_01.FAppearance.FSelectedLayout.FStroke.SetColor(15702829),this.grd_magam_01.FAppearance.FSelectedLayout.FFont.FCharset=1,this.grd_magam_01.FAppearance.FSelectedLayout.FFont.SetColor(16777215),this.grd_magam_01.FAppearance.FSelectedLayout.FFont.SetHeight(-11),this.grd_magam_01.FAppearance.FSelectedLayout.FFont.SetName("Segoe UI"),this.grd_magam_01.FAppearance.FSelectedLayout.FFont.SetStyle({}),this.grd_magam_01.FAppearance.FFocusedLayout.FFill.SetColor(14599344),this.grd_magam_01.FAppearance.FFocusedLayout.FStroke.SetKind(2),this.grd_magam_01.FAppearance.FFocusedLayout.FStroke.SetColor(15702829),this.grd_magam_01.FAppearance.FFocusedLayout.FFont.FCharset=1,this.grd_magam_01.FAppearance.FFocusedLayout.FFont.SetColor(16777215),this.grd_magam_01.FAppearance.FFocusedLayout.FFont.SetHeight(-11),this.grd_magam_01.FAppearance.FFocusedLayout.FFont.SetName("Segoe UI"),this.grd_magam_01.FAppearance.FFocusedLayout.FFont.SetStyle({}),this.grd_magam_01.FAppearance.FFixedSelectedLayout.FFill.SetColor(14599344),this.grd_magam_01.FAppearance.FFixedSelectedLayout.FFont.FCharset=1,this.grd_magam_01.FAppearance.FFixedSelectedLayout.FFont.SetColor(65793),this.grd_magam_01.FAppearance.FFixedSelectedLayout.FFont.SetHeight(-11),this.grd_magam_01.FAppearance.FFixedSelectedLayout.FFont.SetName("Segoe UI"),this.grd_magam_01.FAppearance.FFixedSelectedLayout.FFont.SetStyle({}),this.grd_magam_01.FAppearance.FBandLayout.FFill.SetColor(14745599),this.grd_magam_01.FAppearance.FBandLayout.FStroke.SetKind(0),this.grd_magam_01.FAppearance.FBandLayout.FFont.FCharset=1,this.grd_magam_01.FAppearance.FBandLayout.FFont.SetColor(65793),this.grd_magam_01.FAppearance.FBandLayout.FFont.SetHeight(-11),this.grd_magam_01.FAppearance.FBandLayout.FFont.SetName("Segoe UI"),this.grd_magam_01.FAppearance.FBandLayout.FFont.SetStyle({}),this.grd_magam_01.FAppearance.FProgressLayout.SetFormat("%.0f%%"),this.grd_magam_01.FAppearance.SetShowFocus(!1),this.grd_magam_01.SetLeftCol(0),this.grd_magam_01.SetScrollMode(1),this.grd_magam_01.FGlobalFont.SetScale(1),this.grd_magam_01.FGlobalFont.SetStyle({}),this.grd_magam_01.SetDesignTimeSampleData(!0),this.pg_nabpum.SetParentComponent(this.page_ctr),this.pg_nabpum.SetName("pg_nabpum"),this.pg_nabpum.SetAlignWithMargins(!0),this.pg_nabpum.SetLeft(0),this.pg_nabpum.SetTop(29),this.pg_nabpum.SetWidth(1008),this.pg_nabpum.SetHeight(554),this.pg_nabpum.FMargins.SetLeft(0),this.pg_nabpum.FMargins.SetTop(29),this.pg_nabpum.FMargins.SetRight(0),this.pg_nabpum.FMargins.SetBottom(0),this.pg_nabpum.SetAdaptToStyle(!0),this.pg_nabpum.SetAlign(5),this.pg_nabpum.FParentDoubleBuffered=!1,this.pg_nabpum.FDoubleBuffered=!0,this.pg_nabpum.SetTabStop(!1),this.pg_nabpum.SetTabOrder(1),this.pg_nabpum.FStroke.SetColor(15987699),this.pg_nabpum.SetPageIndex(1),this.pg_nabpum.SetIsActive(!0),this.grd_nabpum_02.SetParentComponent(this.pg_nabpum),this.grd_nabpum_02.SetName("grd_nabpum_02"),this.grd_nabpum_02.SetLeft(0),this.grd_nabpum_02.SetTop(193),this.grd_nabpum_02.SetWidth(1008),this.grd_nabpum_02.SetHeight(361),this.grd_nabpum_02.SetAlign(5),this.grd_nabpum_02.FParentDoubleBuffered=!1,this.grd_nabpum_02.FDoubleBuffered=!0,this.grd_nabpum_02.SetTabOrder(0),this.grd_nabpum_02.SetDefaultRowHeight(18),this.grd_nabpum_02.SetFixedColumns(0),this.grd_nabpum_02.SetColumnCount(25),this.grd_nabpum_02.SetRowCount(1),this.grd_nabpum_02.FOptions.FEditing.FCalcFormat="%g",this.grd_nabpum_02.FOptions.FGrouping.FCalcFormat="%g",this.grd_nabpum_02.FOptions.FGrouping.FGroupCountFormat="(%d)",this.grd_nabpum_02.FOptions.FIO.FXMLEncoding="ISO-8859-1",this.grd_nabpum_02.FOptions.FMouse.SetClickMargin(0),this.grd_nabpum_02.FOptions.FMouse.SetColumnSizeMargin(6),this.grd_nabpum_02.FOptions.FMouse.SetRowSizeMargin(6),this.grd_nabpum_02.FColumns.Clear();var J=this.grd_nabpum_02.FColumns.Add$1();J.SetBorderWidth(1),J.FFixedFont.FCharset=1,J.FFixedFont.SetColor(65793),J.FFixedFont.SetHeight(-8),J.FFixedFont.SetName("Segoe UI"),J.FFixedFont.SetStyle(rtl.createSet(0)),J.FFont.FCharset=1,J.FFont.SetColor(65793),J.FFont.SetHeight(-8),J.FFont.SetName("Segoe UI"),J.FFont.SetStyle({}),J.FID$1="",J.SetWidth(68);var Z=this.grd_nabpum_02.FColumns.Add$1();Z.SetBorderWidth(1),Z.FFixedFont.FCharset=1,Z.FFixedFont.SetColor(65793),Z.FFixedFont.SetHeight(-8),Z.FFixedFont.SetName("Segoe UI"),Z.FFixedFont.SetStyle(rtl.createSet(0)),Z.FFont.FCharset=1,Z.FFont.SetColor(65793),Z.FFont.SetHeight(-8),Z.FFont.SetName("Segoe UI"),Z.FFont.SetStyle({}),Z.FID$1="",Z.SetWidth(68);var tt=this.grd_nabpum_02.FColumns.Add$1();tt.SetBorderWidth(1),tt.FFixedFont.FCharset=1,tt.FFixedFont.SetColor(65793),tt.FFixedFont.SetHeight(-8),tt.FFixedFont.SetName("Segoe UI"),tt.FFixedFont.SetStyle(rtl.createSet(0)),tt.FFont.FCharset=1,tt.FFont.SetColor(65793),tt.FFont.SetHeight(-8),tt.FFont.SetName("Segoe UI"),tt.FFont.SetStyle({}),tt.FID$1="",tt.SetWidth(68);var et=this.grd_nabpum_02.FColumns.Add$1();et.SetBorderWidth(1),et.FFixedFont.FCharset=1,et.FFixedFont.SetColor(65793),et.FFixedFont.SetHeight(-8),et.FFixedFont.SetName("Segoe UI"),et.FFixedFont.SetStyle(rtl.createSet(0)),et.FFont.FCharset=1,et.FFont.SetColor(65793),et.FFont.SetHeight(-8),et.FFont.SetName("Segoe UI"),et.FFont.SetStyle({}),et.FID$1="",et.SetWidth(68);var it=this.grd_nabpum_02.FColumns.Add$1();it.SetBorderWidth(1),it.FFixedFont.FCharset=1,it.FFixedFont.SetColor(65793),it.FFixedFont.SetHeight(-8),it.FFixedFont.SetName("Segoe UI"),it.FFixedFont.SetStyle(rtl.createSet(0)),it.FFont.FCharset=1,it.FFont.SetColor(65793),it.FFont.SetHeight(-8),it.FFont.SetName("Segoe UI"),it.FFont.SetStyle({}),it.FID$1="",it.SetWidth(68);var st=this.grd_nabpum_02.FColumns.Add$1();st.SetBorderWidth(1),st.FFixedFont.FCharset=1,st.FFixedFont.SetColor(65793),st.FFixedFont.SetHeight(-8),st.FFixedFont.SetName("Segoe UI"),st.FFixedFont.SetStyle(rtl.createSet(0)),st.FFont.FCharset=1,st.FFont.SetColor(65793),st.FFont.SetHeight(-8),st.FFont.SetName("Segoe UI"),st.FFont.SetStyle({}),st.FID$1="",st.SetWidth(68);var ot=this.grd_nabpum_02.FColumns.Add$1();ot.SetBorderWidth(1),ot.FFixedFont.FCharset=1,ot.FFixedFont.SetColor(65793),ot.FFixedFont.SetHeight(-8),ot.FFixedFont.SetName("Segoe UI"),ot.FFixedFont.SetStyle(rtl.createSet(0)),ot.FFont.FCharset=1,ot.FFont.SetColor(65793),ot.FFont.SetHeight(-8),ot.FFont.SetName("Segoe UI"),ot.FFont.SetStyle({}),ot.FID$1="",ot.SetWidth(68);var nt=this.grd_nabpum_02.FColumns.Add$1();nt.SetBorderWidth(1),nt.FFixedFont.FCharset=1,nt.FFixedFont.SetColor(65793),nt.FFixedFont.SetHeight(-8),nt.FFixedFont.SetName("Segoe UI"),nt.FFixedFont.SetStyle(rtl.createSet(0)),nt.FFont.FCharset=1,nt.FFont.SetColor(65793),nt.FFont.SetHeight(-8),nt.FFont.SetName("Segoe UI"),nt.FFont.SetStyle({}),nt.FID$1="",nt.SetWidth(68);var at=this.grd_nabpum_02.FColumns.Add$1();at.SetBorderWidth(1),at.FFixedFont.FCharset=1,at.FFixedFont.SetColor(65793),at.FFixedFont.SetHeight(-8),at.FFixedFont.SetName("Segoe UI"),at.FFixedFont.SetStyle(rtl.createSet(0)),at.FFont.FCharset=1,at.FFont.SetColor(65793),at.FFont.SetHeight(-8),at.FFont.SetName("Segoe UI"),at.FFont.SetStyle({}),at.FID$1="",at.SetWidth(68);var rt=this.grd_nabpum_02.FColumns.Add$1();rt.SetBorderWidth(1),rt.FFixedFont.FCharset=1,rt.FFixedFont.SetColor(65793),rt.FFixedFont.SetHeight(-8),rt.FFixedFont.SetName("Segoe UI"),rt.FFixedFont.SetStyle(rtl.createSet(0)),rt.FFont.FCharset=1,rt.FFont.SetColor(65793),rt.FFont.SetHeight(-8),rt.FFont.SetName("Segoe UI"),rt.FFont.SetStyle({}),rt.FID$1="",rt.SetWidth(68);var lt=this.grd_nabpum_02.FColumns.Add$1();lt.SetBorderWidth(1),lt.FFixedFont.FCharset=1,lt.FFixedFont.SetColor(65793),lt.FFixedFont.SetHeight(-8),lt.FFixedFont.SetName("Segoe UI"),lt.FFixedFont.SetStyle(rtl.createSet(0)),lt.FFont.FCharset=1,lt.FFont.SetColor(65793),lt.FFont.SetHeight(-8),lt.FFont.SetName("Segoe UI"),lt.FFont.SetStyle({}),lt.FID$1="",lt.SetWidth(68);var ht=this.grd_nabpum_02.FColumns.Add$1();ht.SetBorderWidth(1),ht.FFixedFont.FCharset=1,ht.FFixedFont.SetColor(65793),ht.FFixedFont.SetHeight(-8),ht.FFixedFont.SetName("Segoe UI"),ht.FFixedFont.SetStyle(rtl.createSet(0)),ht.FFont.FCharset=1,ht.FFont.SetColor(65793),ht.FFont.SetHeight(-8),ht.FFont.SetName("Segoe UI"),ht.FFont.SetStyle({}),ht.FID$1="",ht.SetWidth(68);var Ft=this.grd_nabpum_02.FColumns.Add$1();Ft.SetBorderWidth(1),Ft.FFixedFont.FCharset=1,Ft.FFixedFont.SetColor(65793),Ft.FFixedFont.SetHeight(-8),Ft.FFixedFont.SetName("Segoe UI"),Ft.FFixedFont.SetStyle(rtl.createSet(0)),Ft.FFont.FCharset=1,Ft.FFont.SetColor(65793),Ft.FFont.SetHeight(-8),Ft.FFont.SetName("Segoe UI"),Ft.FFont.SetStyle({}),Ft.FID$1="",Ft.SetWidth(68);var pt=this.grd_nabpum_02.FColumns.Add$1();pt.SetBorderWidth(1),pt.FFixedFont.FCharset=1,pt.FFixedFont.SetColor(65793),pt.FFixedFont.SetHeight(-8),pt.FFixedFont.SetName("Segoe UI"),pt.FFixedFont.SetStyle(rtl.createSet(0)),pt.FFont.FCharset=1,pt.FFont.SetColor(65793),pt.FFont.SetHeight(-8),pt.FFont.SetName("Segoe UI"),pt.FFont.SetStyle({}),pt.FID$1="",pt.SetWidth(68);var Ct=this.grd_nabpum_02.FColumns.Add$1();Ct.SetBorderWidth(1),Ct.FFixedFont.FCharset=1,Ct.FFixedFont.SetColor(65793),Ct.FFixedFont.SetHeight(-8),Ct.FFixedFont.SetName("Segoe UI"),Ct.FFixedFont.SetStyle(rtl.createSet(0)),Ct.FFont.FCharset=1,Ct.FFont.SetColor(65793),Ct.FFont.SetHeight(-8),Ct.FFont.SetName("Segoe UI"),Ct.FFont.SetStyle({}),Ct.FID$1="",Ct.SetWidth(68);var ut=this.grd_nabpum_02.FColumns.Add$1();ut.SetBorderWidth(1),ut.FFixedFont.FCharset=1,ut.FFixedFont.SetColor(65793),ut.FFixedFont.SetHeight(-8),ut.FFixedFont.SetName("Segoe UI"),ut.FFixedFont.SetStyle(rtl.createSet(0)),ut.FFont.FCharset=1,ut.FFont.SetColor(65793),ut.FFont.SetHeight(-8),ut.FFont.SetName("Segoe UI"),ut.FFont.SetStyle({}),ut.FID$1="",ut.SetWidth(68);var dt=this.grd_nabpum_02.FColumns.Add$1();dt.SetBorderWidth(1),dt.FFixedFont.FCharset=1,dt.FFixedFont.SetColor(65793),dt.FFixedFont.SetHeight(-8),dt.FFixedFont.SetName("Segoe UI"),dt.FFixedFont.SetStyle(rtl.createSet(0)),dt.FFont.FCharset=1,dt.FFont.SetColor(65793),dt.FFont.SetHeight(-8),dt.FFont.SetName("Segoe UI"),dt.FFont.SetStyle({}),dt.FID$1="",dt.SetWidth(68);var ct=this.grd_nabpum_02.FColumns.Add$1();ct.SetBorderWidth(1),ct.FFixedFont.FCharset=1,ct.FFixedFont.SetColor(65793),ct.FFixedFont.SetHeight(-8),ct.FFixedFont.SetName("Segoe UI"),ct.FFixedFont.SetStyle(rtl.createSet(0)),ct.FFont.FCharset=1,ct.FFont.SetColor(65793),ct.FFont.SetHeight(-8),ct.FFont.SetName("Segoe UI"),ct.FFont.SetStyle({}),ct.FID$1="",ct.SetWidth(68);var St=this.grd_nabpum_02.FColumns.Add$1();St.SetBorderWidth(1),St.FFixedFont.FCharset=1,St.FFixedFont.SetColor(65793),St.FFixedFont.SetHeight(-8),St.FFixedFont.SetName("Segoe UI"),St.FFixedFont.SetStyle(rtl.createSet(0)),St.FFont.FCharset=1,St.FFont.SetColor(65793),St.FFont.SetHeight(-8),St.FFont.SetName("Segoe UI"),St.FFont.SetStyle({}),St.FID$1="",St.SetWidth(68);var Tt=this.grd_nabpum_02.FColumns.Add$1();Tt.SetBorderWidth(1),Tt.FFixedFont.FCharset=1,Tt.FFixedFont.SetColor(65793),Tt.FFixedFont.SetHeight(-8),Tt.FFixedFont.SetName("Segoe UI"),Tt.FFixedFont.SetStyle(rtl.createSet(0)),Tt.FFont.FCharset=1,Tt.FFont.SetColor(65793),Tt.FFont.SetHeight(-8),Tt.FFont.SetName("Segoe UI"),Tt.FFont.SetStyle({}),Tt.FID$1="",Tt.SetWidth(68);var mt=this.grd_nabpum_02.FColumns.Add$1();mt.SetBorderWidth(1),mt.FFixedFont.FCharset=1,mt.FFixedFont.SetColor(65793),mt.FFixedFont.SetHeight(-8),mt.FFixedFont.SetName("Segoe UI"),mt.FFixedFont.SetStyle(rtl.createSet(0)),mt.FFont.FCharset=1,mt.FFont.SetColor(65793),mt.FFont.SetHeight(-8),mt.FFont.SetName("Segoe UI"),mt.FFont.SetStyle({}),mt.FID$1="",mt.SetWidth(68);var gt=this.grd_nabpum_02.FColumns.Add$1();gt.SetBorderWidth(1),gt.FFixedFont.FCharset=1,gt.FFixedFont.SetColor(65793),gt.FFixedFont.SetHeight(-8),gt.FFixedFont.SetName("Segoe UI"),gt.FFixedFont.SetStyle(rtl.createSet(0)),gt.FFont.FCharset=1,gt.FFont.SetColor(65793),gt.FFont.SetHeight(-8),gt.FFont.SetName("Segoe UI"),gt.FFont.SetStyle({}),gt.FID$1="",gt.SetWidth(68);var Mt=this.grd_nabpum_02.FColumns.Add$1();Mt.SetBorderWidth(1),Mt.FFixedFont.FCharset=1,Mt.FFixedFont.SetColor(65793),Mt.FFixedFont.SetHeight(-8),Mt.FFixedFont.SetName("Segoe UI"),Mt.FFixedFont.SetStyle(rtl.createSet(0)),Mt.FFont.FCharset=1,Mt.FFont.SetColor(65793),Mt.FFont.SetHeight(-8),Mt.FFont.SetName("Segoe UI"),Mt.FFont.SetStyle({}),Mt.FID$1="",Mt.SetWidth(68);var ft=this.grd_nabpum_02.FColumns.Add$1();ft.SetBorderWidth(1),ft.FFixedFont.FCharset=1,ft.FFixedFont.SetColor(65793),ft.FFixedFont.SetHeight(-8),ft.FFixedFont.SetName("Segoe UI"),ft.FFixedFont.SetStyle(rtl.createSet(0)),ft.FFont.FCharset=1,ft.FFont.SetColor(65793),ft.FFont.SetHeight(-8),ft.FFont.SetName("Segoe UI"),ft.FFont.SetStyle({}),ft.FID$1="",ft.SetWidth(68);var bt=this.grd_nabpum_02.FColumns.Add$1();bt.SetBorderWidth(1),bt.FFixedFont.FCharset=1,bt.FFixedFont.SetColor(65793),bt.FFixedFont.SetHeight(-8),bt.FFixedFont.SetName("Segoe UI"),bt.FFixedFont.SetStyle(rtl.createSet(0)),bt.FFont.FCharset=1,bt.FFont.SetColor(65793),bt.FFont.SetHeight(-8),bt.FFont.SetName("Segoe UI"),bt.FFont.SetStyle({}),bt.FID$1="",bt.SetWidth(68),this.grd_nabpum_02.FDefaultFont.FCharset=1,this.grd_nabpum_02.FDefaultFont.SetColor(65793),this.grd_nabpum_02.FDefaultFont.SetHeight(-11),this.grd_nabpum_02.FDefaultFont.SetName("Segoe UI"),this.grd_nabpum_02.FDefaultFont.SetStyle({}),this.grd_nabpum_02.SetTopRow(1),this.grd_nabpum_02.FAppearance.FFixedLayout.FFill.SetColor(15132390),this.grd_nabpum_02.FAppearance.FFixedLayout.FStroke.SetKind(0),this.grd_nabpum_02.FAppearance.FFixedLayout.FFont.FCharset=1,this.grd_nabpum_02.FAppearance.FFixedLayout.FFont.SetColor(65793),this.grd_nabpum_02.FAppearance.FFixedLayout.FFont.SetHeight(-11),this.grd_nabpum_02.FAppearance.FFixedLayout.FFont.SetName("Segoe UI"),this.grd_nabpum_02.FAppearance.FFixedLayout.FFont.SetStyle(rtl.createSet(0)),this.grd_nabpum_02.FAppearance.FNormalLayout.FFill.SetColor(-1),this.grd_nabpum_02.FAppearance.FNormalLayout.FStroke.SetKind(0),this.grd_nabpum_02.FAppearance.FNormalLayout.FFont.FCharset=1,this.grd_nabpum_02.FAppearance.FNormalLayout.FFont.SetColor(65793),this.grd_nabpum_02.FAppearance.FNormalLayout.FFont.SetHeight(-11),this.grd_nabpum_02.FAppearance.FNormalLayout.FFont.SetName("Segoe UI"),this.grd_nabpum_02.FAppearance.FNormalLayout.FFont.SetStyle({}),this.grd_nabpum_02.FAppearance.FGroupLayout.FFill.SetColor(12817262),this.grd_nabpum_02.FAppearance.FGroupLayout.FFont.FCharset=1,this.grd_nabpum_02.FAppearance.FGroupLayout.FFont.SetColor(16777215),this.grd_nabpum_02.FAppearance.FGroupLayout.FFont.SetHeight(-11),this.grd_nabpum_02.FAppearance.FGroupLayout.FFont.SetName("Segoe UI"),this.grd_nabpum_02.FAppearance.FGroupLayout.FFont.SetStyle({}),this.grd_nabpum_02.FAppearance.FSummaryLayout.FFill.SetColor(14009785),this.grd_nabpum_02.FAppearance.FSummaryLayout.FFont.FCharset=1,this.grd_nabpum_02.FAppearance.FSummaryLayout.FFont.SetColor(65793),this.grd_nabpum_02.FAppearance.FSummaryLayout.FFont.SetHeight(-11),this.grd_nabpum_02.FAppearance.FSummaryLayout.FFont.SetName("Segoe UI"),this.grd_nabpum_02.FAppearance.FSummaryLayout.FFont.SetStyle({}),this.grd_nabpum_02.FAppearance.FSelectedLayout.FFill.SetColor(14599344),this.grd_nabpum_02.FAppearance.FSelectedLayout.FStroke.SetColor(15702829),this.grd_nabpum_02.FAppearance.FSelectedLayout.FFont.FCharset=1,this.grd_nabpum_02.FAppearance.FSelectedLayout.FFont.SetColor(16777215),this.grd_nabpum_02.FAppearance.FSelectedLayout.FFont.SetHeight(-11),this.grd_nabpum_02.FAppearance.FSelectedLayout.FFont.SetName("Segoe UI"),this.grd_nabpum_02.FAppearance.FSelectedLayout.FFont.SetStyle({}),this.grd_nabpum_02.FAppearance.FFocusedLayout.FFill.SetColor(14599344),this.grd_nabpum_02.FAppearance.FFocusedLayout.FStroke.SetKind(2),this.grd_nabpum_02.FAppearance.FFocusedLayout.FStroke.SetColor(15702829),this.grd_nabpum_02.FAppearance.FFocusedLayout.FFont.FCharset=1,this.grd_nabpum_02.FAppearance.FFocusedLayout.FFont.SetColor(16777215),this.grd_nabpum_02.FAppearance.FFocusedLayout.FFont.SetHeight(-11),this.grd_nabpum_02.FAppearance.FFocusedLayout.FFont.SetName("Segoe UI"),this.grd_nabpum_02.FAppearance.FFocusedLayout.FFont.SetStyle({}),this.grd_nabpum_02.FAppearance.FFixedSelectedLayout.FFill.SetColor(14599344),this.grd_nabpum_02.FAppearance.FFixedSelectedLayout.FFont.FCharset=1,this.grd_nabpum_02.FAppearance.FFixedSelectedLayout.FFont.SetColor(65793),this.grd_nabpum_02.FAppearance.FFixedSelectedLayout.FFont.SetHeight(-11),this.grd_nabpum_02.FAppearance.FFixedSelectedLayout.FFont.SetName("Segoe UI"),this.grd_nabpum_02.FAppearance.FFixedSelectedLayout.FFont.SetStyle({}),this.grd_nabpum_02.FAppearance.FBandLayout.FFill.SetColor(14745599),this.grd_nabpum_02.FAppearance.FBandLayout.FStroke.SetKind(0),this.grd_nabpum_02.FAppearance.FBandLayout.FFont.FCharset=1,this.grd_nabpum_02.FAppearance.FBandLayout.FFont.SetColor(65793),this.grd_nabpum_02.FAppearance.FBandLayout.FFont.SetHeight(-11),this.grd_nabpum_02.FAppearance.FBandLayout.FFont.SetName("Segoe UI"),this.grd_nabpum_02.FAppearance.FBandLayout.FFont.SetStyle({}),this.grd_nabpum_02.FAppearance.FProgressLayout.SetFormat("%.0f%%"),this.grd_nabpum_02.FAppearance.SetShowFocus(!1),this.grd_nabpum_02.SetLeftCol(1),this.grd_nabpum_02.SetScrollMode(1),this.grd_nabpum_02.FGlobalFont.SetScale(1),this.grd_nabpum_02.FGlobalFont.SetStyle({}),this.grd_nabpum_02.SetDesignTimeSampleData(!0),this.pnl_nabpum_top.SetParentComponent(this.pg_nabpum),this.pnl_nabpum_top.SetName("pnl_nabpum_top"),this.pnl_nabpum_top.SetLeft(0),this.pnl_nabpum_top.SetTop(0),this.pnl_nabpum_top.SetWidth(1008),this.pnl_nabpum_top.SetHeight(58),this.pnl_nabpum_top.SetAdaptToStyle(!0),this.pnl_nabpum_top.SetAlign(1),this.pnl_nabpum_top.FParentDoubleBuffered=!1,this.pnl_nabpum_top.SetColor(15790320),this.pnl_nabpum_top.FDoubleBuffered=!0,this.pnl_nabpum_top.SetTabOrder(1),this.pnl_nabpum_top.FFill.SetKind(0),this.pnl_nabpum_top.FSectionsAppearance.FFont.FCharset=1,this.pnl_nabpum_top.FSectionsAppearance.FFont.SetColor(65793),this.pnl_nabpum_top.FSectionsAppearance.FFont.SetHeight(-11),this.pnl_nabpum_top.FSectionsAppearance.FFont.SetName("Segoe UI"),this.pnl_nabpum_top.FSectionsAppearance.FFont.SetStyle({}),this.pnl_nabpum_top.FStroke.SetColor(15987699),this.pnl_nabpum_top.FHeader.SetText("Header"),this.pnl_nabpum_top.FHeader.FFont.FCharset=1,this.pnl_nabpum_top.FHeader.FFont.SetColor(0),this.pnl_nabpum_top.FHeader.FFont.SetHeight(-11),this.pnl_nabpum_top.FHeader.FFont.SetName("Segoe UI"),this.pnl_nabpum_top.FHeader.FFont.SetStyle({}),this.pnl_nabpum_top.FHeader.SetVisible(!1),this.pnl_nabpum_top.FHeader.FFill.SetKind(2),this.pnl_nabpum_top.FHeader.FFill.SetColor(16382457),this.pnl_nabpum_top.FHeader.FFill.SetColorTo(16382457),this.pnl_nabpum_top.FHeader.FStroke.SetKind(0),this.pnl_nabpum_top.FHeader.FStroke.SetColor(15987699),this.pnl_nabpum_top.FFooter.SetText("Footer"),this.pnl_nabpum_top.FFooter.FFont.FCharset=1,this.pnl_nabpum_top.FFooter.FFont.SetColor(0),this.pnl_nabpum_top.FFooter.FFont.SetHeight(-11),this.pnl_nabpum_top.FFooter.FFont.SetName("Segoe UI"),this.pnl_nabpum_top.FFooter.FFont.SetStyle({}),this.pnl_nabpum_top.FFooter.FFill.SetKind(2),this.pnl_nabpum_top.FFooter.FFill.SetColor(16382457),this.pnl_nabpum_top.FFooter.FFill.SetColorTo(16382457),this.pnl_nabpum_top.FFooter.FStroke.SetColor(15987699),this.pnl_nabpum_top.FGlobalFont.SetScale(1),this.pnl_nabpum_top.FGlobalFont.SetStyle({}),this.pnl_search_nabpum.SetParentComponent(this.pnl_nabpum_top),this.pnl_search_nabpum.SetName("pnl_search_nabpum"),this.pnl_search_nabpum.SetLeft(605),this.pnl_search_nabpum.SetTop(0),this.pnl_search_nabpum.SetWidth(403),this.pnl_search_nabpum.SetHeight(58),this.pnl_search_nabpum.SetAdaptToStyle(!0),this.pnl_search_nabpum.SetAlign(4),this.pnl_search_nabpum.FParentDoubleBuffered=!1,this.pnl_search_nabpum.SetColor(15790320),this.pnl_search_nabpum.FDoubleBuffered=!0,this.pnl_search_nabpum.SetTabOrder(0),this.pnl_search_nabpum.FFill.SetKind(0),this.pnl_search_nabpum.FSectionsAppearance.FFont.FCharset=1,this.pnl_search_nabpum.FSectionsAppearance.FFont.SetColor(65793),this.pnl_search_nabpum.FSectionsAppearance.FFont.SetHeight(-11),this.pnl_search_nabpum.FSectionsAppearance.FFont.SetName("Segoe UI"),this.pnl_search_nabpum.FSectionsAppearance.FFont.SetStyle({}),this.pnl_search_nabpum.FStroke.SetColor(15987699),this.pnl_search_nabpum.FHeader.SetText("Header"),this.pnl_search_nabpum.FHeader.FFont.FCharset=1,this.pnl_search_nabpum.FHeader.FFont.SetColor(0),this.pnl_search_nabpum.FHeader.FFont.SetHeight(-11),this.pnl_search_nabpum.FHeader.FFont.SetName("Segoe UI"),this.pnl_search_nabpum.FHeader.FFont.SetStyle({}),this.pnl_search_nabpum.FHeader.SetVisible(!1),this.pnl_search_nabpum.FHeader.FFill.SetKind(2),this.pnl_search_nabpum.FHeader.FFill.SetColor(16382457),this.pnl_search_nabpum.FHeader.FFill.SetColorTo(16382457),this.pnl_search_nabpum.FHeader.FStroke.SetKind(0),this.pnl_search_nabpum.FHeader.FStroke.SetColor(15987699),this.pnl_search_nabpum.FFooter.SetText("Footer"),this.pnl_search_nabpum.FFooter.FFont.FCharset=1,this.pnl_search_nabpum.FFooter.FFont.SetColor(0),this.pnl_search_nabpum.FFooter.FFont.SetHeight(-11),this.pnl_search_nabpum.FFooter.FFont.SetName("Segoe UI"),this.pnl_search_nabpum.FFooter.FFont.SetStyle({}),this.pnl_search_nabpum.FFooter.FFill.SetKind(2),this.pnl_search_nabpum.FFooter.FFill.SetColor(16382457),this.pnl_search_nabpum.FFooter.FFill.SetColorTo(16382457),this.pnl_search_nabpum.FFooter.FStroke.SetColor(15987699),this.pnl_search_nabpum.FGlobalFont.SetScale(1),this.pnl_search_nabpum.FGlobalFont.SetStyle({}),this.btn_search_nabpum.SetParentComponent(this.pnl_search_nabpum),this.btn_search_nabpum.SetName("btn_search_nabpum"),this.btn_search_nabpum.SetLeft(270),this.btn_search_nabpum.SetTop(31),this.btn_search_nabpum.SetWidth(127),this.btn_search_nabpum.SetHeight(21),this.btn_search_nabpum.FParentDoubleBuffered=!1,this.btn_search_nabpum.FDoubleBuffered=!0,this.btn_search_nabpum.FFont$1.FCharset=1,this.btn_search_nabpum.FFont$1.SetColor(0),this.btn_search_nabpum.FFont$1.SetHeight(-11),this.btn_search_nabpum.FFont$1.SetName("Segoe UI"),this.btn_search_nabpum.FFont$1.SetStyle({}),this.btn_search_nabpum.SetParentColor(!0),this.btn_search_nabpum.SetTabOrder(0),this.SetEvent$1(this.btn_search_nabpum,this,"OnClick","btn_search_nabpumClick"),this.btn_search_nabpum.SetText("조회"),this.btn_search_nabpum.FBitmaps.Clear(),this.btn_search_nabpum.FBitmaps.Add$1(1).FBitmap.LoadFromFile("uMOLDPIA.btn_search_nabpum.Bitmaps.Bitmap.svg",null),this.btn_search_nabpum.SetBitmapVisible(!0),this.btn_search_nabpum.FControlIndex=0,this.lbl_nampum_01.SetParentComponent(this.pnl_search_nabpum),this.lbl_nampum_01.SetName("lbl_nampum_01"),this.lbl_nampum_01.SetLeft(9),this.lbl_nampum_01.SetTop(3),this.lbl_nampum_01.SetWidth(75),this.lbl_nampum_01.SetHeight(21),this.lbl_nampum_01.SetCaption("사업장"),this.lbl_nampum_01.SetChildOrderEx(4),this.lbl_nampum_01.FFont.FCharset=1,this.lbl_nampum_01.FFont.SetColor(65793),this.lbl_nampum_01.FFont.SetHeight(-11),this.lbl_nampum_01.FFont.SetName("Segoe UI"),this.lbl_nampum_01.FFont.SetStyle({}),this.lbl_nampum_01.SetParentFont(!1),this.cb_nabpum_01.SetParentComponent(this.pnl_search_nabpum),this.cb_nabpum_01.SetName("cb_nabpum_01"),this.cb_nabpum_01.SetLeft(90),this.cb_nabpum_01.SetTop(3),this.cb_nabpum_01.SetWidth(175),this.cb_nabpum_01.SetHeight(21),this.cb_nabpum_01.FFont.FCharset=1,this.cb_nabpum_01.FFont.SetColor(65793),this.cb_nabpum_01.FFont.SetHeight(-11),this.cb_nabpum_01.FFont.SetName("Segoe UI"),this.cb_nabpum_01.FFont.SetStyle({}),this.cb_nabpum_01.SetHeightPercent(100),this.cb_nabpum_01.SetParentFont(!1),this.cb_nabpum_01.SetWidthPercent(100),this.cb_nabpum_01.SetItemIndex(-1),this.lbl_nampum_02.SetParentComponent(this.pnl_search_nabpum),this.lbl_nampum_02.SetName("lbl_nampum_02"),this.lbl_nampum_02.SetLeft(9),this.lbl_nampum_02.SetTop(31),this.lbl_nampum_02.SetWidth(75),this.lbl_nampum_02.SetHeight(21),this.lbl_nampum_02.SetCaption("납품기간"),this.lbl_nampum_02.SetChildOrderEx(4),this.lbl_nampum_02.FFont.FCharset=1,this.lbl_nampum_02.FFont.SetColor(65793),this.lbl_nampum_02.FFont.SetHeight(-11),this.lbl_nampum_02.FFont.SetName("Segoe UI"),this.lbl_nampum_02.FFont.SetStyle({}),this.lbl_nampum_02.SetParentFont(!1),this.dtp_nabpum_01.SetParentComponent(this.pnl_search_nabpum),this.dtp_nabpum_01.SetName("dtp_nabpum_01"),this.dtp_nabpum_01.SetLeft(90),this.dtp_nabpum_01.SetTop(30),this.dtp_nabpum_01.SetWidth(85),this.dtp_nabpum_01.SetHeight(22),this.dtp_nabpum_01.SetBorderStyle(1),this.dtp_nabpum_01.SetChildOrderEx(10),this.dtp_nabpum_01.SetColor(16777215),this.dtp_nabpum_01.SetDate(45370.92087471065),this.dtp_nabpum_01.FFont.FCharset=1,this.dtp_nabpum_01.FFont.SetColor(65793),this.dtp_nabpum_01.FFont.SetHeight(-11),this.dtp_nabpum_01.FFont.SetName("Segoe UI"),this.dtp_nabpum_01.FFont.SetStyle({}),this.dtp_nabpum_01.SetParentFont(!1),this.dtp_nabpum_01.SetRole(""),this.dtp_nabpum_01.SetText(""),this.dtp_nabpum_02.SetParentComponent(this.pnl_search_nabpum),this.dtp_nabpum_02.SetName("dtp_nabpum_02"),this.dtp_nabpum_02.SetLeft(180),this.dtp_nabpum_02.SetTop(30),this.dtp_nabpum_02.SetWidth(85),this.dtp_nabpum_02.SetHeight(22),this.dtp_nabpum_02.SetBorderStyle(1),this.dtp_nabpum_02.SetChildOrderEx(10),this.dtp_nabpum_02.SetColor(16777215),this.dtp_nabpum_02.SetDate(45370.92087471065),this.dtp_nabpum_02.FFont.FCharset=1,this.dtp_nabpum_02.FFont.SetColor(65793),this.dtp_nabpum_02.FFont.SetHeight(-11),this.dtp_nabpum_02.FFont.SetName("Segoe UI"),this.dtp_nabpum_02.FFont.SetStyle({}),this.dtp_nabpum_02.SetParentFont(!1),this.dtp_nabpum_02.SetRole(""),this.dtp_nabpum_02.SetText(""),this.grd_nabpum_01.SetParentComponent(this.pg_nabpum),this.grd_nabpum_01.SetName("grd_nabpum_01"),this.grd_nabpum_01.SetLeft(0),this.grd_nabpum_01.SetTop(58),this.grd_nabpum_01.SetWidth(1008),this.grd_nabpum_01.SetHeight(135),this.grd_nabpum_01.SetAlign(1),this.grd_nabpum_01.FParentDoubleBuffered=!1,this.grd_nabpum_01.FDoubleBuffered=!0,this.grd_nabpum_01.SetTabOrder(2),this.grd_nabpum_01.SetDefaultRowHeight(18),this.grd_nabpum_01.SetFixedColumns(0),this.grd_nabpum_01.SetColumnCount(25),this.grd_nabpum_01.SetRowCount(1),this.grd_nabpum_01.FOptions.FBands.SetEnabled(!0),this.grd_nabpum_01.FOptions.FEditing.FCalcFormat="%g",this.grd_nabpum_01.FOptions.FGrouping.FCalcFormat="%g",this.grd_nabpum_01.FOptions.FGrouping.FGroupCountFormat="(%d)",this.grd_nabpum_01.FOptions.FIO.FXMLEncoding="ISO-8859-1",this.grd_nabpum_01.FOptions.FMouse.SetClickMargin(0),this.grd_nabpum_01.FOptions.FMouse.SetColumnSizeMargin(6),this.grd_nabpum_01.FOptions.FMouse.SetRowSizeMargin(6),this.grd_nabpum_01.FColumns.Clear();var yt=this.grd_nabpum_01.FColumns.Add$1();yt.SetBorderWidth(1),yt.FFixedFont.FCharset=1,yt.FFixedFont.SetColor(65793),yt.FFixedFont.SetHeight(-8),yt.FFixedFont.SetName("Segoe UI"),yt.FFixedFont.SetStyle(rtl.createSet(0)),yt.FFont.FCharset=1,yt.FFont.SetColor(65793),yt.FFont.SetHeight(-8),yt.FFont.SetName("Segoe UI"),yt.FFont.SetStyle({}),yt.FID$1="",yt.SetWidth(68);var Bt=this.grd_nabpum_01.FColumns.Add$1();Bt.SetBorderWidth(1),Bt.FFixedFont.FCharset=1,Bt.FFixedFont.SetColor(65793),Bt.FFixedFont.SetHeight(-8),Bt.FFixedFont.SetName("Segoe UI"),Bt.FFixedFont.SetStyle(rtl.createSet(0)),Bt.FFont.FCharset=1,Bt.FFont.SetColor(65793),Bt.FFont.SetHeight(-8),Bt.FFont.SetName("Segoe UI"),Bt.FFont.SetStyle({}),Bt.FID$1="",Bt.SetWidth(68);var Et=this.grd_nabpum_01.FColumns.Add$1();Et.SetBorderWidth(1),Et.FFixedFont.FCharset=1,Et.FFixedFont.SetColor(65793),Et.FFixedFont.SetHeight(-8),Et.FFixedFont.SetName("Segoe UI"),Et.FFixedFont.SetStyle(rtl.createSet(0)),Et.FFont.FCharset=1,Et.FFont.SetColor(65793),Et.FFont.SetHeight(-8),Et.FFont.SetName("Segoe UI"),Et.FFont.SetStyle({}),Et.FID$1="",Et.SetWidth(68);var Lt=this.grd_nabpum_01.FColumns.Add$1();Lt.SetBorderWidth(1),Lt.FFixedFont.FCharset=1,Lt.FFixedFont.SetColor(65793),Lt.FFixedFont.SetHeight(-8),Lt.FFixedFont.SetName("Segoe UI"),Lt.FFixedFont.SetStyle(rtl.createSet(0)),Lt.FFont.FCharset=1,Lt.FFont.SetColor(65793),Lt.FFont.SetHeight(-8),Lt.FFont.SetName("Segoe UI"),Lt.FFont.SetStyle({}),Lt.FID$1="",Lt.SetWidth(68);var Dt=this.grd_nabpum_01.FColumns.Add$1();Dt.SetBorderWidth(1),Dt.FFixedFont.FCharset=1,Dt.FFixedFont.SetColor(65793),Dt.FFixedFont.SetHeight(-8),Dt.FFixedFont.SetName("Segoe UI"),Dt.FFixedFont.SetStyle(rtl.createSet(0)),Dt.FFont.FCharset=1,Dt.FFont.SetColor(65793),Dt.FFont.SetHeight(-8),Dt.FFont.SetName("Segoe UI"),Dt.FFont.SetStyle({}),Dt.FID$1="",Dt.SetWidth(68);var Nt=this.grd_nabpum_01.FColumns.Add$1();Nt.SetBorderWidth(1),Nt.FFixedFont.FCharset=1,Nt.FFixedFont.SetColor(65793),Nt.FFixedFont.SetHeight(-8),Nt.FFixedFont.SetName("Segoe UI"),Nt.FFixedFont.SetStyle(rtl.createSet(0)),Nt.FFont.FCharset=1,Nt.FFont.SetColor(65793),Nt.FFont.SetHeight(-8),Nt.FFont.SetName("Segoe UI"),Nt.FFont.SetStyle({}),Nt.FID$1="",Nt.SetWidth(68);var At=this.grd_nabpum_01.FColumns.Add$1();At.SetBorderWidth(1),At.FFixedFont.FCharset=1,At.FFixedFont.SetColor(65793),At.FFixedFont.SetHeight(-8),At.FFixedFont.SetName("Segoe UI"),At.FFixedFont.SetStyle(rtl.createSet(0)),At.FFont.FCharset=1,At.FFont.SetColor(65793),At.FFont.SetHeight(-8),At.FFont.SetName("Segoe UI"),At.FFont.SetStyle({}),At.FID$1="",At.SetWidth(68);var Gt=this.grd_nabpum_01.FColumns.Add$1();Gt.SetBorderWidth(1),Gt.FFixedFont.FCharset=1,Gt.FFixedFont.SetColor(65793),Gt.FFixedFont.SetHeight(-8),Gt.FFixedFont.SetName("Segoe UI"),Gt.FFixedFont.SetStyle(rtl.createSet(0)),Gt.FFont.FCharset=1,Gt.FFont.SetColor(65793),Gt.FFont.SetHeight(-8),Gt.FFont.SetName("Segoe UI"),Gt.FFont.SetStyle({}),Gt.FID$1="",Gt.SetWidth(68);var Pt=this.grd_nabpum_01.FColumns.Add$1();Pt.SetBorderWidth(1),Pt.FFixedFont.FCharset=1,Pt.FFixedFont.SetColor(65793),Pt.FFixedFont.SetHeight(-8),Pt.FFixedFont.SetName("Segoe UI"),Pt.FFixedFont.SetStyle(rtl.createSet(0)),Pt.FFont.FCharset=1,Pt.FFont.SetColor(65793),Pt.FFont.SetHeight(-8),Pt.FFont.SetName("Segoe UI"),Pt.FFont.SetStyle({}),Pt.FID$1="",Pt.SetWidth(68);var Rt=this.grd_nabpum_01.FColumns.Add$1();Rt.SetBorderWidth(1),Rt.FFixedFont.FCharset=1,Rt.FFixedFont.SetColor(65793),Rt.FFixedFont.SetHeight(-8),Rt.FFixedFont.SetName("Segoe UI"),Rt.FFixedFont.SetStyle(rtl.createSet(0)),Rt.FFont.FCharset=1,Rt.FFont.SetColor(65793),Rt.FFont.SetHeight(-8),Rt.FFont.SetName("Segoe UI"),Rt.FFont.SetStyle({}),Rt.FID$1="",Rt.SetWidth(68);var Wt=this.grd_nabpum_01.FColumns.Add$1();Wt.SetBorderWidth(1),Wt.FFixedFont.FCharset=1,Wt.FFixedFont.SetColor(65793),Wt.FFixedFont.SetHeight(-8),Wt.FFixedFont.SetName("Segoe UI"),Wt.FFixedFont.SetStyle(rtl.createSet(0)),Wt.FFont.FCharset=1,Wt.FFont.SetColor(65793),Wt.FFont.SetHeight(-8),Wt.FFont.SetName("Segoe UI"),Wt.FFont.SetStyle({}),Wt.FID$1="",Wt.SetWidth(68);var vt=this.grd_nabpum_01.FColumns.Add$1();vt.SetBorderWidth(1),vt.FFixedFont.FCharset=1,vt.FFixedFont.SetColor(65793),vt.FFixedFont.SetHeight(-8),vt.FFixedFont.SetName("Segoe UI"),vt.FFixedFont.SetStyle(rtl.createSet(0)),vt.FFont.FCharset=1,vt.FFont.SetColor(65793),vt.FFont.SetHeight(-8),vt.FFont.SetName("Segoe UI"),vt.FFont.SetStyle({}),vt.FID$1="",vt.SetWidth(68);var It=this.grd_nabpum_01.FColumns.Add$1();It.SetBorderWidth(1),It.FFixedFont.FCharset=1,It.FFixedFont.SetColor(65793),It.FFixedFont.SetHeight(-8),It.FFixedFont.SetName("Segoe UI"),It.FFixedFont.SetStyle(rtl.createSet(0)),It.FFont.FCharset=1,It.FFont.SetColor(65793),It.FFont.SetHeight(-8),It.FFont.SetName("Segoe UI"),It.FFont.SetStyle({}),It.FID$1="",It.SetWidth(68);var wt=this.grd_nabpum_01.FColumns.Add$1();wt.SetBorderWidth(1),wt.FFixedFont.FCharset=1,wt.FFixedFont.SetColor(65793),wt.FFixedFont.SetHeight(-8),wt.FFixedFont.SetName("Segoe UI"),wt.FFixedFont.SetStyle(rtl.createSet(0)),wt.FFont.FCharset=1,wt.FFont.SetColor(65793),wt.FFont.SetHeight(-8),wt.FFont.SetName("Segoe UI"),wt.FFont.SetStyle({}),wt.FID$1="",wt.SetWidth(68);var Ot=this.grd_nabpum_01.FColumns.Add$1();Ot.SetBorderWidth(1),Ot.FFixedFont.FCharset=1,Ot.FFixedFont.SetColor(65793),Ot.FFixedFont.SetHeight(-8),Ot.FFixedFont.SetName("Segoe UI"),Ot.FFixedFont.SetStyle(rtl.createSet(0)),Ot.FFont.FCharset=1,Ot.FFont.SetColor(65793),Ot.FFont.SetHeight(-8),Ot.FFont.SetName("Segoe UI"),Ot.FFont.SetStyle({}),Ot.FID$1="",Ot.SetWidth(68);var $t=this.grd_nabpum_01.FColumns.Add$1();$t.SetBorderWidth(1),$t.FFixedFont.FCharset=1,$t.FFixedFont.SetColor(65793),$t.FFixedFont.SetHeight(-8),$t.FFixedFont.SetName("Segoe UI"),$t.FFixedFont.SetStyle(rtl.createSet(0)),$t.FFont.FCharset=1,$t.FFont.SetColor(65793),$t.FFont.SetHeight(-8),$t.FFont.SetName("Segoe UI"),$t.FFont.SetStyle({}),$t.FID$1="",$t.SetWidth(68);var xt=this.grd_nabpum_01.FColumns.Add$1();xt.SetBorderWidth(1),xt.FFixedFont.FCharset=1,xt.FFixedFont.SetColor(65793),xt.FFixedFont.SetHeight(-8),xt.FFixedFont.SetName("Segoe UI"),xt.FFixedFont.SetStyle(rtl.createSet(0)),xt.FFont.FCharset=1,xt.FFont.SetColor(65793),xt.FFont.SetHeight(-8),xt.FFont.SetName("Segoe UI"),xt.FFont.SetStyle({}),xt.FID$1="",xt.SetWidth(68);var kt=this.grd_nabpum_01.FColumns.Add$1();kt.SetBorderWidth(1),kt.FFixedFont.FCharset=1,kt.FFixedFont.SetColor(65793),kt.FFixedFont.SetHeight(-8),kt.FFixedFont.SetName("Segoe UI"),kt.FFixedFont.SetStyle(rtl.createSet(0)),kt.FFont.FCharset=1,kt.FFont.SetColor(65793),kt.FFont.SetHeight(-8),kt.FFont.SetName("Segoe UI"),kt.FFont.SetStyle({}),kt.FID$1="",kt.SetWidth(68);var _t=this.grd_nabpum_01.FColumns.Add$1();_t.SetBorderWidth(1),_t.FFixedFont.FCharset=1,_t.FFixedFont.SetColor(65793),_t.FFixedFont.SetHeight(-8),_t.FFixedFont.SetName("Segoe UI"),_t.FFixedFont.SetStyle(rtl.createSet(0)),_t.FFont.FCharset=1,_t.FFont.SetColor(65793),_t.FFont.SetHeight(-8),_t.FFont.SetName("Segoe UI"),_t.FFont.SetStyle({}),_t.FID$1="",_t.SetWidth(68);var Ht=this.grd_nabpum_01.FColumns.Add$1();Ht.SetBorderWidth(1),Ht.FFixedFont.FCharset=1,Ht.FFixedFont.SetColor(65793),Ht.FFixedFont.SetHeight(-8),Ht.FFixedFont.SetName("Segoe UI"),Ht.FFixedFont.SetStyle(rtl.createSet(0)),Ht.FFont.FCharset=1,Ht.FFont.SetColor(65793),Ht.FFont.SetHeight(-8),Ht.FFont.SetName("Segoe UI"),Ht.FFont.SetStyle({}),Ht.FID$1="",Ht.SetWidth(68);var Ut=this.grd_nabpum_01.FColumns.Add$1();Ut.SetBorderWidth(1),Ut.FFixedFont.FCharset=1,Ut.FFixedFont.SetColor(65793),Ut.FFixedFont.SetHeight(-8),Ut.FFixedFont.SetName("Segoe UI"),Ut.FFixedFont.SetStyle(rtl.createSet(0)),Ut.FFont.FCharset=1,Ut.FFont.SetColor(65793),Ut.FFont.SetHeight(-8),Ut.FFont.SetName("Segoe UI"),Ut.FFont.SetStyle({}),Ut.FID$1="",Ut.SetWidth(68);var Vt=this.grd_nabpum_01.FColumns.Add$1();Vt.SetBorderWidth(1),Vt.FFixedFont.FCharset=1,Vt.FFixedFont.SetColor(65793),Vt.FFixedFont.SetHeight(-8),Vt.FFixedFont.SetName("Segoe UI"),Vt.FFixedFont.SetStyle(rtl.createSet(0)),Vt.FFont.FCharset=1,Vt.FFont.SetColor(65793),Vt.FFont.SetHeight(-8),Vt.FFont.SetName("Segoe UI"),Vt.FFont.SetStyle({}),Vt.FID$1="",Vt.SetWidth(68);var zt=this.grd_nabpum_01.FColumns.Add$1();zt.SetBorderWidth(1),zt.FFixedFont.FCharset=1,zt.FFixedFont.SetColor(65793),zt.FFixedFont.SetHeight(-8),zt.FFixedFont.SetName("Segoe UI"),zt.FFixedFont.SetStyle(rtl.createSet(0)),zt.FFont.FCharset=1,zt.FFont.SetColor(65793),zt.FFont.SetHeight(-8),zt.FFont.SetName("Segoe UI"),zt.FFont.SetStyle({}),zt.FID$1="",zt.SetWidth(68);var Kt=this.grd_nabpum_01.FColumns.Add$1();Kt.SetBorderWidth(1),Kt.FFixedFont.FCharset=1,Kt.FFixedFont.SetColor(65793),Kt.FFixedFont.SetHeight(-8),Kt.FFixedFont.SetName("Segoe UI"),Kt.FFixedFont.SetStyle(rtl.createSet(0)),Kt.FFont.FCharset=1,Kt.FFont.SetColor(65793),Kt.FFont.SetHeight(-8),Kt.FFont.SetName("Segoe UI"),Kt.FFont.SetStyle({}),Kt.FID$1="",Kt.SetWidth(68);var jt=this.grd_nabpum_01.FColumns.Add$1();jt.SetBorderWidth(1),jt.FFixedFont.FCharset=1,jt.FFixedFont.SetColor(65793),jt.FFixedFont.SetHeight(-8),jt.FFixedFont.SetName("Segoe UI"),jt.FFixedFont.SetStyle(rtl.createSet(0)),jt.FFont.FCharset=1,jt.FFont.SetColor(65793),jt.FFont.SetHeight(-8),jt.FFont.SetName("Segoe UI"),jt.FFont.SetStyle({}),jt.FID$1="",jt.SetWidth(68),this.grd_nabpum_01.FDefaultFont.FCharset=1,this.grd_nabpum_01.FDefaultFont.SetColor(65793),this.grd_nabpum_01.FDefaultFont.SetHeight(-11),this.grd_nabpum_01.FDefaultFont.SetName("Segoe UI"),this.grd_nabpum_01.FDefaultFont.SetStyle({}),this.grd_nabpum_01.SetTopRow(1),this.grd_nabpum_01.FAppearance.FFixedLayout.FFill.SetColor(15132390),this.grd_nabpum_01.FAppearance.FFixedLayout.FStroke.SetKind(0),this.grd_nabpum_01.FAppearance.FFixedLayout.FFont.FCharset=1,this.grd_nabpum_01.FAppearance.FFixedLayout.FFont.SetColor(65793),this.grd_nabpum_01.FAppearance.FFixedLayout.FFont.SetHeight(-11),this.grd_nabpum_01.FAppearance.FFixedLayout.FFont.SetName("Segoe UI"),this.grd_nabpum_01.FAppearance.FFixedLayout.FFont.SetStyle(rtl.createSet(0)),this.grd_nabpum_01.FAppearance.FNormalLayout.FFill.SetColor(-1),this.grd_nabpum_01.FAppearance.FNormalLayout.FStroke.SetKind(0),this.grd_nabpum_01.FAppearance.FNormalLayout.FFont.FCharset=1,this.grd_nabpum_01.FAppearance.FNormalLayout.FFont.SetColor(65793),this.grd_nabpum_01.FAppearance.FNormalLayout.FFont.SetHeight(-11),this.grd_nabpum_01.FAppearance.FNormalLayout.FFont.SetName("Segoe UI"),this.grd_nabpum_01.FAppearance.FNormalLayout.FFont.SetStyle({}),this.grd_nabpum_01.FAppearance.FGroupLayout.FFill.SetColor(12817262),this.grd_nabpum_01.FAppearance.FGroupLayout.FFont.FCharset=1,this.grd_nabpum_01.FAppearance.FGroupLayout.FFont.SetColor(16777215),this.grd_nabpum_01.FAppearance.FGroupLayout.FFont.SetHeight(-11),this.grd_nabpum_01.FAppearance.FGroupLayout.FFont.SetName("Segoe UI"),this.grd_nabpum_01.FAppearance.FGroupLayout.FFont.SetStyle({}),this.grd_nabpum_01.FAppearance.FSummaryLayout.FFill.SetColor(14009785),this.grd_nabpum_01.FAppearance.FSummaryLayout.FFont.FCharset=1,this.grd_nabpum_01.FAppearance.FSummaryLayout.FFont.SetColor(65793),this.grd_nabpum_01.FAppearance.FSummaryLayout.FFont.SetHeight(-11),this.grd_nabpum_01.FAppearance.FSummaryLayout.FFont.SetName("Segoe UI"),this.grd_nabpum_01.FAppearance.FSummaryLayout.FFont.SetStyle({}),this.grd_nabpum_01.FAppearance.FSelectedLayout.FFill.SetColor(14599344),this.grd_nabpum_01.FAppearance.FSelectedLayout.FStroke.SetColor(15702829),this.grd_nabpum_01.FAppearance.FSelectedLayout.FFont.FCharset=1,this.grd_nabpum_01.FAppearance.FSelectedLayout.FFont.SetColor(16777215),this.grd_nabpum_01.FAppearance.FSelectedLayout.FFont.SetHeight(-11),this.grd_nabpum_01.FAppearance.FSelectedLayout.FFont.SetName("Segoe UI"),this.grd_nabpum_01.FAppearance.FSelectedLayout.FFont.SetStyle({}),this.grd_nabpum_01.FAppearance.FFocusedLayout.FFill.SetColor(14599344),this.grd_nabpum_01.FAppearance.FFocusedLayout.FStroke.SetKind(2),this.grd_nabpum_01.FAppearance.FFocusedLayout.FStroke.SetColor(15702829),this.grd_nabpum_01.FAppearance.FFocusedLayout.FFont.FCharset=1,this.grd_nabpum_01.FAppearance.FFocusedLayout.FFont.SetColor(16777215),this.grd_nabpum_01.FAppearance.FFocusedLayout.FFont.SetHeight(-11),this.grd_nabpum_01.FAppearance.FFocusedLayout.FFont.SetName("Segoe UI"),this.grd_nabpum_01.FAppearance.FFocusedLayout.FFont.SetStyle({}),this.grd_nabpum_01.FAppearance.FFixedSelectedLayout.FFill.SetColor(14599344),this.grd_nabpum_01.FAppearance.FFixedSelectedLayout.FFont.FCharset=1,this.grd_nabpum_01.FAppearance.FFixedSelectedLayout.FFont.SetColor(65793),this.grd_nabpum_01.FAppearance.FFixedSelectedLayout.FFont.SetHeight(-11),this.grd_nabpum_01.FAppearance.FFixedSelectedLayout.FFont.SetName("Segoe UI"),this.grd_nabpum_01.FAppearance.FFixedSelectedLayout.FFont.SetStyle({}),this.grd_nabpum_01.FAppearance.FBandLayout.FFill.SetColor(14745599),this.grd_nabpum_01.FAppearance.FBandLayout.FStroke.SetKind(0),this.grd_nabpum_01.FAppearance.FBandLayout.FFont.FCharset=1,this.grd_nabpum_01.FAppearance.FBandLayout.FFont.SetColor(65793),this.grd_nabpum_01.FAppearance.FBandLayout.FFont.SetHeight(-11),this.grd_nabpum_01.FAppearance.FBandLayout.FFont.SetName("Segoe UI"),this.grd_nabpum_01.FAppearance.FBandLayout.FFont.SetStyle({}),this.grd_nabpum_01.FAppearance.FProgressLayout.SetFormat("%.0f%%"),this.grd_nabpum_01.FAppearance.SetShowFocus(!1),this.grd_nabpum_01.SetLeftCol(0),this.grd_nabpum_01.SetScrollMode(1),this.grd_nabpum_01.FGlobalFont.SetScale(1),this.grd_nabpum_01.FGlobalFont.SetStyle({}),this.grd_nabpum_01.SetDesignTimeSampleData(!0)}finally{this.pnl_header.AfterLoadDFMValues(),this.lbl_user_name.AfterLoadDFMValues(),this.btn_login.AfterLoadDFMValues(),this.edt_pw.AfterLoadDFMValues(),this.edt_id.AfterLoadDFMValues(),this.page_ctr.AfterLoadDFMValues(),this.pg_magam.AfterLoadDFMValues(),this.pnl_magam_top.AfterLoadDFMValues(),this.pnl_search_magam.AfterLoadDFMValues(),this.btn_search_magam.AfterLoadDFMValues(),this.lbl_magam_01.AfterLoadDFMValues(),this.cb_magam_01.AfterLoadDFMValues(),this.lbl_magam_02.AfterLoadDFMValues(),this.ck_magam_01.AfterLoadDFMValues(),this.ck_magam_02.AfterLoadDFMValues(),this.cb_magam_02.AfterLoadDFMValues(),this.dtp_magam_01.AfterLoadDFMValues(),this.dtp_magam_02.AfterLoadDFMValues(),this.wbwtmsg.AfterLoadDFMValues(),this.grd_magam_02.AfterLoadDFMValues(),this.grd_magam_01.AfterLoadDFMValues(),this.pg_nabpum.AfterLoadDFMValues(),this.grd_nabpum_02.AfterLoadDFMValues(),this.pnl_nabpum_top.AfterLoadDFMValues(),this.pnl_search_nabpum.AfterLoadDFMValues(),this.btn_search_nabpum.AfterLoadDFMValues(),this.lbl_nampum_01.AfterLoadDFMValues(),this.cb_nabpum_01.AfterLoadDFMValues(),this.lbl_nampum_02.AfterLoadDFMValues(),this.dtp_nabpum_01.AfterLoadDFMValues(),this.dtp_nabpum_02.AfterLoadDFMValues(),this.grd_nabpum_01.AfterLoadDFMValues()}},rtl.addIntf(this,pas.System.IUnknown);var t=this.$rtti;t.addField("pnl_header",pas["WEBLib.TMSFNCPanel"].$rtti.TTMSFNCPanel),t.addField("lbl_user_name",pas["WEBLib.StdCtrls"].$rtti.TLabel),t.addField("btn_login",pas["WEBLib.TMSFNCToolBar"].$rtti.TTMSFNCToolBarButton),t.addField("page_ctr",pas["WEBLib.TMSFNCPageControl"].$rtti.TTMSFNCPageControl),t.addField("pg_magam",pas["WEBLib.TMSFNCPageControl"].$rtti.TTMSFNCPageControlContainer),t.addField("pg_nabpum",pas["WEBLib.TMSFNCPageControl"].$rtti.TTMSFNCPageControlContainer),t.addField("grd_nabpum_02",pas["WEBLib.TMSFNCGrid"].$rtti.TTMSFNCGrid),t.addField("edt_pw",pas["WEBLib.TMSFNCEdit"].$rtti.TTMSFNCEdit),t.addField("edt_id",pas["WEBLib.TMSFNCEdit"].$rtti.TTMSFNCEdit),t.addField("pnl_nabpum_top",pas["WEBLib.TMSFNCPanel"].$rtti.TTMSFNCPanel),t.addField("pnl_search_nabpum",pas["WEBLib.TMSFNCPanel"].$rtti.TTMSFNCPanel),t.addField("btn_search_nabpum",pas["WEBLib.TMSFNCToolBar"].$rtti.TTMSFNCToolBarButton),t.addField("lbl_nampum_01",pas["WEBLib.ExtCtrls"].$rtti.TPanel),t.addField("cb_nabpum_01",pas["WEBLib.StdCtrls"].$rtti.TComboBox),t.addField("lbl_nampum_02",pas["WEBLib.ExtCtrls"].$rtti.TPanel),t.addField("dtp_nabpum_01",pas["WEBLib.StdCtrls"].$rtti.TDateTimePicker),t.addField("dtp_nabpum_02",pas["WEBLib.StdCtrls"].$rtti.TDateTimePicker),t.addField("pnl_magam_top",pas["WEBLib.TMSFNCPanel"].$rtti.TTMSFNCPanel),t.addField("pnl_search_magam",pas["WEBLib.TMSFNCPanel"].$rtti.TTMSFNCPanel),t.addField("btn_search_magam",pas["WEBLib.TMSFNCToolBar"].$rtti.TTMSFNCToolBarButton),t.addField("lbl_magam_01",pas["WEBLib.ExtCtrls"].$rtti.TPanel),t.addField("cb_magam_01",pas["WEBLib.StdCtrls"].$rtti.TComboBox),t.addField("lbl_magam_02",pas["WEBLib.ExtCtrls"].$rtti.TPanel),t.addField("ck_magam_01",pas["WEBLib.StdCtrls"].$rtti.TCheckBox),t.addField("ck_magam_02",pas["WEBLib.StdCtrls"].$rtti.TCheckBox),t.addField("cb_magam_02",pas["WEBLib.StdCtrls"].$rtti.TComboBox),t.addField("dtp_magam_01",pas["WEBLib.StdCtrls"].$rtti.TDateTimePicker),t.addField("dtp_magam_02",pas["WEBLib.StdCtrls"].$rtti.TDateTimePicker),t.addField("grd_magam_02",pas["WEBLib.TMSFNCGrid"].$rtti.TTMSFNCGrid),t.addField("grd_magam_01",pas["WEBLib.TMSFNCGrid"].$rtti.TTMSFNCGrid),t.addField("grd_nabpum_01",pas["WEBLib.TMSFNCGrid"].$rtti.TTMSFNCGrid),t.addField("wbwtmsg",pas["WEBLib.Dialogs"].$rtti.TWaitMessage),t.addMethod("WebFormShow",0,[["Sender",pas.System.$rtti.TObject]]),t.addMethod("btn_search_magamClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),t.addMethod("btn_search_nabpumClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),t.addMethod("grd_magam_02CellClick",0,[["Sender",pas.System.$rtti.TObject],["ACol",rtl.longint],["ARow",rtl.longint]]),t.addMethod("btn_loginClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),t.addMethod("cb_magam_02Change",0,[["Sender",pas.System.$rtti.TObject]])})),this.fMOLDPIA=null})),rtl.module("program",["System","WEBLib.Forms","WEBLib.Forms","uMOLDPIA","uDefine","uUtils","uApiProtocols"],(function(){"use strict";this.$main=function(){pas["WEBLib.Forms"].Application.Initialize(),pas["WEBLib.Forms"].Application.FMainFormOnTaskBar=!0,pas["WEBLib.Forms"].Application.CreateForm(pas.uMOLDPIA.TfMOLDPIA,{p:pas.uMOLDPIA,get:function(){return this.p.fMOLDPIA},set:function(t){this.p.fMOLDPIA=t}}),pas["WEBLib.Forms"].Application.Run()}}));